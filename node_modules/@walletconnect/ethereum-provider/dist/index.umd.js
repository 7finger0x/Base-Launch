(function(uo,Tn){typeof exports=="object"&&typeof module<"u"?Tn(exports):typeof define=="function"&&define.amd?define(["exports"],Tn):(uo=typeof globalThis<"u"?globalThis:uo||self,Tn(uo["@walletconnect/ethereum-provider"]={}))})(this,function(uo){"use strict";var Tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CX(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function w_(e){var t=e.default;if(typeof t=="function"){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Ot={exports:{}},nh=typeof Reflect=="object"?Reflect:null,v_=nh&&typeof nh.apply=="function"?nh.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Cb;nh&&typeof nh.ownKeys=="function"?Cb=nh.ownKeys:Object.getOwnPropertySymbols?Cb=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Cb=function(t){return Object.getOwnPropertyNames(t)};function SX(e){console&&console.warn&&console.warn(e)}var E_=Number.isNaN||function(t){return t!==t};function At(){At.init.call(this)}Ot.exports=At,Ot.exports.once=PX,At.EventEmitter=At,At.prototype._events=void 0,At.prototype._eventsCount=0,At.prototype._maxListeners=void 0;var x_=10;function Sb(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(At,"defaultMaxListeners",{enumerable:!0,get:function(){return x_},set:function(e){if(typeof e!="number"||e<0||E_(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");x_=e}}),At.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},At.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||E_(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function $_(e){return e._maxListeners===void 0?At.defaultMaxListeners:e._maxListeners}At.prototype.getMaxListeners=function(){return $_(this)},At.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")v_(c,this,n);else for(var l=c.length,u=__(c,l),r=0;r<l;++r)v_(u[r],this,n);return!0};function A_(e,t,n,r){var s,i,o;if(Sb(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=$_(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,SX(a)}return e}At.prototype.addListener=function(t,n){return A_(this,t,n,!1)},At.prototype.on=At.prototype.addListener,At.prototype.prependListener=function(t,n){return A_(this,t,n,!0)};function IX(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C_(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=IX.bind(r);return s.listener=n,r.wrapFn=s,s}At.prototype.once=function(t,n){return Sb(n),this.on(t,C_(this,t,n)),this},At.prototype.prependOnceListener=function(t,n){return Sb(n),this.prependListener(t,C_(this,t,n)),this},At.prototype.removeListener=function(t,n){var r,s,i,o,a;if(Sb(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():_X(r,i),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this},At.prototype.off=At.prototype.removeListener,At.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function S_(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?OX(s):__(s,s.length)}At.prototype.listeners=function(t){return S_(this,t,!0)},At.prototype.rawListeners=function(t){return S_(this,t,!1)},At.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):I_.call(e,t)},At.prototype.listenerCount=I_;function I_(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}At.prototype.eventNames=function(){return this._eventsCount>0?Cb(this._events):[]};function __(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function _X(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function OX(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function PX(e,t){return new Promise(function(n,r){function s(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}O_(e,t,i,{once:!0}),t!=="error"&&TX(e,s,{once:!0})})}function TX(e,t,n){typeof e.on=="function"&&O_(e,"error",t,n)}function O_(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){r.once&&e.removeEventListener(t,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var P_=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},NX=function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e}(),BX=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),kX=function(){function e(t,n,r,s){this.name=t,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return e}(),RX=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),DX=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),MX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,UX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,T_=3,LX=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",MX]],N_=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function B_(e){return e?k_(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new DX:typeof navigator<"u"?k_(navigator.userAgent):zX()}function FX(e){return e!==""&&LX.reduce(function(t,n){var r=n[0],s=n[1];if(t)return t;var i=s.exec(e);return!!i&&[r,i]},!1)}function k_(e){var t=FX(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new RX;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<T_&&(s=P_(P_([],s,!0),HX(T_-s.length),!0)):s=[];var i=s.join("."),o=jX(e),a=UX.exec(e);return a&&a[1]?new kX(n,i,o,a[1]):new NX(n,i,o)}function jX(e){for(var t=0,n=N_.length;t<n;t++){var r=N_[t],s=r[0],i=r[1],o=i.exec(e);if(o)return s}return null}function zX(){var e=typeof process<"u"&&process.version;return e?new BX(process.version.slice(1)):null}function HX(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}var Q={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var C5=function(e,t){return C5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},C5(e,t)};function VX(e,t){C5(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var S5=function(){return S5=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},S5.apply(this,arguments)};function qX(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function ZX(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function WX(e,t){return function(n,r){t(n,r,e)}}function KX(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function GX(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function YX(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function XX(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function JX(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function I5(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function R_(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function QX(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(R_(arguments[t]));return e}function eJ(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function zp(e){return this instanceof zp?(this.v=e,this):new zp(e)}function tJ(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(d){r[d]&&(s[d]=function(h){return new Promise(function(p,g){i.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{c(r[d](h))}catch(p){f(i[0][3],p)}}function c(d){d.value instanceof zp?Promise.resolve(d.value.v).then(l,u):f(i[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function nJ(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(o){return(n=!n)?{value:zp(e[s](o)),done:s==="return"}:i?i(o):o}:i}}function rJ(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof I5=="function"?I5(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function sJ(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function iJ(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function oJ(e){return e&&e.__esModule?e:{default:e}}function aJ(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function cJ(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}var lJ=Object.freeze({__proto__:null,__extends:VX,get __assign(){return S5},__rest:qX,__decorate:ZX,__param:WX,__metadata:KX,__awaiter:GX,__generator:YX,__createBinding:XX,__exportStar:JX,__values:I5,__read:R_,__spread:QX,__spreadArrays:eJ,__await:zp,__asyncGenerator:tJ,__asyncDelegator:nJ,__asyncValues:rJ,__makeTemplateObject:sJ,__importStar:iJ,__importDefault:oJ,__classPrivateFieldGet:aJ,__classPrivateFieldSet:cJ}),Ib=w_(lJ),_5={},Hp={},D_;function uJ(){if(D_)return Hp;D_=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.delay=void 0;function e(t){return new Promise(n=>{setTimeout(()=>{n(!0)},t)})}return Hp.delay=e,Hp}var t0={},O5={},n0={},M_;function dJ(){return M_||(M_=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.ONE_THOUSAND=n0.ONE_HUNDRED=void 0,n0.ONE_HUNDRED=100,n0.ONE_THOUSAND=1e3),n0}var P5={},U_;function fJ(){return U_||(U_=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(P5)),P5}var L_;function F_(){return L_||(L_=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Ib;t.__exportStar(dJ(),e),t.__exportStar(fJ(),e)}(O5)),O5}var j_;function hJ(){if(j_)return t0;j_=1,Object.defineProperty(t0,"__esModule",{value:!0}),t0.fromMiliseconds=t0.toMiliseconds=void 0;const e=F_();function t(r){return r*e.ONE_THOUSAND}t0.toMiliseconds=t;function n(r){return Math.floor(r/e.ONE_THOUSAND)}return t0.fromMiliseconds=n,t0}var z_;function pJ(){return z_||(z_=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Ib;t.__exportStar(uJ(),e),t.__exportStar(hJ(),e)}(_5)),_5}var rh={},H_;function gJ(){if(H_)return rh;H_=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return rh.Watch=e,rh.default=e,rh}var T5={},Vp={},V_;function mJ(){if(V_)return Vp;V_=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.IWatch=void 0;class e{}return Vp.IWatch=e,Vp}var q_;function yJ(){return q_||(q_=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Ib.__exportStar(mJ(),e)}(T5)),T5}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Ib;t.__exportStar(pJ(),e),t.__exportStar(gJ(),e),t.__exportStar(yJ(),e),t.__exportStar(F_(),e)})(Q);var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.getLocalStorage=kt.getLocalStorageOrThrow=kt.getCrypto=kt.getCryptoOrThrow=N5=kt.getLocation=kt.getLocationOrThrow=qp=kt.getNavigator=kt.getNavigatorOrThrow=ei=kt.getDocument=kt.getDocumentOrThrow=kt.getFromWindowOrThrow=kt.getFromWindow=void 0;function r0(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}kt.getFromWindow=r0;function sh(e){const t=r0(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}kt.getFromWindowOrThrow=sh;function bJ(){return sh("document")}kt.getDocumentOrThrow=bJ;function wJ(){return r0("document")}var ei=kt.getDocument=wJ;function vJ(){return sh("navigator")}kt.getNavigatorOrThrow=vJ;function EJ(){return r0("navigator")}var qp=kt.getNavigator=EJ;function xJ(){return sh("location")}kt.getLocationOrThrow=xJ;function $J(){return r0("location")}var N5=kt.getLocation=$J;function AJ(){return sh("crypto")}kt.getCryptoOrThrow=AJ;function CJ(){return r0("crypto")}kt.getCrypto=CJ;function SJ(){return sh("localStorage")}kt.getLocalStorageOrThrow=SJ;function IJ(){return r0("localStorage")}kt.getLocalStorage=IJ;var B5={};Object.defineProperty(B5,"__esModule",{value:!0});var k5=B5.getWindowMetadata=void 0;const Z_=kt;function _J(){let e,t;try{e=Z_.getDocumentOrThrow(),t=Z_.getLocationOrThrow()}catch{return null}function n(){const f=e.getElementsByTagName("link"),d=[];for(let h=0;h<f.length;h++){const p=f[h],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const y=p.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let $=t.protocol+"//"+t.host;if(y.indexOf("/")===0)$+=y;else{const _=t.pathname.split("/");_.pop();const x=_.join("/");$+=x+"/"+y}d.push($)}else if(y.indexOf("//")===0){const $=t.protocol+y;d.push($)}else d.push(y)}}return d}function r(...f){const d=e.getElementsByTagName("meta");for(let h=0;h<d.length;h++){const p=d[h],g=["itemprop","property","name"].map(y=>p.getAttribute(y)).filter(y=>y?f.includes(y):!1);if(g.length&&g){const y=p.getAttribute("content");if(y)return y}}return""}function s(){let f=r("name","og:site_name","og:title","twitter:title");return f||(f=e.title),f}function i(){return r("description","og:description","twitter:description","keywords")}const o=s(),a=i(),c=t.origin,l=n();return{description:a,url:c,icons:l,name:o}}k5=B5.getWindowMetadata=_J;const OJ="0.1.1";function PJ(){return OJ}class Pt extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof Pt){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof Pt&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${PJ()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return W_(this,t)}}function W_(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?W_(e.cause,t):t?null:e}const ih=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function fo(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Xo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ps(e,...t){if(!fo(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function _b(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Xo(e.outputLen),Xo(e.blockLen)}function oh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function K_(e,t){ps(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function TJ(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Jo(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function R5(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Qo(e,t){return e<<32-t|e>>>t}function Ob(e,t){return e<<t|e>>>32-t>>>0}const NJ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function BJ(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function kJ(e){for(let t=0;t<e.length;t++)e[t]=BJ(e[t]);return e}const G_=NJ?e=>e:kJ,Y_=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",RJ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Nn(e){if(ps(e),Y_)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=RJ[e[n]];return t}const qc={_0:48,_9:57,A:65,F:70,a:97,f:102};function X_(e){if(e>=qc._0&&e<=qc._9)return e-qc._0;if(e>=qc.A&&e<=qc.F)return e-(qc.A-10);if(e>=qc.a&&e<=qc.f)return e-(qc.a-10)}function Oi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Y_)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=X_(e.charCodeAt(i)),a=X_(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Zc(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Pb(e){return typeof e=="string"&&(e=Zc(e)),ps(e),e}function Qe(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];ps(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class D5{}function Zp(e){const t=r=>e().update(Pb(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ti(e=32){if(ih&&typeof ih.getRandomValues=="function")return ih.getRandomValues(new Uint8Array(e));if(ih&&typeof ih.randomBytes=="function")return Uint8Array.from(ih.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function DJ(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function MJ(e,t,n){return e&t^~e&n}function UJ(e,t,n){return e&t^e&n^t&n}class M5 extends D5{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=R5(this.buffer)}update(t){oh(this),t=Pb(t),ps(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=R5(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){oh(this),K_(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Jo(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;DJ(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=R5(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Wc=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),pr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),LJ=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),J_=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),FJ=J_.map(e=>(9*e+5)%16),Q_=(()=>{const n=[[J_],[FJ]];for(let r=0;r<4;r++)for(let s of n)s.push(s[r].map(i=>LJ[i]));return n})(),eO=Q_[0],tO=Q_[1],nO=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),jJ=eO.map((e,t)=>e.map(n=>nO[t][n])),zJ=tO.map((e,t)=>e.map(n=>nO[t][n])),HJ=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),VJ=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function rO(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const Tb=new Uint32Array(16);class qJ extends M5{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:i}=this;return[t,n,r,s,i]}set(t,n,r,s,i){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=i|0}process(t,n){for(let h=0;h<16;h++,n+=4)Tb[h]=t.getUint32(n,!0);let r=this.h0|0,s=r,i=this.h1|0,o=i,a=this.h2|0,c=a,l=this.h3|0,u=l,f=this.h4|0,d=f;for(let h=0;h<5;h++){const p=4-h,g=HJ[h],y=VJ[h],$=eO[h],_=tO[h],x=jJ[h],E=zJ[h];for(let P=0;P<16;P++){const N=Ob(r+rO(h,i,a,l)+Tb[$[P]]+g,x[P])+f|0;r=f,f=l,l=Ob(a,10)|0,a=i,i=N}for(let P=0;P<16;P++){const N=Ob(s+rO(p,o,c,u)+Tb[_[P]]+y,E[P])+d|0;s=d,d=u,u=Ob(c,10)|0,c=o,o=N}}this.set(this.h1+a+u|0,this.h2+l+d|0,this.h3+f+s|0,this.h4+r+o|0,this.h0+i+c|0)}roundClean(){Jo(Tb)}destroy(){this.destroyed=!0,Jo(this.buffer),this.set(0,0,0,0,0)}}const ZJ=Zp(()=>new qJ),Nb=BigInt(2**32-1),sO=BigInt(32);function WJ(e,t=!1){return t?{h:Number(e&Nb),l:Number(e>>sO&Nb)}:{h:Number(e>>sO&Nb)|0,l:Number(e&Nb)|0}}function iO(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=WJ(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const oO=(e,t,n)=>e>>>n,aO=(e,t,n)=>e<<32-n|t>>>n,ah=(e,t,n)=>e>>>n|t<<32-n,ch=(e,t,n)=>e<<32-n|t>>>n,Bb=(e,t,n)=>e<<64-n|t>>>n-32,kb=(e,t,n)=>e>>>n-32|t<<64-n,KJ=(e,t,n)=>e<<n|t>>>32-n,GJ=(e,t,n)=>t<<n|e>>>32-n,YJ=(e,t,n)=>t<<n-32|e>>>64-n,XJ=(e,t,n)=>e<<n-32|t>>>64-n;function Kc(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const JJ=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),QJ=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,eQ=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),tQ=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,nQ=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),rQ=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,sQ=BigInt(0),Wp=BigInt(1),iQ=BigInt(2),oQ=BigInt(7),aQ=BigInt(256),cQ=BigInt(113),cO=[],lO=[],uO=[];for(let e=0,t=Wp,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],cO.push(2*(5*r+n)),lO.push((e+1)*(e+2)/2%64);let s=sQ;for(let i=0;i<7;i++)t=(t<<Wp^(t>>oQ)*cQ)%aQ,t&iQ&&(s^=Wp<<(Wp<<BigInt(i))-Wp);uO.push(s)}const dO=iO(uO,!0),lQ=dO[0],uQ=dO[1],fO=(e,t,n)=>n>32?YJ(e,t,n):KJ(e,t,n),hO=(e,t,n)=>n>32?XJ(e,t,n):GJ(e,t,n);function dQ(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],f=fO(l,u,1)^n[a],d=hO(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=f,e[o+h+1]^=d}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=lO[o],c=fO(s,i,a),l=hO(s,i,a),u=cO[o];s=e[u],i=e[u+1],e[u]=c,e[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=lQ[r],e[1]^=uQ[r]}Jo(n)}class U5 extends D5{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Xo(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=TJ(this.state)}clone(){return this._cloneInto()}keccak(){G_(this.state32),dQ(this.state32,this.rounds),G_(this.state32),this.posOut=0,this.pos=0}update(t){oh(this),t=Pb(t),ps(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){oh(this,!1),ps(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Xo(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(K_(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Jo(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new U5(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const fQ=(e,t,n)=>Zp(()=>new U5(t,e,n)),lh=fQ(1,136,256/8),hQ=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),du=new Uint32Array(64);class pQ extends M5{constructor(t=32){super(64,t,8,!1),this.A=Wc[0]|0,this.B=Wc[1]|0,this.C=Wc[2]|0,this.D=Wc[3]|0,this.E=Wc[4]|0,this.F=Wc[5]|0,this.G=Wc[6]|0,this.H=Wc[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)du[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=du[f-15],h=du[f-2],p=Qo(d,7)^Qo(d,18)^d>>>3,g=Qo(h,17)^Qo(h,19)^h>>>10;du[f]=g+du[f-7]+p+du[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=Qo(a,6)^Qo(a,11)^Qo(a,25),h=u+d+MJ(a,c,l)+hQ[f]+du[f]|0,g=(Qo(r,2)^Qo(r,13)^Qo(r,22))+UJ(r,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Jo(du)}destroy(){this.set(0,0,0,0,0,0,0,0),Jo(this.buffer)}}const pO=iO(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),gQ=pO[0],mQ=pO[1],fu=new Uint32Array(80),hu=new Uint32Array(80);class gO extends M5{constructor(t=64){super(128,t,16,!1),this.Ah=pr[0]|0,this.Al=pr[1]|0,this.Bh=pr[2]|0,this.Bl=pr[3]|0,this.Ch=pr[4]|0,this.Cl=pr[5]|0,this.Dh=pr[6]|0,this.Dl=pr[7]|0,this.Eh=pr[8]|0,this.El=pr[9]|0,this.Fh=pr[10]|0,this.Fl=pr[11]|0,this.Gh=pr[12]|0,this.Gl=pr[13]|0,this.Hh=pr[14]|0,this.Hl=pr[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:p,Hh:g,Hl:y}=this;return[t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y]}set(t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let x=0;x<16;x++,n+=4)fu[x]=t.getUint32(n),hu[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const E=fu[x-15]|0,P=hu[x-15]|0,N=ah(E,P,1)^ah(E,P,8)^oO(E,P,7),k=ch(E,P,1)^ch(E,P,8)^aO(E,P,7),R=fu[x-2]|0,T=hu[x-2]|0,L=ah(R,T,19)^Bb(R,T,61)^oO(R,T,6),M=ch(R,T,19)^kb(R,T,61)^aO(R,T,6),S=eQ(k,M,hu[x-7],hu[x-16]),w=tQ(S,N,L,fu[x-7],fu[x-16]);fu[x]=w|0,hu[x]=S|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:p,Gh:g,Gl:y,Hh:$,Hl:_}=this;for(let x=0;x<80;x++){const E=ah(f,d,14)^ah(f,d,18)^Bb(f,d,41),P=ch(f,d,14)^ch(f,d,18)^kb(f,d,41),N=f&h^~f&g,k=d&p^~d&y,R=nQ(_,P,k,mQ[x],hu[x]),T=rQ(R,$,E,N,gQ[x],fu[x]),L=R|0,M=ah(r,s,28)^Bb(r,s,34)^Bb(r,s,39),S=ch(r,s,28)^kb(r,s,34)^kb(r,s,39),w=r&i^r&a^i&a,v=s&o^s&c^o&c;$=g|0,_=y|0,g=h|0,y=p|0,h=f|0,p=d|0,{h:f,l:d}=Kc(l|0,u|0,T|0,L|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const m=JJ(L,S,v);r=QJ(m,T,M,w),s=m|0}({h:r,l:s}=Kc(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Kc(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Kc(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Kc(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=Kc(this.Eh|0,this.El|0,f|0,d|0),{h,l:p}=Kc(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:y}=Kc(this.Gh|0,this.Gl|0,g|0,y|0),{h:$,l:_}=Kc(this.Hh|0,this.Hl|0,$|0,_|0),this.set(r,s,i,o,a,c,l,u,f,d,h,p,g,y,$,_)}roundClean(){Jo(fu,hu)}destroy(){Jo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class yQ extends gO{constructor(){super(48),this.Ah=hr[0]|0,this.Al=hr[1]|0,this.Bh=hr[2]|0,this.Bl=hr[3]|0,this.Ch=hr[4]|0,this.Cl=hr[5]|0,this.Dh=hr[6]|0,this.Dl=hr[7]|0,this.Eh=hr[8]|0,this.El=hr[9]|0,this.Fh=hr[10]|0,this.Fl=hr[11]|0,this.Gh=hr[12]|0,this.Gl=hr[13]|0,this.Hh=hr[14]|0,this.Hl=hr[15]|0}}const Zn=Zp(()=>new pQ),bQ=Zp(()=>new gO),wQ=Zp(()=>new yQ),vQ=Zn;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L5=BigInt(0),Rb=BigInt(1);function Kp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function pu(e){if(!Kp(e))throw new Error("Uint8Array expected")}function Gp(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Db(e){const t=e.toString(16);return t.length&1?"0"+t:t}function mO(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?L5:BigInt("0x"+e)}const yO=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",EQ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function s0(e){if(pu(e),yO)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=EQ[e[n]];return t}const Gc={_0:48,_9:57,A:65,F:70,a:97,f:102};function bO(e){if(e>=Gc._0&&e<=Gc._9)return e-Gc._0;if(e>=Gc.A&&e<=Gc.F)return e-(Gc.A-10);if(e>=Gc.a&&e<=Gc.f)return e-(Gc.a-10)}function Mb(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(yO)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=bO(e.charCodeAt(i)),a=bO(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Fr(e){return mO(s0(e))}function wO(e){return pu(e),mO(s0(Uint8Array.from(e).reverse()))}function gn(e,t){return Mb(e.toString(16).padStart(t*2,"0"))}function vO(e,t){return gn(e,t).reverse()}function gr(e,t,n){let r;if(typeof t=="string")try{r=Mb(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(Kp(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function tn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];pu(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}function F5(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const j5=e=>typeof e=="bigint"&&L5<=e;function z5(e,t,n){return j5(e)&&j5(t)&&j5(n)&&t<=e&&e<n}function uh(e,t,n,r){if(!z5(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Yp(e){let t;for(t=0;e>L5;e>>=Rb,t+=1);return t}function xQ(e,t){return e>>BigInt(t)&Rb}const i0=e=>(Rb<<BigInt(e))-Rb,H5=e=>new Uint8Array(e),EO=e=>Uint8Array.from(e);function $Q(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=H5(e),s=H5(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...f)=>n(s,r,...f),c=(f=H5(0))=>{s=a(EO([0]),f),r=a(),f.length!==0&&(s=a(EO([1]),f),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){r=a();const h=r.slice();d.push(h),f+=r.length}return tn(...d)};return(f,d)=>{o(),c(f);let h;for(;!(h=d(l()));)c();return o(),h}}const AQ={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Kp(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Xp(e,t,n={}){const r=(s,i,o)=>{const a=AQ[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}const xO=()=>{throw new Error("not implemented")};function V5(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}function CQ(e,t){if(_O(e)>t)throw new WQ({givenSize:_O(e),maxSize:t})}const Yc={zero:48,nine:57,A:65,F:70,a:97,f:102};function $O(e){if(e>=Yc.zero&&e<=Yc.nine)return e-Yc.zero;if(e>=Yc.A&&e<=Yc.F)return e-(Yc.A-10);if(e>=Yc.a&&e<=Yc.f)return e-(Yc.a-10)}function SQ(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new KQ({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function q5(e,t){if(Jc(e)>t)throw new MQ({givenSize:Jc(e),maxSize:t})}function IQ(e,t){if(typeof t=="number"&&t>0&&t>Jc(e)-1)throw new IO({offset:t,position:"start",size:Jc(e)})}function _Q(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Jc(e)!==n-t)throw new IO({offset:n,position:"end",size:Jc(e)})}function AO(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new UQ({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const OQ="#__bigint";function Z5(e,t,n){return JSON.stringify(e,(r,s)=>typeof t=="function"?t(r,s):typeof s=="bigint"?s.toString()+OQ:s,n)}const PQ=new TextEncoder,TQ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function NQ(e,t={}){const{strict:n=!1}=t;if(!e)throw new CO(e);if(typeof e!="string")throw new CO(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new SO(e);if(!e.startsWith("0x"))throw new SO(e)}function W5(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function K5(e){return e instanceof Uint8Array?Jp(e):Array.isArray(e)?Jp(new Uint8Array(e)):e}function BQ(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(q5(n,t.size),Lb(n,t.size)):n}function Jp(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=TQ[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(q5(r,t.size),G5(r,t.size)):r}function Ub(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof e=="bigint"?"n":"";throw new DQ({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${e}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Lb(c,r):c}function kQ(e,t={}){return Jp(PQ.encode(e),t)}function Lb(e,t){return AO(e,{dir:"left",size:t})}function G5(e,t){return AO(e,{dir:"right",size:t})}function Xc(e,t,n,r={}){const{strict:s}=r;IQ(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&_Q(i,t,n),i}function Jc(e){return Math.ceil((e.length-2)/2)}function RQ(e,t={}){const{strict:n=!1}=t;try{return NQ(e,{strict:n}),!0}catch{return!1}}class DQ extends Pt{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class CO extends Pt{constructor(t){super(`Value \`${typeof t=="object"?Z5(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class SO extends Pt{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class MQ extends Pt{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class IO extends Pt{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class UQ extends Pt{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}const LQ=new TextEncoder;function FQ(e){if(!(e instanceof Uint8Array)){if(!e)throw new Fb(e);if(typeof e!="object")throw new Fb(e);if(!("BYTES_PER_ELEMENT"in e))throw new Fb(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new Fb(e)}}function jQ(e){return e instanceof Uint8Array?e:typeof e=="string"?HQ(e):zQ(e)}function zQ(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function HQ(e,t={}){const{size:n}=t;let r=e;n&&(q5(e,n),r=G5(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const l=$O(s.charCodeAt(c++)),u=$O(s.charCodeAt(c++));if(l===void 0||u===void 0)throw new Pt(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=l*16+u}return o}function VQ(e,t={}){const{size:n}=t,r=LQ.encode(e);return typeof n=="number"?(CQ(r,n),qQ(r,n)):r}function qQ(e,t){return SQ(e,{dir:"right",size:t})}function _O(e){return e.length}function ZQ(e){try{return FQ(e),!0}catch{return!1}}class Fb extends Pt{constructor(t){super(`Value \`${typeof t=="object"?Z5(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class WQ extends Pt{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class KQ extends Pt{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function OO(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=lh(jQ(e));return n==="Bytes"?r:Jp(r)}class GQ extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Y5={checksum:new GQ(8192)}.checksum;function PO(e,t={}){const{compressed:n}=t,{prefix:r,x:s,y:i}=e;if(n===!1||typeof s=="bigint"&&typeof i=="bigint"){if(r!==4)throw new NO({prefix:r,cause:new tee});return}if(n===!0||typeof s=="bigint"&&typeof i>"u"){if(r!==3&&r!==2)throw new NO({prefix:r,cause:new eee});return}throw new QQ({publicKey:e})}function YQ(e){const t=(()=>{if(RQ(e))return TO(e);if(ZQ(e))return XQ(e);const{prefix:n,x:r,y:s}=e;return typeof r=="bigint"&&typeof s=="bigint"?{prefix:n??4,x:r,y:s}:{prefix:n,x:r}})();return PO(t),t}function XQ(e){return TO(Jp(e))}function TO(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new nee({publicKey:e});if(e.length===130){const r=BigInt(Xc(e,0,32)),s=BigInt(Xc(e,32,64));return{prefix:4,x:r,y:s}}if(e.length===132){const r=Number(Xc(e,0,1)),s=BigInt(Xc(e,1,33)),i=BigInt(Xc(e,33,65));return{prefix:r,x:s,y:i}}const t=Number(Xc(e,0,1)),n=BigInt(Xc(e,1,33));return{prefix:t,x:n}}function JQ(e,t={}){PO(e);const{prefix:n,x:r,y:s}=e,{includePrefix:i=!0}=t;return W5(i?Ub(n,{size:1}):"0x",Ub(r,{size:32}),typeof s=="bigint"?Ub(s,{size:32}):"0x")}class QQ extends Pt{constructor({publicKey:t}){super(`Value \`${Z5(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class NO extends Pt{constructor({prefix:t,cause:n}){super(`Prefix "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class eee extends Pt{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class tee extends Pt{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class nee extends Pt{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Jc(K5(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}const ree=/^0x[a-fA-F0-9]{40}$/;function X5(e,t={}){const{strict:n=!0}=t;if(!ree.test(e))throw new kO({address:e,cause:new oee});if(n){if(e.toLowerCase()===e)return;if(BO(e)!==e)throw new kO({address:e,cause:new aee})}}function BO(e){if(Y5.has(e))return Y5.get(e);X5(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=OO(VQ(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return Y5.set(e,s),s}function see(e,t={}){const{checksum:n=!1}=t;return X5(e),n?BO(e):e}function iee(e,t={}){const n=OO(`0x${JQ(e).slice(4)}`).substring(26);return see(`0x${n}`,t)}class kO extends Pt{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class oee extends Pt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class aee extends Pt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const cee=/^(.*)\[([0-9]*)\]$/,lee=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,uee=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function J5(e,t){if(e.length!==t.length)throw new fee({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(J5.encode(s,i))}return W5(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return X5(c),Lb(c.toLowerCase(),s?32:0)}if(n==="string")return kQ(r);if(n==="bytes")return r;if(n==="bool")return Lb(BQ(r),s?32:1);const i=n.match(uee);if(i){const[c,l,u="256"]=i,f=Number.parseInt(u,10)/8;return Ub(r,{size:s?32:f,signed:l==="int"})}const o=n.match(lee);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new dee({expectedSize:Number.parseInt(l,10),value:r});return G5(r,s?32:0)}const a=n.match(cee);if(a&&Array.isArray(r)){const[c,l]=a,u=[];for(let f=0;f<r.length;f++)u.push(t(l,r[f],!0));return u.length===0?"0x":W5(...u)}throw new hee(n)}e.encode=t})(J5||(J5={}));class dee extends Pt{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Jc(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class fee extends Pt{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class hee extends Pt{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class RO extends D5{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,_b(t);const r=Pb(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Jo(i)}update(t){return oh(this),this.iHash.update(t),this}digestInto(t){oh(this),ps(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const o0=(e,t,n)=>new RO(e,t).update(n).digest();o0.create=(e,t)=>new RO(e,t);const gs=BigInt(0),jr=BigInt(1),a0=BigInt(2),pee=BigInt(3),DO=BigInt(4),MO=BigInt(5),UO=BigInt(8);function zr(e,t){const n=e%t;return n>=gs?n:t+n}function Pi(e,t,n){let r=e;for(;t-- >gs;)r*=r,r%=n;return r}function Q5(e,t){if(e===gs)throw new Error("invert: expected non-zero number");if(t<=gs)throw new Error("invert: expected positive modulus, got "+t);let n=zr(e,t),r=t,s=gs,i=jr;for(;n!==gs;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==jr)throw new Error("invert: does not exist");return zr(s,t)}function LO(e,t){const n=(e.ORDER+jr)/DO,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function gee(e,t){const n=(e.ORDER-MO)/UO,r=e.mul(t,a0),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,a0),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function mee(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-jr,n=0;for(;t%a0===gs;)t/=a0,n++;let r=a0;const s=gu(e);for(;zb(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return LO;let i=s.pow(r,t);const o=(t+jr)/a0;return function(c,l){if(c.is0(l))return l;if(zb(c,l)!==1)throw new Error("Cannot find square root");let u=n,f=c.mul(c.ONE,i),d=c.pow(l,t),h=c.pow(l,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let p=1,g=c.sqr(d);for(;!c.eql(g,c.ONE);)if(p++,g=c.sqr(g),p===u)throw new Error("Cannot find square root");const y=jr<<BigInt(u-p-1),$=c.pow(f,y);u=p,f=c.sqr($),d=c.mul(d,f),h=c.mul(h,$)}return h}}function yee(e){return e%DO===pee?LO:e%UO===MO?gee:mee(e)}const bee=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function FO(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=bee.reduce((r,s)=>(r[s]="function",r),t);return Xp(e,n)}function jb(e,t,n){if(n<gs)throw new Error("invalid exponent, negatives unsupported");if(n===gs)return e.ONE;if(n===jr)return t;let r=e.ONE,s=t;for(;n>gs;)n&jr&&(r=e.mul(r,s)),s=e.sqr(s),n>>=jr;return r}function c0(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function zb(e,t){const n=(e.ORDER-jr)/a0,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function jO(e,t){t!==void 0&&Xo(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function gu(e,t,n=!1,r={}){if(e<=gs)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=jO(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:i0(s),ZERO:gs,ONE:jr,create:c=>zr(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return gs<=c&&c<e},is0:c=>c===gs,isOdd:c=>(c&jr)===jr,neg:c=>zr(-c,e),eql:(c,l)=>c===l,sqr:c=>zr(c*c,e),add:(c,l)=>zr(c+l,e),sub:(c,l)=>zr(c-l,e),mul:(c,l)=>zr(c*l,e),pow:(c,l)=>jb(a,c,l),div:(c,l)=>zr(c*Q5(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Q5(c,e),sqrt:r.sqrt||(c=>(o||(o=yee(e)),o(a,c))),toBytes:c=>n?vO(c,i):gn(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?wO(c):Fr(c)},invertBatch:c=>c0(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function zO(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ev(e){const t=zO(e);return t+Math.ceil(t/2)}function HO(e,t,n=!1){const r=e.length,s=zO(t),i=ev(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?wO(e):Fr(e),a=zr(o,t-jr)+jr;return n?vO(a,s):gn(a,s)}const VO=BigInt(0),tv=BigInt(1);function nv(e,t){const n=t.negate();return e?n:t}function qO(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function rv(e,t){qO(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=i0(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function ZO(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=tv);const l=t*r,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function wee(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function vee(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const sv=new WeakMap,WO=new WeakMap;function iv(e){return WO.get(e)||1}function Eee(e,t){return{constTimeNegate:nv,hasPrecomputes(n){return iv(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>VO;)r&tv&&(s=s.add(i)),i=i.double(),r>>=tv;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=rv(r,t),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=e.ZERO,o=e.BASE;const a=rv(n,t);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:p}=ZO(s,c,a);s=l,f?o=o.add(nv(h,r[p])):i=i.add(nv(d,r[u]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=e.ZERO){const o=rv(n,t);for(let a=0;a<o.windows&&s!==VO;a++){const{nextN:c,offset:l,isZero:u,isNeg:f}=ZO(s,a,o);if(s=c,!u){const d=r[l];i=i.add(f?d.negate():d)}}return i},getPrecomputes(n,r,s){let i=sv.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&sv.set(r,s(i))),i},wNAFCached(n,r,s){const i=iv(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=iv(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){qO(r,t),WO.set(n,r),sv.delete(n)}}}function xee(e,t,n,r){wee(n,e),vee(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Yp(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=i0(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],$=Number(y>>BigInt(h)&l);u[$]=u[$].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(d=d.add(p),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function KO(e){return FO(e.Fp),Xp(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...jO(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function GO(e){e.lowS!==void 0&&Gp("lowS",e.lowS),e.prehash!==void 0&&Gp("prehash",e.prehash)}function $ee(e){const t=KO(e);Xp(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Aee extends Error{constructor(t=""){super(t)}}const Qc={Err:Aee,_tlv:{encode:(e,t)=>{const{Err:n}=Qc;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Db(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Db(s.length/2|128):"";return Db(e)+i+s+t},decode(e,t){const{Err:n}=Qc;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Qc;if(e<ho)throw new t("integer: negative integers are not allowed");let n=Db(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Qc;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Fr(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Qc,s=gr("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Qc,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}};function ov(e,t){return s0(gn(e,t))}const ho=BigInt(0),Ct=BigInt(1),mu=BigInt(2),Qp=BigInt(3),av=BigInt(4);function cv(e){const t=$ee(e),{Fp:n}=t,r=gu(t.n,t.nBitLength),s=t.toBytes||((x,E,P)=>{const N=E.toAffine();return tn(Uint8Array.from([4]),n.toBytes(N.x),n.toBytes(N.y))}),i=t.fromBytes||(x=>{const E=x.subarray(1),P=n.fromBytes(E.subarray(0,n.BYTES)),N=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:P,y:N}});function o(x){const{a:E,b:P}=t,N=n.sqr(x),k=n.mul(N,x);return n.add(n.add(k,n.mul(x,E)),P)}function a(x,E){const P=n.sqr(E),N=o(x);return n.eql(P,N)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Qp),av),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(x){return z5(x,Ct,t.n)}function f(x){const{allowedPrivateKeyLengths:E,nByteLength:P,wrapPrivateKey:N,n:k}=t;if(E&&typeof x!="bigint"){if(Kp(x)&&(x=s0(x)),typeof x!="string"||!E.includes(x.length))throw new Error("invalid private key");x=x.padStart(P*2,"0")}let R;try{R=typeof x=="bigint"?x:Fr(gr("private key",x,P))}catch{throw new Error("invalid private key, expected hex or "+P+" bytes, got "+typeof x)}return N&&(R=zr(R,k)),uh("private key",R,Ct,k),R}function d(x){if(!(x instanceof g))throw new Error("ProjectivePoint expected")}const h=V5((x,E)=>{const{px:P,py:N,pz:k}=x;if(n.eql(k,n.ONE))return{x:P,y:N};const R=x.is0();E==null&&(E=R?n.ONE:n.inv(k));const T=n.mul(P,E),L=n.mul(N,E),M=n.mul(k,E);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:T,y:L}}),p=V5(x=>{if(x.is0()){if(t.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:E,y:P}=x.toAffine();if(!n.isValid(E)||!n.isValid(P))throw new Error("bad point: x or y not FE");if(!a(E,P))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(E,P,N){if(E==null||!n.isValid(E))throw new Error("x required");if(P==null||!n.isValid(P)||n.is0(P))throw new Error("y required");if(N==null||!n.isValid(N))throw new Error("z required");this.px=E,this.py=P,this.pz=N,Object.freeze(this)}static fromAffine(E){const{x:P,y:N}=E||{};if(!E||!n.isValid(P)||!n.isValid(N))throw new Error("invalid affine point");if(E instanceof g)throw new Error("projective point not allowed");const k=R=>n.eql(R,n.ZERO);return k(P)&&k(N)?g.ZERO:new g(P,N,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const P=c0(n,E.map(N=>N.pz));return E.map((N,k)=>N.toAffine(P[k])).map(g.fromAffine)}static fromHex(E){const P=g.fromAffine(i(gr("pointHex",E)));return P.assertValidity(),P}static fromPrivateKey(E){return g.BASE.multiply(f(E))}static msm(E,P){return xee(g,r,E,P)}_setWindowSize(E){_.setWindowSize(this,E)}assertValidity(){p(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){d(E);const{px:P,py:N,pz:k}=this,{px:R,py:T,pz:L}=E,M=n.eql(n.mul(P,L),n.mul(R,k)),S=n.eql(n.mul(N,L),n.mul(T,k));return M&&S}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:P}=t,N=n.mul(P,Qp),{px:k,py:R,pz:T}=this;let L=n.ZERO,M=n.ZERO,S=n.ZERO,w=n.mul(k,k),v=n.mul(R,R),m=n.mul(T,T),b=n.mul(k,R);return b=n.add(b,b),S=n.mul(k,T),S=n.add(S,S),L=n.mul(E,S),M=n.mul(N,m),M=n.add(L,M),L=n.sub(v,M),M=n.add(v,M),M=n.mul(L,M),L=n.mul(b,L),S=n.mul(N,S),m=n.mul(E,m),b=n.sub(w,m),b=n.mul(E,b),b=n.add(b,S),S=n.add(w,w),w=n.add(S,w),w=n.add(w,m),w=n.mul(w,b),M=n.add(M,w),m=n.mul(R,T),m=n.add(m,m),w=n.mul(m,b),L=n.sub(L,w),S=n.mul(m,v),S=n.add(S,S),S=n.add(S,S),new g(L,M,S)}add(E){d(E);const{px:P,py:N,pz:k}=this,{px:R,py:T,pz:L}=E;let M=n.ZERO,S=n.ZERO,w=n.ZERO;const v=t.a,m=n.mul(t.b,Qp);let b=n.mul(P,R),A=n.mul(N,T),I=n.mul(k,L),C=n.add(P,N),O=n.add(R,T);C=n.mul(C,O),O=n.add(b,A),C=n.sub(C,O),O=n.add(P,k);let B=n.add(R,L);return O=n.mul(O,B),B=n.add(b,I),O=n.sub(O,B),B=n.add(N,k),M=n.add(T,L),B=n.mul(B,M),M=n.add(A,I),B=n.sub(B,M),w=n.mul(v,O),M=n.mul(m,I),w=n.add(M,w),M=n.sub(A,w),w=n.add(A,w),S=n.mul(M,w),A=n.add(b,b),A=n.add(A,b),I=n.mul(v,I),O=n.mul(m,O),A=n.add(A,I),I=n.sub(b,I),I=n.mul(v,I),O=n.add(O,I),b=n.mul(A,O),S=n.add(S,b),b=n.mul(B,O),M=n.mul(C,M),M=n.sub(M,b),b=n.mul(C,A),w=n.mul(B,w),w=n.add(w,b),new g(M,S,w)}subtract(E){return this.add(E.negate())}is0(){return this.equals(g.ZERO)}wNAF(E){return _.wNAFCached(this,E,g.normalizeZ)}multiplyUnsafe(E){const{endo:P,n:N}=t;uh("scalar",E,ho,N);const k=g.ZERO;if(E===ho)return k;if(this.is0()||E===Ct)return this;if(!P||_.hasPrecomputes(this))return _.wNAFCachedUnsafe(this,E,g.normalizeZ);let{k1neg:R,k1:T,k2neg:L,k2:M}=P.splitScalar(E),S=k,w=k,v=this;for(;T>ho||M>ho;)T&Ct&&(S=S.add(v)),M&Ct&&(w=w.add(v)),v=v.double(),T>>=Ct,M>>=Ct;return R&&(S=S.negate()),L&&(w=w.negate()),w=new g(n.mul(w.px,P.beta),w.py,w.pz),S.add(w)}multiply(E){const{endo:P,n:N}=t;uh("scalar",E,Ct,N);let k,R;if(P){const{k1neg:T,k1:L,k2neg:M,k2:S}=P.splitScalar(E);let{p:w,f:v}=this.wNAF(L),{p:m,f:b}=this.wNAF(S);w=_.constTimeNegate(T,w),m=_.constTimeNegate(M,m),m=new g(n.mul(m.px,P.beta),m.py,m.pz),k=w.add(m),R=v.add(b)}else{const{p:T,f:L}=this.wNAF(E);k=T,R=L}return g.normalizeZ([k,R])[0]}multiplyAndAddUnsafe(E,P,N){const k=g.BASE,R=(L,M)=>M===ho||M===Ct||!L.equals(k)?L.multiplyUnsafe(M):L.multiply(M),T=R(this,P).add(R(E,N));return T.is0()?void 0:T}toAffine(E){return h(this,E)}isTorsionFree(){const{h:E,isTorsionFree:P}=t;if(E===Ct)return!0;if(P)return P(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:P}=t;return E===Ct?this:P?P(g,this):this.multiplyUnsafe(t.h)}toRawBytes(E=!0){return Gp("isCompressed",E),this.assertValidity(),s(g,this,E)}toHex(E=!0){return Gp("isCompressed",E),s0(this.toRawBytes(E))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:$}=t,_=Eee(g,y?Math.ceil($/2):$);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function Cee(e){const t=KO(e);return Xp(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function See(e){const t=Cee(e),{Fp:n,n:r,nByteLength:s,nBitLength:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(m){return zr(m,r)}function l(m){return Q5(m,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:h}=cv({...t,toBytes(m,b,A){const I=b.toAffine(),C=n.toBytes(I.x),O=tn;return Gp("isCompressed",A),A?O(Uint8Array.from([b.hasEvenY()?2:3]),C):O(Uint8Array.from([4]),C,n.toBytes(I.y))},fromBytes(m){const b=m.length,A=m[0],I=m.subarray(1);if(b===o&&(A===2||A===3)){const C=Fr(I);if(!z5(C,Ct,n.ORDER))throw new Error("Point is not on curve");const O=d(C);let B;try{B=n.sqrt(O)}catch(j){const U=j instanceof Error?": "+j.message:"";throw new Error("Point is not on curve"+U)}const D=(B&Ct)===Ct;return(A&1)===1!==D&&(B=n.neg(B)),{x:C,y:B}}else if(b===a&&A===4){const C=n.fromBytes(I.subarray(0,n.BYTES)),O=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:C,y:O}}else{const C=o,O=a;throw new Error("invalid Point, expected length of "+C+", or uncompressed "+O+", got "+b)}}});function p(m){const b=r>>Ct;return m>b}function g(m){return p(m)?c(-m):m}const y=(m,b,A)=>Fr(m.slice(b,A));class ${constructor(b,A,I){uh("r",b,Ct,r),uh("s",A,Ct,r),this.r=b,this.s=A,I!=null&&(this.recovery=I),Object.freeze(this)}static fromCompact(b){const A=s;return b=gr("compactSignature",b,A*2),new $(y(b,0,A),y(b,A,2*A))}static fromDER(b){const{r:A,s:I}=Qc.toSig(gr("DER",b));return new $(A,I)}assertValidity(){}addRecoveryBit(b){return new $(this.r,this.s,b)}recoverPublicKey(b){const{r:A,s:I,recovery:C}=this,O=k(gr("msgHash",b));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const B=C===2||C===3?A+t.n:A;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",z=u.fromHex(D+ov(B,n.BYTES)),j=l(B),U=c(-O*j),V=c(I*j),q=u.BASE.multiplyAndAddUnsafe(z,U,V);if(!q)throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Mb(this.toDERHex())}toDERHex(){return Qc.hexFromSig(this)}toCompactRawBytes(){return Mb(this.toCompactHex())}toCompactHex(){const b=s;return ov(this.r,b)+ov(this.s,b)}}const _={isValidPrivateKey(m){try{return f(m),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const m=ev(t.n);return HO(t.randomBytes(m),t.n)},precompute(m=8,b=u.BASE){return b._setWindowSize(m),b.multiply(BigInt(3)),b}};function x(m,b=!0){return u.fromPrivateKey(m).toRawBytes(b)}function E(m){if(typeof m=="bigint")return!1;if(m instanceof u)return!0;const A=gr("key",m).length,I=n.BYTES,C=I+1,O=2*I+1;if(!(t.allowedPrivateKeyLengths||s===C))return A===C||A===O}function P(m,b,A=!0){if(E(m)===!0)throw new Error("first arg must be private key");if(E(b)===!1)throw new Error("second arg must be public key");return u.fromHex(b).multiply(f(m)).toRawBytes(A)}const N=t.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const b=Fr(m),A=m.length*8-i;return A>0?b>>BigInt(A):b},k=t.bits2int_modN||function(m){return c(N(m))},R=i0(i);function T(m){return uh("num < 2^"+i,m,ho,R),gn(m,s)}function L(m,b,A=M){if(["recovered","canonical"].some(Z=>Z in A))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:C}=t;let{lowS:O,prehash:B,extraEntropy:D}=A;O==null&&(O=!0),m=gr("msgHash",m),GO(A),B&&(m=gr("prehashed msgHash",I(m)));const z=k(m),j=f(b),U=[T(j),T(z)];if(D!=null&&D!==!1){const Z=D===!0?C(n.BYTES):D;U.push(gr("extraEntropy",Z))}const V=tn(...U),q=z;function X(Z){const Y=N(Z);if(!h(Y))return;const fe=l(Y),me=u.BASE.multiply(Y).toAffine(),we=c(me.x);if(we===ho)return;const Re=c(fe*c(q+we*j));if(Re===ho)return;let We=(me.x===we?0:2)|Number(me.y&Ct),hs=Re;return O&&p(Re)&&(hs=g(Re),We^=1),new $(we,hs,We)}return{seed:V,k2sig:X}}const M={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};function w(m,b,A=M){const{seed:I,k2sig:C}=L(m,b,A),O=t;return $Q(O.hash.outputLen,O.nByteLength,O.hmac)(I,C)}u.BASE._setWindowSize(8);function v(m,b,A,I=S){const C=m;b=gr("msgHash",b),A=gr("publicKey",A);const{lowS:O,prehash:B,format:D}=I;if(GO(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&D!=="compact"&&D!=="der")throw new Error("format must be compact or der");const z=typeof C=="string"||Kp(C),j=!z&&!D&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!z&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let U,V;try{if(j&&(U=new $(C.r,C.s)),z){try{D!=="compact"&&(U=$.fromDER(C))}catch(We){if(!(We instanceof Qc.Err))throw We}!U&&D!=="der"&&(U=$.fromCompact(C))}V=u.fromHex(A)}catch{return!1}if(!U||O&&U.hasHighS())return!1;B&&(b=t.hash(b));const{r:q,s:X}=U,Z=k(b),Y=l(X),fe=c(Z*Y),me=c(q*Y),we=u.BASE.multiplyAndAddUnsafe(V,fe,me)?.toAffine();return we?c(we.x)===q:!1}return{CURVE:t,getPublicKey:x,getSharedSecret:P,sign:w,verify:v,ProjectivePoint:u,Signature:$,utils:_}}function Iee(e,t){const n=e.ORDER;let r=ho;for(let p=n-Ct;p%mu===ho;p/=mu)r+=Ct;const s=r,i=mu<<s-Ct-Ct,o=i*mu,a=(n-Ct)/o,c=(a-Ct)/mu,l=o-Ct,u=i,f=e.pow(t,a),d=e.pow(t,(a+Ct)/mu);let h=(p,g)=>{let y=f,$=e.pow(g,l),_=e.sqr($);_=e.mul(_,g);let x=e.mul(p,_);x=e.pow(x,c),x=e.mul(x,$),$=e.mul(x,g),_=e.mul(x,p);let E=e.mul(_,$);x=e.pow(E,u);let P=e.eql(x,e.ONE);$=e.mul(_,d),x=e.mul(E,y),_=e.cmov($,_,P),E=e.cmov(x,E,P);for(let N=s;N>Ct;N--){let k=N-mu;k=mu<<k-Ct;let R=e.pow(E,k);const T=e.eql(R,e.ONE);$=e.mul(_,y),y=e.mul(y,y),R=e.mul(E,y),_=e.cmov($,_,T),E=e.cmov(R,E,T)}return{isValid:P,value:_}};if(e.ORDER%av===Qp){const p=(e.ORDER-Qp)/av,g=e.sqrt(e.neg(t));h=(y,$)=>{let _=e.sqr($);const x=e.mul(y,$);_=e.mul(_,x);let E=e.pow(_,p);E=e.mul(E,x);const P=e.mul(E,g),N=e.mul(e.sqr(E),$),k=e.eql(N,y);let R=e.cmov(P,E,k);return{isValid:k,value:R}}}return h}function YO(e,t){if(FO(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=Iee(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let s,i,o,a,c,l,u,f;s=e.sqr(r),s=e.mul(s,t.Z),i=e.sqr(s),i=e.add(i,s),o=e.add(i,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(i),!e.eql(i,e.ZERO)),a=e.mul(a,t.A),i=e.sqr(o),l=e.sqr(a),c=e.mul(l,t.A),i=e.add(i,c),i=e.mul(i,o),l=e.mul(l,a),c=e.mul(l,t.B),i=e.add(i,c),u=e.mul(s,o);const{isValid:d,value:h}=n(i,l);f=e.mul(s,r),f=e.mul(f,h),u=e.cmov(u,o,d),f=e.cmov(f,h,d);const p=e.isOdd(r)===e.isOdd(f);f=e.cmov(e.neg(f),f,p);const g=c0(e,[a],!0)[0];return u=e.mul(u,g),{x:u,y:f}}}function _ee(e){return{hash:e,hmac:(t,...n)=>o0(e,t,Qe(...n)),randomBytes:ti}}function Hb(e,t){const n=r=>See({...e,..._ee(r)});return{...n(t),create:n}}const Oee=Fr;function yu(e,t){if(eg(e),eg(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function Pee(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function eg(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function Tee(e,t,n,r){pu(e),pu(t),eg(n),t.length>255&&(t=r(tn(F5("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:i}=r,o=Math.ceil(n/s);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=tn(t,yu(t.length,1)),c=yu(0,i),l=yu(n,2),u=new Array(o),f=r(tn(c,e,l,yu(0,1),a));u[0]=r(tn(f,yu(1,1),a));for(let h=1;h<=o;h++){const p=[Pee(f,u[h-1]),yu(h+1,1),a];u[h]=r(tn(...p))}return tn(...u).slice(0,n)}function Nee(e,t,n,r,s){if(pu(e),pu(t),eg(n),t.length>255){const i=Math.ceil(2*r/8);t=s.create({dkLen:i}).update(F5("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:n}).update(e).update(yu(n,2)).update(t).update(yu(t.length,1)).digest()}function XO(e,t,n){Xp(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:i,hash:o,expand:a,DST:c}=n;pu(e),eg(t);const l=typeof c=="string"?F5(c):c,u=r.toString(2).length,f=Math.ceil((u+s)/8),d=t*i*f;let h;if(a==="xmd")h=Tee(e,l,d,o);else if(a==="xof")h=Nee(e,l,d,s,o);else if(a==="_internal_pass")h=e;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(t);for(let g=0;g<t;g++){const y=new Array(i);for(let $=0;$<i;$++){const _=f*($+g*i),x=h.subarray(_,_+f);y[$]=zr(Oee(x),r)}p[g]=y}return p}function JO(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,s)=>{const[i,o,a,c]=n.map(f=>f.reduce((d,h)=>e.add(e.mul(d,r),h))),[l,u]=c0(e,[o,c],!0);return r=e.mul(i,l),s=e.mul(s,e.mul(a,u)),{x:r,y:s}}}function QO(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function r(i){return e.fromAffine(t(i))}function s(i){const o=i.clearCofactor();return o.equals(e.ZERO)?e.ZERO:(o.assertValidity(),o)}return{defaults:n,hashToCurve(i,o){const a=XO(i,2,{...n,DST:n.DST,...o}),c=r(a[0]),l=r(a[1]);return s(c.add(l))},encodeToCurve(i,o){const a=XO(i,1,{...n,DST:n.encodeDST,...o});return s(r(a[0]))},mapToCurve(i){if(!Array.isArray(i))throw new Error("expected array of bigints");for(const o of i)if(typeof o!="bigint")throw new Error("expected array of bigints");return s(r(i))}}}const eP=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),tP=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Bee=BigInt(0),kee=BigInt(1),lv=BigInt(2),nP=(e,t)=>(e+t/lv)/t;function Ree(e){const t=eP,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=Pi(u,n,t)*u%t,d=Pi(f,n,t)*u%t,h=Pi(d,lv,t)*l%t,p=Pi(h,s,t)*h%t,g=Pi(p,i,t)*p%t,y=Pi(g,a,t)*g%t,$=Pi(y,c,t)*y%t,_=Pi($,a,t)*g%t,x=Pi(_,n,t)*u%t,E=Pi(x,o,t)*p%t,P=Pi(E,r,t)*l%t,N=Pi(P,lv,t);if(!uv.eql(uv.sqr(N),e))throw new Error("Cannot find square root");return N}const uv=gu(eP,void 0,void 0,{sqrt:Ree}),Dee=Hb({a:Bee,b:BigInt(7),Fp:uv,n:tP,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=tP,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-kee*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=nP(i*e,t),c=nP(-r*e,t);let l=zr(e-a*n-c*s,t),u=zr(-a*r-c*i,t);const f=l>o,d=u>o;if(f&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},Zn);function Mee(e){if(e.length!==130&&e.length!==132)throw new Lee({signature:e});const t=BigInt(Xc(e,0,32)),n=BigInt(Xc(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Uee(s)}catch{throw new Fee({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Uee(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new jee({value:e})}class Lee extends Pt{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Jc(K5(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Fee extends Pt{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class jee extends Pt{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}Object.freeze({1:0n,2:1n,3:2n,4:3n,5:4n,6:5n,7:6n,8:7n,9:8n,A:9n,B:10n,C:11n,D:12n,E:13n,F:14n,G:15n,H:16n,J:17n,K:18n,L:19n,M:20n,N:21n,P:22n,Q:23n,R:24n,S:25n,T:26n,U:27n,V:28n,W:29n,X:30n,Y:31n,Z:32n,a:33n,b:34n,c:35n,d:36n,e:37n,f:38n,g:39n,h:40n,i:41n,j:42n,k:43n,m:44n,n:45n,o:46n,p:47n,q:48n,r:49n,s:50n,t:51n,u:52n,v:53n,w:54n,x:55n,y:56n,z:57n}),Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((e,t)=>[t,e.charCodeAt(0)]),{...Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((e,t)=>[e.charCodeAt(0),t]))},Wc.slice();const zee=BigInt(0),Vb=BigInt(1),rP=BigInt(2),dh=BigInt(3);function Hee(e){const t=[];for(;e>Vb;e>>=Vb)(e&Vb)===zee?t.unshift(0):(e&dh)===dh?(t.unshift(-1),e+=Vb):t.unshift(1);return t}function Vee(e){const{Fp:t,Fr:n,Fp2:r,Fp6:s,Fp12:i}=e.fields,o=e.params.xNegative,a=e.params.twistType,c=cv({n:n.ORDER,...e.G1}),l=Object.assign(c,QO(c.ProjectivePoint,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),u=cv({n:n.ORDER,...e.G2}),f=Object.assign(u,QO(u.ProjectivePoint,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults}));let d;if(a==="multiplicative")d=(z,j,U,V,q,X)=>i.mul014(V,z,r.mul(j,q),r.mul(U,X));else if(a==="divisive")d=(z,j,U,V,q,X)=>i.mul034(V,r.mul(U,X),r.mul(j,q),z);else throw new Error("bls: unknown twist type");const h=r.div(r.ONE,r.mul(r.ONE,rP));function p(z,j,U,V){const q=r.sqr(U),X=r.sqr(V),Z=r.mulByB(r.mul(X,dh)),Y=r.mul(Z,dh),fe=r.sub(r.sub(r.sqr(r.add(U,V)),X),q),me=r.sub(Z,q),we=r.mul(r.sqr(j),dh),Re=r.neg(fe);return z.push([me,we,Re]),j=r.mul(r.mul(r.mul(r.sub(q,Y),j),U),h),U=r.sub(r.sqr(r.mul(r.add(q,Y),h)),r.mul(r.sqr(Z),dh)),V=r.mul(q,fe),{Rx:j,Ry:U,Rz:V}}function g(z,j,U,V,q,X){const Z=r.sub(U,r.mul(X,V)),Y=r.sub(j,r.mul(q,V)),fe=r.sub(r.mul(Z,q),r.mul(Y,X)),me=r.neg(Z),we=Y;z.push([fe,me,we]);const Re=r.sqr(Y),We=r.mul(Re,Y),hs=r.mul(Re,j),A5=r.add(r.sub(We,r.mul(hs,rP)),r.mul(r.sqr(Z),V));return j=r.mul(Y,A5),U=r.sub(r.mul(r.sub(hs,A5),Z),r.mul(We,U)),V=r.mul(V,We),{Rx:j,Ry:U,Rz:V}}const y=Hee(e.params.ateLoopSize),$=V5(z=>{const j=z,{x:U,y:V}=j.toAffine(),q=U,X=V,Z=r.neg(V);let Y=q,fe=X,me=r.ONE;const we=[];for(const Re of y){const We=[];({Rx:Y,Ry:fe,Rz:me}=p(We,Y,fe,me)),Re&&({Rx:Y,Ry:fe,Rz:me}=g(We,Y,fe,me,q,Re===-1?Z:X)),we.push(We)}if(e.postPrecompute){const Re=we[we.length-1];e.postPrecompute(Y,fe,me,q,X,g.bind(null,Re))}return we});function _(z,j=!1){let U=i.ONE;if(z.length){const V=z[0][0].length;for(let q=0;q<V;q++){U=i.sqr(U);for(const[X,Z,Y]of z)for(const[fe,me,we]of X[q])U=d(fe,me,we,U,Z,Y)}}return o&&(U=i.conjugate(U)),j?i.finalExponentiate(U):U}function x(z,j=!0){const U=[];l.ProjectivePoint.normalizeZ(z.map(({g1:V})=>V)),f.ProjectivePoint.normalizeZ(z.map(({g2:V})=>V));for(const{g1:V,g2:q}of z){if(V.equals(l.ProjectivePoint.ZERO)||q.equals(f.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");V.assertValidity(),q.assertValidity();const X=V.toAffine();U.push([$(q),X.x,X.y])}return _(U,j)}function E(z,j,U=!0){return x([{g1:z,g2:j}],U)}const P={randomPrivateKey:()=>{const z=ev(n.ORDER);return HO(e.randomBytes(z),n.ORDER)},calcPairingPrecomputes:$},{ShortSignature:N}=e.G1,{Signature:k}=e.G2;function R(z){return z instanceof l.ProjectivePoint?z:l.ProjectivePoint.fromHex(z)}function T(z,j){return z instanceof l.ProjectivePoint?z:l.hashToCurve(gr("point",z),j)}function L(z){return z instanceof f.ProjectivePoint?z:k.fromHex(z)}function M(z,j){return z instanceof f.ProjectivePoint?z:f.hashToCurve(gr("point",z),j)}function S(z){return l.ProjectivePoint.fromPrivateKey(z).toRawBytes(!0)}function w(z){return f.ProjectivePoint.fromPrivateKey(z).toRawBytes(!0)}function v(z,j,U){const V=M(z,U);V.assertValidity();const q=V.multiply(l.normPrivateKeyToScalar(j));return z instanceof f.ProjectivePoint?q:k.toRawBytes(q)}function m(z,j,U){const V=T(z,U);V.assertValidity();const q=V.multiply(l.normPrivateKeyToScalar(j));return z instanceof l.ProjectivePoint?q:N.toRawBytes(q)}function b(z,j,U,V){const q=R(U),X=M(j,V),Z=l.ProjectivePoint.BASE,Y=L(z),fe=x([{g1:q.negate(),g2:X},{g1:Z,g2:Y}]);return i.eql(fe,i.ONE)}function A(z,j,U,V){const q=L(U),X=T(j,V),Z=f.ProjectivePoint.BASE,Y=R(z),fe=x([{g1:X,g2:q},{g1:Y,g2:Z.negate()}]);return i.eql(fe,i.ONE)}function I(z){if(!Array.isArray(z)||z.length===0)throw new Error("expected non-empty array")}function C(z){I(z);const U=z.map(R).reduce((V,q)=>V.add(q),l.ProjectivePoint.ZERO);return z[0]instanceof l.ProjectivePoint?(U.assertValidity(),U):U.toRawBytes(!0)}function O(z){I(z);const U=z.map(L).reduce((V,q)=>V.add(q),f.ProjectivePoint.ZERO);return z[0]instanceof f.ProjectivePoint?(U.assertValidity(),U):k.toRawBytes(U)}function B(z){I(z);const U=z.map(R).reduce((V,q)=>V.add(q),l.ProjectivePoint.ZERO);return z[0]instanceof l.ProjectivePoint?(U.assertValidity(),U):N.toRawBytes(U)}function D(z,j,U,V){if(I(j),U.length!==j.length)throw new Error("amount of public keys and messages should be equal");const q=L(z),X=j.map(me=>M(me,V)),Z=U.map(R),Y=new Map;for(let me=0;me<Z.length;me++){const we=Z[me],Re=X[me];let We=Y.get(Re);We===void 0&&(We=[],Y.set(Re,We)),We.push(we)}const fe=[];try{for(const[me,we]of Y){const Re=we.reduce((We,hs)=>We.add(hs));fe.push({g1:Re,g2:me})}return fe.push({g1:l.ProjectivePoint.BASE.negate(),g2:q}),i.eql(x(fe),i.ONE)}catch{return!1}}return l.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:S,getPublicKeyForShortSignatures:w,sign:v,signShortSignature:m,verify:b,verifyBatch:D,verifyShortSignature:A,aggregatePublicKeys:C,aggregateSignatures:O,aggregateShortSignatures:B,millerLoopBatch:_,pairing:E,pairingBatch:x,G1:l,G2:f,Signature:k,ShortSignature:N,fields:{Fr:n,Fp:t,Fp2:r,Fp6:s,Fp12:i},params:{ateLoopSize:e.params.ateLoopSize,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:P}}const qee=BigInt(0),fh=BigInt(1),el=BigInt(2),sP=BigInt(3);function dv(e,t,n,r,s=1,i){const o=BigInt(i===void 0?r:i),a=n**BigInt(r),c=[];for(let l=0;l<s;l++){const u=BigInt(l+1),f=[];for(let d=0,h=fh;d<r;d++){const p=(u*h-u)/o%a;f.push(e.pow(t,p)),h*=n}c.push(f)}return c}function Zee(e,t,n){const r=t.pow(n,(e.ORDER-fh)/sP),s=t.pow(n,(e.ORDER-fh)/el);function i(d,h){const p=t.mul(t.frobeniusMap(d,1),r),g=t.mul(t.frobeniusMap(h,1),s);return[p,g]}const o=t.pow(n,(e.ORDER**el-fh)/sP),a=t.pow(n,(e.ORDER**el-fh)/el);if(!t.eql(a,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function c(d,h){return[t.mul(d,o),t.neg(h)]}const l=d=>(h,p)=>{const g=p.toAffine(),y=d(g.x,g.y);return h.fromAffine({x:y[0],y:y[1]})},u=l(i),f=l(c);return{psi:i,psi2:c,G2psi:u,G2psi2:f,PSI_X:r,PSI_Y:s,PSI2_X:o,PSI2_Y:a}}function Wee(e){const{ORDER:t}=e,n=gu(t),r=n.create(e.NONRESIDUE||BigInt(-1)),s=n.div(n.ONE,el),i=dv(n,r,n.ORDER,2)[0],o=({c0:S,c1:w},{c0:v,c1:m})=>({c0:n.add(S,v),c1:n.add(w,m)}),a=({c0:S,c1:w},{c0:v,c1:m})=>({c0:n.sub(S,v),c1:n.sub(w,m)}),c=({c0:S,c1:w},v)=>{if(typeof v=="bigint")return{c0:n.mul(S,v),c1:n.mul(w,v)};const{c0:m,c1:b}=v;let A=n.mul(S,m),I=n.mul(w,b);const C=n.sub(A,I),O=n.sub(n.mul(n.add(S,w),n.add(m,b)),n.add(A,I));return{c0:C,c1:O}},l=({c0:S,c1:w})=>{const v=n.add(S,w),m=n.sub(S,w),b=n.add(S,S);return{c0:n.mul(v,m),c1:n.mul(b,w)}},u=S=>{if(S.length!==2)throw new Error("invalid tuple");const w=S.map(v=>n.create(v));return{c0:w[0],c1:w[1]}},f=t*t,d=u(e.FP2_NONRESIDUE),h={ORDER:f,isLE:n.isLE,NONRESIDUE:d,BITS:Yp(f),BYTES:Math.ceil(Yp(f)/8),MASK:i0(Yp(f)),ZERO:{c0:n.ZERO,c1:n.ZERO},ONE:{c0:n.ONE,c1:n.ZERO},create:S=>S,isValid:({c0:S,c1:w})=>typeof S=="bigint"&&typeof w=="bigint",is0:({c0:S,c1:w})=>n.is0(S)&&n.is0(w),eql:({c0:S,c1:w},{c0:v,c1:m})=>n.eql(S,v)&&n.eql(w,m),neg:({c0:S,c1:w})=>({c0:n.neg(S),c1:n.neg(w)}),pow:(S,w)=>jb(h,S,w),invertBatch:S=>c0(h,S),add:o,sub:a,mul:c,sqr:l,addN:o,subN:a,mulN:c,sqrN:l,div:(S,w)=>h.mul(S,typeof w=="bigint"?n.inv(n.create(w)):h.inv(w)),inv:({c0:S,c1:w})=>{const v=n.inv(n.create(S*S+w*w));return{c0:n.mul(v,n.create(S)),c1:n.mul(v,n.create(-w))}},sqrt:S=>{if(e.Fp2sqrt)return e.Fp2sqrt(S);const{c0:w,c1:v}=S;if(n.is0(v))return zb(n,w)===1?h.create({c0:n.sqrt(w),c1:n.ZERO}):h.create({c0:n.ZERO,c1:n.sqrt(n.div(w,r))});const m=n.sqrt(n.sub(n.sqr(w),n.mul(n.sqr(v),r)));let b=n.mul(n.add(m,w),s);zb(n,b)===-1&&(b=n.sub(b,m));const I=n.sqrt(b),C=h.create({c0:I,c1:n.div(n.mul(v,s),I)});if(!h.eql(h.sqr(C),S))throw new Error("Cannot find square root");const O=C,B=h.neg(O),{re:D,im:z}=h.reim(O),{re:j,im:U}=h.reim(B);return z>U||z===U&&D>j?O:B},isOdd:S=>{const{re:w,im:v}=h.reim(S),m=w%el,b=w===qee,A=v%el;return BigInt(m||b&&A)==fh},fromBytes(S){if(S.length!==h.BYTES)throw new Error("fromBytes invalid length="+S.length);return{c0:n.fromBytes(S.subarray(0,n.BYTES)),c1:n.fromBytes(S.subarray(n.BYTES))}},toBytes:({c0:S,c1:w})=>tn(n.toBytes(S),n.toBytes(w)),cmov:({c0:S,c1:w},{c0:v,c1:m},b)=>({c0:n.cmov(S,v,b),c1:n.cmov(w,m,b)}),reim:({c0:S,c1:w})=>({re:S,im:w}),mulByNonresidue:({c0:S,c1:w})=>h.mul({c0:S,c1:w},d),mulByB:e.Fp2mulByB,fromBigTuple:u,frobeniusMap:({c0:S,c1:w},v)=>({c0:S,c1:n.mul(w,i[v%2])})},p=({c0:S,c1:w,c2:v},{c0:m,c1:b,c2:A})=>({c0:h.add(S,m),c1:h.add(w,b),c2:h.add(v,A)}),g=({c0:S,c1:w,c2:v},{c0:m,c1:b,c2:A})=>({c0:h.sub(S,m),c1:h.sub(w,b),c2:h.sub(v,A)}),y=({c0:S,c1:w,c2:v},m)=>{if(typeof m=="bigint")return{c0:h.mul(S,m),c1:h.mul(w,m),c2:h.mul(v,m)};const{c0:b,c1:A,c2:I}=m,C=h.mul(S,b),O=h.mul(w,A),B=h.mul(v,I);return{c0:h.add(C,h.mulByNonresidue(h.sub(h.mul(h.add(w,v),h.add(A,I)),h.add(O,B)))),c1:h.add(h.sub(h.mul(h.add(S,w),h.add(b,A)),h.add(C,O)),h.mulByNonresidue(B)),c2:h.sub(h.add(O,h.mul(h.add(S,v),h.add(b,I))),h.add(C,B))}},$=({c0:S,c1:w,c2:v})=>{let m=h.sqr(S),b=h.mul(h.mul(S,w),el),A=h.mul(h.mul(w,v),el),I=h.sqr(v);return{c0:h.add(h.mulByNonresidue(A),m),c1:h.add(h.mulByNonresidue(I),b),c2:h.sub(h.sub(h.add(h.add(b,h.sqr(h.add(h.sub(S,w),v))),A),m),I)}},[_,x]=dv(h,d,n.ORDER,6,2,3),E={ORDER:h.ORDER,isLE:h.isLE,BITS:3*h.BITS,BYTES:3*h.BYTES,MASK:i0(3*h.BITS),ZERO:{c0:h.ZERO,c1:h.ZERO,c2:h.ZERO},ONE:{c0:h.ONE,c1:h.ZERO,c2:h.ZERO},create:S=>S,isValid:({c0:S,c1:w,c2:v})=>h.isValid(S)&&h.isValid(w)&&h.isValid(v),is0:({c0:S,c1:w,c2:v})=>h.is0(S)&&h.is0(w)&&h.is0(v),neg:({c0:S,c1:w,c2:v})=>({c0:h.neg(S),c1:h.neg(w),c2:h.neg(v)}),eql:({c0:S,c1:w,c2:v},{c0:m,c1:b,c2:A})=>h.eql(S,m)&&h.eql(w,b)&&h.eql(v,A),sqrt:xO,div:(S,w)=>E.mul(S,typeof w=="bigint"?n.inv(n.create(w)):E.inv(w)),pow:(S,w)=>jb(E,S,w),invertBatch:S=>c0(E,S),add:p,sub:g,mul:y,sqr:$,addN:p,subN:g,mulN:y,sqrN:$,inv:({c0:S,c1:w,c2:v})=>{let m=h.sub(h.sqr(S),h.mulByNonresidue(h.mul(v,w))),b=h.sub(h.mulByNonresidue(h.sqr(v)),h.mul(S,w)),A=h.sub(h.sqr(w),h.mul(S,v)),I=h.inv(h.add(h.mulByNonresidue(h.add(h.mul(v,b),h.mul(w,A))),h.mul(S,m)));return{c0:h.mul(I,m),c1:h.mul(I,b),c2:h.mul(I,A)}},fromBytes:S=>{if(S.length!==E.BYTES)throw new Error("fromBytes invalid length="+S.length);return{c0:h.fromBytes(S.subarray(0,h.BYTES)),c1:h.fromBytes(S.subarray(h.BYTES,2*h.BYTES)),c2:h.fromBytes(S.subarray(2*h.BYTES))}},toBytes:({c0:S,c1:w,c2:v})=>tn(h.toBytes(S),h.toBytes(w),h.toBytes(v)),cmov:({c0:S,c1:w,c2:v},{c0:m,c1:b,c2:A},I)=>({c0:h.cmov(S,m,I),c1:h.cmov(w,b,I),c2:h.cmov(v,A,I)}),fromBigSix:S=>{if(!Array.isArray(S)||S.length!==6)throw new Error("invalid Fp6 usage");return{c0:h.fromBigTuple(S.slice(0,2)),c1:h.fromBigTuple(S.slice(2,4)),c2:h.fromBigTuple(S.slice(4,6))}},frobeniusMap:({c0:S,c1:w,c2:v},m)=>({c0:h.frobeniusMap(S,m),c1:h.mul(h.frobeniusMap(w,m),_[m%6]),c2:h.mul(h.frobeniusMap(v,m),x[m%6])}),mulByFp2:({c0:S,c1:w,c2:v},m)=>({c0:h.mul(S,m),c1:h.mul(w,m),c2:h.mul(v,m)}),mulByNonresidue:({c0:S,c1:w,c2:v})=>({c0:h.mulByNonresidue(v),c1:S,c2:w}),mul1:({c0:S,c1:w,c2:v},m)=>({c0:h.mulByNonresidue(h.mul(v,m)),c1:h.mul(S,m),c2:h.mul(w,m)}),mul01({c0:S,c1:w,c2:v},m,b){let A=h.mul(S,m),I=h.mul(w,b);return{c0:h.add(h.mulByNonresidue(h.sub(h.mul(h.add(w,v),b),I)),A),c1:h.sub(h.sub(h.mul(h.add(m,b),h.add(S,w)),A),I),c2:h.add(h.sub(h.mul(h.add(S,v),m),A),I)}}},P=dv(h,d,n.ORDER,12,1,6)[0],N=({c0:S,c1:w},{c0:v,c1:m})=>({c0:E.add(S,v),c1:E.add(w,m)}),k=({c0:S,c1:w},{c0:v,c1:m})=>({c0:E.sub(S,v),c1:E.sub(w,m)}),R=({c0:S,c1:w},v)=>{if(typeof v=="bigint")return{c0:E.mul(S,v),c1:E.mul(w,v)};let{c0:m,c1:b}=v,A=E.mul(S,m),I=E.mul(w,b);return{c0:E.add(A,E.mulByNonresidue(I)),c1:E.sub(E.mul(E.add(S,w),E.add(m,b)),E.add(A,I))}},T=({c0:S,c1:w})=>{let v=E.mul(S,w);return{c0:E.sub(E.sub(E.mul(E.add(E.mulByNonresidue(w),S),E.add(S,w)),v),E.mulByNonresidue(v)),c1:E.add(v,v)}};function L(S,w){const v=h.sqr(S),m=h.sqr(w);return{first:h.add(h.mulByNonresidue(m),v),second:h.sub(h.sub(h.sqr(h.add(S,w)),v),m)}}const M={ORDER:h.ORDER,isLE:E.isLE,BITS:2*E.BITS,BYTES:2*E.BYTES,MASK:i0(2*E.BITS),ZERO:{c0:E.ZERO,c1:E.ZERO},ONE:{c0:E.ONE,c1:E.ZERO},create:S=>S,isValid:({c0:S,c1:w})=>E.isValid(S)&&E.isValid(w),is0:({c0:S,c1:w})=>E.is0(S)&&E.is0(w),neg:({c0:S,c1:w})=>({c0:E.neg(S),c1:E.neg(w)}),eql:({c0:S,c1:w},{c0:v,c1:m})=>E.eql(S,v)&&E.eql(w,m),sqrt:xO,inv:({c0:S,c1:w})=>{let v=E.inv(E.sub(E.sqr(S),E.mulByNonresidue(E.sqr(w))));return{c0:E.mul(S,v),c1:E.neg(E.mul(w,v))}},div:(S,w)=>M.mul(S,typeof w=="bigint"?n.inv(n.create(w)):M.inv(w)),pow:(S,w)=>jb(M,S,w),invertBatch:S=>c0(M,S),add:N,sub:k,mul:R,sqr:T,addN:N,subN:k,mulN:R,sqrN:T,fromBytes:S=>{if(S.length!==M.BYTES)throw new Error("fromBytes invalid length="+S.length);return{c0:E.fromBytes(S.subarray(0,E.BYTES)),c1:E.fromBytes(S.subarray(E.BYTES))}},toBytes:({c0:S,c1:w})=>tn(E.toBytes(S),E.toBytes(w)),cmov:({c0:S,c1:w},{c0:v,c1:m},b)=>({c0:E.cmov(S,v,b),c1:E.cmov(w,m,b)}),fromBigTwelve:S=>({c0:E.fromBigSix(S.slice(0,6)),c1:E.fromBigSix(S.slice(6,12))}),frobeniusMap(S,w){const{c0:v,c1:m,c2:b}=E.frobeniusMap(S.c1,w),A=P[w%12];return{c0:E.frobeniusMap(S.c0,w),c1:E.create({c0:h.mul(v,A),c1:h.mul(m,A),c2:h.mul(b,A)})}},mulByFp2:({c0:S,c1:w},v)=>({c0:E.mulByFp2(S,v),c1:E.mulByFp2(w,v)}),conjugate:({c0:S,c1:w})=>({c0:S,c1:E.neg(w)}),mul014:({c0:S,c1:w},v,m,b)=>{let A=E.mul01(S,v,m),I=E.mul1(w,b);return{c0:E.add(E.mulByNonresidue(I),A),c1:E.sub(E.sub(E.mul01(E.add(w,S),v,h.add(m,b)),A),I)}},mul034:({c0:S,c1:w},v,m,b)=>{const A=E.create({c0:h.mul(S.c0,v),c1:h.mul(S.c1,v),c2:h.mul(S.c2,v)}),I=E.mul01(w,m,b),C=E.mul01(E.add(S,w),h.add(v,m),b);return{c0:E.add(E.mulByNonresidue(I),A),c1:E.sub(C,E.add(A,I))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:n,Fp2:h,Fp6:E,Fp4Square:L,Fp12:M}}const Hr=BigInt(0),qb=BigInt(1),Bn=BigInt(2),Zb=BigInt(3),tg=BigInt(4),bu=BigInt("0xd201000000010000"),Kee=Yp(bu),{Fp:Ce,Fp2:Ne,Fp6:fv,Fp4Square:hv,Fp12:Je}=Wee({ORDER:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),FP2_NONRESIDUE:[qb,qb],Fp2mulByB:({c0:e,c1:t})=>{const n=Ce.mul(e,tg),r=Ce.mul(t,tg);return{c0:Ce.sub(n,r),c1:Ce.add(n,r)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:n,c1:r,c2:s}=e,{c0:i,c1:o,c2:a}=t,{first:c,second:l}=hv(n,o),{first:u,second:f}=hv(i,s),{first:d,second:h}=hv(r,a),p=Ne.mulByNonresidue(h);return{c0:fv.create({c0:Ne.add(Ne.mul(Ne.sub(c,n),Bn),c),c1:Ne.add(Ne.mul(Ne.sub(u,r),Bn),u),c2:Ne.add(Ne.mul(Ne.sub(d,s),Bn),d)}),c1:fv.create({c0:Ne.add(Ne.mul(Ne.add(p,i),Bn),p),c1:Ne.add(Ne.mul(Ne.add(l,o),Bn),l),c2:Ne.add(Ne.mul(Ne.add(f,a),Bn),f)})}},Fp12cyclotomicExp(e,t){let n=Je.ONE;for(let r=Kee-1;r>=0;r--)n=Je._cyclotomicSquare(n),xQ(t,r)&&(n=Je.mul(n,e));return n},Fp12finalExponentiate:e=>{const t=bu,n=Je.div(Je.frobeniusMap(e,6),e),r=Je.mul(Je.frobeniusMap(n,2),n),s=Je.conjugate(Je._cyclotomicExp(r,t)),i=Je.mul(Je.conjugate(Je._cyclotomicSquare(r)),s),o=Je.conjugate(Je._cyclotomicExp(i,t)),a=Je.conjugate(Je._cyclotomicExp(o,t)),c=Je.mul(Je.conjugate(Je._cyclotomicExp(a,t)),Je._cyclotomicSquare(s)),l=Je.conjugate(Je._cyclotomicExp(c,t)),u=Je.frobeniusMap(Je.mul(s,a),2),f=Je.frobeniusMap(Je.mul(o,r),3),d=Je.frobeniusMap(Je.mul(c,Je.conjugate(r)),1),h=Je.mul(Je.mul(l,Je.conjugate(i)),r);return Je.mul(Je.mul(Je.mul(u,f),d),h)}}),iP=gu(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),Gee=JO(Ne,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>Ne.fromBigTuple(t.map(BigInt))))),Yee=JO(Ce,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),Xee=YO(Ne,{A:Ne.create({c0:Ce.create(Hr),c1:Ce.create(BigInt(240))}),B:Ne.create({c0:Ce.create(BigInt(1012)),c1:Ce.create(BigInt(1012))}),Z:Ne.create({c0:Ce.create(BigInt(-2)),c1:Ce.create(BigInt(-1))})}),Jee=YO(Ce,{A:Ce.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Ce.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Ce.create(BigInt(11))}),{G2psi:oP,G2psi2:Qee}=Zee(Ce,Ne,Ne.div(Ne.ONE,Ne.NONRESIDUE)),pv=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Ce.ORDER,m:2,k:128,expand:"xmd",hash:Zn}),Wb=ng(Ce.toBytes(Hr),{infinity:!0,compressed:!0});function Kb(e){e=e.slice();const t=e[0]&224,n=!!(t>>7&1),r=!!(t>>6&1),s=!!(t>>5&1);return e[0]&=31,{compressed:n,infinity:r,sort:s,value:e}}function ng(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function aP(e){e.assertValidity();const t=e.equals(po.G1.ProjectivePoint.ZERO),{x:n,y:r}=e.toAffine();if(t)return Wb.slice();const s=Ce.ORDER,i=!!(r*Bn/s);return ng(gn(n,Ce.BYTES),{compressed:!0,sort:i})}function cP(e){e.assertValidity();const t=Ce.BYTES;if(e.equals(po.G2.ProjectivePoint.ZERO))return tn(Wb,gn(Hr,t));const{x:n,y:r}=e.toAffine(),{re:s,im:i}=Ne.reim(n),{re:o,im:a}=Ne.reim(r),l=!!((a>Hr?a*Bn:o*Bn)/Ce.ORDER&qb),u=s;return tn(ng(gn(i,t),{sort:l,compressed:!0}),gn(u,t))}const po=Vee({fields:{Fp:Ce,Fp2:Ne,Fp6:fv,Fp12:Je,Fr:iP},G1:{Fp:Ce,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:Ce.ZERO,b:tg,htfDefaults:{...pv,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),r=new e(Ce.mul(t.px,n),t.py,t.pz);return t.multiplyUnsafe(bu).negate().multiplyUnsafe(bu).equals(r)},clearCofactor:(e,t)=>t.multiplyUnsafe(bu).add(t),mapToCurve:e=>{const{x:t,y:n}=Jee(Ce.create(e[0]));return Yee(t,n)},fromBytes:e=>{const{compressed:t,infinity:n,sort:r,value:s}=Kb(e);if(s.length===48&&t){const i=Ce.ORDER,o=Fr(s),a=Ce.create(o&Ce.MASK);if(n){if(a!==Hr)throw new Error("G1: non-empty compressed point at infinity");return{x:Hr,y:Hr}}const c=Ce.add(Ce.pow(a,Zb),Ce.create(po.params.G1b));let l=Ce.sqrt(c);if(!l)throw new Error("invalid compressed G1 point");return l*Bn/i!==BigInt(r)&&(l=Ce.neg(l)),{x:Ce.create(a),y:Ce.create(l)}}else if(s.length===96&&!t){const i=Fr(s.subarray(0,Ce.BYTES)),o=Fr(s.subarray(Ce.BYTES));if(n){if(i!==Hr||o!==Hr)throw new Error("G1: non-empty point at infinity");return po.G1.ProjectivePoint.ZERO.toAffine()}return{x:Ce.create(i),y:Ce.create(o)}}else throw new Error("invalid point G1, expected 48/96 bytes")},toBytes:(e,t,n)=>{const r=t.equals(e.ZERO),{x:s,y:i}=t.toAffine();if(n){if(r)return Wb.slice();const o=Ce.ORDER,a=!!(i*Bn/o);return ng(gn(s,Ce.BYTES),{compressed:!0,sort:a})}else return r?tn(new Uint8Array([64]),new Uint8Array(2*Ce.BYTES-1)):tn(gn(s,Ce.BYTES),gn(i,Ce.BYTES))},ShortSignature:{fromHex(e){const{infinity:t,sort:n,value:r}=Kb(gr("signatureHex",e,48)),s=Ce.ORDER,i=Fr(r);if(t)return po.G1.ProjectivePoint.ZERO;const o=Ce.create(i&Ce.MASK),a=Ce.add(Ce.pow(o,Zb),Ce.create(po.params.G1b));let c=Ce.sqrt(a);if(!c)throw new Error("invalid compressed G1 point");const l=BigInt(n);c*Bn/s!==l&&(c=Ce.neg(c));const u=po.G1.ProjectivePoint.fromAffine({x:o,y:c});return u.assertValidity(),u},toRawBytes(e){return aP(e)},toHex(e){return s0(aP(e))}}},G2:{Fp:Ne,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:Ne.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ne.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:Ne.ZERO,b:Ne.fromBigTuple([tg,tg]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...pv},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:e=>{const{x:t,y:n}=Xee(Ne.fromBigTuple(e));return Gee(t,n)},isTorsionFree:(e,t)=>t.multiplyUnsafe(bu).negate().equals(oP(e,t)),clearCofactor:(e,t)=>{const n=bu;let r=t.multiplyUnsafe(n).negate(),s=oP(e,t),i=t.double();return i=Qee(e,i),i=i.subtract(s),s=r.add(s),s=s.multiplyUnsafe(n).negate(),i=i.add(s),i=i.subtract(r),i.subtract(t)},fromBytes:e=>{const{compressed:t,infinity:n,sort:r,value:s}=Kb(e);if(!t&&!n&&r||!t&&n&&r||r&&n&&t)throw new Error("invalid encoding flag: "+(e[0]&224));const i=Ce.BYTES,o=(a,c,l)=>Fr(a.slice(c,l));if(s.length===96&&t){const a=po.params.G2b,c=Ce.ORDER;if(n){if(s.reduce((g,y)=>g!==0?y+1:y,0)>0)throw new Error("invalid compressed G2 point");return{x:Ne.ZERO,y:Ne.ZERO}}const l=o(s,0,i),u=o(s,i,2*i),f=Ne.create({c0:Ce.create(u),c1:Ce.create(l)}),d=Ne.add(Ne.pow(f,Zb),a);let h=Ne.sqrt(d);const p=h.c1===Hr?h.c0*Bn/c:h.c1*Bn/c?qb:Hr;return h=r&&p>0?h:Ne.neg(h),{x:f,y:h}}else if(s.length===192&&!t){if(n){if(s.reduce((f,d)=>f!==0?d+1:d,0)>0)throw new Error("invalid uncompressed G2 point");return{x:Ne.ZERO,y:Ne.ZERO}}const a=o(s,0,i),c=o(s,i,2*i),l=o(s,2*i,3*i),u=o(s,3*i,4*i);return{x:Ne.fromBigTuple([c,a]),y:Ne.fromBigTuple([u,l])}}else throw new Error("invalid point G2, expected 96/192 bytes")},toBytes:(e,t,n)=>{const{BYTES:r,ORDER:s}=Ce,i=t.equals(e.ZERO),{x:o,y:a}=t.toAffine();if(n){if(i)return tn(Wb,gn(Hr,r));const c=!!(a.c1===Hr?a.c0*Bn/s:a.c1*Bn/s);return tn(ng(gn(o.c1,r),{compressed:!0,sort:c}),gn(o.c0,r))}else{if(i)return tn(new Uint8Array([64]),new Uint8Array(4*r-1));const{re:c,im:l}=Ne.reim(o),{re:u,im:f}=Ne.reim(a);return tn(gn(l,r),gn(c,r),gn(f,r),gn(u,r))}},Signature:{fromHex(e){const{infinity:t,sort:n,value:r}=Kb(gr("signatureHex",e)),s=Ce.ORDER,i=r.length/2;if(i!==48&&i!==96)throw new Error("invalid compressed signature length, must be 96 or 192");const o=Fr(r.slice(0,i)),a=Fr(r.slice(i));if(t)return po.G2.ProjectivePoint.ZERO;const c=Ce.create(o&Ce.MASK),l=Ce.create(a),u=Ne.create({c0:l,c1:c}),f=Ne.add(Ne.pow(u,Zb),po.params.G2b);let d=Ne.sqrt(f);if(!d)throw new Error("Failed to find a square root");const{re:h,im:p}=Ne.reim(d),g=BigInt(n),y=p>Hr&&p*Bn/s!==g,$=p===Hr&&h*Bn/s!==g;(y||$)&&(d=Ne.neg(d));const _=po.G2.ProjectivePoint.fromAffine({x:u,y:d});return _.assertValidity(),_},toRawBytes(e){return cP(e)},toHex(e){return s0(cP(e))}}},params:{ateLoopSize:bu,r:iP.ORDER,xNegative:!0,twistType:"multiplicative"},htfDefaults:pv,hash:Zn,randomBytes:ti});BigInt(0),BigInt(1),BigInt(2),BigInt(8),BigInt(0),BigInt(1),BigInt(2),BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(5),BigInt(8);const gv=BigInt(0),mv=BigInt(1);function Gb(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function l0(e,t,n=""){const r=fo(e),s=e?.length,i=t!==void 0;if(!r||i&&s!==t){const o=n&&`"${n}" `,a=i?` of length ${t}`:"",c=r?`length=${s}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function Yb(e){const t=e.toString(16);return t.length&1?"0"+t:t}function lP(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?gv:BigInt("0x"+e)}function Xb(e){return lP(Nn(e))}function uP(e){return ps(e),lP(Nn(Uint8Array.from(e).reverse()))}function yv(e,t){return Oi(e.toString(16).padStart(t*2,"0"))}function dP(e,t){return yv(e,t).reverse()}function ms(e,t,n){let r;if(typeof t=="string")try{r=Oi(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(fo(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const bv=e=>typeof e=="bigint"&&gv<=e;function ete(e,t,n){return bv(e)&&bv(t)&&bv(n)&&t<=e&&e<n}function tte(e,t,n,r){if(!ete(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function fP(e){let t;for(t=0;e>gv;e>>=mv,t+=1);return t}const rg=e=>(mv<<BigInt(e))-mv;function nte(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(e),o=r(e),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...h)=>n(o,i,...h),u=(h=r(0))=>{o=l(s(0),h),i=l(),h.length!==0&&(o=l(s(1),h),i=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<t;){i=l();const g=i.slice();p.push(g),h+=i.length}return Qe(...p)};return(h,p)=>{c(),u(h);let g;for(;!(g=p(f()));)u();return c(),g}}function wv(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,i,o){const a=e[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(t).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function hP(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const ys=BigInt(0),Vr=BigInt(1),u0=BigInt(2),pP=BigInt(3),gP=BigInt(4),mP=BigInt(5),rte=BigInt(7),yP=BigInt(8),ste=BigInt(9),bP=BigInt(16);function go(e,t){const n=e%t;return n>=ys?n:t+n}function Ti(e,t,n){let r=e;for(;t-- >ys;)r*=r,r%=n;return r}function wP(e,t){if(e===ys)throw new Error("invert: expected non-zero number");if(t<=ys)throw new Error("invert: expected positive modulus, got "+t);let n=go(e,t),r=t,s=ys,i=Vr;for(;n!==ys;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==Vr)throw new Error("invert: does not exist");return go(s,t)}function vv(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function vP(e,t){const n=(e.ORDER+Vr)/gP,r=e.pow(t,n);return vv(e,r,t),r}function ite(e,t){const n=(e.ORDER-mP)/yP,r=e.mul(t,u0),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,u0),s),a=e.mul(i,e.sub(o,e.ONE));return vv(e,a,t),a}function ote(e){const t=sg(e),n=EP(e),r=n(t,t.neg(t.ONE)),s=n(t,r),i=n(t,t.neg(r)),o=(e+rte)/bP;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,r);const f=a.mul(l,s),d=a.mul(l,i),h=a.eql(a.sqr(u),c),p=a.eql(a.sqr(f),c);l=a.cmov(l,u,h),u=a.cmov(d,f,p);const g=a.eql(a.sqr(u),c),y=a.cmov(l,u,g);return vv(a,y,c),y}}function EP(e){if(e<pP)throw new Error("sqrt is not defined for small field");let t=e-Vr,n=0;for(;t%u0===ys;)t/=u0,n++;let r=u0;const s=sg(e);for(;$P(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return vP;let i=s.pow(r,t);const o=(t+Vr)/u0;return function(c,l){if(c.is0(l))return l;if($P(c,l)!==1)throw new Error("Cannot find square root");let u=n,f=c.mul(c.ONE,i),d=c.pow(l,t),h=c.pow(l,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let p=1,g=c.sqr(d);for(;!c.eql(g,c.ONE);)if(p++,g=c.sqr(g),p===u)throw new Error("Cannot find square root");const y=Vr<<BigInt(u-p-1),$=c.pow(f,y);u=p,f=c.sqr($),d=c.mul(d,f),h=c.mul(h,$)}return h}}function ate(e){return e%gP===pP?vP:e%yP===mP?ite:e%bP===ste?ote(e):EP(e)}const cte=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lte(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=cte.reduce((r,s)=>(r[s]="function",r),t);return wv(e,n),e}function ute(e,t,n){if(n<ys)throw new Error("invalid exponent, negatives unsupported");if(n===ys)return e.ONE;if(n===Vr)return t;let r=e.ONE,s=t;for(;n>ys;)n&Vr&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Vr;return r}function xP(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function $P(e,t){const n=(e.ORDER-Vr)/u0,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function AP(e,t){t!==void 0&&Xo(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function sg(e,t,n=!1,r={}){if(e<=ys)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i,o=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(s=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),a=d.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:c,nByteLength:l}=AP(e,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:rg(c),ZERO:ys,ONE:Vr,allowedLengths:a,create:d=>go(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return ys<=d&&d<e},is0:d=>d===ys,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&Vr)===Vr,neg:d=>go(-d,e),eql:(d,h)=>d===h,sqr:d=>go(d*d,e),add:(d,h)=>go(d+h,e),sub:(d,h)=>go(d-h,e),mul:(d,h)=>go(d*h,e),pow:(d,h)=>ute(f,d,h),div:(d,h)=>go(d*wP(h,e),e),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>wP(d,e),sqrt:i||(d=>(u||(u=ate(e)),u(f,d))),toBytes:d=>n?dP(d,l):yv(d,l),fromBytes:(d,h=!0)=>{if(a){if(!a.includes(d.length)||d.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);const g=new Uint8Array(l);g.set(d,n?0:g.length-d.length),d=g}if(d.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+d.length);let p=n?uP(d):Xb(d);if(o&&(p=go(p,e)),!h&&!f.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:d=>xP(f,d),cmov:(d,h,p)=>p?h:d});return Object.freeze(f)}function CP(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function SP(e){const t=CP(e);return t+Math.ceil(t/2)}function dte(e,t,n=!1){const r=e.length,s=CP(t),i=SP(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?uP(e):Xb(e),a=go(o,t-Vr)+Vr;return n?dP(a,s):yv(a,s)}const hh=BigInt(0),d0=BigInt(1);function Jb(e,t){const n=t.negate();return e?n:t}function Ev(e,t){const n=xP(e.Fp,t.map(r=>r.Z));return t.map((r,s)=>e.fromAffine(r.toAffine(n[s])))}function IP(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function xv(e,t){IP(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=rg(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function _P(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=d0);const l=t*r,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function fte(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function hte(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const $v=new WeakMap,OP=new WeakMap;function Av(e){return OP.get(e)||1}function PP(e){if(e!==hh)throw new Error("invalid wNAF")}class pte{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let s=t;for(;n>hh;)n&d0&&(r=r.add(s)),s=s.double(),n>>=d0;return r}precomputeWindow(t,n){const{windows:r,windowSize:s}=xv(n,this.bits),i=[];let o=t,a=o;for(let c=0;c<r;c++){a=o,i.push(a);for(let l=1;l<s;l++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=xv(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:d,offsetF:h}=_P(r,a,o);r=c,u?i=i.add(Jb(d,n[h])):s=s.add(Jb(f,n[l]))}return PP(r),{p:s,f:i}}wNAFUnsafe(t,n,r,s=this.ZERO){const i=xv(t,this.bits);for(let o=0;o<i.windows&&r!==hh;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=_P(r,o,i);if(r=a,!l){const f=n[c];s=s.add(u?f.negate():f)}}return PP(r),s}getPrecomputes(t,n,r){let s=$v.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(s=r(s)),$v.set(n,s))),s}cached(t,n,r){const s=Av(t);return this.wNAF(s,this.getPrecomputes(s,t,r),n)}unsafe(t,n,r,s){const i=Av(t);return i===1?this._unsafeLadder(t,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),n,s)}createCache(t,n){IP(n,this.bits),OP.set(t,n),$v.delete(t)}hasCache(t){return Av(t)!==1}}function gte(e,t,n,r){let s=t,i=e.ZERO,o=e.ZERO;for(;n>hh||r>hh;)n&d0&&(i=i.add(s)),r&d0&&(o=o.add(s)),s=s.double(),n>>=d0,r>>=d0;return{p1:i,p2:o}}function mte(e,t,n,r){fte(n,e),hte(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=fP(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=rg(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],$=Number(y>>BigInt(h)&l);u[$]=u[$].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(d=d.add(p),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function TP(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return lte(t),t}else return sg(e,{isLE:n})}function yte(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const l=t[c];if(!(typeof l=="bigint"&&l>hh))throw new Error(`CURVE.${c} must be positive bigint`)}const s=TP(t.p,n.Fp,r),i=TP(t.n,n.Fn,r),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const c of a)if(!s.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}const NP=(e,t)=>(e+(e>=0?t:-t)/BP)/t;function bte(e,t,n){const[[r,s],[i,o]]=t,a=NP(o*e,n),c=NP(-s*e,n);let l=e-a*r-c*i,u=-a*s-c*o;const f=l<nl,d=u<nl;f&&(l=-l),d&&(u=-u);const h=rg(Math.ceil(fP(n)/2))+ph;if(l<nl||l>=h||u<nl||u>=h)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}function Cv(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function Sv(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return Gb(n.lowS,"lowS"),Gb(n.prehash,"prehash"),n.format!==void 0&&Cv(n.format),n}class wte extends Error{constructor(t=""){super(t)}}const tl={Err:wte,_tlv:{encode:(e,t)=>{const{Err:n}=tl;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Yb(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Yb(s.length/2|128):"";return Yb(e)+i+s+t},decode(e,t){const{Err:n}=tl;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=tl;if(e<nl)throw new t("integer: negative integers are not allowed");let n=Yb(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=tl;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Xb(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=tl,s=ms("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=tl,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}},nl=BigInt(0),ph=BigInt(1),BP=BigInt(2),Qb=BigInt(3),vte=BigInt(4);function gh(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let s=ms("private key",t);try{r=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Ete(e,t={}){const n=yte("weierstrass",e,t),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o,n:a}=i;wv(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=RP(r,s);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(S,w,v){const{x:m,y:b}=w.toAffine(),A=r.toBytes(m);if(Gb(v,"isCompressed"),v){u();const I=!r.isOdd(b);return Qe(kP(I),A)}else return Qe(Uint8Array.of(4),A,r.toBytes(b))}function d(S){l0(S,void 0,"Point");const{publicKey:w,publicKeyUncompressed:v}=l,m=S.length,b=S[0],A=S.subarray(1);if(m===w&&(b===2||b===3)){const I=r.fromBytes(A);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const C=g(I);let O;try{O=r.sqrt(C)}catch(z){const j=z instanceof Error?": "+z.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}u();const B=r.isOdd(O);return(b&1)===1!==B&&(O=r.neg(O)),{x:I,y:O}}else if(m===v&&b===4){const I=r.BYTES,C=r.fromBytes(A.subarray(0,I)),O=r.fromBytes(A.subarray(I,I*2));if(!y(C,O))throw new Error("bad point: is not on curve");return{x:C,y:O}}else throw new Error(`bad point: got length ${m}, expected compressed=${w} or uncompressed=${v}`)}const h=t.toBytes||f,p=t.fromBytes||d;function g(S){const w=r.sqr(S),v=r.mul(w,S);return r.add(r.add(v,r.mul(S,i.a)),i.b)}function y(S,w){const v=r.sqr(w),m=g(S);return r.eql(v,m)}if(!y(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const $=r.mul(r.pow(i.a,Qb),vte),_=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add($,_)))throw new Error("bad curve params: a or b");function x(S,w,v=!1){if(!r.isValid(w)||v&&r.is0(w))throw new Error(`bad point coordinate ${S}`);return w}function E(S){if(!(S instanceof T))throw new Error("ProjectivePoint expected")}function P(S){if(!c||!c.basises)throw new Error("no endo");return bte(S,c.basises,s.ORDER)}const N=hP((S,w)=>{const{X:v,Y:m,Z:b}=S;if(r.eql(b,r.ONE))return{x:v,y:m};const A=S.is0();w==null&&(w=A?r.ONE:r.inv(b));const I=r.mul(v,w),C=r.mul(m,w),O=r.mul(b,w);if(A)return{x:r.ZERO,y:r.ZERO};if(!r.eql(O,r.ONE))throw new Error("invZ was invalid");return{x:I,y:C}}),k=hP(S=>{if(S.is0()){if(t.allowInfinityPoint&&!r.is0(S.Y))return;throw new Error("bad point: ZERO")}const{x:w,y:v}=S.toAffine();if(!r.isValid(w)||!r.isValid(v))throw new Error("bad point: x or y not field elements");if(!y(w,v))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(S,w,v,m,b){return v=new T(r.mul(v.X,S),v.Y,v.Z),w=Jb(m,w),v=Jb(b,v),w.add(v)}class T{constructor(w,v,m){this.X=x("x",w),this.Y=x("y",v,!0),this.Z=x("z",m),Object.freeze(this)}static CURVE(){return i}static fromAffine(w){const{x:v,y:m}=w||{};if(!w||!r.isValid(v)||!r.isValid(m))throw new Error("invalid affine point");if(w instanceof T)throw new Error("projective point not allowed");return r.is0(v)&&r.is0(m)?T.ZERO:new T(v,m,r.ONE)}static fromBytes(w){const v=T.fromAffine(p(l0(w,void 0,"point")));return v.assertValidity(),v}static fromHex(w){return T.fromBytes(ms("pointHex",w))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(w=8,v=!0){return M.createCache(this,w),v||this.multiply(Qb),this}assertValidity(){k(this)}hasEvenY(){const{y:w}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(w)}equals(w){E(w);const{X:v,Y:m,Z:b}=this,{X:A,Y:I,Z:C}=w,O=r.eql(r.mul(v,C),r.mul(A,b)),B=r.eql(r.mul(m,C),r.mul(I,b));return O&&B}negate(){return new T(this.X,r.neg(this.Y),this.Z)}double(){const{a:w,b:v}=i,m=r.mul(v,Qb),{X:b,Y:A,Z:I}=this;let C=r.ZERO,O=r.ZERO,B=r.ZERO,D=r.mul(b,b),z=r.mul(A,A),j=r.mul(I,I),U=r.mul(b,A);return U=r.add(U,U),B=r.mul(b,I),B=r.add(B,B),C=r.mul(w,B),O=r.mul(m,j),O=r.add(C,O),C=r.sub(z,O),O=r.add(z,O),O=r.mul(C,O),C=r.mul(U,C),B=r.mul(m,B),j=r.mul(w,j),U=r.sub(D,j),U=r.mul(w,U),U=r.add(U,B),B=r.add(D,D),D=r.add(B,D),D=r.add(D,j),D=r.mul(D,U),O=r.add(O,D),j=r.mul(A,I),j=r.add(j,j),D=r.mul(j,U),C=r.sub(C,D),B=r.mul(j,z),B=r.add(B,B),B=r.add(B,B),new T(C,O,B)}add(w){E(w);const{X:v,Y:m,Z:b}=this,{X:A,Y:I,Z:C}=w;let O=r.ZERO,B=r.ZERO,D=r.ZERO;const z=i.a,j=r.mul(i.b,Qb);let U=r.mul(v,A),V=r.mul(m,I),q=r.mul(b,C),X=r.add(v,m),Z=r.add(A,I);X=r.mul(X,Z),Z=r.add(U,V),X=r.sub(X,Z),Z=r.add(v,b);let Y=r.add(A,C);return Z=r.mul(Z,Y),Y=r.add(U,q),Z=r.sub(Z,Y),Y=r.add(m,b),O=r.add(I,C),Y=r.mul(Y,O),O=r.add(V,q),Y=r.sub(Y,O),D=r.mul(z,Z),O=r.mul(j,q),D=r.add(O,D),O=r.sub(V,D),D=r.add(V,D),B=r.mul(O,D),V=r.add(U,U),V=r.add(V,U),q=r.mul(z,q),Z=r.mul(j,Z),V=r.add(V,q),q=r.sub(U,q),q=r.mul(z,q),Z=r.add(Z,q),U=r.mul(V,Z),B=r.add(B,U),U=r.mul(Y,Z),O=r.mul(X,O),O=r.sub(O,U),U=r.mul(X,V),D=r.mul(Y,D),D=r.add(D,U),new T(O,B,D)}subtract(w){return this.add(w.negate())}is0(){return this.equals(T.ZERO)}multiply(w){const{endo:v}=t;if(!s.isValidNot0(w))throw new Error("invalid scalar: out of range");let m,b;const A=I=>M.cached(this,I,C=>Ev(T,C));if(v){const{k1neg:I,k1:C,k2neg:O,k2:B}=P(w),{p:D,f:z}=A(C),{p:j,f:U}=A(B);b=z.add(U),m=R(v.beta,D,j,I,O)}else{const{p:I,f:C}=A(w);m=I,b=C}return Ev(T,[m,b])[0]}multiplyUnsafe(w){const{endo:v}=t,m=this;if(!s.isValid(w))throw new Error("invalid scalar: out of range");if(w===nl||m.is0())return T.ZERO;if(w===ph)return m;if(M.hasCache(this))return this.multiply(w);if(v){const{k1neg:b,k1:A,k2neg:I,k2:C}=P(w),{p1:O,p2:B}=gte(T,m,A,C);return R(v.beta,O,B,b,I)}else return M.unsafe(m,w)}multiplyAndAddUnsafe(w,v,m){const b=this.multiplyUnsafe(v).add(w.multiplyUnsafe(m));return b.is0()?void 0:b}toAffine(w){return N(this,w)}isTorsionFree(){const{isTorsionFree:w}=t;return o===ph?!0:w?w(T,this):M.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:w}=t;return o===ph?this:w?w(T,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(w=!0){return Gb(w,"isCompressed"),this.assertValidity(),h(T,this,w)}toHex(w=!0){return Nn(this.toBytes(w))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(w=!0){return this.toBytes(w)}_setWindowSize(w){this.precompute(w)}static normalizeZ(w){return Ev(T,w)}static msm(w,v){return mte(T,s,w,v)}static fromPrivateKey(w){return T.BASE.multiply(gh(s,w))}}T.BASE=new T(i.Gx,i.Gy,r.ONE),T.ZERO=new T(r.ZERO,r.ONE,r.ZERO),T.Fp=r,T.Fn=s;const L=s.BITS,M=new pte(T,t.endo?Math.ceil(L/2):L);return T.BASE.precompute(8),T}function kP(e){return Uint8Array.of(e?2:3)}function RP(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function xte(e,t={}){const{Fn:n}=e,r=t.randomBytes||ti,s=Object.assign(RP(e.Fp,n),{seed:SP(n.ORDER)});function i(h){try{return!!gh(n,h)}catch{return!1}}function o(h,p){const{publicKey:g,publicKeyUncompressed:y}=s;try{const $=h.length;return p===!0&&$!==g||p===!1&&$!==y?!1:!!e.fromBytes(h)}catch{return!1}}function a(h=r(s.seed)){return dte(l0(h,s.seed,"seed"),n.ORDER)}function c(h,p=!0){return e.BASE.multiply(gh(n,h)).toBytes(p)}function l(h){const p=a(h);return{secretKey:p,publicKey:c(p)}}function u(h){if(typeof h=="bigint")return!1;if(h instanceof e)return!0;const{secretKey:p,publicKey:g,publicKeyUncompressed:y}=s;if(n.allowedLengths||p===g)return;const $=ms("key",h).length;return $===g||$===y}function f(h,p,g=!0){if(u(h)===!0)throw new Error("first arg must be private key");if(u(p)===!1)throw new Error("second arg must be public key");const y=gh(n,h);return e.fromHex(p).multiply(y).toBytes(g)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:e,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:h=>gh(n,h),precompute(h=8,p=e.BASE){return p.precompute(h,!1)}},lengths:s})}function $te(e,t,n={}){_b(t),wv(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||ti,s=n.hmac||((v,...m)=>o0(t,v,Qe(...m))),{Fp:i,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:h}=xte(e,n),p={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},g="compact";function y(v){const m=a>>ph;return v>m}function $(v,m){if(!o.isValidNot0(m))throw new Error(`invalid signature ${v}: out of range 1..Point.Fn.ORDER`);return m}function _(v,m){Cv(m);const b=h.signature,A=m==="compact"?b:m==="recovered"?b+1:void 0;return l0(v,A,`${m} signature`)}class x{constructor(m,b,A){this.r=$("r",m),this.s=$("s",b),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(m,b=g){_(m,b);let A;if(b==="der"){const{r:B,s:D}=tl.toSig(l0(m));return new x(B,D)}b==="recovered"&&(A=m[0],b="compact",m=m.subarray(1));const I=o.BYTES,C=m.subarray(0,I),O=m.subarray(I,I*2);return new x(o.fromBytes(C),o.fromBytes(O),A)}static fromHex(m,b){return this.fromBytes(Oi(m),b)}addRecoveryBit(m){return new x(this.r,this.s,m)}recoverPublicKey(m){const b=i.ORDER,{r:A,s:I,recovery:C}=this;if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");if(a*BP<b&&C>1)throw new Error("recovery id is ambiguous for h>1 curve");const B=C===2||C===3?A+a:A;if(!i.isValid(B))throw new Error("recovery id 2 or 3 invalid");const D=i.toBytes(B),z=e.fromBytes(Qe(kP((C&1)===0),D)),j=o.inv(B),U=P(ms("msgHash",m)),V=o.create(-U*j),q=o.create(I*j),X=e.BASE.multiplyUnsafe(V).add(z.multiplyUnsafe(q));if(X.is0())throw new Error("point at infinify");return X.assertValidity(),X}hasHighS(){return y(this.s)}toBytes(m=g){if(Cv(m),m==="der")return Oi(tl.hexFromSig(this));const b=o.toBytes(this.r),A=o.toBytes(this.s);if(m==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Qe(Uint8Array.of(this.recovery),b,A)}return Qe(b,A)}toHex(m){return Nn(this.toBytes(m))}assertValidity(){}static fromCompact(m){return x.fromBytes(ms("sig",m),"compact")}static fromDER(m){return x.fromBytes(ms("sig",m),"der")}normalizeS(){return this.hasHighS()?new x(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Nn(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Nn(this.toBytes("compact"))}}const E=n.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const b=Xb(m),A=m.length*8-c;return A>0?b>>BigInt(A):b},P=n.bits2int_modN||function(m){return o.create(E(m))},N=rg(c);function k(v){return tte("num < 2^"+c,v,nl,N),o.toBytes(v)}function R(v,m){return l0(v,void 0,"message"),m?l0(t(v),void 0,"prehashed message"):v}function T(v,m,b){if(["recovered","canonical"].some(V=>V in b))throw new Error("sign() legacy options not supported");const{lowS:A,prehash:I,extraEntropy:C}=Sv(b,p);v=R(v,I);const O=P(v),B=gh(o,m),D=[k(B),k(O)];if(C!=null&&C!==!1){const V=C===!0?r(h.secretKey):C;D.push(ms("extraEntropy",V))}const z=Qe(...D),j=O;function U(V){const q=E(V);if(!o.isValidNot0(q))return;const X=o.inv(q),Z=e.BASE.multiply(q).toAffine(),Y=o.create(Z.x);if(Y===nl)return;const fe=o.create(X*o.create(j+Y*B));if(fe===nl)return;let me=(Z.x===Y?0:2)|Number(Z.y&ph),we=fe;return A&&y(fe)&&(we=o.neg(fe),me^=1),new x(Y,we,me)}return{seed:z,k2sig:U}}function L(v,m,b={}){v=ms("message",v);const{seed:A,k2sig:I}=T(v,m,b);return nte(t.outputLen,o.BYTES,s)(A,I)}function M(v){let m;const b=typeof v=="string"||fo(v),A=!b&&v!==null&&typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!b&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)m=new x(v.r,v.s);else if(b){try{m=x.fromBytes(ms("sig",v),"der")}catch(I){if(!(I instanceof tl.Err))throw I}if(!m)try{m=x.fromBytes(ms("sig",v),"compact")}catch{return!1}}return m||!1}function S(v,m,b,A={}){const{lowS:I,prehash:C,format:O}=Sv(A,p);if(b=ms("publicKey",b),m=R(ms("message",m),C),"strict"in A)throw new Error("options.strict was renamed to lowS");const B=O===void 0?M(v):x.fromBytes(ms("sig",v),O);if(B===!1)return!1;try{const D=e.fromBytes(b);if(I&&B.hasHighS())return!1;const{r:z,s:j}=B,U=P(m),V=o.inv(j),q=o.create(U*V),X=o.create(z*V),Z=e.BASE.multiplyUnsafe(q).add(D.multiplyUnsafe(X));return Z.is0()?!1:o.create(Z.x)===z}catch{return!1}}function w(v,m,b={}){const{prehash:A}=Sv(b,p);return m=R(m,A),x.fromBytes(v,"recovered").recoverPublicKey(m).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:h,Point:e,sign:L,verify:S,recoverPublicKey:w,Signature:x,hash:t})}function Ate(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=sg(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function Cte(e){const{CURVE:t,curveOpts:n}=Ate(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function Ste(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,AP(n.Fn.ORDER,n.Fn.BITS))})}function Ite(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:s}=Cte(e),i=Ete(t,n),o=$te(i,r,s);return Ste(e,o)}function _te(e,t){const n=r=>Ite({...e,hash:r});return{...n(t),create:n}}Zc("HashToScalar-");const Iv={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},Ote={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},DP=BigInt(2);function Pte(e){const t=Iv.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=Ti(u,n,t)*u%t,d=Ti(f,n,t)*u%t,h=Ti(d,DP,t)*l%t,p=Ti(h,s,t)*h%t,g=Ti(p,i,t)*p%t,y=Ti(g,a,t)*g%t,$=Ti(y,c,t)*y%t,_=Ti($,a,t)*g%t,x=Ti(_,n,t)*u%t,E=Ti(x,o,t)*p%t,P=Ti(E,r,t)*l%t,N=Ti(P,DP,t);if(!_v.eql(_v.sqr(N),e))throw new Error("Cannot find square root");return N}const _v=sg(Iv.p,{sqrt:Pte});_te({...Iv,Fp:_v,lowS:!0,endo:Ote},Zn);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function mh(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ov(e,...t){if(!mh(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function MP(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function Pv(e){if(typeof e!="function")throw new Error("function expected");return!0}function wu(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function yh(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function ew(e){if(!Array.isArray(e))throw new Error("array expected")}function tw(e,t){if(!MP(!0,t))throw new Error(`${e}: array of strings expected`)}function Tv(e,t){if(!MP(!1,t))throw new Error(`${e}: array of numbers expected`)}function bs(...e){const t=i=>i,n=(i,o)=>a=>i(o(a)),r=e.map(i=>i.encode).reduceRight(n,t),s=e.map(i=>i.decode).reduce(n,t);return{encode:r,decode:s}}function ni(e){const t=typeof e=="string"?e.split(""):e,n=t.length;tw("alphabet",t);const r=new Map(t.map((s,i)=>[s,i]));return{encode:s=>(ew(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${e}`);return t[i]})),decode:s=>(ew(s),s.map(i=>{wu("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${e}`);return o}))}}function ri(e=""){return wu("join",e),{encode:t=>(tw("join.decode",t),t.join(e)),decode:t=>(wu("join.decode",t),t.split(e))}}function nw(e,t="="){return yh(e),wu("padding",t),{encode(n){for(tw("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){tw("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function UP(e){return Pv(e),{encode:t=>t,decode:t=>e(t)}}function LP(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(ew(e),!e.length)return[];let r=0;const s=[],i=Array.from(e,a=>{if(yh(a),a<0||a>=t)throw new Error(`invalid integer: ${a}`);return a}),o=i.length;for(;;){let a=0,c=!0;for(let l=r;l<o;l++){const u=i[l],f=t*a,d=f+u;if(!Number.isSafeInteger(d)||f/t!==a||d-u!==f)throw new Error("convertRadix: carry overflow");const h=d/n;a=d%n;const p=Math.floor(h);if(i[l]=p,!Number.isSafeInteger(p)||p*n+a!==d)throw new Error("convertRadix: carry overflow");if(c)p?c=!1:r=l;else continue}if(s.push(a),c)break}for(let a=0;a<e.length-1&&e[a]===0;a++)s.push(0);return s.reverse()}const FP=(e,t)=>t===0?e:FP(t,e%t),rw=(e,t)=>e+(t-FP(e,t)),sw=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function Nv(e,t,n,r){if(ew(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(rw(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${rw(t,n)}`);let s=0,i=0;const o=sw[t],a=sw[n]-1,c=[];for(const l of e){if(yh(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(s=s<<t|l,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=sw[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=t)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function Tte(e){yh(e);const t=2**8;return{encode:n=>{if(!mh(n))throw new Error("radix.encode input should be Uint8Array");return LP(Array.from(n),t,e)},decode:n=>(Tv("radix.decode",n),Uint8Array.from(LP(n,e,t)))}}function Ni(e,t=!1){if(yh(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(rw(8,e)>32||rw(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!mh(n))throw new Error("radix2.encode input should be Uint8Array");return Nv(Array.from(n),8,e,!t)},decode:n=>(Tv("radix2.decode",n),Uint8Array.from(Nv(n,e,8,t)))}}function jP(e){return Pv(e),function(...t){try{return e.apply(null,t)}catch{}}}function Nte(e,t){return yh(e),Pv(t),{encode(n){if(!mh(n))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),s=new Uint8Array(n.length+e);return s.set(n),s.set(r,n.length),s},decode(n){if(!mh(n))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),s=n.slice(-e),i=t(r).slice(0,e);for(let o=0;o<e;o++)if(i[o]!==s[o])throw new Error("Invalid checksum");return r}}}const zP=bs(Ni(5),ni("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),nw(5),ri("")),HP=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",VP=(e,t)=>{wu("base64",e);const n=t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,r=t?"base64url":"base64";if(e.length>0&&!n.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:r,lastChunkHandling:"strict"})},Bv=e=>bs(Tte(58),ni(e),ri("")),Bte=Bv("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),kte=e=>bs(Nte(4,t=>e(e(t))),Bte),kv=bs(ni("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),ri("")),qP=[996825010,642813549,513874426,1027748829,705979059];function ig(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<qP.length;r++)(t>>r&1)===1&&(n^=qP[r]);return n}function ZP(e,t,n=1){const r=e.length;let s=1;for(let i=0;i<r;i++){const o=e.charCodeAt(i);if(o<33||o>126)throw new Error(`Invalid prefix (${e})`);s=ig(s)^o>>5}s=ig(s);for(let i=0;i<r;i++)s=ig(s)^e.charCodeAt(i)&31;for(let i of t)s=ig(s)^i;for(let i=0;i<6;i++)s=ig(s);return s^=n,kv.encode(Nv([s%sw[30]],30,5,!1))}function WP(e){const t=e==="bech32"?1:734539939,n=Ni(5),r=n.decode,s=n.encode,i=jP(r);function o(f,d,h=90){wu("bech32.encode prefix",f),mh(d)&&(d=Array.from(d)),Tv("bech32.encode",d);const p=f.length;if(p===0)throw new TypeError(`Invalid prefix length ${p}`);const g=p+7+d.length;if(h!==!1&&g>h)throw new TypeError(`Length ${g} exceeds limit ${h}`);const y=f.toLowerCase(),$=ZP(y,d,t);return`${y}1${kv.encode(d)}${$}`}function a(f,d=90){wu("bech32.decode input",f);const h=f.length;if(h<8||d!==!1&&h>d)throw new TypeError(`invalid string length: ${h} (${f}). Expected (8..${d})`);const p=f.toLowerCase();if(f!==p&&f!==f.toUpperCase())throw new Error("String must be lowercase or uppercase");const g=p.lastIndexOf("1");if(g===0||g===-1)throw new Error('Letter "1" must be present between prefix and data only');const y=p.slice(0,g),$=p.slice(g+1);if($.length<6)throw new Error("Data must be at least 6 characters long");const _=kv.decode($).slice(0,-6),x=ZP(y,_,t);if(!$.endsWith(x))throw new Error(`Invalid checksum in ${f}: expected "${x}"`);return{prefix:y,words:_}}const c=jP(a);function l(f){const{prefix:d,words:h}=a(f,!1);return{prefix:d,words:h,bytes:r(h)}}function u(f,d){return o(f,s(d))}return{encode:o,decode:a,encodeFromBytes:u,decodeToBytes:l,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:i,toWords:s}}const Rte=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Dte={encode(e){return Ov(e),e.toHex()},decode(e){return wu("hex",e),Uint8Array.fromHex(e)}};kte(Zn),Zc("Bitcoin seed");function Mte(e){return iee(Ute(e))}function Ute(e){const{payload:t,signature:n}=e,{r,s,yParity:i}=n,a=new Dee.Signature(BigInt(r),BigInt(s)).addRecoveryBit(i).recoverPublicKey(K5(t).substring(2));return YQ(a)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function KP(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function iw(e,...t){if(!KP(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ow(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function GP(e,t){iw(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function og(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Rv(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Lte(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Fte(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function ag(e){if(typeof e=="string")e=Fte(e);else if(KP(e))e=YP(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function YP(e){return Uint8Array.from(e)}const rl=16,Dv=new Uint8Array(16),ea=og(Dv),jte=225,zte=(e,t,n,r)=>{const s=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^jte<<24&-(s&1)}},Bi=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function Hte(e){e.reverse();const t=e[15]&1;let n=0;for(let r=0;r<e.length;r++){const s=e[r];e[r]=s>>>1|n,n=(s&1)<<7}return e[0]^=-t&225,e}const Vte=e=>e>64*1024?8:e>1024?4:2;class XP{constructor(t,n){this.blockLen=rl,this.outputLen=rl,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=ag(t),iw(t,16);const r=Lte(t);let s=r.getUint32(0,!1),i=r.getUint32(4,!1),o=r.getUint32(8,!1),a=r.getUint32(12,!1);const c=[];for(let p=0;p<128;p++)c.push({s0:Bi(s),s1:Bi(i),s2:Bi(o),s3:Bi(a)}),{s0:s,s1:i,s2:o,s3:a}=zte(s,i,o,a);const l=Vte(n||1024);if(![1,2,4,8].includes(l))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=l;const f=128/l,d=this.windowSize=2**l,h=[];for(let p=0;p<f;p++)for(let g=0;g<d;g++){let y=0,$=0,_=0,x=0;for(let E=0;E<l;E++){if(!(g>>>l-E-1&1))continue;const{s0:N,s1:k,s2:R,s3:T}=c[l*p+E];y^=N,$^=k,_^=R,x^=T}h.push({s0:y,s1:$,s2:_,s3:x})}this.t=h}_updateBlock(t,n,r,s){t^=this.s0,n^=this.s1,r^=this.s2,s^=this.s3;const{W:i,t:o,windowSize:a}=this;let c=0,l=0,u=0,f=0;const d=(1<<i)-1;let h=0;for(const p of[t,n,r,s])for(let g=0;g<4;g++){const y=p>>>8*g&255;for(let $=8/i-1;$>=0;$--){const _=y>>>i*$&d,{s0:x,s1:E,s2:P,s3:N}=o[h*a+_];c^=x,l^=E,u^=P,f^=N,h+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=f}update(t){ow(this),t=ag(t),iw(t);const n=og(t),r=Math.floor(t.length/rl),s=t.length%rl;for(let i=0;i<r;i++)this._updateBlock(n[i*4+0],n[i*4+1],n[i*4+2],n[i*4+3]);return s&&(Dv.set(t.subarray(r*rl)),this._updateBlock(ea[0],ea[1],ea[2],ea[3]),Rv(ea)),this}destroy(){const{t}=this;for(const n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){ow(this),GP(t,this),this.finished=!0;const{s0:n,s1:r,s2:s,s3:i}=this,o=og(t);return o[0]=n,o[1]=r,o[2]=s,o[3]=i,t}digest(){const t=new Uint8Array(rl);return this.digestInto(t),this.destroy(),t}}class qte extends XP{constructor(t,n){t=ag(t),iw(t);const r=Hte(YP(t));super(r,n),Rv(r)}update(t){t=ag(t),ow(this);const n=og(t),r=t.length%rl,s=Math.floor(t.length/rl);for(let i=0;i<s;i++)this._updateBlock(Bi(n[i*4+3]),Bi(n[i*4+2]),Bi(n[i*4+1]),Bi(n[i*4+0]));return r&&(Dv.set(t.subarray(s*rl)),this._updateBlock(Bi(ea[3]),Bi(ea[2]),Bi(ea[1]),Bi(ea[0])),Rv(ea)),this}digestInto(t){ow(this),GP(t,this),this.finished=!0;const{s0:n,s1:r,s2:s,s3:i}=this,o=og(t);return o[0]=n,o[1]=r,o[2]=s,o[3]=i,t.reverse()}}function JP(e){const t=(r,s)=>e(s,r.length).update(ag(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,s)=>e(r,s),t}JP((e,t)=>new XP(e,t)),JP((e,t)=>new qte(e,t));const QP=gu(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Zte=QP.create(BigInt("-3")),Wte=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");Hb({a:Zte,b:Wte,Fp:QP,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Zn);const eT=gu(BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff")),Kte=eT.create(BigInt("-3")),Gte=BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef");Hb({a:Kte,b:Gte,Fp:eT,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},wQ);const tT=gu(BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),Yte=tT.create(BigInt("-3")),Xte=BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00");Hb({a:Yte,b:Xte,Fp:tT,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1),lowS:!1,allowedPrivateKeyLengths:[130,131,132]},bQ);var Jte={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new s(u,f||c,d),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)t.call(u,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,u,f,d,h,p){var g=n?n+l:l;if(!this._events[g])return!1;var y=this._events[g],$=arguments.length,_,x;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),$){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,d),!0;case 5:return y.fn.call(y.context,u,f,d,h),!0;case 6:return y.fn.call(y.context,u,f,d,h,p),!0}for(x=1,_=new Array($-1);x<$;x++)_[x-1]=arguments[x];y.fn.apply(y.context,_)}else{var E=y.length,P;for(x=0;x<E;x++)switch(y[x].once&&this.removeListener(l,y[x].fn,void 0,!0),$){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,u);break;case 3:y[x].fn.call(y[x].context,u,f);break;case 4:y[x].fn.call(y[x].context,u,f,d);break;default:if(!_)for(P=1,_=new Array($-1);P<$;P++)_[P-1]=arguments[P];y[x].fn.apply(y[x].context,_)}}return!0},a.prototype.on=function(l,u,f){return i(this,l,u,f,!1)},a.prototype.once=function(l,u,f){return i(this,l,u,f,!0)},a.prototype.removeListener=function(l,u,f,d){var h=n?n+l:l;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!d||p.once)&&(!f||p.context===f)&&o(this,h);else{for(var g=0,y=[],$=p.length;g<$;g++)(p[g].fn!==u||d&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[h]=y.length===1?y[0]:y:o(this,h)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Jte);function Qte(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let l=0;l<t.length;l++)t[l]=255;for(let l=0;l<e.length;l++){const u=e.charAt(l),f=u.charCodeAt(0);if(t[f]!==255)throw new TypeError(u+" is ambiguous");t[f]=l}const n=e.length,r=e.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,d=0;const h=l.length;for(;d!==h&&l[d]===0;)d++,u++;const p=(h-d)*i+1>>>0,g=new Uint8Array(p);for(;d!==h;){let _=l[d],x=0;for(let E=p-1;(_!==0||x<f)&&E!==-1;E--,x++)_+=256*g[E]>>>0,g[E]=_%n>>>0,_=_/n>>>0;if(_!==0)throw new Error("Non-zero carry");f=x,d++}let y=p-f;for(;y!==p&&g[y]===0;)y++;let $=r.repeat(u);for(;y<p;++y)$+=e.charAt(g[y]);return $}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,d=0;for(;l[u]===r;)f++,u++;const h=(l.length-u)*s+1>>>0,p=new Uint8Array(h);for(;u<l.length;){const _=l.charCodeAt(u);if(_>255)return;let x=t[_];if(x===255)return;let E=0;for(let P=h-1;(x!==0||E<d)&&P!==-1;P--,E++)x+=n*p[P]>>>0,p[P]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");d=E,u++}let g=h-d;for(;g!==h&&p[g]===0;)g++;const y=new Uint8Array(f+(h-g));let $=f;for(;g!==h;)y[$++]=p[g++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var ene="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",mo=Qte(ene);function tne(e){const t=e.length;let n=0,r=0;for(;r<t;){let s=e.charCodeAt(r++);if((s&4294967168)===0){n++;continue}else if((s&4294965248)===0)n+=2;else{if(s>=55296&&s<=56319&&r<t){const i=e.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}(s&4294901760)===0?n+=3:n+=4}}return n}function nne(e,t,n){const r=e.length;let s=n,i=0;for(;i<r;){let o=e.charCodeAt(i++);if((o&4294967168)===0){t[s++]=o;continue}else if((o&4294965248)===0)t[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=e.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(t[s++]=o>>12&15|224,t[s++]=o>>6&63|128):(t[s++]=o>>18&7|240,t[s++]=o>>12&63|128,t[s++]=o>>6&63|128)}t[s++]=o&63|128}}const rne=new TextEncoder,sne=50;function ine(e,t,n){rne.encodeInto(e,t.subarray(n))}function one(e,t,n){e.length>sne?ine(e,t,n):nne(e,t,n)}const ane=4096;function nT(e,t,n){let r=t;const s=r+n,i=[];let o="";for(;r<s;){const a=e[r++];if((a&128)===0)i.push(a);else if((a&224)===192){const c=e[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=e[r++]&63,l=e[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=e[r++]&63,l=e[r++]&63,u=e[r++]&63;let f=(a&7)<<18|c<<12|l<<6|u;f>65535&&(f-=65536,i.push(f>>>10&1023|55296),f=56320|f&1023),i.push(f)}else i.push(a);i.length>=ane&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const cne=new TextDecoder,lne=200;function une(e,t,n){const r=e.subarray(t,t+n);return cne.decode(r)}function dne(e,t,n){return n>lne?une(e,t,n):nT(e,t,n)}class aw{constructor(t,n){this.type=t,this.data=n}}class si extends Error{constructor(t){super(t);const n=Object.create(si.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:si.name})}}const cg=4294967295;function fne(e,t,n){const r=n/4294967296,s=n;e.setUint32(t,r),e.setUint32(t+4,s)}function rT(e,t,n){const r=Math.floor(n/4294967296),s=n;e.setUint32(t,r),e.setUint32(t+4,s)}function sT(e,t){const n=e.getInt32(t),r=e.getUint32(t+4);return n*4294967296+r}function hne(e,t){const n=e.getUint32(t),r=e.getUint32(t+4);return n*4294967296+r}const pne=-1,gne=4294967296-1,mne=17179869184-1;function yne({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=mne)if(t===0&&e<=gne){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e),n}else{const n=e/4294967296,r=e&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,t<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,t),rT(r,4,e),n}}function bne(e){const t=e.getTime(),n=Math.floor(t/1e3),r=(t-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function wne(e){if(e instanceof Date){const t=bne(e);return yne(t)}else return null}function vne(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const n=t.getUint32(0),r=t.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=sT(t,4),r=t.getUint32(0);return{sec:n,nsec:r}}default:throw new si(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function Ene(e){const t=vne(e);return new Date(t.sec*1e3+t.nsec/1e6)}const xne={type:pne,encode:wne,decode:Ene};class cw{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(xne)}register({type:t,encode:n,decode:r}){if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{const s=-1-t;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(t,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(t,n);if(i!=null){const o=-1-r;return new aw(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(t,n);if(i!=null){const o=r;return new aw(o,i)}}}return t instanceof aw?t:null}decode(t,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(t,n,r):new aw(n,t)}}cw.defaultCodec=new cw;function $ne(e){return e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer}function Mv(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):$ne(e)?new Uint8Array(e):Uint8Array.from(e)}const Ane=100,Cne=2048;class Uv{constructor(t){this.entered=!1,this.extensionCodec=t?.extensionCodec??cw.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.maxDepth=t?.maxDepth??Ane,this.initialBufferSize=t?.initialBufferSize??Cne,this.sortKeys=t?.sortKeys??!1,this.forceFloat32=t?.forceFloat32??!1,this.ignoreUndefined=t?.ignoreUndefined??!1,this.forceIntegerToFloat=t?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new Uv({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(t){if(this.entered)return this.clone().encodeSharedRef(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(t){if(this.entered)return this.clone().encode(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(t,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,n)}ensureBufferSizeToWrite(t){const n=this.pos+t;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(t){const n=new ArrayBuffer(t),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(t){t===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)}encodeNumberAsFloat(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))}encodeBigInt64(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))}writeStringHeader(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error(`Too long string: ${t} bytes in UTF-8`)}encodeString(t){const r=tne(t);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),one(t,this.bytes,this.pos),this.pos+=r}encodeObject(t,n){const r=this.extensionCodec.tryToEncode(t,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(t))this.encodeArray(t,n);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(t)}`)}encodeBinary(t){const n=t.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=Mv(t);this.writeU8a(r)}encodeArray(t,n){const r=t.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of t)this.doEncode(s,n+1)}countWithoutUndefined(t,n){let r=0;for(const s of n)t[s]!==void 0&&r++;return r}encodeMap(t,n){const r=Object.keys(t);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(t,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=t[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(t){if(typeof t.data=="function"){const r=t.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(t.type),this.writeU8a(r);return}const n=t.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(t.type),this.writeU8a(t.data)}writeU8(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++}writeU8a(t){const n=t.length;this.ensureBufferSizeToWrite(n),this.bytes.set(t,this.pos),this.pos+=n}writeI8(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++}writeU16(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2}writeI16(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2}writeU32(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4}writeI32(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4}writeF32(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4}writeF64(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8}writeU64(t){this.ensureBufferSizeToWrite(8),fne(this.view,this.pos,t),this.pos+=8}writeI64(t){this.ensureBufferSizeToWrite(8),rT(this.view,this.pos,t),this.pos+=8}writeBigUint64(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8}writeBigInt64(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8}}function iT(e,t){return new Uv(t).encodeSharedRef(e)}function Lv(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}const Sne=16,Ine=16;class _ne{constructor(t=Sne,n=Ine){this.hit=0,this.miss=0,this.maxKeyLength=t,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==t[n+a])continue e;return i.str}return null}store(t,n){const r=this.caches[t.length-1],s={bytes:t,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(t,n,r){const s=this.find(t,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=nT(t,n,r),o=Uint8Array.prototype.slice.call(t,n,n+r);return this.store(o,i),i}}const Fv="array",lg="map_key",oT="map_value",One=e=>{if(typeof e=="string"||typeof e=="number")return e;throw new si("The type of key must be string or number but "+typeof e)};class Pne{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){const n=this.getUninitializedStateFromPool();n.type=Fv,n.position=0,n.size=t,n.array=new Array(t)}pushMapState(t){const n=this.getUninitializedStateFromPool();n.type=lg,n.readCount=0,n.size=t,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===Fv){const r=t;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(t.type===lg||t.type===oT){const r=t;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const ug=-1,jv=new DataView(new ArrayBuffer(0)),Tne=new Uint8Array(jv.buffer);try{jv.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const aT=new RangeError("Insufficient data"),Nne=new _ne;class zv{constructor(t){this.totalPos=0,this.pos=0,this.view=jv,this.bytes=Tne,this.headByte=ug,this.stack=new Pne,this.entered=!1,this.extensionCodec=t?.extensionCodec??cw.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.rawStrings=t?.rawStrings??!1,this.maxStrLength=t?.maxStrLength??cg,this.maxBinLength=t?.maxBinLength??cg,this.maxArrayLength=t?.maxArrayLength??cg,this.maxMapLength=t?.maxMapLength??cg,this.maxExtLength=t?.maxExtLength??cg,this.keyDecoder=t?.keyDecoder!==void 0?t.keyDecoder:Nne,this.mapKeyConverter=t?.mapKeyConverter??One}clone(){return new zv({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=ug,this.stack.reset()}setBuffer(t){const n=Mv(t);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(t){if(this.headByte===ug&&!this.hasRemaining(1))this.setBuffer(t);else{const n=this.bytes.subarray(this.pos),r=Mv(t),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered)return this.clone().decode(t);try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){yield*this.clone().decodeMulti(t);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered)return this.clone().decodeAsync(t);try{this.entered=!0;let n=!1,r;for await(const a of t){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Lv(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,n){if(this.entered){yield*this.clone().decodeMultiAsync(t,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of t){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const t=this.readHeadByte();let n;if(t>=224)n=t-256;else if(t<192)if(t<128)n=t;else if(t<144){const s=t-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t<160){const s=t-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=t-160;n=this.decodeString(s,0)}else if(t===192)n=null;else if(t===194)n=!1;else if(t===195)n=!0;else if(t===202)n=this.readF32();else if(t===203)n=this.readF64();else if(t===204)n=this.readU8();else if(t===205)n=this.readU16();else if(t===206)n=this.readU32();else if(t===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(t===208)n=this.readI8();else if(t===209)n=this.readI16();else if(t===210)n=this.readI32();else if(t===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(t===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(t===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(t===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(t===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(t===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(t===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(t===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(t===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(t===212)n=this.decodeExtension(1,0);else if(t===213)n=this.decodeExtension(2,0);else if(t===214)n=this.decodeExtension(4,0);else if(t===215)n=this.decodeExtension(8,0);else if(t===216)n=this.decodeExtension(16,0);else if(t===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(t===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(t===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new si(`Unrecognized type byte: ${Lv(t)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===Fv)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===lg){if(n==="__proto__")throw new si("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=oT;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=lg;continue e}}return n}}readHeadByte(){return this.headByte===ug&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=ug}readArraySize(){const t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new si(`Unrecognized array type byte: ${Lv(t)}`)}}}pushMapState(t){if(t>this.maxMapLength)throw new si(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new si(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,n):this.decodeBinary(t,n)}decodeUtf8String(t,n){if(t>this.maxStrLength)throw new si(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+t)throw aT;const r=this.pos+n;let s;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(t)?s=this.keyDecoder.decode(this.bytes,r,t):s=dne(this.bytes,r,t),this.pos+=n+t,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===lg:!1}decodeBinary(t,n){if(t>this.maxBinLength)throw new si(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+n))throw aT;const r=this.pos+n,s=this.bytes.subarray(r,r+t);return this.pos+=n+t,s}decodeExtension(t,n){if(t>this.maxExtLength)throw new si(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(t,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){const t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){const t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){const t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){const t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){const t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){const t=hne(this.view,this.pos);return this.pos+=8,t}readI64(){const t=sT(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){const t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){const t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){const t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){const t=this.view.getFloat64(this.pos);return this.pos+=8,t}}function cT(e,t){return new zv(t).decode(e)}const Bne=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n),kne=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=e.replace(t,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function sl(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return kne(e)}catch{return e}}function ws(e){return typeof e=="string"?e:Bne(e)||""}function Rne(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function lT(e,...t){if(!Rne(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function uT(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Dne(e,t){lT(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const bh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hv=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function Mne(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function dT(e){return typeof e=="string"&&(e=Mne(e)),lT(e),e}class Une{clone(){return this._cloneInto()}}function Lne(e){const t=r=>e().update(dT(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function fT(e=32){if(bh&&typeof bh.getRandomValues=="function")return bh.getRandomValues(new Uint8Array(e));if(bh&&typeof bh.randomBytes=="function")return bh.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function Fne(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}class jne extends Une{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Hv(this.buffer)}update(t){uT(this);const{view:n,buffer:r,blockLen:s}=this;t=dT(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Hv(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){uT(this),Dne(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;Fne(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Hv(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}}const lw=BigInt(2**32-1),Vv=BigInt(32);function hT(e,t=!1){return t?{h:Number(e&lw),l:Number(e>>Vv&lw)}:{h:Number(e>>Vv&lw)|0,l:Number(e&lw)|0}}function zne(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=hT(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const Hne=(e,t)=>BigInt(e>>>0)<<Vv|BigInt(t>>>0),Vne=(e,t,n)=>e>>>n,qne=(e,t,n)=>e<<32-n|t>>>n,Zne=(e,t,n)=>e>>>n|t<<32-n,Wne=(e,t,n)=>e<<32-n|t>>>n,Kne=(e,t,n)=>e<<64-n|t>>>n-32,Gne=(e,t,n)=>e>>>n-32|t<<64-n,Yne=(e,t)=>t,Xne=(e,t)=>e,Jne=(e,t,n)=>e<<n|t>>>32-n,Qne=(e,t,n)=>t<<n|e>>>32-n,ere=(e,t,n)=>t<<n-32|e>>>64-n,tre=(e,t,n)=>e<<n-32|t>>>64-n;function nre(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const rre=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),sre=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,ire=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),ore=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,are=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),cre=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,Ke={fromBig:hT,split:zne,toBig:Hne,shrSH:Vne,shrSL:qne,rotrSH:Zne,rotrSL:Wne,rotrBH:Kne,rotrBL:Gne,rotr32H:Yne,rotr32L:Xne,rotlSH:Jne,rotlSL:Qne,rotlBH:ere,rotlBL:tre,add:nre,add3L:rre,add3H:sre,add4L:ire,add4H:ore,add5H:cre,add5L:are},[lre,ure]=Ke.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),vu=new Uint32Array(80),Eu=new Uint32Array(80);class dre extends jne{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:p,Hh:g,Hl:y}=this;return[t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y]}set(t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let x=0;x<16;x++,n+=4)vu[x]=t.getUint32(n),Eu[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const E=vu[x-15]|0,P=Eu[x-15]|0,N=Ke.rotrSH(E,P,1)^Ke.rotrSH(E,P,8)^Ke.shrSH(E,P,7),k=Ke.rotrSL(E,P,1)^Ke.rotrSL(E,P,8)^Ke.shrSL(E,P,7),R=vu[x-2]|0,T=Eu[x-2]|0,L=Ke.rotrSH(R,T,19)^Ke.rotrBH(R,T,61)^Ke.shrSH(R,T,6),M=Ke.rotrSL(R,T,19)^Ke.rotrBL(R,T,61)^Ke.shrSL(R,T,6),S=Ke.add4L(k,M,Eu[x-7],Eu[x-16]),w=Ke.add4H(S,N,L,vu[x-7],vu[x-16]);vu[x]=w|0,Eu[x]=S|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:p,Gh:g,Gl:y,Hh:$,Hl:_}=this;for(let x=0;x<80;x++){const E=Ke.rotrSH(f,d,14)^Ke.rotrSH(f,d,18)^Ke.rotrBH(f,d,41),P=Ke.rotrSL(f,d,14)^Ke.rotrSL(f,d,18)^Ke.rotrBL(f,d,41),N=f&h^~f&g,k=d&p^~d&y,R=Ke.add5L(_,P,k,ure[x],Eu[x]),T=Ke.add5H(R,$,E,N,lre[x],vu[x]),L=R|0,M=Ke.rotrSH(r,s,28)^Ke.rotrBH(r,s,34)^Ke.rotrBH(r,s,39),S=Ke.rotrSL(r,s,28)^Ke.rotrBL(r,s,34)^Ke.rotrBL(r,s,39),w=r&i^r&a^i&a,v=s&o^s&c^o&c;$=g|0,_=y|0,g=h|0,y=p|0,h=f|0,p=d|0,{h:f,l:d}=Ke.add(l|0,u|0,T|0,L|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const m=Ke.add3L(L,S,v);r=Ke.add3H(m,T,M,w),s=m|0}({h:r,l:s}=Ke.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Ke.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ke.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Ke.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=Ke.add(this.Eh|0,this.El|0,f|0,d|0),{h,l:p}=Ke.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:y}=Ke.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:$,l:_}=Ke.add(this.Hh|0,this.Hl|0,$|0,_|0),this.set(r,s,i,o,a,c,l,u,f,d,h,p,g,y,$,_)}roundClean(){vu.fill(0),Eu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const fre=Lne(()=>new dre);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qv=BigInt(0),pT=BigInt(1),hre=BigInt(2);function Zv(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Wv(e){if(!Zv(e))throw new Error("Uint8Array expected")}function Kv(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const pre=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Gv(e){Wv(e);let t="";for(let n=0;n<e.length;n++)t+=pre[e[n]];return t}function gT(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?qv:BigInt("0x"+e)}const il={_0:48,_9:57,A:65,F:70,a:97,f:102};function mT(e){if(e>=il._0&&e<=il._9)return e-il._0;if(e>=il.A&&e<=il.F)return e-(il.A-10);if(e>=il.a&&e<=il.f)return e-(il.a-10)}function yT(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=mT(e.charCodeAt(i)),a=mT(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function gre(e){return gT(Gv(e))}function uw(e){return Wv(e),gT(Gv(Uint8Array.from(e).reverse()))}function bT(e,t){return yT(e.toString(16).padStart(t*2,"0"))}function Yv(e,t){return bT(e,t).reverse()}function ol(e,t,n){let r;if(typeof t=="string")try{r=yT(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(Zv(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function wT(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Wv(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const Xv=e=>typeof e=="bigint"&&qv<=e;function mre(e,t,n){return Xv(e)&&Xv(t)&&Xv(n)&&t<=e&&e<n}function dg(e,t,n,r){if(!mre(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function yre(e){let t;for(t=0;e>qv;e>>=pT,t+=1);return t}const bre=e=>(hre<<BigInt(e-1))-pT,wre={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Zv(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Jv(e,t,n={}){const r=(s,i,o)=>{const a=wre[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function vT(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const kn=BigInt(0),nn=BigInt(1),f0=BigInt(2),vre=BigInt(3),Qv=BigInt(4),ET=BigInt(5),xT=BigInt(8);function mn(e,t){const n=e%t;return n>=kn?n:t+n}function Ere(e,t,n){if(t<kn)throw new Error("invalid exponent, negatives unsupported");if(n<=kn)throw new Error("invalid modulus");if(n===nn)return kn;let r=nn;for(;t>kn;)t&nn&&(r=r*e%n),e=e*e%n,t>>=nn;return r}function ta(e,t,n){let r=e;for(;t-- >kn;)r*=r,r%=n;return r}function $T(e,t){if(e===kn)throw new Error("invert: expected non-zero number");if(t<=kn)throw new Error("invert: expected positive modulus, got "+t);let n=mn(e,t),r=t,s=kn,i=nn;for(;n!==kn;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==nn)throw new Error("invert: does not exist");return mn(s,t)}function xre(e){const t=(e-nn)/f0;let n,r,s;for(n=e-nn,r=0;n%f0===kn;n/=f0,r++);for(s=f0;s<e&&Ere(s,t,e)!==e-nn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(e+nn)/Qv;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+nn)/f0;return function(o,a){if(o.pow(a,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),f=o.pow(a,n);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let p=o.sqr(f);d<c&&!o.eql(p,o.ONE);d++)p=o.sqr(p);const h=o.pow(l,nn<<BigInt(c-d-1));l=o.sqr(h),u=o.mul(u,h),f=o.mul(f,l),c=d}return u}}function $re(e){if(e%Qv===vre){const t=(e+nn)/Qv;return function(n,r){const s=n.pow(r,t);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(e%xT===ET){const t=(e-ET)/xT;return function(n,r){const s=n.mul(r,f0),i=n.pow(s,t),o=n.mul(r,i),a=n.mul(n.mul(o,f0),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return xre(e)}const Are=(e,t)=>(mn(e,t)&nn)===nn,Cre=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Sre(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Cre.reduce((r,s)=>(r[s]="function",r),t);return Jv(e,n)}function Ire(e,t,n){if(n<kn)throw new Error("invalid exponent, negatives unsupported");if(n===kn)return e.ONE;if(n===nn)return t;let r=e.ONE,s=t;for(;n>kn;)n&nn&&(r=e.mul(r,s)),s=e.sqr(s),n>>=nn;return r}function _re(e,t){const n=new Array(t.length),r=t.reduce((i,o,a)=>e.is0(o)?i:(n[a]=i,e.mul(i,o)),e.ONE),s=e.inv(r);return t.reduceRight((i,o,a)=>e.is0(o)?i:(n[a]=e.mul(i,n[a]),e.mul(i,o)),s),n}function AT(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function CT(e,t,n=!1,r={}){if(e<=kn)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=AT(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:bre(s),ZERO:kn,ONE:nn,create:c=>mn(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return kn<=c&&c<e},is0:c=>c===kn,isOdd:c=>(c&nn)===nn,neg:c=>mn(-c,e),eql:(c,l)=>c===l,sqr:c=>mn(c*c,e),add:(c,l)=>mn(c+l,e),sub:(c,l)=>mn(c-l,e),mul:(c,l)=>mn(c*l,e),pow:(c,l)=>Ire(a,c,l),div:(c,l)=>mn(c*$T(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>$T(c,e),sqrt:r.sqrt||(c=>(o||(o=$re(e)),o(a,c))),invertBatch:c=>_re(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?Yv(c,i):bT(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?uw(c):gre(c)}});return Object.freeze(a)}const ST=BigInt(0),dw=BigInt(1);function eE(e,t){const n=t.negate();return e?n:t}function IT(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function tE(e,t){IT(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function Ore(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Pre(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const nE=new WeakMap,_T=new WeakMap;function rE(e){return _T.get(e)||1}function Tre(e,t){return{constTimeNegate:eE,hasPrecomputes(n){return rE(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>ST;)r&dw&&(s=s.add(i)),i=i.double(),r>>=dw;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=tE(r,t),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=tE(n,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),u=2**n,f=BigInt(n);for(let d=0;d<i;d++){const h=d*o;let p=Number(s&l);s>>=f,p>o&&(p-=u,s+=dw);const g=h,y=h+Math.abs(p)-1,$=d%2!==0,_=p<0;p===0?c=c.add(eE($,r[g])):a=a.add(eE(_,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=e.ZERO){const{windows:o,windowSize:a}=tE(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let f=0;f<o;f++){const d=f*a;if(s===ST)break;let h=Number(s&c);if(s>>=u,h>a&&(h-=l,s+=dw),h===0)continue;let p=r[d+Math.abs(h)-1];h<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=nE.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&nE.set(r,s(i))),i},wNAFCached(n,r,s){const i=rE(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=rE(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){IT(r,t),_T.set(n,r),nE.delete(n)}}}function Nre(e,t,n,r){if(Ore(n,e),Pre(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,i=yre(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((t.BITS-1)/o)*o;let u=s;for(let f=l;f>=0;f-=o){c.fill(s);for(let h=0;h<r.length;h++){const p=r[h],g=Number(p>>BigInt(f)&BigInt(a));c[g]=c[g].add(n[h])}let d=s;for(let h=c.length-1,p=s;h>0;h--)p=p.add(c[h]),d=d.add(p);if(u=u.add(d),f!==0)for(let h=0;h<o;h++)u=u.double()}return u}function Bre(e){return Sre(e.Fp),Jv(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...AT(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const yo=BigInt(0),vs=BigInt(1),fw=BigInt(2),kre=BigInt(8),Rre={zip215:!0};function Dre(e){const t=Bre(e);return Jv(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Mre(e){const t=Dre(e),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=t,l=fw<<BigInt(a*8)-vs,u=n.create,f=CT(t.n,t.nBitLength),d=t.uvRatio||((m,b)=>{try{return{isValid:!0,value:n.sqrt(m*n.inv(b))}}catch{return{isValid:!1,value:yo}}}),h=t.adjustScalarBytes||(m=>m),p=t.domain||((m,b,A)=>{if(Kv("phflag",A),b.length||A)throw new Error("Contexts/pre-hash are not supported");return m});function g(m,b){dg("coordinate "+m,b,yo,l)}function y(m){if(!(m instanceof x))throw new Error("ExtendedPoint expected")}const $=vT((m,b)=>{const{ex:A,ey:I,ez:C}=m,O=m.is0();b==null&&(b=O?kre:n.inv(C));const B=u(A*b),D=u(I*b),z=u(C*b);if(O)return{x:yo,y:vs};if(z!==vs)throw new Error("invZ was invalid");return{x:B,y:D}}),_=vT(m=>{const{a:b,d:A}=t;if(m.is0())throw new Error("bad point: ZERO");const{ex:I,ey:C,ez:O,et:B}=m,D=u(I*I),z=u(C*C),j=u(O*O),U=u(j*j),V=u(D*b),q=u(j*u(V+z)),X=u(U+u(A*u(D*z)));if(q!==X)throw new Error("bad point: equation left != right (1)");const Z=u(I*C),Y=u(O*B);if(Z!==Y)throw new Error("bad point: equation left != right (2)");return!0});class x{constructor(b,A,I,C){this.ex=b,this.ey=A,this.ez=I,this.et=C,g("x",b),g("y",A),g("z",I),g("t",C),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(b){if(b instanceof x)throw new Error("extended point not allowed");const{x:A,y:I}=b||{};return g("x",A),g("y",I),new x(A,I,vs,u(A*I))}static normalizeZ(b){const A=n.invertBatch(b.map(I=>I.ez));return b.map((I,C)=>I.toAffine(A[C])).map(x.fromAffine)}static msm(b,A){return Nre(x,f,b,A)}_setWindowSize(b){N.setWindowSize(this,b)}assertValidity(){_(this)}equals(b){y(b);const{ex:A,ey:I,ez:C}=this,{ex:O,ey:B,ez:D}=b,z=u(A*D),j=u(O*C),U=u(I*D),V=u(B*C);return z===j&&U===V}is0(){return this.equals(x.ZERO)}negate(){return new x(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:b}=t,{ex:A,ey:I,ez:C}=this,O=u(A*A),B=u(I*I),D=u(fw*u(C*C)),z=u(b*O),j=A+I,U=u(u(j*j)-O-B),V=z+B,q=V-D,X=z-B,Z=u(U*q),Y=u(V*X),fe=u(U*X),me=u(q*V);return new x(Z,Y,me,fe)}add(b){y(b);const{a:A,d:I}=t,{ex:C,ey:O,ez:B,et:D}=this,{ex:z,ey:j,ez:U,et:V}=b;if(A===BigInt(-1)){const bX=u((O-C)*(j+z)),wX=u((O+C)*(j-z)),b_=u(wX-bX);if(b_===yo)return this.double();const vX=u(B*fw*V),EX=u(D*fw*U),xX=EX+vX,$X=wX+bX,AX=EX-vX,$Ze=u(xX*b_),AZe=u($X*AX),CZe=u(xX*AX),SZe=u(b_*$X);return new x($Ze,AZe,SZe,CZe)}const q=u(C*z),X=u(O*j),Z=u(D*I*V),Y=u(B*U),fe=u((C+O)*(z+j)-q-X),me=Y-Z,we=Y+Z,Re=u(X-A*q),We=u(fe*me),hs=u(we*Re),A5=u(fe*Re),xZe=u(me*we);return new x(We,hs,xZe,A5)}subtract(b){return this.add(b.negate())}wNAF(b){return N.wNAFCached(this,b,x.normalizeZ)}multiply(b){const A=b;dg("scalar",A,vs,r);const{p:I,f:C}=this.wNAF(A);return x.normalizeZ([I,C])[0]}multiplyUnsafe(b,A=x.ZERO){const I=b;return dg("scalar",I,yo,r),I===yo?P:this.is0()||I===vs?this:N.wNAFCachedUnsafe(this,I,x.normalizeZ,A)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return N.unsafeLadder(this,r).is0()}toAffine(b){return $(this,b)}clearCofactor(){const{h:b}=t;return b===vs?this:this.multiplyUnsafe(b)}static fromHex(b,A=!1){const{d:I,a:C}=t,O=n.BYTES;b=ol("pointHex",b,O),Kv("zip215",A);const B=b.slice(),D=b[O-1];B[O-1]=D&-129;const z=uw(B),j=A?l:n.ORDER;dg("pointHex.y",z,yo,j);const U=u(z*z),V=u(U-vs),q=u(I*U-C);let{isValid:X,value:Z}=d(V,q);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const Y=(Z&vs)===vs,fe=(D&128)!==0;if(!A&&Z===yo&&fe)throw new Error("Point.fromHex: x=0 and x_0=1");return fe!==Y&&(Z=u(-Z)),x.fromAffine({x:Z,y:z})}static fromPrivateKey(b){return T(b).point}toRawBytes(){const{x:b,y:A}=this.toAffine(),I=Yv(A,n.BYTES);return I[I.length-1]|=b&vs?128:0,I}toHex(){return Gv(this.toRawBytes())}}x.BASE=new x(t.Gx,t.Gy,vs,u(t.Gx*t.Gy)),x.ZERO=new x(yo,vs,vs,yo);const{BASE:E,ZERO:P}=x,N=Tre(x,a*8);function k(m){return mn(m,r)}function R(m){return k(uw(m))}function T(m){const b=n.BYTES;m=ol("private key",m,b);const A=ol("hashed private key",i(m),2*b),I=h(A.slice(0,b)),C=A.slice(b,2*b),O=R(I),B=E.multiply(O),D=B.toRawBytes();return{head:I,prefix:C,scalar:O,point:B,pointBytes:D}}function L(m){return T(m).pointBytes}function M(m=new Uint8Array,...b){const A=wT(...b);return R(i(p(A,ol("context",m),!!s)))}function S(m,b,A={}){m=ol("message",m),s&&(m=s(m));const{prefix:I,scalar:C,pointBytes:O}=T(b),B=M(A.context,I,m),D=E.multiply(B).toRawBytes(),z=M(A.context,D,O,m),j=k(B+z*C);dg("signature.s",j,yo,r);const U=wT(D,Yv(j,n.BYTES));return ol("result",U,n.BYTES*2)}const w=Rre;function v(m,b,A,I=w){const{context:C,zip215:O}=I,B=n.BYTES;m=ol("signature",m,2*B),b=ol("message",b),A=ol("publicKey",A,B),O!==void 0&&Kv("zip215",O),s&&(b=s(b));const D=uw(m.slice(B,2*B));let z,j,U;try{z=x.fromHex(A,O),j=x.fromHex(m.slice(0,B),O),U=E.multiplyUnsafe(D)}catch{return!1}if(!O&&z.isSmallOrder())return!1;const V=M(C,j.toRawBytes(),z.toRawBytes(),b);return j.add(z.multiplyUnsafe(V)).subtract(U).clearCofactor().equals(x.ZERO)}return E._setWindowSize(8),{CURVE:t,getPublicKey:L,sign:S,verify:v,ExtendedPoint:x,utils:{getExtendedPublicKey:T,randomPrivateKey:()=>o(n.BYTES),precompute(m=8,b=x.BASE){return b._setWindowSize(m),b.multiply(BigInt(3)),b}}}}BigInt(0),BigInt(1);const sE=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),OT=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Ure=BigInt(1),PT=BigInt(2);BigInt(3);const Lre=BigInt(5),Fre=BigInt(8);function jre(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=sE,o=e*e%i*e%i,a=ta(o,PT,i)*o%i,c=ta(a,Ure,i)*e%i,l=ta(c,Lre,i)*c%i,u=ta(l,t,i)*l%i,f=ta(u,n,i)*u%i,d=ta(f,r,i)*f%i,h=ta(d,s,i)*d%i,p=ta(h,s,i)*d%i,g=ta(p,t,i)*l%i;return{pow_p_5_8:ta(g,PT,i)*e%i,b2:o}}function zre(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Hre(e,t){const n=sE,r=mn(t*t*t,n),s=mn(r*r*t,n),i=jre(e*s).pow_p_5_8;let o=mn(e*r*i,n);const a=mn(t*o*o,n),c=o,l=mn(o*OT,n),u=a===e,f=a===mn(-e,n),d=a===mn(-e*OT,n);return u&&(o=c),(f||d)&&(o=l),Are(o,n)&&(o=mn(-o,n)),{isValid:u||f,value:o}}const Vre=CT(sE,void 0,!0),qre={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Vre,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Fre,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:fre,randomBytes:fT,adjustScalarBytes:zre,uvRatio:Hre},TT=Mre(qre),Zre="EdDSA",Wre="JWT",hw=".",pw="base64url",NT="utf8",BT="utf8",Kre=":",Gre="did",Yre="key",kT="base58btc",Xre="z",Jre="K36",Qre=32;function iE(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function RT(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?iE(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function DT(e,t){t||(t=e.reduce((s,i)=>s+i.length,0));const n=RT(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return iE(n)}function ese(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,$=0,_=p.length;$!==_&&p[$]===0;)$++,g++;for(var x=(_-$)*u+1>>>0,E=new Uint8Array(x);$!==_;){for(var P=p[$],N=0,k=x-1;(P!==0||N<y)&&k!==-1;k--,N++)P+=256*E[k]>>>0,E[k]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");y=N,$++}for(var R=x-y;R!==x&&E[R]===0;)R++;for(var T=c.repeat(g);R<x;++R)T+=e.charAt(E[R]);return T}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,$=0;p[g]===c;)y++,g++;for(var _=(p.length-g)*l+1>>>0,x=new Uint8Array(_);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var P=0,N=_-1;(E!==0||P<$)&&N!==-1;N--,P++)E+=a*x[N]>>>0,x[N]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");$=P,g++}if(p[g]!==" "){for(var k=_-$;k!==_&&x[k]===0;)k++;for(var R=new Uint8Array(y+(_-k)),T=y;k!==_;)R[T++]=x[k++];return R}}}function h(p){var g=d(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var tse=ese,nse=tse;const MT=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},rse=e=>new TextEncoder().encode(e),sse=e=>new TextDecoder().decode(e);class ise{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class ose{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return UT(this,t)}}class ase{constructor(t){this.decoders=t}or(t){return UT(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const UT=(e,t)=>new ase({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class cse{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new ise(t,n,r),this.decoder=new ose(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const gw=({name:e,prefix:t,encode:n,decode:r})=>new cse(e,t,n,r),fg=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=nse(n,t);return gw({prefix:e,name:t,encode:r,decode:i=>MT(s(i))})},lse=(e,t,n,r)=>{const s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let i=e.length;for(;e[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},use=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,i+=t[s&a>>o];if(o&&(i+=t[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Wn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>gw({prefix:t,name:e,encode(s){return use(s,r,n)},decode(s){return lse(s,r,n,e)}}),dse=gw({prefix:"\0",name:"identity",encode:e=>sse(e),decode:e=>rse(e)});var fse=Object.freeze({__proto__:null,identity:dse});const hse=Wn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pse=Object.freeze({__proto__:null,base2:hse});const gse=Wn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var mse=Object.freeze({__proto__:null,base8:gse});const yse=fg({prefix:"9",name:"base10",alphabet:"0123456789"});var bse=Object.freeze({__proto__:null,base10:yse});const wse=Wn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vse=Wn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ese=Object.freeze({__proto__:null,base16:wse,base16upper:vse});const xse=Wn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),$se=Wn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ase=Wn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Cse=Wn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Sse=Wn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ise=Wn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_se=Wn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ose=Wn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Pse=Wn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Tse=Object.freeze({__proto__:null,base32:xse,base32upper:$se,base32pad:Ase,base32padupper:Cse,base32hex:Sse,base32hexupper:Ise,base32hexpad:_se,base32hexpadupper:Ose,base32z:Pse});const Nse=fg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Bse=fg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var kse=Object.freeze({__proto__:null,base36:Nse,base36upper:Bse});const Rse=fg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Dse=fg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Mse=Object.freeze({__proto__:null,base58btc:Rse,base58flickr:Dse});const Use=Wn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Lse=Wn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Fse=Wn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jse=Wn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var zse=Object.freeze({__proto__:null,base64:Use,base64pad:Lse,base64url:Fse,base64urlpad:jse});const LT=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Hse=LT.reduce((e,t,n)=>(e[n]=t,e),[]),Vse=LT.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function qse(e){return e.reduce((t,n)=>(t+=Hse[n],t),"")}function Zse(e){const t=[];for(const n of e){const r=Vse[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const Wse=gw({prefix:"\u{1F680}",name:"base256emoji",encode:qse,decode:Zse});var Kse=Object.freeze({__proto__:null,base256emoji:Wse}),Gse=jT,FT=128,Yse=127,Xse=~Yse,Jse=Math.pow(2,31);function jT(e,t,n){t=t||[],n=n||0;for(var r=n;e>=Jse;)t[n++]=e&255|FT,e/=128;for(;e&Xse;)t[n++]=e&255|FT,e>>>=7;return t[n]=e|0,jT.bytes=n-r+1,t}var Qse=oE,eie=128,zT=127;function oE(e,r){var n=0,r=r||0,s=0,i=r,o,a=e.length;do{if(i>=a)throw oE.bytes=0,new RangeError("Could not decode varint");o=e[i++],n+=s<28?(o&zT)<<s:(o&zT)*Math.pow(2,s),s+=7}while(o>=eie);return oE.bytes=i-r,n}var tie=Math.pow(2,7),nie=Math.pow(2,14),rie=Math.pow(2,21),sie=Math.pow(2,28),iie=Math.pow(2,35),oie=Math.pow(2,42),aie=Math.pow(2,49),cie=Math.pow(2,56),lie=Math.pow(2,63),uie=function(e){return e<tie?1:e<nie?2:e<rie?3:e<sie?4:e<iie?5:e<oie?6:e<aie?7:e<cie?8:e<lie?9:10},die={encode:Gse,decode:Qse,encodingLength:uie},HT=die;const VT=(e,t,n=0)=>(HT.encode(e,t,n),t),qT=e=>HT.encodingLength(e),aE=(e,t)=>{const n=t.byteLength,r=qT(e),s=r+qT(n),i=new Uint8Array(s+n);return VT(e,i,0),VT(n,i,r),i.set(t,s),new fie(e,n,t,i)};class fie{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}}const ZT=({name:e,code:t,encode:n})=>new hie(e,t,n);class hie{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?aE(this.code,n):n.then(r=>aE(this.code,r))}else throw Error("Unknown type, must be binary type")}}const WT=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),pie=ZT({name:"sha2-256",code:18,encode:WT("SHA-256")}),gie=ZT({name:"sha2-512",code:19,encode:WT("SHA-512")});var mie=Object.freeze({__proto__:null,sha256:pie,sha512:gie});const KT=0,yie="identity",GT=MT;var bie=Object.freeze({__proto__:null,identity:{code:KT,name:yie,encode:GT,digest:e=>aE(KT,GT(e))}});new TextEncoder,new TextDecoder;const YT={...fse,...pse,...mse,...bse,...Ese,...Tse,...kse,...Mse,...zse,...Kse};({...mie,...bie});function XT(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const JT=XT("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),cE=XT("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=RT(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),QT={utf8:JT,"utf-8":JT,hex:YT.base16,latin1:cE,ascii:cE,binary:cE,...YT};function mw(e,t="utf8"){const n=QT[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}function wh(e,t="utf8"){const n=QT[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?iE(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function eN(e){return sl(mw(wh(e,pw),NT))}function yw(e){return mw(wh(ws(e),NT),pw)}function lE(e){const t=wh(Jre,kT),n=Xre+mw(DT([t,e]),kT);return[Gre,Yre,n].join(Kre)}function wie(e){return mw(e,pw)}function vie(e){return wh(e,pw)}function Eie(e){return wh([yw(e.header),yw(e.payload)].join(hw),BT)}function xie(e){return[yw(e.header),yw(e.payload),wie(e.signature)].join(hw)}function vh(e){const t=e.split(hw),n=eN(t[0]),r=eN(t[1]),s=vie(t[2]),i=wh(t.slice(0,2).join(hw),BT);return{header:n,payload:r,signature:s,data:i}}function bw(e=fT(Qre)){const t=TT.getPublicKey(e);return{secretKey:DT([e,t]),publicKey:t}}async function tN(e,t,n,r,s=Q.fromMiliseconds(Date.now())){const i={alg:Zre,typ:Wre},o=lE(r.publicKey),a=s+n,c={iss:o,sub:e,aud:t,iat:s,exp:a},l=Eie({header:i,payload:c}),u=TT.sign(l,r.secretKey.slice(0,32));return xie({header:i,payload:c,signature:u})}function uE(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function nN(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?uE(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function na(e,t){t||(t=e.reduce((s,i)=>s+i.length,0));const n=nN(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return uE(n)}function $ie(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,$=0,_=p.length;$!==_&&p[$]===0;)$++,g++;for(var x=(_-$)*u+1>>>0,E=new Uint8Array(x);$!==_;){for(var P=p[$],N=0,k=x-1;(P!==0||N<y)&&k!==-1;k--,N++)P+=256*E[k]>>>0,E[k]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");y=N,$++}for(var R=x-y;R!==x&&E[R]===0;)R++;for(var T=c.repeat(g);R<x;++R)T+=e.charAt(E[R]);return T}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,$=0;p[g]===c;)y++,g++;for(var _=(p.length-g)*l+1>>>0,x=new Uint8Array(_);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var P=0,N=_-1;(E!==0||P<$)&&N!==-1;N--,P++)E+=a*x[N]>>>0,x[N]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");$=P,g++}if(p[g]!==" "){for(var k=_-$;k!==_&&x[k]===0;)k++;for(var R=new Uint8Array(y+(_-k)),T=y;k!==_;)R[T++]=x[k++];return R}}}function h(p){var g=d(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var Aie=$ie,Cie=Aie;const rN=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Sie=e=>new TextEncoder().encode(e),Iie=e=>new TextDecoder().decode(e);class _ie{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Oie{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return sN(this,t)}}class Pie{constructor(t){this.decoders=t}or(t){return sN(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const sN=(e,t)=>new Pie({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Tie{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new _ie(t,n,r),this.decoder=new Oie(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const ww=({name:e,prefix:t,encode:n,decode:r})=>new Tie(e,t,n,r),hg=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=Cie(n,t);return ww({prefix:e,name:t,encode:r,decode:i=>rN(s(i))})},Nie=(e,t,n,r)=>{const s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let i=e.length;for(;e[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Bie=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,i+=t[s&a>>o];if(o&&(i+=t[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Kn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>ww({prefix:t,name:e,encode(s){return Bie(s,r,n)},decode(s){return Nie(s,r,n,e)}}),kie=ww({prefix:"\0",name:"identity",encode:e=>Iie(e),decode:e=>Sie(e)});var Rie=Object.freeze({__proto__:null,identity:kie});const Die=Kn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Mie=Object.freeze({__proto__:null,base2:Die});const Uie=Kn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Lie=Object.freeze({__proto__:null,base8:Uie});const Fie=hg({prefix:"9",name:"base10",alphabet:"0123456789"});var jie=Object.freeze({__proto__:null,base10:Fie});const zie=Kn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Hie=Kn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Vie=Object.freeze({__proto__:null,base16:zie,base16upper:Hie});const qie=Kn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Zie=Kn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Wie=Kn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Kie=Kn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Gie=Kn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Yie=Kn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Xie=Kn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Jie=Kn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Qie=Kn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var eoe=Object.freeze({__proto__:null,base32:qie,base32upper:Zie,base32pad:Wie,base32padupper:Kie,base32hex:Gie,base32hexupper:Yie,base32hexpad:Xie,base32hexpadupper:Jie,base32z:Qie});const toe=hg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),noe=hg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var roe=Object.freeze({__proto__:null,base36:toe,base36upper:noe});const soe=hg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ioe=hg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ooe=Object.freeze({__proto__:null,base58btc:soe,base58flickr:ioe});const aoe=Kn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),coe=Kn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),loe=Kn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),uoe=Kn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var doe=Object.freeze({__proto__:null,base64:aoe,base64pad:coe,base64url:loe,base64urlpad:uoe});const iN=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),foe=iN.reduce((e,t,n)=>(e[n]=t,e),[]),hoe=iN.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function poe(e){return e.reduce((t,n)=>(t+=foe[n],t),"")}function goe(e){const t=[];for(const n of e){const r=hoe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const moe=ww({prefix:"\u{1F680}",name:"base256emoji",encode:poe,decode:goe});var yoe=Object.freeze({__proto__:null,base256emoji:moe}),boe=aN,oN=128,woe=127,voe=~woe,Eoe=Math.pow(2,31);function aN(e,t,n){t=t||[],n=n||0;for(var r=n;e>=Eoe;)t[n++]=e&255|oN,e/=128;for(;e&voe;)t[n++]=e&255|oN,e>>>=7;return t[n]=e|0,aN.bytes=n-r+1,t}var xoe=dE,$oe=128,cN=127;function dE(e,r){var n=0,r=r||0,s=0,i=r,o,a=e.length;do{if(i>=a)throw dE.bytes=0,new RangeError("Could not decode varint");o=e[i++],n+=s<28?(o&cN)<<s:(o&cN)*Math.pow(2,s),s+=7}while(o>=$oe);return dE.bytes=i-r,n}var Aoe=Math.pow(2,7),Coe=Math.pow(2,14),Soe=Math.pow(2,21),Ioe=Math.pow(2,28),_oe=Math.pow(2,35),Ooe=Math.pow(2,42),Poe=Math.pow(2,49),Toe=Math.pow(2,56),Noe=Math.pow(2,63),Boe=function(e){return e<Aoe?1:e<Coe?2:e<Soe?3:e<Ioe?4:e<_oe?5:e<Ooe?6:e<Poe?7:e<Toe?8:e<Noe?9:10},koe={encode:boe,decode:xoe,encodingLength:Boe},lN=koe;const uN=(e,t,n=0)=>(lN.encode(e,t,n),t),dN=e=>lN.encodingLength(e),fE=(e,t)=>{const n=t.byteLength,r=dN(e),s=r+dN(n),i=new Uint8Array(s+n);return uN(e,i,0),uN(n,i,r),i.set(t,s),new Roe(e,n,t,i)};class Roe{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}}const fN=({name:e,code:t,encode:n})=>new Doe(e,t,n);class Doe{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?fE(this.code,n):n.then(r=>fE(this.code,r))}else throw Error("Unknown type, must be binary type")}}const hN=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Moe=fN({name:"sha2-256",code:18,encode:hN("SHA-256")}),Uoe=fN({name:"sha2-512",code:19,encode:hN("SHA-512")});var Loe=Object.freeze({__proto__:null,sha256:Moe,sha512:Uoe});const pN=0,Foe="identity",gN=rN;var joe=Object.freeze({__proto__:null,identity:{code:pN,name:Foe,encode:gN,digest:e=>fE(pN,gN(e))}});new TextEncoder,new TextDecoder;const mN={...Rie,...Mie,...Lie,...jie,...Vie,...eoe,...roe,...ooe,...doe,...yoe};({...Loe,...joe});function yN(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const bN=yN("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),hE=yN("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=nN(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),wN={utf8:bN,"utf-8":bN,hex:mN.base16,latin1:hE,ascii:hE,binary:hE,...mN};function Ht(e,t="utf8"){const n=wN[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?uE(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function St(e,t="utf8"){const n=wN[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}const vN={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},zoe="Input must be an string, Buffer or Uint8Array";function Hoe(e){let t;if(e instanceof Uint8Array)t=e;else if(typeof e=="string")t=new TextEncoder().encode(e);else throw new Error(zoe);return t}function Voe(e){return Array.prototype.map.call(e,function(t){return(t<16?"0":"")+t.toString(16)}).join("")}function vw(e){return(4294967296+e).toString(16).substring(1)}function qoe(e,t,n){let r=`
`+e+" = ";for(let s=0;s<t.length;s+=2){if(n===32)r+=vw(t[s]).toUpperCase(),r+=" ",r+=vw(t[s+1]).toUpperCase();else if(n===64)r+=vw(t[s+1]).toUpperCase(),r+=vw(t[s]).toUpperCase();else throw new Error("Invalid size "+n);s%6===4?r+=`
`+new Array(e.length+4).join(" "):s<t.length-2&&(r+=" ")}console.log(r)}function Zoe(e,t,n){let r=new Date().getTime();const s=new Uint8Array(t);for(let o=0;o<t;o++)s[o]=o%256;const i=new Date().getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let o=0;o<n;o++){const a=e(s),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var EN={normalizeInput:Hoe,toHex:Voe,debugPrint:qoe,testSpeed:Zoe};const Ew=EN;function xw(e,t,n){const r=e[t]+e[n];let s=e[t+1]+e[n+1];r>=4294967296&&s++,e[t]=r,e[t+1]=s}function xN(e,t,n,r){let s=e[t]+n;n<0&&(s+=4294967296);let i=e[t+1]+r;s>=4294967296&&i++,e[t]=s,e[t+1]=i}function $N(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function xu(e,t,n,r,s,i){const o=pg[s],a=pg[s+1],c=pg[i],l=pg[i+1];xw(Ze,e,t),xN(Ze,e,o,a);let u=Ze[r]^Ze[e],f=Ze[r+1]^Ze[e+1];Ze[r]=f,Ze[r+1]=u,xw(Ze,n,r),u=Ze[t]^Ze[n],f=Ze[t+1]^Ze[n+1],Ze[t]=u>>>24^f<<8,Ze[t+1]=f>>>24^u<<8,xw(Ze,e,t),xN(Ze,e,c,l),u=Ze[r]^Ze[e],f=Ze[r+1]^Ze[e+1],Ze[r]=u>>>16^f<<16,Ze[r+1]=f>>>16^u<<16,xw(Ze,n,r),u=Ze[t]^Ze[n],f=Ze[t+1]^Ze[n+1],Ze[t]=f>>>31^u<<1,Ze[t+1]=u>>>31^f<<1}const AN=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Woe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],mr=new Uint8Array(Woe.map(function(e){return e*2})),Ze=new Uint32Array(32),pg=new Uint32Array(32);function CN(e,t){let n=0;for(n=0;n<16;n++)Ze[n]=e.h[n],Ze[n+16]=AN[n];for(Ze[24]=Ze[24]^e.t,Ze[25]=Ze[25]^e.t/4294967296,t&&(Ze[28]=~Ze[28],Ze[29]=~Ze[29]),n=0;n<32;n++)pg[n]=$N(e.b,4*n);for(n=0;n<12;n++)xu(0,8,16,24,mr[n*16+0],mr[n*16+1]),xu(2,10,18,26,mr[n*16+2],mr[n*16+3]),xu(4,12,20,28,mr[n*16+4],mr[n*16+5]),xu(6,14,22,30,mr[n*16+6],mr[n*16+7]),xu(0,10,20,30,mr[n*16+8],mr[n*16+9]),xu(2,12,22,24,mr[n*16+10],mr[n*16+11]),xu(4,14,16,26,mr[n*16+12],mr[n*16+13]),xu(6,8,18,28,mr[n*16+14],mr[n*16+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^Ze[n]^Ze[n+16]}const $u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function SN(e,t,n,r){if(e===0||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};$u.fill(0),$u[0]=e,t&&($u[1]=t.length),$u[2]=1,$u[3]=1,n&&$u.set(n,32),r&&$u.set(r,48);for(let i=0;i<16;i++)s.h[i]=AN[i]^$N($u,i*4);return t&&(pE(s,t),s.c=128),s}function pE(e,t){for(let n=0;n<t.length;n++)e.c===128&&(e.t+=e.c,CN(e,!1),e.c=0),e.b[e.c++]=t[n]}function IN(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;CN(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(n&3);return t}function _N(e,t,n,r,s){n=n||64,e=Ew.normalizeInput(e),r&&(r=Ew.normalizeInput(r)),s&&(s=Ew.normalizeInput(s));const i=SN(n,t,r,s);return pE(i,e),IN(i)}function Koe(e,t,n,r,s){const i=_N(e,t,n,r,s);return Ew.toHex(i)}var Goe={blake2b:_N,blake2bHex:Koe,blake2bInit:SN,blake2bUpdate:pE,blake2bFinal:IN};const ON=EN;function Yoe(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function Au(e,t,n,r,s,i){at[e]=at[e]+at[t]+s,at[r]=$w(at[r]^at[e],16),at[n]=at[n]+at[r],at[t]=$w(at[t]^at[n],12),at[e]=at[e]+at[t]+i,at[r]=$w(at[r]^at[e],8),at[n]=at[n]+at[r],at[t]=$w(at[t]^at[n],7)}function $w(e,t){return e>>>t^e<<32-t}const PN=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yr=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),at=new Uint32Array(16),Gn=new Uint32Array(16);function TN(e,t){let n=0;for(n=0;n<8;n++)at[n]=e.h[n],at[n+8]=PN[n];for(at[12]^=e.t,at[13]^=e.t/4294967296,t&&(at[14]=~at[14]),n=0;n<16;n++)Gn[n]=Yoe(e.b,4*n);for(n=0;n<10;n++)Au(0,4,8,12,Gn[yr[n*16+0]],Gn[yr[n*16+1]]),Au(1,5,9,13,Gn[yr[n*16+2]],Gn[yr[n*16+3]]),Au(2,6,10,14,Gn[yr[n*16+4]],Gn[yr[n*16+5]]),Au(3,7,11,15,Gn[yr[n*16+6]],Gn[yr[n*16+7]]),Au(0,5,10,15,Gn[yr[n*16+8]],Gn[yr[n*16+9]]),Au(1,6,11,12,Gn[yr[n*16+10]],Gn[yr[n*16+11]]),Au(2,7,8,13,Gn[yr[n*16+12]],Gn[yr[n*16+13]]),Au(3,4,9,14,Gn[yr[n*16+14]],Gn[yr[n*16+15]]);for(n=0;n<8;n++)e.h[n]^=at[n]^at[n+8]}function NN(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(PN),b:new Uint8Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(gE(r,t),r.c=64),r}function gE(e,t){for(let n=0;n<t.length;n++)e.c===64&&(e.t+=e.c,TN(e,!1),e.c=0),e.b[e.c++]=t[n]}function BN(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;TN(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(n&3)&255;return t}function kN(e,t,n){n=n||32,e=ON.normalizeInput(e);const r=NN(n,t);return gE(r,e),BN(r)}function Xoe(e,t,n){const r=kN(e,t,n);return ON.toHex(r)}var Joe={blake2s:kN,blake2sHex:Xoe,blake2sInit:NN,blake2sUpdate:gE,blake2sFinal:BN};const gg=Goe,mg=Joe;var RN={blake2b:gg.blake2b,blake2bHex:gg.blake2bHex,blake2bInit:gg.blake2bInit,blake2bUpdate:gg.blake2bUpdate,blake2bFinal:gg.blake2bFinal,blake2s:mg.blake2s,blake2sHex:mg.blake2sHex,blake2sInit:mg.blake2sInit,blake2sUpdate:mg.blake2sUpdate,blake2sFinal:mg.blake2sFinal},ra={exports:{}};function Qoe(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var Aw=eae;function eae(e,t,n){var r=n&&n.stringify||Qoe,s=1;if(typeof e=="object"&&e!==null){var i=t.length+s;if(i===1)return e;var o=new Array(i);o[0]=r(e);for(var a=1;a<i;a++)o[a]=r(t[a]);return o.join(" ")}if(typeof e!="string")return e;var c=t.length;if(c===0)return e;for(var l="",u=1-s,f=-1,d=e&&e.length||0,h=0;h<d;){if(e.charCodeAt(h)===37&&h+1<d){switch(f=f>-1?f:0,e.charCodeAt(h+1)){case 100:case 102:if(u>=c||t[u]==null)break;f<h&&(l+=e.slice(f,h)),l+=Number(t[u]),f=h+2,h++;break;case 105:if(u>=c||t[u]==null)break;f<h&&(l+=e.slice(f,h)),l+=Math.floor(Number(t[u])),f=h+2,h++;break;case 79:case 111:case 106:if(u>=c||t[u]===void 0)break;f<h&&(l+=e.slice(f,h));var p=typeof t[u];if(p==="string"){l+="'"+t[u]+"'",f=h+2,h++;break}if(p==="function"){l+=t[u].name||"<anonymous>",f=h+2,h++;break}l+=r(t[u]),f=h+2,h++;break;case 115:if(u>=c)break;f<h&&(l+=e.slice(f,h)),l+=String(t[u]),f=h+2,h++;break;case 37:f<h&&(l+=e.slice(f,h)),l+="%",f=h+2,h++,u--;break}++u}++h}return f===-1?e:(f<d&&(l+=e.slice(f)),l)}const DN=Aw;ra.exports=al;const yg=gae().console||{},tae={mapHttpRequest:Cw,mapHttpResponse:Cw,wrapRequestSerializer:vE,wrapResponseSerializer:vE,wrapErrorSerializer:vE,req:Cw,res:Cw,err:UN,errWithCause:UN};function Cu(e,t){return e==="silent"?1/0:t.levels.values[e]}const mE=Symbol("pino.logFuncs"),yE=Symbol("pino.hierarchy"),nae={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function MN(e,t){const n={logger:t,parent:e[yE]};t[yE]=n}function rae(e,t,n){const r={};t.forEach(s=>{r[s]=n[s]?n[s]:yg[s]||yg[nae[s]||"log"]||Eh}),e[mE]=r}function sae(e,t){return Array.isArray(e)?e.filter(function(r){return r!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function al(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const n=e.browser.write||yg;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=sae(e.browser.serialize,r);let i=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=Object.keys(e.customLevels||{}),a=["error","fatal","warn","info","debug","trace"].concat(o);typeof n=="function"&&a.forEach(function(g){n[g]=n}),(e.enabled===!1||e.browser.disabled)&&(e.level="silent");const c=e.level||"info",l=Object.create(n);l.log||(l.log=Eh),rae(l,a,n),MN({},l),Object.defineProperty(l,"levelVal",{get:f}),Object.defineProperty(l,"level",{get:d,set:h});const u={transmit:t,serialize:s,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:a,timestamp:fae(e),messageKey:e.messageKey||"msg",onChild:e.onChild||Eh};l.levels=iae(e),l.level=c,l.isLevelEnabled=function(g){return this.levels.values[g]?this.levels.values[g]>=this.levels.values[this.level]:!1},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=Eh,l.serializers=r,l._serialize=s,l._stdErrSerialize=i,l.child=function(...g){return p.call(this,u,...g)},t&&(l._logEvent=wE());function f(){return Cu(this.level,this)}function d(){return this._level}function h(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,h0(this,u,l,"error"),h0(this,u,l,"fatal"),h0(this,u,l,"warn"),h0(this,u,l,"info"),h0(this,u,l,"debug"),h0(this,u,l,"trace"),o.forEach(y=>{h0(this,u,l,y)})}function p(g,y,$){if(!y)throw new Error("missing bindings for child Pino");$=$||{},s&&y.serializers&&($.serializers=y.serializers);const _=$.serializers;if(s&&_){var x=Object.assign({},r,_),E=e.browser.serialize===!0?Object.keys(x):s;delete y.serializers,bE([y],E,x,this._stdErrSerialize)}function P(k){this._childLevel=(k._childLevel|0)+1,this.bindings=y,x&&(this.serializers=x,this._serialize=E),t&&(this._logEvent=wE([].concat(k._logEvent.bindings,y)))}P.prototype=this;const N=new P(this);return MN(this,N),N.child=function(...k){return p.call(this,g,...k)},N.level=$.level||this.level,g.onChild(N),N}return l}function iae(e){const t=e.customLevels||{},n=Object.assign({},al.levels.values,t),r=Object.assign({},al.levels.labels,oae(t));return{values:n,labels:r}}function oae(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}al.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},al.stdSerializers=tae,al.stdTimeFunctions=Object.assign({},{nullTime:LN,epochTime:FN,unixTime:hae,isoTime:pae});function aae(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[yE];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}function h0(e,t,n,r){if(Object.defineProperty(e,r,{value:Cu(e.level,n)>Cu(r,n)?Eh:n[mE][r],writable:!0,enumerable:!0,configurable:!0}),e[r]===Eh){if(!t.transmit)return;const i=t.transmit.level||e.level,o=Cu(i,n);if(Cu(r,n)<o)return}e[r]=lae(e,t,n,r);const s=aae(e);s.length!==0&&(e[r]=cae(s,e[r]))}function cae(e,t){return function(){return t.apply(this,[...e,...arguments])}}function lae(e,t,n,r){return function(s){return function(){const o=t.timestamp(),a=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===yg?yg:this;for(var l=0;l<a.length;l++)a[l]=arguments[l];var u=!1;if(t.serialize&&(bE(a,this._serialize,this.serializers,this._stdErrSerialize),u=!0),t.asObject||t.formatters?s.call(c,...uae(this,r,a,o,t)):s.apply(c,a),t.transmit){const f=t.transmit.level||e._level,d=Cu(f,n),h=Cu(r,n);if(h<d)return;dae(this,{ts:o,methodLevel:r,methodValue:h,transmitLevel:f,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:Cu(e._level,n)},a,u)}}}(e[mE][r])}function uae(e,t,n,r,s){const{level:i,log:o=f=>f}=s.formatters||{},a=n.slice();let c=a[0];const l={};let u=(e._childLevel|0)+1;if(u<1&&(u=1),r&&(l.time=r),i){const f=i(t,e.levels.values[t]);Object.assign(l,f)}else l.level=e.levels.values[t];if(s.asObjectBindingsOnly){if(c!==null&&typeof c=="object")for(;u--&&typeof a[0]=="object";)Object.assign(l,a.shift());return[o(l),...a]}else{if(c!==null&&typeof c=="object"){for(;u--&&typeof a[0]=="object";)Object.assign(l,a.shift());c=a.length?DN(a.shift(),a):void 0}else typeof c=="string"&&(c=DN(a.shift(),a));return c!==void 0&&(l[s.messageKey]=c),[o(l)]}}function bE(e,t,n,r){for(const s in e)if(r&&e[s]instanceof Error)e[s]=al.stdSerializers.err(e[s]);else if(typeof e[s]=="object"&&!Array.isArray(e[s])&&t)for(const i in e[s])t.indexOf(i)>-1&&i in n&&(e[s][i]=n[i](e[s][i]))}function dae(e,t,n,r=!1){const s=t.send,i=t.ts,o=t.methodLevel,a=t.methodValue,c=t.val,l=e._logEvent.bindings;r||bE(n,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter(function(u){return l.indexOf(u)===-1}),e._logEvent.level.label=o,e._logEvent.level.value=a,s(o,e._logEvent,c),e._logEvent=wE(l)}function wE(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function UN(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)t[n]===void 0&&(t[n]=e[n]);return t}function fae(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?LN:FN}function Cw(){return{}}function vE(e){return e}function Eh(){}function LN(){return!1}function FN(){return Date.now()}function hae(){return Math.round(Date.now()/1e3)}function pae(){return new Date(Date.now()).toISOString()}function gae(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}ra.exports.default=al,ra.exports.pino=al;const EE=1e3*1024;var mae=Object.defineProperty,yae=(e,t,n)=>t in e?mae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Su=(e,t,n)=>yae(e,typeof t!="symbol"?t+"":t,n);class bae{constructor(t){Su(this,"nodeValue"),Su(this,"sizeInBytes"),Su(this,"next"),this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class jN{constructor(t){Su(this,"lengthInNodes"),Su(this,"sizeInBytes"),Su(this,"head"),Su(this,"tail"),Su(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new bae(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}}var wae=Object.defineProperty,vae=(e,t,n)=>t in e?wae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sw=(e,t,n)=>vae(e,typeof t!="symbol"?t+"":t,n);class zN{constructor(t,n=EE){Sw(this,"logs"),Sw(this,"level"),Sw(this,"levelValue"),Sw(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=t??"error",this.levelValue=ra.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new jN(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===ra.exports.levels.values.error?console.error(t):n===ra.exports.levels.values.warn?console.warn(t):n===ra.exports.levels.values.debug?console.debug(t):n===ra.exports.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(ws({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new jN(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(ws({extraMetadata:t})),new Blob(n,{type:"application/json"})}}var Eae=Object.defineProperty,xae=(e,t,n)=>t in e?Eae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$ae=(e,t,n)=>xae(e,typeof t!="symbol"?t+"":t,n);class Aae{constructor(t,n=EE){$ae(this,"baseChunkLogger"),this.baseChunkLogger=new zN(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}}var Cae=Object.defineProperty,Sae=(e,t,n)=>t in e?Cae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iae=(e,t,n)=>Sae(e,typeof t!="symbol"?t+"":t,n);class _ae{constructor(t,n=EE){Iae(this,"baseChunkLogger"),this.baseChunkLogger=new zN(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var Oae=Object.defineProperty,Pae=Object.defineProperties,Tae=Object.getOwnPropertyDescriptors,HN=Object.getOwnPropertySymbols,Nae=Object.prototype.hasOwnProperty,Bae=Object.prototype.propertyIsEnumerable,VN=(e,t,n)=>t in e?Oae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xE=(e,t)=>{for(var n in t||(t={}))Nae.call(t,n)&&VN(e,n,t[n]);if(HN)for(var n of HN(t))Bae.call(t,n)&&VN(e,n,t[n]);return e},$E=(e,t)=>Pae(e,Tae(t));function kae(e){var t,n;const r=new Aae((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:ra.exports($E(xE({},e.opts),{level:"trace",browser:$E(xE({},(n=e.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function Rae(e){var t;const n=new _ae((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:ra.exports($E(xE({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function Dae(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?kae(e):Rae(e)}var Mae=Object.defineProperty,Uae=Object.defineProperties,Lae=Object.getOwnPropertyDescriptors,qN=Object.getOwnPropertySymbols,Fae=Object.prototype.hasOwnProperty,jae=Object.prototype.propertyIsEnumerable,ZN=(e,t,n)=>t in e?Mae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xh=(e,t)=>{for(var n in t||(t={}))Fae.call(t,n)&&ZN(e,n,t[n]);if(qN)for(var n of qN(t))jae.call(t,n)&&ZN(e,n,t[n]);return e},bg=(e,t)=>Uae(e,Lae(t));const zae=":";function cl(e){const[t,n]=e.split(zae);return{namespace:t,reference:n}}function WN(e,t=[]){const n=[];return Object.keys(e).forEach(r=>{if(t.length&&!t.includes(r))return;const s=e[r];n.push(...s.accounts)}),n}function KN(e,t){return e.includes(":")?[e]:t.chains||[]}var Hae=Object.defineProperty,Vae=Object.defineProperties,qae=Object.getOwnPropertyDescriptors,GN=Object.getOwnPropertySymbols,Zae=Object.prototype.hasOwnProperty,Wae=Object.prototype.propertyIsEnumerable,AE=(e,t,n)=>t in e?Hae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YN=(e,t)=>{for(var n in t||(t={}))Zae.call(t,n)&&AE(e,n,t[n]);if(GN)for(var n of GN(t))Wae.call(t,n)&&AE(e,n,t[n]);return e},Kae=(e,t)=>Vae(e,qae(t)),XN=(e,t,n)=>AE(e,typeof t!="symbol"?t+"":t,n);const Gae="ReactNative",ii={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Yae="js";function Iw(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Iu(){return!ei()&&!!qp()&&navigator.product===Gae}function Xae(){return Iu()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Jae(){return Iu()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function $h(){return!Iw()&&!!qp()&&!!ei()}function wg(){return Iu()?ii.reactNative:Iw()?ii.node:$h()?ii.browser:ii.unknown}function JN(){var e;try{return Iu()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function Qae(e,t){const n=new URLSearchParams(e);return Object.entries(t).sort(([r],[s])=>r.localeCompare(s)).forEach(([r,s])=>{s!=null&&n.set(r,String(s))}),n.toString()}function ece(e){var t,n;const r=QN();try{return e!=null&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),(t=e?.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(s=>s!=="")),Kae(YN(YN({},r),e),{url:e?.url||r.url,name:e?.name||r.name,description:e?.description||r.description,icons:(n=e?.icons)!=null&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),e||r}}function QN(){return k5()||{name:"",description:"",url:"",icons:[""]}}function tce(){if(wg()===ii.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const e=B_();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function nce(){var e;const t=wg();return t===ii.browser?[t,((e=N5())==null?void 0:e.host)||"unknown"].join(":"):t}function eB(e,t,n){const r=tce(),s=nce();return[[e,t].join("-"),[Yae,n].join("-"),r,s].join("/")}function rce({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=eB(e,t,r),f={auth:s,ua:u,projectId:i,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},d=Qae(l[1]||"",f);return l[0]+"?"+d}function p0(e,t){return e.filter(n=>t.includes(n)).length===e.length}function CE(e){return Object.fromEntries(e.entries())}function SE(e){return new Map(Object.entries(e))}function g0(e=Q.FIVE_MINUTES,t){const n=Q.toMiliseconds(e||Q.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(t);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function sa(e,t,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),t);try{const o=await e;r(o)}catch(o){s(o)}clearTimeout(i)})}function tB(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function sce(e){return tB("topic",e)}function ice(e){return tB("id",e)}function nB(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if(t==="topic"&&typeof n=="string")r.topic=n;else if(t==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function cn(e,t){return Q.fromMiliseconds((t||Date.now())+Q.toMiliseconds(e))}function ia(e){return Date.now()>=Q.toMiliseconds(e)}function gt(e,t){return`${e}${t?`:${t}`:""}`}function oa(e=[],t=[]){return[...new Set([...e,...t])]}async function oce({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s?.href;if(typeof i!="string")return;const o=ace(i,e,t),a=wg();if(a===ii.browser){if(!((r=ei())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}cce(o)}else a===ii.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function ace(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let s=`${e}`;if(e.startsWith("https://t.me")){const i=e.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${fce(r,!0)}`}else s=`${s}/wc?${r}`;return s}function cce(e){let t="_self";dce()?t="_top":(uce()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function lce(e,t){let n="";try{if($h()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(r){console.error(r)}return n}function rB(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function sB(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function IE(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function uce(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function dce(){try{return window.self!==window.top}catch{return!1}}function fce(e,t=!1){const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}function iB(e){return Buffer.from(e,"base64").toString("utf-8")}function hce(e){return new Promise(t=>setTimeout(t,e))}class pce{constructor({limit:t}){XN(this,"limit"),XN(this,"set"),this.limit=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}}const _w=BigInt(2**32-1),oB=BigInt(32);function aB(e,t=!1){return t?{h:Number(e&_w),l:Number(e>>oB&_w)}:{h:Number(e>>oB&_w)|0,l:Number(e&_w)|0}}function cB(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=aB(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const lB=(e,t,n)=>e>>>n,uB=(e,t,n)=>e<<32-n|t>>>n,_u=(e,t,n)=>e>>>n|t<<32-n,Ou=(e,t,n)=>e<<32-n|t>>>n,vg=(e,t,n)=>e<<64-n|t>>>n-32,Eg=(e,t,n)=>e>>>n-32|t<<64-n,gce=(e,t)=>t,mce=(e,t)=>e,yce=(e,t,n)=>e<<n|t>>>32-n,bce=(e,t,n)=>t<<n|e>>>32-n,wce=(e,t,n)=>t<<n-32|e>>>64-n,vce=(e,t,n)=>e<<n-32|t>>>64-n;function bo(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const _E=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),OE=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Ece=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),xce=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,$ce=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Ace=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,Ah=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Ow(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ll(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function wo(e,...t){if(!Ow(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Pw(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ll(e.outputLen),ll(e.blockLen)}function Pu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function PE(e,t){wo(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function xg(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ki(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function TE(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function aa(e,t){return e<<32-t|e>>>t}const dB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function fB(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const ul=dB?e=>e:e=>fB(e);function Cce(e){for(let t=0;t<e.length;t++)e[t]=fB(e[t]);return e}const Tu=dB?e=>e:Cce,hB=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Sce=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ch(e){if(wo(e),hB)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Sce[e[n]];return t}const dl={_0:48,_9:57,A:65,F:70,a:97,f:102};function pB(e){if(e>=dl._0&&e<=dl._9)return e-dl._0;if(e>=dl.A&&e<=dl.F)return e-(dl.A-10);if(e>=dl.a&&e<=dl.f)return e-(dl.a-10)}function Tw(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(hB)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=pB(e.charCodeAt(i)),a=pB(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function gB(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function vo(e){return typeof e=="string"&&(e=gB(e)),wo(e),e}function Nu(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];wo(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class Nw{}function $g(e){const t=r=>e().update(vo(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ice(e){const t=(r,s)=>e(s).update(vo(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function m0(e=32){if(Ah&&typeof Ah.getRandomValues=="function")return Ah.getRandomValues(new Uint8Array(e));if(Ah&&typeof Ah.randomBytes=="function")return Uint8Array.from(Ah.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const _ce=BigInt(0),Ag=BigInt(1),Oce=BigInt(2),Pce=BigInt(7),Tce=BigInt(256),Nce=BigInt(113),mB=[],yB=[],bB=[];for(let e=0,t=Ag,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],mB.push(2*(5*r+n)),yB.push((e+1)*(e+2)/2%64);let s=_ce;for(let i=0;i<7;i++)t=(t<<Ag^(t>>Pce)*Nce)%Tce,t&Oce&&(s^=Ag<<(Ag<<BigInt(i))-Ag);bB.push(s)}const wB=cB(bB,!0),Bce=wB[0],kce=wB[1],vB=(e,t,n)=>n>32?wce(e,t,n):yce(e,t,n),EB=(e,t,n)=>n>32?vce(e,t,n):bce(e,t,n);function Rce(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],f=vB(l,u,1)^n[a],d=EB(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=f,e[o+h+1]^=d}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=yB[o],c=vB(s,i,a),l=EB(s,i,a),u=mB[o];s=e[u],i=e[u+1],e[u]=c,e[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Bce[r],e[1]^=kce[r]}ki(n)}class NE extends Nw{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,ll(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=xg(this.state)}clone(){return this._cloneInto()}keccak(){Tu(this.state32),Rce(this.state32,this.rounds),Tu(this.state32),this.posOut=0,this.pos=0}update(t){Pu(this),t=vo(t),wo(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Pu(this,!1),wo(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ll(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(PE(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ki(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new NE(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Dce=(e,t,n)=>$g(()=>new NE(t,e,n)),Mce=Dce(1,136,256/8);function Uce(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function Lce(e,t,n){return e&t^~e&n}function Fce(e,t,n){return e&t^e&n^t&n}class xB extends Nw{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=TE(this.buffer)}update(t){Pu(this),t=vo(t),wo(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=TE(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Pu(this),PE(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,ki(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;Uce(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=TE(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Bu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),br=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),wr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),jce=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ku=new Uint32Array(64);class zce extends xB{constructor(t=32){super(64,t,8,!1),this.A=Bu[0]|0,this.B=Bu[1]|0,this.C=Bu[2]|0,this.D=Bu[3]|0,this.E=Bu[4]|0,this.F=Bu[5]|0,this.G=Bu[6]|0,this.H=Bu[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)ku[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=ku[f-15],h=ku[f-2],p=aa(d,7)^aa(d,18)^d>>>3,g=aa(h,17)^aa(h,19)^h>>>10;ku[f]=g+ku[f-7]+p+ku[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=aa(a,6)^aa(a,11)^aa(a,25),h=u+d+Lce(a,c,l)+jce[f]+ku[f]|0,p=(aa(r,2)^aa(r,13)^aa(r,22))+Fce(r,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){ki(ku)}destroy(){this.set(0,0,0,0,0,0,0,0),ki(this.buffer)}}const $B=cB(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Hce=$B[0],Vce=$B[1],Ru=new Uint32Array(80),Du=new Uint32Array(80);class BE extends xB{constructor(t=64){super(128,t,16,!1),this.Ah=wr[0]|0,this.Al=wr[1]|0,this.Bh=wr[2]|0,this.Bl=wr[3]|0,this.Ch=wr[4]|0,this.Cl=wr[5]|0,this.Dh=wr[6]|0,this.Dl=wr[7]|0,this.Eh=wr[8]|0,this.El=wr[9]|0,this.Fh=wr[10]|0,this.Fl=wr[11]|0,this.Gh=wr[12]|0,this.Gl=wr[13]|0,this.Hh=wr[14]|0,this.Hl=wr[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:p,Hh:g,Hl:y}=this;return[t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y]}set(t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let x=0;x<16;x++,n+=4)Ru[x]=t.getUint32(n),Du[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const E=Ru[x-15]|0,P=Du[x-15]|0,N=_u(E,P,1)^_u(E,P,8)^lB(E,P,7),k=Ou(E,P,1)^Ou(E,P,8)^uB(E,P,7),R=Ru[x-2]|0,T=Du[x-2]|0,L=_u(R,T,19)^vg(R,T,61)^lB(R,T,6),M=Ou(R,T,19)^Eg(R,T,61)^uB(R,T,6),S=Ece(k,M,Du[x-7],Du[x-16]),w=xce(S,N,L,Ru[x-7],Ru[x-16]);Ru[x]=w|0,Du[x]=S|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:p,Gh:g,Gl:y,Hh:$,Hl:_}=this;for(let x=0;x<80;x++){const E=_u(f,d,14)^_u(f,d,18)^vg(f,d,41),P=Ou(f,d,14)^Ou(f,d,18)^Eg(f,d,41),N=f&h^~f&g,k=d&p^~d&y,R=$ce(_,P,k,Vce[x],Du[x]),T=Ace(R,$,E,N,Hce[x],Ru[x]),L=R|0,M=_u(r,s,28)^vg(r,s,34)^vg(r,s,39),S=Ou(r,s,28)^Eg(r,s,34)^Eg(r,s,39),w=r&i^r&a^i&a,v=s&o^s&c^o&c;$=g|0,_=y|0,g=h|0,y=p|0,h=f|0,p=d|0,{h:f,l:d}=bo(l|0,u|0,T|0,L|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const m=_E(L,S,v);r=OE(m,T,M,w),s=m|0}({h:r,l:s}=bo(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=bo(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=bo(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=bo(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=bo(this.Eh|0,this.El|0,f|0,d|0),{h,l:p}=bo(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:y}=bo(this.Gh|0,this.Gl|0,g|0,y|0),{h:$,l:_}=bo(this.Hh|0,this.Hl|0,$|0,_|0),this.set(r,s,i,o,a,c,l,u,f,d,h,p,g,y,$,_)}roundClean(){ki(Ru,Du)}destroy(){ki(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class qce extends BE{constructor(){super(48),this.Ah=br[0]|0,this.Al=br[1]|0,this.Bh=br[2]|0,this.Bl=br[3]|0,this.Ch=br[4]|0,this.Cl=br[5]|0,this.Dh=br[6]|0,this.Dl=br[7]|0,this.Eh=br[8]|0,this.El=br[9]|0,this.Fh=br[10]|0,this.Fl=br[11]|0,this.Gh=br[12]|0,this.Gl=br[13]|0,this.Hh=br[14]|0,this.Hl=br[15]|0}}const vr=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Zce extends BE{constructor(){super(32),this.Ah=vr[0]|0,this.Al=vr[1]|0,this.Bh=vr[2]|0,this.Bl=vr[3]|0,this.Ch=vr[4]|0,this.Cl=vr[5]|0,this.Dh=vr[6]|0,this.Dl=vr[7]|0,this.Eh=vr[8]|0,this.El=vr[9]|0,this.Fh=vr[10]|0,this.Fl=vr[11]|0,this.Gh=vr[12]|0,this.Gl=vr[13]|0,this.Hh=vr[14]|0,this.Hl=vr[15]|0}}const Bw=$g(()=>new zce),Wce=$g(()=>new BE),Kce=$g(()=>new qce),Gce=$g(()=>new Zce),Yce=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),yn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ve=new Uint32Array(32);function Mu(e,t,n,r,s,i){const o=s[i],a=s[i+1];let c=ve[2*e],l=ve[2*e+1],u=ve[2*t],f=ve[2*t+1],d=ve[2*n],h=ve[2*n+1],p=ve[2*r],g=ve[2*r+1],y=_E(c,u,o);l=OE(y,l,f,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:gce(g,p),Dl:mce(g)},{h,l:d}=bo(h,d,g,p),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:_u(f,u,24),Bl:Ou(f,u,24)},ve[2*e]=c,ve[2*e+1]=l,ve[2*t]=u,ve[2*t+1]=f,ve[2*n]=d,ve[2*n+1]=h,ve[2*r]=p,ve[2*r+1]=g}function Uu(e,t,n,r,s,i){const o=s[i],a=s[i+1];let c=ve[2*e],l=ve[2*e+1],u=ve[2*t],f=ve[2*t+1],d=ve[2*n],h=ve[2*n+1],p=ve[2*r],g=ve[2*r+1],y=_E(c,u,o);l=OE(y,l,f,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:_u(g,p,16),Dl:Ou(g,p,16)},{h,l:d}=bo(h,d,g,p),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:vg(f,u,63),Bl:Eg(f,u,63)},ve[2*e]=c,ve[2*e+1]=l,ve[2*t]=u,ve[2*t+1]=f,ve[2*n]=d,ve[2*n+1]=h,ve[2*r]=p,ve[2*r+1]=g}function Xce(e,t={},n,r,s){if(ll(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=t;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class Jce extends Nw{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,ll(t),ll(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=xg(this.buffer)}update(t){Pu(this),t=vo(t),wo(t);const{blockLen:n,buffer:r,buffer32:s}=this,i=t.length,o=t.byteOffset,a=t.buffer;for(let c=0;c<i;){this.pos===n&&(Tu(s),this.compress(s,0,!1),Tu(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const f=new Uint32Array(a,u,Math.floor((i-c)/4));Tu(f);for(let d=0;c+n<i;d+=s.length,c+=n)this.length+=n,this.compress(f,d,!1);Tu(f);continue}r.set(t.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(t){Pu(this),PE(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,ki(this.buffer.subarray(n)),Tu(r),this.compress(r,0,!0),Tu(r);const s=xg(t);this.get().forEach((i,o)=>s[o]=ul(i))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return t||(t=new this.constructor({dkLen:o})),t.set(...this.get()),t.buffer.set(n),t.destroyed=i,t.finished=s,t.length=r,t.pos=a,t.outputLen=o,t}clone(){return this._cloneInto()}}class Qce extends Jce{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=yn[0]|0,this.v0h=yn[1]|0,this.v1l=yn[2]|0,this.v1h=yn[3]|0,this.v2l=yn[4]|0,this.v2h=yn[5]|0,this.v3l=yn[6]|0,this.v3h=yn[7]|0,this.v4l=yn[8]|0,this.v4h=yn[9]|0,this.v5l=yn[10]|0,this.v5h=yn[11]|0,this.v6l=yn[12]|0,this.v6h=yn[13]|0,this.v7l=yn[14]|0,this.v7h=yn[15]|0,Xce(n,t,64,16,16);let{key:r,personalization:s,salt:i}=t,o=0;if(r!==void 0&&(r=vo(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=vo(i);const a=xg(i);this.v4l^=ul(a[0]),this.v4h^=ul(a[1]),this.v5l^=ul(a[2]),this.v5h^=ul(a[3])}if(s!==void 0){s=vo(s);const a=xg(s);this.v6l^=ul(a[0]),this.v6h^=ul(a[1]),this.v7l^=ul(a[2]),this.v7h^=ul(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:f,v5h:d,v6l:h,v6h:p,v7l:g,v7h:y}=this;return[t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y]}set(t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=d|0,this.v6l=h|0,this.v6h=p|0,this.v7l=g|0,this.v7h=y|0}compress(t,n,r){this.get().forEach((c,l)=>ve[l]=c),ve.set(yn,16);let{h:s,l:i}=aB(BigInt(this.length));ve[24]=yn[8]^i,ve[25]=yn[9]^s,r&&(ve[28]=~ve[28],ve[29]=~ve[29]);let o=0;const a=Yce;for(let c=0;c<12;c++)Mu(0,4,8,12,t,n+2*a[o++]),Uu(0,4,8,12,t,n+2*a[o++]),Mu(1,5,9,13,t,n+2*a[o++]),Uu(1,5,9,13,t,n+2*a[o++]),Mu(2,6,10,14,t,n+2*a[o++]),Uu(2,6,10,14,t,n+2*a[o++]),Mu(3,7,11,15,t,n+2*a[o++]),Uu(3,7,11,15,t,n+2*a[o++]),Mu(0,5,10,15,t,n+2*a[o++]),Uu(0,5,10,15,t,n+2*a[o++]),Mu(1,6,11,12,t,n+2*a[o++]),Uu(1,6,11,12,t,n+2*a[o++]),Mu(2,7,8,13,t,n+2*a[o++]),Uu(2,7,8,13,t,n+2*a[o++]),Mu(3,4,9,14,t,n+2*a[o++]),Uu(3,4,9,14,t,n+2*a[o++]);this.v0l^=ve[0]^ve[16],this.v0h^=ve[1]^ve[17],this.v1l^=ve[2]^ve[18],this.v1h^=ve[3]^ve[19],this.v2l^=ve[4]^ve[20],this.v2h^=ve[5]^ve[21],this.v3l^=ve[6]^ve[22],this.v3h^=ve[7]^ve[23],this.v4l^=ve[8]^ve[24],this.v4h^=ve[9]^ve[25],this.v5l^=ve[10]^ve[26],this.v5h^=ve[11]^ve[27],this.v6l^=ve[12]^ve[28],this.v6h^=ve[13]^ve[29],this.v7l^=ve[14]^ve[30],this.v7h^=ve[15]^ve[31],ki(ve)}destroy(){this.destroyed=!0,ki(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ele=Ice(e=>new Qce(e)),tle="https://rpc.walletconnect.org/v1";function AB(e){const t=`Ethereum Signed Message:
${e.length}`,n=new TextEncoder().encode(t+e);return"0x"+Buffer.from(Mce(n)).toString("hex")}async function nle(e,t,n,r,s,i){switch(n.t){case"eip191":return await rle(e,t,n.s);case"eip1271":return await sle(e,t,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function rle(e,t,n){const r=Mee(n);return Mte({payload:AB(t),signature:r}).toLowerCase()===e.toLowerCase()}async function sle(e,t,n,r,s,i){const o=cl(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),f=(t.startsWith("0x")?t:AB(t)).substring(2),d=a+f+c+u+l,h=await fetch(`${i||tle}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:ile(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:d},"latest"]})}),{result:p}=await h.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function ile(){return Date.now()+Math.floor(Math.random()*1e3)}function ole(e){const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(e,"base64").slice(1,65);return mo.encode(i)}function ale(e){const t=new Uint8Array(Buffer.from(e,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const s=ele(r,{dkLen:32});return mo.encode(s)}function CB(e){const t=new Uint8Array(Bw(cle(e)));return mo.encode(t)}function cle(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="object"&&e!=null&&e.data)return new Uint8Array(Object.values(e.data));if(typeof e=="object"&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function SB(e){const t=Buffer.from(e,"base64"),n=cT(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=iT(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=Gce(i);return zP.encode(o).replace(/=+$/,"")}function kE(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Buffer.from(t)}function lle(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),n=Buffer.from(e.signed.authInfoBytes,"base64"),r=Buffer.from(e.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(kE(t.length)),s.push(t),s.push(Buffer.from([18])),s.push(kE(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(kE(r.length)),s.push(r);const i=Buffer.concat(s),o=Bw(i);return Buffer.from(o).toString("hex").toUpperCase()}function ule(e){var t,n;const r=[];try{if(typeof e=="string")return r.push(e),r;if(typeof e!="object")return r;e!=null&&e.id&&r.push(e.id);const s=(n=(t=e?.capabilities)==null?void 0:t.caip345)==null?void 0:n.transactionHashes;s&&r.push(...s)}catch(s){console.warn("getWalletSendCallsHashes failed: ",s)}return r}var dle=Object.defineProperty,fle=Object.defineProperties,hle=Object.getOwnPropertyDescriptors,IB=Object.getOwnPropertySymbols,ple=Object.prototype.hasOwnProperty,gle=Object.prototype.propertyIsEnumerable,_B=(e,t,n)=>t in e?dle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mle=(e,t)=>{for(var n in t||(t={}))ple.call(t,n)&&_B(e,n,t[n]);if(IB)for(var n of IB(t))gle.call(t,n)&&_B(e,n,t[n]);return e},yle=(e,t)=>fle(e,hle(t));const ble="did:pkh:",RE=e=>e?.split(":"),wle=e=>{const t=e&&RE(e);if(t)return e.includes(ble)?t[3]:t[1]},DE=e=>{const t=e&&RE(e);if(t)return t[2]+":"+t[3]},kw=e=>{const t=e&&RE(e);if(t)return t.pop()};async function OB(e){const{cacao:t,projectId:n}=e,{s:r,p:s}=t,i=PB(s,s.iss),o=kw(s.iss);return await nle(o,i,r,DE(s.iss),n)}const PB=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=kw(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=e.statement||void 0;const i=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${wle(t)}`,c=`Nonce: ${e.nonce}`,l=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,f=e.nbf?`Not Before: ${e.nbf}`:void 0,d=e.requestId?`Request ID: ${e.requestId}`:void 0,h=e.resources?`Resources:${e.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=Rw(e.resources);if(p){const g=Cg(p);s=_le(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,f,d,h].filter(g=>g!=null).join(`
`)};function vle(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function Ele(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function y0(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(n=>{const r=e.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function xle(e,t,n,r={}){return n?.sort((s,i)=>s.localeCompare(i)),{att:{[e]:$le(t,n,r)}}}function $le(e,t,n={}){t=t?.sort((s,i)=>s.localeCompare(i));const r=t.map(s=>({[`${e}/${s}`]:[n]}));return Object.assign({},...r)}function TB(e){return y0(e),`urn:recap:${vle(e).replace(/=/g,"")}`}function Cg(e){const t=Ele(e.replace("urn:recap:",""));return y0(t),t}function Ale(e,t,n){const r=xle(e,t,n);return TB(r)}function Cle(e){return e&&e.includes("urn:recap:")}function Sle(e,t){const n=Cg(e),r=Cg(t),s=Ile(n,r);return TB(s)}function Ile(e,t){y0(e),y0(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=e.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=t.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=yle(mle({},r.att[s]),{[a]:((c=e.att[s])==null?void 0:c[a])||((l=t.att[s])==null?void 0:l[a])})})}),r}function _le(e="",t){y0(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let s=0;Object.keys(t.att).forEach(a=>{const c=Object.keys(t.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));const l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const u=Object.keys(l).map(f=>(s++,`(${s}) '${f}': '${l[f].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${e?e+" ":""}${o}`}function NB(e){var t;const n=Cg(e);y0(n);const r=(t=n.att)==null?void 0:t.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function BB(e){const t=Cg(e);y0(t);const n=[];return Object.values(t.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s?.[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function Rw(e){if(!e)return;const t=e?.[e.length-1];return Cle(t)?t:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function kB(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ME(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function UE(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Es(e,...t){if(!kB(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function RB(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ole(e,t){Es(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Lu(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Sh(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ple(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const Tle=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Nle(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function LE(e){if(typeof e=="string")e=Nle(e);else if(kB(e))e=FE(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function Ble(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function kle(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const Rle=(e,t)=>{function n(r,...s){if(Es(r),!Tle)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");e.varSizeNonce?Es(l):Es(l,e.nonceLength)}const i=e.tagLength;i&&s[1]!==void 0&&Es(s[1]);const o=t(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Es(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Es(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Es(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,e),n};function DB(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!Mle(t))throw new Error("invalid output, must be aligned");return t}function MB(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function Dle(e,t,n){ME(n);const r=new Uint8Array(16),s=Ple(r);return MB(s,0,BigInt(t),n),MB(s,8,BigInt(e),n),r}function Mle(e){return e.byteOffset%4===0}function FE(e){return Uint8Array.from(e)}const UB=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),Ule=UB("expand 16-byte k"),Lle=UB("expand 32-byte k"),Fle=Lu(Ule),jle=Lu(Lle);function ct(e,t){return e<<t|e>>>32-t}function jE(e){return e.byteOffset%4===0}const Dw=64,zle=16,LB=2**32-1,FB=new Uint32Array;function Hle(e,t,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(Dw),u=Lu(l),f=jE(s)&&jE(i),d=f?Lu(s):FB,h=f?Lu(i):FB;for(let p=0;p<c;o++){if(e(t,n,r,u,o,a),o>=LB)throw new Error("arx: counter overflow");const g=Math.min(Dw,c-p);if(f&&g===Dw){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let $=0,_;$<zle;$++)_=y+$,h[_]=d[_]^u[$];p+=Dw;continue}for(let y=0,$;y<g;y++)$=p+y,i[$]=s[$]^l[y];p+=g}}function Vle(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=Ble({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return UE(s),UE(o),ME(i),ME(n),(a,c,l,u,f=0)=>{Es(a),Es(c),Es(l);const d=l.length;if(u===void 0&&(u=new Uint8Array(d)),Es(u),UE(f),f<0||f>=LB)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let p=a.length,g,y;if(p===32)h.push(g=FE(a)),y=jle;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=Fle,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);jE(c)||h.push(c=FE(c));const $=Lu(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,$,Lu(c.subarray(0,16)),$),c=c.subarray(16)}const _=16-s;if(_!==c.length)throw new Error(`arx: nonce must be ${_} or 16 bytes`);if(_!==12){const E=new Uint8Array(12);E.set(c,i?0:12-c.length),c=E,h.push(c)}const x=Lu(c);return Hle(e,y,$,x,l,u,f,o),Sh(...h),u}}const Yn=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class qle{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=LE(t),Es(t,32);const n=Yn(t,0),r=Yn(t,2),s=Yn(t,4),i=Yn(t,6),o=Yn(t,8),a=Yn(t,10),c=Yn(t,12),l=Yn(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Yn(t,16+2*u)}process(t,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],f=o[4],d=o[5],h=o[6],p=o[7],g=o[8],y=o[9],$=Yn(t,n+0),_=Yn(t,n+2),x=Yn(t,n+4),E=Yn(t,n+6),P=Yn(t,n+8),N=Yn(t,n+10),k=Yn(t,n+12),R=Yn(t,n+14);let T=i[0]+($&8191),L=i[1]+(($>>>13|_<<3)&8191),M=i[2]+((_>>>10|x<<6)&8191),S=i[3]+((x>>>7|E<<9)&8191),w=i[4]+((E>>>4|P<<12)&8191),v=i[5]+(P>>>1&8191),m=i[6]+((P>>>14|N<<2)&8191),b=i[7]+((N>>>11|k<<5)&8191),A=i[8]+((k>>>8|R<<8)&8191),I=i[9]+(R>>>5|s),C=0,O=C+T*a+L*(5*y)+M*(5*g)+S*(5*p)+w*(5*h);C=O>>>13,O&=8191,O+=v*(5*d)+m*(5*f)+b*(5*u)+A*(5*l)+I*(5*c),C+=O>>>13,O&=8191;let B=C+T*c+L*a+M*(5*y)+S*(5*g)+w*(5*p);C=B>>>13,B&=8191,B+=v*(5*h)+m*(5*d)+b*(5*f)+A*(5*u)+I*(5*l),C+=B>>>13,B&=8191;let D=C+T*l+L*c+M*a+S*(5*y)+w*(5*g);C=D>>>13,D&=8191,D+=v*(5*p)+m*(5*h)+b*(5*d)+A*(5*f)+I*(5*u),C+=D>>>13,D&=8191;let z=C+T*u+L*l+M*c+S*a+w*(5*y);C=z>>>13,z&=8191,z+=v*(5*g)+m*(5*p)+b*(5*h)+A*(5*d)+I*(5*f),C+=z>>>13,z&=8191;let j=C+T*f+L*u+M*l+S*c+w*a;C=j>>>13,j&=8191,j+=v*(5*y)+m*(5*g)+b*(5*p)+A*(5*h)+I*(5*d),C+=j>>>13,j&=8191;let U=C+T*d+L*f+M*u+S*l+w*c;C=U>>>13,U&=8191,U+=v*a+m*(5*y)+b*(5*g)+A*(5*p)+I*(5*h),C+=U>>>13,U&=8191;let V=C+T*h+L*d+M*f+S*u+w*l;C=V>>>13,V&=8191,V+=v*c+m*a+b*(5*y)+A*(5*g)+I*(5*p),C+=V>>>13,V&=8191;let q=C+T*p+L*h+M*d+S*f+w*u;C=q>>>13,q&=8191,q+=v*l+m*c+b*a+A*(5*y)+I*(5*g),C+=q>>>13,q&=8191;let X=C+T*g+L*p+M*h+S*d+w*f;C=X>>>13,X&=8191,X+=v*u+m*l+b*c+A*a+I*(5*y),C+=X>>>13,X&=8191;let Z=C+T*y+L*g+M*p+S*h+w*d;C=Z>>>13,Z&=8191,Z+=v*f+m*u+b*l+A*c+I*a,C+=Z>>>13,Z&=8191,C=(C<<2)+C|0,C=C+O|0,O=C&8191,C=C>>>13,B+=C,i[0]=O,i[1]=B,i[2]=D,i[3]=z,i[4]=j,i[5]=U,i[6]=V,i[7]=q,i[8]=X,i[9]=Z}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let s=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=s,s=t[a]>>>13,t[a]&=8191;t[0]+=s*5,s=t[0]>>>13,t[0]&=8191,t[1]+=s,s=t[1]>>>13,t[1]&=8191,t[2]+=s,r[0]=t[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)t[a]=t[a]&i|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let o=t[0]+n[0];t[0]=o&65535;for(let a=1;a<8;a++)o=(t[a]+n[a]|0)+(o>>>16)|0,t[a]=o&65535;Sh(r)}update(t){RB(this),t=LE(t),Es(t);const{buffer:n,blockLen:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(t,i);continue}n.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Sh(this.h,this.r,this.buffer,this.pad)}digestInto(t){RB(this),Ole(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)t[i++]=r[o]>>>0,t[i++]=r[o]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function Zle(e){const t=(r,s)=>e(s).update(LE(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const Wle=Zle(e=>new qle(e));function Kle(e,t,n,r,s,i=20){let o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],f=t[1],d=t[2],h=t[3],p=t[4],g=t[5],y=t[6],$=t[7],_=s,x=n[0],E=n[1],P=n[2],N=o,k=a,R=c,T=l,L=u,M=f,S=d,w=h,v=p,m=g,b=y,A=$,I=_,C=x,O=E,B=P;for(let z=0;z<i;z+=2)N=N+L|0,I=ct(I^N,16),v=v+I|0,L=ct(L^v,12),N=N+L|0,I=ct(I^N,8),v=v+I|0,L=ct(L^v,7),k=k+M|0,C=ct(C^k,16),m=m+C|0,M=ct(M^m,12),k=k+M|0,C=ct(C^k,8),m=m+C|0,M=ct(M^m,7),R=R+S|0,O=ct(O^R,16),b=b+O|0,S=ct(S^b,12),R=R+S|0,O=ct(O^R,8),b=b+O|0,S=ct(S^b,7),T=T+w|0,B=ct(B^T,16),A=A+B|0,w=ct(w^A,12),T=T+w|0,B=ct(B^T,8),A=A+B|0,w=ct(w^A,7),N=N+M|0,B=ct(B^N,16),b=b+B|0,M=ct(M^b,12),N=N+M|0,B=ct(B^N,8),b=b+B|0,M=ct(M^b,7),k=k+S|0,I=ct(I^k,16),A=A+I|0,S=ct(S^A,12),k=k+S|0,I=ct(I^k,8),A=A+I|0,S=ct(S^A,7),R=R+w|0,C=ct(C^R,16),v=v+C|0,w=ct(w^v,12),R=R+w|0,C=ct(C^R,8),v=v+C|0,w=ct(w^v,7),T=T+L|0,O=ct(O^T,16),m=m+O|0,L=ct(L^m,12),T=T+L|0,O=ct(O^T,8),m=m+O|0,L=ct(L^m,7);let D=0;r[D++]=o+N|0,r[D++]=a+k|0,r[D++]=c+R|0,r[D++]=l+T|0,r[D++]=u+L|0,r[D++]=f+M|0,r[D++]=d+S|0,r[D++]=h+w|0,r[D++]=p+v|0,r[D++]=g+m|0,r[D++]=y+b|0,r[D++]=$+A|0,r[D++]=_+I|0,r[D++]=x+C|0,r[D++]=E+O|0,r[D++]=P+B|0}const Gle=Vle(Kle,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Yle=new Uint8Array(16),jB=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(Yle.subarray(n))},Xle=new Uint8Array(32);function zB(e,t,n,r,s){const i=e(t,n,Xle),o=Wle.create(i);s&&jB(o,s),jB(o,r);const a=Dle(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return Sh(i,a),c}const Jle=e=>(t,n,r)=>({encrypt(s,i){const o=s.length;i=DB(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);e(t,n,a,a,1);const c=zB(e,t,n,a,r);return i.set(c,o),Sh(c),i},decrypt(s,i){i=DB(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=zB(e,t,n,o,r);if(!kle(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),e(t,n,i,i,1),Sh(c),i}}),HB=Rle({blockSize:64,nonceLength:12,tagLength:16},Jle(Gle));class VB extends Nw{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Pw(t);const r=vo(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),ki(i)}update(t){return Pu(this),this.iHash.update(t),this}digestInto(t){Pu(this),wo(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Mw=(e,t,n)=>new VB(e,t).update(n).digest();Mw.create=(e,t)=>new VB(e,t);function Qle(e,t,n){return Pw(e),n===void 0&&(n=new Uint8Array(e.outputLen)),Mw(e,vo(n),vo(t))}const zE=Uint8Array.from([0]),qB=Uint8Array.of();function eue(e,t,n,r=32){Pw(e),ll(r);const s=e.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=qB);const o=new Uint8Array(i*s),a=Mw.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)zE[0]=u+1,c.update(u===0?qB:l).update(n).update(zE).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),ki(l,zE),o.slice(0,r)}const tue=(e,t,n,r,s)=>eue(e,Qle(e,t,n),r,s),Uw=Bw,HE=BigInt(0),VE=BigInt(1);function Lw(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function b0(e,t,n=""){const r=Ow(e),s=e?.length,i=t!==void 0;if(!r||i&&s!==t){const o=n&&`"${n}" `,a=i?` of length ${t}`:"",c=r?`length=${s}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function Fw(e){const t=e.toString(16);return t.length&1?"0"+t:t}function ZB(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?HE:BigInt("0x"+e)}function jw(e){return ZB(Ch(e))}function zw(e){return wo(e),ZB(Ch(Uint8Array.from(e).reverse()))}function qE(e,t){return Tw(e.toString(16).padStart(t*2,"0"))}function ZE(e,t){return qE(e,t).reverse()}function Er(e,t,n){let r;if(typeof t=="string")try{r=Tw(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(Ow(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const WE=e=>typeof e=="bigint"&&HE<=e;function nue(e,t,n){return WE(e)&&WE(t)&&WE(n)&&t<=e&&e<n}function KE(e,t,n,r){if(!nue(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function WB(e){let t;for(t=0;e>HE;e>>=VE,t+=1);return t}const Sg=e=>(VE<<BigInt(e))-VE;function rue(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=d=>new Uint8Array(d),s=d=>Uint8Array.of(d);let i=r(e),o=r(e),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...d)=>n(o,i,...d),u=(d=r(0))=>{o=l(s(0),d),i=l(),d.length!==0&&(o=l(s(1),d),i=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<t;){i=l();const p=i.slice();h.push(p),d+=i.length}return Nu(...h)};return(d,h)=>{c(),u(d);let p;for(;!(p=h(f()));)u();return c(),p}}function Hw(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,i,o){const a=e[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(t).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function KB(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const xs=BigInt(0),qr=BigInt(1),w0=BigInt(2),GB=BigInt(3),YB=BigInt(4),XB=BigInt(5),sue=BigInt(7),JB=BigInt(8),iue=BigInt(9),QB=BigInt(16);function oi(e,t){const n=e%t;return n>=xs?n:t+n}function Eo(e,t,n){let r=e;for(;t-- >xs;)r*=r,r%=n;return r}function ek(e,t){if(e===xs)throw new Error("invert: expected non-zero number");if(t<=xs)throw new Error("invert: expected positive modulus, got "+t);let n=oi(e,t),r=t,s=xs,i=qr;for(;n!==xs;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==qr)throw new Error("invert: does not exist");return oi(s,t)}function GE(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function tk(e,t){const n=(e.ORDER+qr)/YB,r=e.pow(t,n);return GE(e,r,t),r}function oue(e,t){const n=(e.ORDER-XB)/JB,r=e.mul(t,w0),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,w0),s),a=e.mul(i,e.sub(o,e.ONE));return GE(e,a,t),a}function aue(e){const t=Fu(e),n=nk(e),r=n(t,t.neg(t.ONE)),s=n(t,r),i=n(t,t.neg(r)),o=(e+sue)/QB;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,r);const f=a.mul(l,s),d=a.mul(l,i),h=a.eql(a.sqr(u),c),p=a.eql(a.sqr(f),c);l=a.cmov(l,u,h),u=a.cmov(d,f,p);const g=a.eql(a.sqr(u),c),y=a.cmov(l,u,g);return GE(a,y,c),y}}function nk(e){if(e<GB)throw new Error("sqrt is not defined for small field");let t=e-qr,n=0;for(;t%w0===xs;)t/=w0,n++;let r=w0;const s=Fu(e);for(;sk(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return tk;let i=s.pow(r,t);const o=(t+qr)/w0;return function(a,c){if(a.is0(c))return c;if(sk(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),f=a.pow(c,t),d=a.pow(c,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let h=1,p=a.sqr(f);for(;!a.eql(p,a.ONE);)if(h++,p=a.sqr(p),h===l)throw new Error("Cannot find square root");const g=qr<<BigInt(l-h-1),y=a.pow(u,g);l=h,u=a.sqr(y),f=a.mul(f,u),d=a.mul(d,y)}return d}}function cue(e){return e%YB===GB?tk:e%JB===XB?oue:e%QB===iue?aue(e):nk(e)}const lue=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function uue(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=lue.reduce((r,s)=>(r[s]="function",r),t);return Hw(e,n),e}function due(e,t,n){if(n<xs)throw new Error("invalid exponent, negatives unsupported");if(n===xs)return e.ONE;if(n===qr)return t;let r=e.ONE,s=t;for(;n>xs;)n&qr&&(r=e.mul(r,s)),s=e.sqr(s),n>>=qr;return r}function rk(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function sk(e,t){const n=(e.ORDER-qr)/w0,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function ik(e,t){t!==void 0&&ll(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Fu(e,t,n=!1,r={}){if(e<=xs)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i,o=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(s=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),a=d.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:c,nByteLength:l}=ik(e,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:Sg(c),ZERO:xs,ONE:qr,allowedLengths:a,create:d=>oi(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return xs<=d&&d<e},is0:d=>d===xs,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&qr)===qr,neg:d=>oi(-d,e),eql:(d,h)=>d===h,sqr:d=>oi(d*d,e),add:(d,h)=>oi(d+h,e),sub:(d,h)=>oi(d-h,e),mul:(d,h)=>oi(d*h,e),pow:(d,h)=>due(f,d,h),div:(d,h)=>oi(d*ek(h,e),e),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>ek(d,e),sqrt:i||(d=>(u||(u=cue(e)),u(f,d))),toBytes:d=>n?ZE(d,l):qE(d,l),fromBytes:(d,h=!0)=>{if(a){if(!a.includes(d.length)||d.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);const g=new Uint8Array(l);g.set(d,n?0:g.length-d.length),d=g}if(d.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+d.length);let p=n?zw(d):jw(d);if(o&&(p=oi(p,e)),!h&&!f.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:d=>rk(f,d),cmov:(d,h,p)=>p?h:d});return Object.freeze(f)}function ok(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ak(e){const t=ok(e);return t+Math.ceil(t/2)}function fue(e,t,n=!1){const r=e.length,s=ok(t),i=ak(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?zw(e):jw(e),a=oi(o,t-qr)+qr;return n?ZE(a,s):qE(a,s)}const Ih=BigInt(0),v0=BigInt(1);function Vw(e,t){const n=t.negate();return e?n:t}function YE(e,t){const n=rk(e.Fp,t.map(r=>r.Z));return t.map((r,s)=>e.fromAffine(r.toAffine(n[s])))}function ck(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function XE(e,t){ck(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=Sg(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function lk(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=v0);const l=t*r,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function hue(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function pue(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const JE=new WeakMap,uk=new WeakMap;function QE(e){return uk.get(e)||1}function dk(e){if(e!==Ih)throw new Error("invalid wNAF")}class gue{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let s=t;for(;n>Ih;)n&v0&&(r=r.add(s)),s=s.double(),n>>=v0;return r}precomputeWindow(t,n){const{windows:r,windowSize:s}=XE(n,this.bits),i=[];let o=t,a=o;for(let c=0;c<r;c++){a=o,i.push(a);for(let l=1;l<s;l++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=XE(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:d,offsetF:h}=lk(r,a,o);r=c,u?i=i.add(Vw(d,n[h])):s=s.add(Vw(f,n[l]))}return dk(r),{p:s,f:i}}wNAFUnsafe(t,n,r,s=this.ZERO){const i=XE(t,this.bits);for(let o=0;o<i.windows&&r!==Ih;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=lk(r,o,i);if(r=a,!l){const f=n[c];s=s.add(u?f.negate():f)}}return dk(r),s}getPrecomputes(t,n,r){let s=JE.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(s=r(s)),JE.set(n,s))),s}cached(t,n,r){const s=QE(t);return this.wNAF(s,this.getPrecomputes(s,t,r),n)}unsafe(t,n,r,s){const i=QE(t);return i===1?this._unsafeLadder(t,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),n,s)}createCache(t,n){ck(n,this.bits),uk.set(t,n),JE.delete(t)}hasCache(t){return QE(t)!==1}}function mue(e,t,n,r){let s=t,i=e.ZERO,o=e.ZERO;for(;n>Ih||r>Ih;)n&v0&&(i=i.add(s)),r&v0&&(o=o.add(s)),s=s.double(),n>>=v0,r>>=v0;return{p1:i,p2:o}}function yue(e,t,n,r){hue(n,e),pue(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=WB(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Sg(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],$=Number(y>>BigInt(h)&l);u[$]=u[$].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(d=d.add(p),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function fk(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return uue(t),t}else return Fu(e,{isLE:n})}function bue(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const a of["p","n","h"]){const c=t[a];if(!(typeof c=="bigint"&&c>Ih))throw new Error(`CURVE.${a} must be positive bigint`)}const s=fk(t.p,n.Fp,r),i=fk(t.n,n.Fn,r),o=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const a of o)if(!s.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),gB("HashToScalar-");const Ig=BigInt(0),_h=BigInt(1),qw=BigInt(2);function wue(e){return Hw(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze(xh({},e))}function vue(e){const t=wue(e),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=t,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||m0,l=a?255:448,u=a?32:56,f=BigInt(a?9:5),d=BigInt(a?121665:39081),h=a?qw**BigInt(254):qw**BigInt(447),p=a?BigInt(8)*qw**BigInt(251)-_h:BigInt(4)*qw**BigInt(445)-_h,g=h+p+_h,y=S=>oi(S,n),$=_(f);function _(S){return ZE(y(S),u)}function x(S){const w=Er("u coordinate",S,u);return a&&(w[31]&=127),y(zw(w))}function E(S){return zw(s(Er("scalar",S,u)))}function P(S,w){const v=R(x(w),E(S));if(v===Ig)throw new Error("invalid private or public key received");return _(v)}function N(S){return P(S,$)}function k(S,w,v){const m=y(S*(w-v));return w=y(w-m),v=y(v+m),{x_2:w,x_3:v}}function R(S,w){KE("u",S,Ig,n),KE("scalar",w,h,g);const v=w,m=S;let b=_h,A=Ig,I=S,C=_h,O=Ig;for(let D=BigInt(l-1);D>=Ig;D--){const z=v>>D&_h;O^=z,{x_2:b,x_3:I}=k(O,b,I),{x_2:A,x_3:C}=k(O,A,C),O=z;const j=b+A,U=y(j*j),V=b-A,q=y(V*V),X=U-q,Z=I+C,Y=I-C,fe=y(Y*j),me=y(Z*V),we=fe+me,Re=fe-me;I=y(we*we),C=y(m*y(Re*Re)),b=y(U*q),A=y(X*(U+y(d*X)))}({x_2:b,x_3:I}=k(O,b,I)),{x_2:A,x_3:C}=k(O,A,C);const B=i(A);return y(b*B)}const T={secretKey:u,publicKey:u,seed:u},L=(S=c(u))=>(wo(S,T.seed),S);function M(S){const w=L(S);return{secretKey:w,publicKey:N(w)}}return{keygen:M,getSharedSecret:(S,w)=>P(S,w),getPublicKey:S=>N(S),scalarMult:P,scalarMultBase:N,utils:{randomSecretKey:L,randomPrivateKey:L},GuBytes:$.slice(),lengths:T}}const Eue=BigInt(1),hk=BigInt(2),xue=BigInt(3),$ue=BigInt(5),Aue=BigInt(8),pk=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Cue={p:pk,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Aue,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Sue(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=pk,o=e*e%i*e%i,a=Eo(o,hk,i)*o%i,c=Eo(a,Eue,i)*e%i,l=Eo(c,$ue,i)*c%i,u=Eo(l,t,i)*l%i,f=Eo(u,n,i)*u%i,d=Eo(f,r,i)*f%i,h=Eo(d,s,i)*d%i,p=Eo(h,s,i)*d%i,g=Eo(p,t,i)*l%i;return{pow_p_5_8:Eo(g,hk,i)*e%i,b2:o}}function Iue(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const _ue=Fu(Cue.p,{isLE:!0}),e9=(()=>{const e=_ue.ORDER;return vue({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=Sue(t);return oi(Eo(n,xue,e)*r,e)},adjustScalarBytes:Iue})})(),gk=(e,t)=>(e+(e>=0?t:-t)/mk)/t;function Oue(e,t,n){const[[r,s],[i,o]]=t,a=gk(o*e,n),c=gk(-s*e,n);let l=e-a*r-c*i,u=-a*s-c*o;const f=l<hl,d=u<hl;f&&(l=-l),d&&(u=-u);const h=Sg(Math.ceil(WB(n)/2))+Oh;if(l<hl||l>=h||u<hl||u>=h)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}function t9(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function n9(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return Lw(n.lowS,"lowS"),Lw(n.prehash,"prehash"),n.format!==void 0&&t9(n.format),n}class Pue extends Error{constructor(t=""){super(t)}}const fl={Err:Pue,_tlv:{encode:(e,t)=>{const{Err:n}=fl;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Fw(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Fw(s.length/2|128):"";return Fw(e)+i+s+t},decode(e,t){const{Err:n}=fl;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=fl;if(e<hl)throw new t("integer: negative integers are not allowed");let n=Fw(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=fl;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return jw(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=fl,s=Er("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=fl,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}},hl=BigInt(0),Oh=BigInt(1),mk=BigInt(2),Zw=BigInt(3),Tue=BigInt(4);function Ph(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let s=Er("private key",t);try{r=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Nue(e,t={}){const n=bue("weierstrass",e,t),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o,n:a}=i;Hw(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=bk(r,s);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(S,w,v){const{x:m,y:b}=w.toAffine(),A=r.toBytes(m);if(Lw(v,"isCompressed"),v){u();const I=!r.isOdd(b);return Nu(yk(I),A)}else return Nu(Uint8Array.of(4),A,r.toBytes(b))}function d(S){b0(S,void 0,"Point");const{publicKey:w,publicKeyUncompressed:v}=l,m=S.length,b=S[0],A=S.subarray(1);if(m===w&&(b===2||b===3)){const I=r.fromBytes(A);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const C=g(I);let O;try{O=r.sqrt(C)}catch(D){const z=D instanceof Error?": "+D.message:"";throw new Error("bad point: is not on curve, sqrt error"+z)}u();const B=r.isOdd(O);return(b&1)===1!==B&&(O=r.neg(O)),{x:I,y:O}}else if(m===v&&b===4){const I=r.BYTES,C=r.fromBytes(A.subarray(0,I)),O=r.fromBytes(A.subarray(I,I*2));if(!y(C,O))throw new Error("bad point: is not on curve");return{x:C,y:O}}else throw new Error(`bad point: got length ${m}, expected compressed=${w} or uncompressed=${v}`)}const h=t.toBytes||f,p=t.fromBytes||d;function g(S){const w=r.sqr(S),v=r.mul(w,S);return r.add(r.add(v,r.mul(S,i.a)),i.b)}function y(S,w){const v=r.sqr(w),m=g(S);return r.eql(v,m)}if(!y(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const $=r.mul(r.pow(i.a,Zw),Tue),_=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add($,_)))throw new Error("bad curve params: a or b");function x(S,w,v=!1){if(!r.isValid(w)||v&&r.is0(w))throw new Error(`bad point coordinate ${S}`);return w}function E(S){if(!(S instanceof T))throw new Error("ProjectivePoint expected")}function P(S){if(!c||!c.basises)throw new Error("no endo");return Oue(S,c.basises,s.ORDER)}const N=KB((S,w)=>{const{X:v,Y:m,Z:b}=S;if(r.eql(b,r.ONE))return{x:v,y:m};const A=S.is0();w==null&&(w=A?r.ONE:r.inv(b));const I=r.mul(v,w),C=r.mul(m,w),O=r.mul(b,w);if(A)return{x:r.ZERO,y:r.ZERO};if(!r.eql(O,r.ONE))throw new Error("invZ was invalid");return{x:I,y:C}}),k=KB(S=>{if(S.is0()){if(t.allowInfinityPoint&&!r.is0(S.Y))return;throw new Error("bad point: ZERO")}const{x:w,y:v}=S.toAffine();if(!r.isValid(w)||!r.isValid(v))throw new Error("bad point: x or y not field elements");if(!y(w,v))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(S,w,v,m,b){return v=new T(r.mul(v.X,S),v.Y,v.Z),w=Vw(m,w),v=Vw(b,v),w.add(v)}class T{constructor(w,v,m){this.X=x("x",w),this.Y=x("y",v,!0),this.Z=x("z",m),Object.freeze(this)}static CURVE(){return i}static fromAffine(w){const{x:v,y:m}=w||{};if(!w||!r.isValid(v)||!r.isValid(m))throw new Error("invalid affine point");if(w instanceof T)throw new Error("projective point not allowed");return r.is0(v)&&r.is0(m)?T.ZERO:new T(v,m,r.ONE)}static fromBytes(w){const v=T.fromAffine(p(b0(w,void 0,"point")));return v.assertValidity(),v}static fromHex(w){return T.fromBytes(Er("pointHex",w))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(w=8,v=!0){return M.createCache(this,w),v||this.multiply(Zw),this}assertValidity(){k(this)}hasEvenY(){const{y:w}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(w)}equals(w){E(w);const{X:v,Y:m,Z:b}=this,{X:A,Y:I,Z:C}=w,O=r.eql(r.mul(v,C),r.mul(A,b)),B=r.eql(r.mul(m,C),r.mul(I,b));return O&&B}negate(){return new T(this.X,r.neg(this.Y),this.Z)}double(){const{a:w,b:v}=i,m=r.mul(v,Zw),{X:b,Y:A,Z:I}=this;let C=r.ZERO,O=r.ZERO,B=r.ZERO,D=r.mul(b,b),z=r.mul(A,A),j=r.mul(I,I),U=r.mul(b,A);return U=r.add(U,U),B=r.mul(b,I),B=r.add(B,B),C=r.mul(w,B),O=r.mul(m,j),O=r.add(C,O),C=r.sub(z,O),O=r.add(z,O),O=r.mul(C,O),C=r.mul(U,C),B=r.mul(m,B),j=r.mul(w,j),U=r.sub(D,j),U=r.mul(w,U),U=r.add(U,B),B=r.add(D,D),D=r.add(B,D),D=r.add(D,j),D=r.mul(D,U),O=r.add(O,D),j=r.mul(A,I),j=r.add(j,j),D=r.mul(j,U),C=r.sub(C,D),B=r.mul(j,z),B=r.add(B,B),B=r.add(B,B),new T(C,O,B)}add(w){E(w);const{X:v,Y:m,Z:b}=this,{X:A,Y:I,Z:C}=w;let O=r.ZERO,B=r.ZERO,D=r.ZERO;const z=i.a,j=r.mul(i.b,Zw);let U=r.mul(v,A),V=r.mul(m,I),q=r.mul(b,C),X=r.add(v,m),Z=r.add(A,I);X=r.mul(X,Z),Z=r.add(U,V),X=r.sub(X,Z),Z=r.add(v,b);let Y=r.add(A,C);return Z=r.mul(Z,Y),Y=r.add(U,q),Z=r.sub(Z,Y),Y=r.add(m,b),O=r.add(I,C),Y=r.mul(Y,O),O=r.add(V,q),Y=r.sub(Y,O),D=r.mul(z,Z),O=r.mul(j,q),D=r.add(O,D),O=r.sub(V,D),D=r.add(V,D),B=r.mul(O,D),V=r.add(U,U),V=r.add(V,U),q=r.mul(z,q),Z=r.mul(j,Z),V=r.add(V,q),q=r.sub(U,q),q=r.mul(z,q),Z=r.add(Z,q),U=r.mul(V,Z),B=r.add(B,U),U=r.mul(Y,Z),O=r.mul(X,O),O=r.sub(O,U),U=r.mul(X,V),D=r.mul(Y,D),D=r.add(D,U),new T(O,B,D)}subtract(w){return this.add(w.negate())}is0(){return this.equals(T.ZERO)}multiply(w){const{endo:v}=t;if(!s.isValidNot0(w))throw new Error("invalid scalar: out of range");let m,b;const A=I=>M.cached(this,I,C=>YE(T,C));if(v){const{k1neg:I,k1:C,k2neg:O,k2:B}=P(w),{p:D,f:z}=A(C),{p:j,f:U}=A(B);b=z.add(U),m=R(v.beta,D,j,I,O)}else{const{p:I,f:C}=A(w);m=I,b=C}return YE(T,[m,b])[0]}multiplyUnsafe(w){const{endo:v}=t,m=this;if(!s.isValid(w))throw new Error("invalid scalar: out of range");if(w===hl||m.is0())return T.ZERO;if(w===Oh)return m;if(M.hasCache(this))return this.multiply(w);if(v){const{k1neg:b,k1:A,k2neg:I,k2:C}=P(w),{p1:O,p2:B}=mue(T,m,A,C);return R(v.beta,O,B,b,I)}else return M.unsafe(m,w)}multiplyAndAddUnsafe(w,v,m){const b=this.multiplyUnsafe(v).add(w.multiplyUnsafe(m));return b.is0()?void 0:b}toAffine(w){return N(this,w)}isTorsionFree(){const{isTorsionFree:w}=t;return o===Oh?!0:w?w(T,this):M.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:w}=t;return o===Oh?this:w?w(T,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(w=!0){return Lw(w,"isCompressed"),this.assertValidity(),h(T,this,w)}toHex(w=!0){return Ch(this.toBytes(w))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(w=!0){return this.toBytes(w)}_setWindowSize(w){this.precompute(w)}static normalizeZ(w){return YE(T,w)}static msm(w,v){return yue(T,s,w,v)}static fromPrivateKey(w){return T.BASE.multiply(Ph(s,w))}}T.BASE=new T(i.Gx,i.Gy,r.ONE),T.ZERO=new T(r.ZERO,r.ONE,r.ZERO),T.Fp=r,T.Fn=s;const L=s.BITS,M=new gue(T,t.endo?Math.ceil(L/2):L);return T.BASE.precompute(8),T}function yk(e){return Uint8Array.of(e?2:3)}function bk(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function Bue(e,t={}){const{Fn:n}=e,r=t.randomBytes||m0,s=Object.assign(bk(e.Fp,n),{seed:ak(n.ORDER)});function i(d){try{return!!Ph(n,d)}catch{return!1}}function o(d,h){const{publicKey:p,publicKeyUncompressed:g}=s;try{const y=d.length;return h===!0&&y!==p||h===!1&&y!==g?!1:!!e.fromBytes(d)}catch{return!1}}function a(d=r(s.seed)){return fue(b0(d,s.seed,"seed"),n.ORDER)}function c(d,h=!0){return e.BASE.multiply(Ph(n,d)).toBytes(h)}function l(d){const h=a(d);return{secretKey:h,publicKey:c(h)}}function u(d){if(typeof d=="bigint")return!1;if(d instanceof e)return!0;const{secretKey:h,publicKey:p,publicKeyUncompressed:g}=s;if(n.allowedLengths||h===p)return;const y=Er("key",d).length;return y===p||y===g}function f(d,h,p=!0){if(u(d)===!0)throw new Error("first arg must be private key");if(u(h)===!1)throw new Error("second arg must be public key");const g=Ph(n,d);return e.fromHex(h).multiply(g).toBytes(p)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:e,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:d=>Ph(n,d),precompute(d=8,h=e.BASE){return h.precompute(d,!1)}},lengths:s})}function kue(e,t,n={}){Pw(t),Hw(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||m0,s=n.hmac||((v,...m)=>Mw(t,v,Nu(...m))),{Fp:i,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:h}=Bue(e,n),p={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},g="compact";function y(v){const m=a>>Oh;return v>m}function $(v,m){if(!o.isValidNot0(m))throw new Error(`invalid signature ${v}: out of range 1..Point.Fn.ORDER`);return m}function _(v,m){t9(m);const b=h.signature,A=m==="compact"?b:m==="recovered"?b+1:void 0;return b0(v,A,`${m} signature`)}class x{constructor(m,b,A){this.r=$("r",m),this.s=$("s",b),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(m,b=g){_(m,b);let A;if(b==="der"){const{r:B,s:D}=fl.toSig(b0(m));return new x(B,D)}b==="recovered"&&(A=m[0],b="compact",m=m.subarray(1));const I=o.BYTES,C=m.subarray(0,I),O=m.subarray(I,I*2);return new x(o.fromBytes(C),o.fromBytes(O),A)}static fromHex(m,b){return this.fromBytes(Tw(m),b)}addRecoveryBit(m){return new x(this.r,this.s,m)}recoverPublicKey(m){const b=i.ORDER,{r:A,s:I,recovery:C}=this;if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");if(a*mk<b&&C>1)throw new Error("recovery id is ambiguous for h>1 curve");const O=C===2||C===3?A+a:A;if(!i.isValid(O))throw new Error("recovery id 2 or 3 invalid");const B=i.toBytes(O),D=e.fromBytes(Nu(yk((C&1)===0),B)),z=o.inv(O),j=P(Er("msgHash",m)),U=o.create(-j*z),V=o.create(I*z),q=e.BASE.multiplyUnsafe(U).add(D.multiplyUnsafe(V));if(q.is0())throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return y(this.s)}toBytes(m=g){if(t9(m),m==="der")return Tw(fl.hexFromSig(this));const b=o.toBytes(this.r),A=o.toBytes(this.s);if(m==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Nu(Uint8Array.of(this.recovery),b,A)}return Nu(b,A)}toHex(m){return Ch(this.toBytes(m))}assertValidity(){}static fromCompact(m){return x.fromBytes(Er("sig",m),"compact")}static fromDER(m){return x.fromBytes(Er("sig",m),"der")}normalizeS(){return this.hasHighS()?new x(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Ch(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Ch(this.toBytes("compact"))}}const E=n.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const m=jw(v),b=v.length*8-c;return b>0?m>>BigInt(b):m},P=n.bits2int_modN||function(v){return o.create(E(v))},N=Sg(c);function k(v){return KE("num < 2^"+c,v,hl,N),o.toBytes(v)}function R(v,m){return b0(v,void 0,"message"),m?b0(t(v),void 0,"prehashed message"):v}function T(v,m,b){if(["recovered","canonical"].some(V=>V in b))throw new Error("sign() legacy options not supported");const{lowS:A,prehash:I,extraEntropy:C}=n9(b,p);v=R(v,I);const O=P(v),B=Ph(o,m),D=[k(B),k(O)];if(C!=null&&C!==!1){const V=C===!0?r(h.secretKey):C;D.push(Er("extraEntropy",V))}const z=Nu(...D),j=O;function U(V){const q=E(V);if(!o.isValidNot0(q))return;const X=o.inv(q),Z=e.BASE.multiply(q).toAffine(),Y=o.create(Z.x);if(Y===hl)return;const fe=o.create(X*o.create(j+Y*B));if(fe===hl)return;let me=(Z.x===Y?0:2)|Number(Z.y&Oh),we=fe;return A&&y(fe)&&(we=o.neg(fe),me^=1),new x(Y,we,me)}return{seed:z,k2sig:U}}function L(v,m,b={}){v=Er("message",v);const{seed:A,k2sig:I}=T(v,m,b);return rue(t.outputLen,o.BYTES,s)(A,I)}function M(v){let m;const b=typeof v=="string"||Ow(v),A=!b&&v!==null&&typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!b&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)m=new x(v.r,v.s);else if(b){try{m=x.fromBytes(Er("sig",v),"der")}catch(I){if(!(I instanceof fl.Err))throw I}if(!m)try{m=x.fromBytes(Er("sig",v),"compact")}catch{return!1}}return m||!1}function S(v,m,b,A={}){const{lowS:I,prehash:C,format:O}=n9(A,p);if(b=Er("publicKey",b),m=R(Er("message",m),C),"strict"in A)throw new Error("options.strict was renamed to lowS");const B=O===void 0?M(v):x.fromBytes(Er("sig",v),O);if(B===!1)return!1;try{const D=e.fromBytes(b);if(I&&B.hasHighS())return!1;const{r:z,s:j}=B,U=P(m),V=o.inv(j),q=o.create(U*V),X=o.create(z*V),Z=e.BASE.multiplyUnsafe(q).add(D.multiplyUnsafe(X));return Z.is0()?!1:o.create(Z.x)===z}catch{return!1}}function w(v,m,b={}){const{prehash:A}=n9(b,p);return m=R(m,A),x.fromBytes(v,"recovered").recoverPublicKey(m).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:h,Point:e,sign:L,verify:S,recoverPublicKey:w,Signature:x,hash:t})}function Rue(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=Fu(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function Due(e){const{CURVE:t,curveOpts:n}=Rue(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function Mue(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,ik(n.Fn.ORDER,n.Fn.BITS))})}function Uue(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:s}=Due(e),i=Nue(t,n),o=kue(i,r,s);return Mue(e,o)}function r9(e,t){const n=r=>Uue(bg(xh({},e),{hash:r}));return bg(xh({},n(t)),{create:n})}const wk={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},vk={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Ek={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Lue=Fu(wk.p),Fue=Fu(vk.p),jue=Fu(Ek.p),zue=r9(bg(xh({},wk),{Fp:Lue,lowS:!1}),Bw);r9(bg(xh({},vk),{Fp:Fue,lowS:!1}),Kce),r9(bg(xh({},Ek),{Fp:jue,lowS:!1,allowedPrivateKeyLengths:[130,131,132]}),Wce);const Hue=zue,xk="base10",Zr="base16",$s="base64pad",ju="base64url",_g="utf8",$k=0,pl=1,Og=2,Vue=0,Ak=1,Pg=12,s9=32;function que(){const e=e9.utils.randomPrivateKey(),t=e9.getPublicKey(e);return{privateKey:St(e,Zr),publicKey:St(t,Zr)}}function i9(){const e=m0(s9);return St(e,Zr)}function Zue(e,t){const n=e9.getSharedSecret(Ht(e,Zr),Ht(t,Zr)),r=tue(Uw,n,void 0,void 0,s9);return St(r,Zr)}function Ww(e){const t=Uw(Ht(e,Zr));return St(t,Zr)}function Ri(e){const t=Uw(Ht(e,_g));return St(t,Zr)}function Ck(e){return Ht(`${e}`,xk)}function E0(e){return Number(St(e,xk))}function Sk(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Ik(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function Wue(e){const t=Ck(typeof e.type<"u"?e.type:$k);if(E0(t)===pl&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?Ht(e.senderPublicKey,Zr):void 0,r=typeof e.iv<"u"?Ht(e.iv,Zr):m0(Pg),s=Ht(e.symKey,Zr),i=HB(s,r).encrypt(Ht(e.message,_g)),o=_k({type:t,sealed:i,iv:r,senderPublicKey:n});return e.encoding===ju?Sk(o):o}function Kue(e){const t=Ht(e.symKey,Zr),{sealed:n,iv:r}=Tg({encoded:e.encoded,encoding:e.encoding}),s=HB(t,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return St(s,_g)}function Gue(e,t){const n=Ck(Og),r=m0(Pg),s=Ht(e,_g),i=_k({type:n,sealed:s,iv:r});return t===ju?Sk(i):i}function Yue(e,t){const{sealed:n}=Tg({encoded:e,encoding:t});return St(n,_g)}function _k(e){if(E0(e.type)===Og)return St(na([e.type,e.sealed]),$s);if(E0(e.type)===pl){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return St(na([e.type,e.senderPublicKey,e.iv,e.sealed]),$s)}return St(na([e.type,e.iv,e.sealed]),$s)}function Tg(e){const t=(e.encoding||$s)===ju?Ik(e.encoded):e.encoded,n=Ht(t,$s),r=n.slice(Vue,Ak),s=Ak;if(E0(r)===pl){const c=s+s9,l=c+Pg,u=n.slice(s,c),f=n.slice(c,l),d=n.slice(l);return{type:r,sealed:d,iv:f,senderPublicKey:u}}if(E0(r)===Og){const c=n.slice(s),l=m0(Pg);return{type:r,sealed:c,iv:l}}const i=s+Pg,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function Xue(e,t){const n=Tg({encoded:e,encoding:t?.encoding});return Ok({type:E0(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?St(n.senderPublicKey,Zr):void 0,receiverPublicKey:t?.receiverPublicKey})}function Ok(e){const t=e?.type||$k;if(t===pl){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function Pk(e){return e.type===pl&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function Tk(e){return e.type===Og}function Jue(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return na([new Uint8Array([4]),t,n])}function Que(e,t){const[n,r,s]=e.split("."),i=Buffer.from(Ik(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=Uw(c),u=Jue(t);if(!Hue.verify(na([o,a]),l,u))throw new Error("Invalid signature");return vh(e).payload}const ede="irn";function Kw(e){return e?.relay||{protocol:ede}}function Th(e){const t=vN[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var tde=Object.defineProperty,nde=Object.defineProperties,rde=Object.getOwnPropertyDescriptors,Nk=Object.getOwnPropertySymbols,sde=Object.prototype.hasOwnProperty,ide=Object.prototype.propertyIsEnumerable,Bk=(e,t,n)=>t in e?tde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o9=(e,t)=>{for(var n in t||(t={}))sde.call(t,n)&&Bk(e,n,t[n]);if(Nk)for(var n of Nk(t))ide.call(t,n)&&Bk(e,n,t[n]);return e},ode=(e,t)=>nde(e,rde(t));function ade(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=e[s];n[i]=o}}),n}function kk(e){if(!e.includes("wc:")){const l=iB(e);l!=null&&l.includes("wc:")&&(e=l)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),s=e.substring(t+1,n).split("@"),i=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(i),a=Object.fromEntries(o.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:cde(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:ade(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function cde(e){return e.startsWith("//")?e.substring(2):e}function lde(e,t="-"){const n="relay",r={};return Object.keys(e).forEach(s=>{const i=s,o=n+t+i;e[i]&&(r[o]=e[i])}),r}function Rk(e){const t=new URLSearchParams,n=o9(o9(ode(o9({},lde(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(n).sort(([r],[s])=>r.localeCompare(s)).forEach(([r,s])=>{s!==void 0&&t.append(r,String(s))}),`${e.protocol}:${e.topic}@${e.version}?${t}`}function Gw(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var ude=Object.defineProperty,dde=Object.defineProperties,fde=Object.getOwnPropertyDescriptors,Dk=Object.getOwnPropertySymbols,hde=Object.prototype.hasOwnProperty,pde=Object.prototype.propertyIsEnumerable,Mk=(e,t,n)=>t in e?ude(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gde=(e,t)=>{for(var n in t||(t={}))hde.call(t,n)&&Mk(e,n,t[n]);if(Dk)for(var n of Dk(t))pde.call(t,n)&&Mk(e,n,t[n]);return e},mde=(e,t)=>dde(e,fde(t));function Nh(e){const t=[];return e.forEach(n=>{const[r,s]=n.split(":");t.push(`${r}:${s}`)}),t}function yde(e){const t=[];return Object.values(e).forEach(n=>{t.push(...Nh(n.accounts))}),t}function bde(e,t){const n=[];return Object.values(e).forEach(r=>{Nh(r.accounts).includes(t)&&n.push(...r.methods)}),n}function wde(e,t){const n=[];return Object.values(e).forEach(r=>{Nh(r.accounts).includes(t)&&n.push(...r.events)}),n}function Yw(e){return e.includes(":")}function Bh(e){return Yw(e)?e.split(":")[0]:e}function Uk(e){var t,n,r;const s={};if(!ca(e))return s;for(const[i,o]of Object.entries(e)){const a=Yw(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=Bh(i);s[u]=mde(gde({},s[u]),{chains:oa(a,(t=s[u])==null?void 0:t.chains),methods:oa(c,(n=s[u])==null?void 0:n.methods),events:oa(l,(r=s[u])==null?void 0:r.events)})}return s}function vde(e){const t={};return e?.forEach(n=>{var r;const[s,i]=n.split(":");t[s]||(t[s]={accounts:[],chains:[],events:[],methods:[]}),t[s].accounts.push(n),(r=t[s].chains)==null||r.push(`${s}:${i}`)}),t}function Lk(e,t){t=t.map(r=>r.replace("did:pkh:",""));const n=vde(t);for(const[r,s]of Object.entries(n))s.methods?s.methods=oa(s.methods,e):s.methods=e,s.events=["chainChanged","accountsChanged"];return n}function Ede(e,t){var n,r,s,i,o,a;const c=Uk(e),l=Uk(t),u={},f=Object.keys(c).concat(Object.keys(l));for(const d of f)u[d]={chains:oa((n=c[d])==null?void 0:n.chains,(r=l[d])==null?void 0:r.chains),methods:oa((s=c[d])==null?void 0:s.methods,(i=l[d])==null?void 0:i.methods),events:oa((o=c[d])==null?void 0:o.events,(a=l[d])==null?void 0:a.events)};return u}const xde={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},$de={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function pe(e,t){const{message:n,code:r}=$de[e];return{message:t?`${n} ${t}`:n,code:r}}function Ut(e,t){const{message:n,code:r}=xde[e];return{message:t?`${n} ${t}`:n,code:r}}function Di(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function ca(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function bn(e){return typeof e>"u"}function ln(e,t){return t&&bn(e)?!0:typeof e=="string"&&!!e.trim().length}function a9(e,t){return t&&bn(e)?!0:typeof e=="number"&&!isNaN(e)}function Ade(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),s=Object.keys(n);let i=!0;return p0(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=e.namespaces[o],u=Nh(a),f=n[o];(!p0(KN(o,f),u)||!p0(f.methods,c)||!p0(f.events,l))&&(i=!1)}),i):!1}function Xw(e){return ln(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function Cde(e){if(ln(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const n=t[0]+":"+t[1];return!!t[2]&&Xw(n)}}return!1}function Sde(e){function t(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(ln(e,!1)){if(t(e))return!0;const n=iB(e);return t(n)}}catch{}return!1}function Ide(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function _de(e){return e?.topic}function Ode(e,t){let n=null;return ln(e?.publicKey,!1)||(n=pe("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function Fk(e){let t=!0;return Di(e)?e.length&&(t=e.every(n=>ln(n,!1))):t=!1,t}function Pde(e,t,n){let r=null;return Di(t)&&t.length?t.forEach(s=>{r||Xw(s)||(r=Ut("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):Xw(e)||(r=Ut("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Tde(e,t,n){let r=null;return Object.entries(e).forEach(([s,i])=>{if(r)return;const o=Pde(s,KN(s,i),`${t} ${n}`);o&&(r=o)}),r}function Nde(e,t){let n=null;return Di(e)?e.forEach(r=>{n||Cde(r)||(n=Ut("UNSUPPORTED_ACCOUNTS",`${t}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Ut("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Bde(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const s=Nde(r?.accounts,`${t} namespace`);s&&(n=s)}),n}function kde(e,t){let n=null;return Fk(e?.methods)?Fk(e?.events)||(n=Ut("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=Ut("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}function jk(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const s=kde(r,`${t}, namespace`);s&&(n=s)}),n}function Rde(e,t,n){let r=null;if(e&&ca(e)){const s=jk(e,t);s&&(r=s);const i=Tde(e,t,n);i&&(r=i)}else r=pe("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function c9(e,t){let n=null;if(e&&ca(e)){const r=jk(e,t);r&&(n=r);const s=Bde(e,t);s&&(n=s)}else n=pe("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function zk(e){return ln(e.protocol,!0)}function Dde(e,t){let n=!1;return t&&!e?n=!0:e&&Di(e)&&e.length&&e.forEach(r=>{n=zk(r)}),n}function Mde(e){return typeof e=="number"}function As(e){return typeof e<"u"&&typeof e!==null}function Ude(e){return!(!e||typeof e!="object"||!e.code||!a9(e.code,!1)||!e.message||!ln(e.message,!1))}function Lde(e){return!(bn(e)||!ln(e.method,!1))}function Fde(e){return!(bn(e)||bn(e.result)&&bn(e.error)||!a9(e.id,!1)||!ln(e.jsonrpc,!1))}function jde(e){return!(bn(e)||!ln(e.name,!1))}function Hk(e,t){return!(!Xw(t)||!yde(e).includes(t))}function zde(e,t,n){return ln(n,!1)?bde(e,t).includes(n):!1}function Hde(e,t,n){return ln(n,!1)?wde(e,t).includes(n):!1}function Vk(e,t,n){let r=null;const s=Vde(e),i=qde(t),o=Object.keys(s),a=Object.keys(i),c=qk(Object.keys(e)),l=qk(Object.keys(t)),u=c.filter(f=>!l.includes(f));return u.length&&(r=pe("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(t).toString()}`)),p0(o,a)||(r=pe("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(f=>{if(!f.includes(":")||r)return;const d=Nh(t[f].accounts);d.includes(f)||(r=pe("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{r||(p0(s[f].methods,i[f].methods)?p0(s[f].events,i[f].events)||(r=pe("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=pe("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function Vde(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(s=>{t[s]={methods:e[n].methods,events:e[n].events}})}),t}function qk(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function qde(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=Nh(e[n].accounts);r?.forEach(s=>{t[s]={accounts:e[n].accounts.filter(i=>i.includes(`${s}:`)),methods:e[n].methods,events:e[n].events}})}}),t}function Zde(e,t){return a9(e,!1)&&e<=t.max&&e>=t.min}function Zk(){const e=wg();return new Promise(t=>{switch(e){case ii.browser:t(Wde());break;case ii.reactNative:t(Kde());break;case ii.node:t(Gde());break;default:t(!0)}})}function Wde(){return $h()&&navigator?.onLine}async function Kde(){if(Iu()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e?.isConnected}return!0}function Gde(){return!0}function Yde(e){switch(wg()){case ii.browser:Xde(e);break;case ii.reactNative:Jde(e);break}}function Xde(e){!Iu()&&$h()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function Jde(e){Iu()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}function Qde(){var e;return $h()&&ei()?((e=ei())==null?void 0:e.visibilityState)==="visible":!0}const l9={};class Ng{static get(t){return l9[t]}static set(t,n){l9[t]=n}static delete(t){delete l9[t]}}function e0e(e){const t=mo.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}function t0e({publicKey:e,signature:t,payload:n}){var r;const s=u9(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=s0e(n.address),a=n.era==="00"?new Uint8Array([0]):u9(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${r0e(n.tip)}`),f=o0e(u),d=new Uint8Array([0,...e,o,...t,...a,...l,...f,...s]),h=i0e(d.length+1);return new Uint8Array([...h,i,...d])}function n0e(e){const t=u9(e),n=RN.blake2b(t,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function u9(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16)))}function r0e(e){return e.startsWith("0x")?e.slice(2):e}function s0e(e){const t=mo.decode(e)[0];return t===42?0:t===60?2:1}function i0e(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([t&255,t>>8&255])}else if(e<1<<30){const t=e<<2|2;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function o0e(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}else if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function a0e(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),n=e0e(e.transaction.address),r=t0e({publicKey:n,signature:t,payload:e.transaction}),s=Buffer.from(r).toString("hex");return n0e(s)}function d9({logger:e,name:t}){const n=typeof e=="string"?Dae({opts:{level:e,name:t}}).logger:e;return n.level=typeof e=="string"?e:e.level,n}class ai{}class c0e extends ai{constructor(t){super()}}const Wk=Q.FIVE_SECONDS,ci={pulse:"heartbeat_pulse"};class Jw extends c0e{constructor(t){super(t),this.events=new Ot.exports.EventEmitter,this.interval=Wk,this.interval=t?.interval||Wk}static async init(t){const n=new Jw(t);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Q.toMiliseconds(this.interval))}pulse(){this.events.emit(ci.pulse)}}const l0e=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,u0e=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,d0e=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function f0e(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){h0e(e);return}return t}function h0e(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Qw(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!d0e.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(l0e.test(e)||u0e.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,f0e)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function p0e(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function Rn(e,...t){try{return p0e(e(...t))}catch(n){return Promise.reject(n)}}function g0e(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function m0e(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function e6(e){if(g0e(e))return String(e);if(m0e(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return e6(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const f9="base64:";function y0e(e){return typeof e=="string"?e:f9+v0e(e)}function b0e(e){return typeof e!="string"||!e.startsWith(f9)?e:w0e(e.slice(f9.length))}function w0e(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function v0e(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function Cs(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function E0e(...e){return Cs(e.join(":"))}function t6(e){return e=Cs(e),e?e+":":""}function x0e(e,t){if(t===void 0)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function $0e(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}function BZe(e){return e}const A0e="memory",C0e=()=>{const e=new Map;return{name:A0e,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function S0e(e={}){const t={mounts:{"":e.driver||C0e()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of t.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:t.mounts[u]};return{base:"",relativeKey:l,driver:t.mounts[""]}},r=(l,u)=>t.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:t.mounts[f]})),s=(l,u)=>{if(t.watching){u=Cs(u);for(const f of t.watchListeners)f(l,u)}},i=async()=>{if(!t.watching){t.watching=!0;for(const l in t.mounts)t.unwatch[l]=await Kk(t.mounts[l],s,l)}},o=async()=>{if(t.watching){for(const l in t.unwatch)await t.unwatch[l]();t.unwatch={},t.watching=!1}},a=(l,u,f)=>{const d=new Map,h=p=>{let g=d.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},d.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",y=Cs(g?p:p.key),$=g?void 0:p.value,_=g||!p.options?u:{...u,...p.options},x=n(y);h(x).items.push({key:y,value:$,relativeKey:x.relativeKey,options:_})}return Promise.all([...d.values()].map(p=>f(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=Cs(l);const{relativeKey:f,driver:d}=n(l);return Rn(d.hasItem,f,u)},getItem(l,u={}){l=Cs(l);const{relativeKey:f,driver:d}=n(l);return Rn(d.getItem,f,u).then(h=>Qw(h))},getItems(l,u={}){return a(l,u,f=>f.driver.getItems?Rn(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(h=>({key:E0e(f.base,h.key),value:Qw(h.value)}))):Promise.all(f.items.map(d=>Rn(f.driver.getItem,d.relativeKey,d.options).then(h=>({key:d.key,value:Qw(h)})))))},getItemRaw(l,u={}){l=Cs(l);const{relativeKey:f,driver:d}=n(l);return d.getItemRaw?Rn(d.getItemRaw,f,u):Rn(d.getItem,f,u).then(h=>b0e(h))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=Cs(l);const{relativeKey:d,driver:h}=n(l);h.setItem&&(await Rn(h.setItem,d,e6(u),f),h.watch||s("update",l))},async setItems(l,u){await a(l,u,async f=>{if(f.driver.setItems)return Rn(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:e6(d.value),options:d.options})),u);f.driver.setItem&&await Promise.all(f.items.map(d=>Rn(f.driver.setItem,d.relativeKey,e6(d.value),d.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=Cs(l);const{relativeKey:d,driver:h}=n(l);if(h.setItemRaw)await Rn(h.setItemRaw,d,u,f);else if(h.setItem)await Rn(h.setItem,d,y0e(u),f);else return;h.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Cs(l);const{relativeKey:f,driver:d}=n(l);d.removeItem&&(await Rn(d.removeItem,f,u),(u.removeMeta||u.removeMata)&&await Rn(d.removeItem,f+"$",u),d.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Cs(l);const{relativeKey:f,driver:d}=n(l),h=Object.create(null);if(d.getMeta&&Object.assign(h,await Rn(d.getMeta,f,u)),!u.nativeOnly){const p=await Rn(d.getItem,f+"$",u).then(g=>Qw(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(h,p))}return h},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=t6(l);const f=r(l,!0);let d=[];const h=[];let p=!0;for(const y of f){y.driver.flags?.maxDepth||(p=!1);const $=await Rn(y.driver.getKeys,y.relativeBase,u);for(const _ of $){const x=y.mountpoint+Cs(_);d.some(E=>x.startsWith(E))||h.push(x)}d=[y.mountpoint,...d.filter(_=>!_.startsWith(y.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return h.filter(y=>(!g||x0e(y,u.maxDepth))&&$0e(y,l))},async clear(l,u={}){l=t6(l),await Promise.all(r(l,!1).map(async f=>{if(f.driver.clear)return Rn(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const d=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(d.map(h=>f.driver.removeItem(h,u)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(l=>Gk(l)))},async watch(l){return await i(),t.watchListeners.push(l),async()=>{t.watchListeners=t.watchListeners.filter(u=>u!==l),t.watchListeners.length===0&&await o()}},async unwatch(){t.watchListeners=[],await o()},mount(l,u){if(l=t6(l),l&&t.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(t.mountpoints.push(l),t.mountpoints.sort((f,d)=>d.length-f.length)),t.mounts[l]=u,t.watching&&Promise.resolve(Kk(u,s,l)).then(f=>{t.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){l=t6(l),!(!l||!t.mounts[l])&&(t.watching&&l in t.unwatch&&(t.unwatch[l]?.(),delete t.unwatch[l]),u&&await Gk(t.mounts[l]),t.mountpoints=t.mountpoints.filter(f=>f!==l),delete t.mounts[l])},getMount(l=""){l=Cs(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Cs(l),r(l,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function Kk(e,t,n){return e.watch?e.watch((r,s)=>t(r,n+s)):()=>{}}async function Gk(e){typeof e.dispose=="function"&&await Rn(e.dispose)}function x0(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Yk(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=x0(n);return(s,i)=>r.then(o=>i(o.transaction(t,s).objectStore(t)))}let h9;function Bg(){return h9||(h9=Yk("keyval-store","keyval")),h9}function Xk(e,t=Bg()){return t("readonly",n=>x0(n.get(e)))}function I0e(e,t,n=Bg()){return n("readwrite",r=>(r.put(t,e),x0(r.transaction)))}function _0e(e,t=Bg()){return t("readwrite",n=>(n.delete(e),x0(n.transaction)))}function O0e(e=Bg()){return e("readwrite",t=>(t.clear(),x0(t.transaction)))}function P0e(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},x0(e.transaction)}function T0e(e=Bg()){return e("readonly",t=>{if(t.getAllKeys)return x0(t.getAllKeys());const n=[];return P0e(t,r=>n.push(r.key)).then(()=>n)})}const N0e="idb-keyval";var B0e=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=s=>t+s;let r;return e.dbName&&e.storeName&&(r=Yk(e.dbName,e.storeName)),{name:N0e,options:e,async hasItem(s){return!(typeof await Xk(n(s),r)>"u")},async getItem(s){return await Xk(n(s),r)??null},setItem(s,i){return I0e(n(s),i,r)},removeItem(s){return _0e(n(s),r)},getKeys(){return T0e(r)},clear(){return O0e(r)}}};const k0e="WALLET_CONNECT_V2_INDEXED_DB",R0e="keyvaluestorage";class D0e{constructor(){this.indexedDb=S0e({driver:B0e({dbName:k0e,storeName:R0e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const n=await this.indexedDb.getItem(t);if(n!==null)return n}async setItem(t,n){await this.indexedDb.setItem(t,ws(n))}async removeItem(t){await this.indexedDb.removeItem(t)}}var p9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n6={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},e.prototype.setItem=function(n,r){this[n]=String(r)},e.prototype.removeItem=function(n){delete this[n]},e.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},e.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof p9<"u"&&p9.localStorage?n6.exports=p9.localStorage:typeof window<"u"&&window.localStorage?n6.exports=window.localStorage:n6.exports=new t})();function M0e(e){var t;return[e[0],sl((t=e[1])!=null?t:"")]}class U0e{constructor(){this.localStorage=n6.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(M0e)}async getItem(t){const n=this.localStorage.getItem(t);if(n!==null)return sl(n)}async setItem(t,n){this.localStorage.setItem(t,ws(n))}async removeItem(t){this.localStorage.removeItem(t)}}const L0e="wc_storage_version",Jk=1,F0e=async(e,t,n)=>{const r=L0e,s=await t.getItem(r);if(s&&s>=Jk){n(t);return}const i=await e.getKeys();if(!i.length){n(t);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await e.getItem(a);await t.setItem(a,l),o.push(a)}}await t.setItem(r,Jk),n(t),j0e(e,o)},j0e=async(e,t)=>{t.length&&t.forEach(async n=>{await e.removeItem(n)})};class Qk{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const t=new U0e;this.storage=t;try{const n=new D0e;F0e(t,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,n){return await this.initialize(),this.storage.setItem(t,n)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),t())},20)})}}var la={exports:{}};const eR=Aw;la.exports=gl;const kg=nfe().console||{},z0e={mapHttpRequest:r6,mapHttpResponse:r6,wrapRequestSerializer:w9,wrapResponseSerializer:w9,wrapErrorSerializer:w9,req:r6,res:r6,err:nR,errWithCause:nR};function zu(e,t){return e==="silent"?1/0:t.levels.values[e]}const g9=Symbol("pino.logFuncs"),m9=Symbol("pino.hierarchy"),H0e={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function tR(e,t){const n={logger:t,parent:e[m9]};t[m9]=n}function V0e(e,t,n){const r={};t.forEach(s=>{r[s]=n[s]?n[s]:kg[s]||kg[H0e[s]||"log"]||kh}),e[g9]=r}function q0e(e,t){return Array.isArray(e)?e.filter(function(r){return r!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function gl(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const n=e.browser.write||kg;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=q0e(e.browser.serialize,r);let i=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=Object.keys(e.customLevels||{}),a=["error","fatal","warn","info","debug","trace"].concat(o);typeof n=="function"&&a.forEach(function(g){n[g]=n}),(e.enabled===!1||e.browser.disabled)&&(e.level="silent");const c=e.level||"info",l=Object.create(n);l.log||(l.log=kh),V0e(l,a,n),tR({},l),Object.defineProperty(l,"levelVal",{get:f}),Object.defineProperty(l,"level",{get:d,set:h});const u={transmit:t,serialize:s,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:a,timestamp:Q0e(e),messageKey:e.messageKey||"msg",onChild:e.onChild||kh};l.levels=Z0e(e),l.level=c,l.isLevelEnabled=function(g){return this.levels.values[g]?this.levels.values[g]>=this.levels.values[this.level]:!1},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=kh,l.serializers=r,l._serialize=s,l._stdErrSerialize=i,l.child=function(...g){return p.call(this,u,...g)},t&&(l._logEvent=b9());function f(){return zu(this.level,this)}function d(){return this._level}function h(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,$0(this,u,l,"error"),$0(this,u,l,"fatal"),$0(this,u,l,"warn"),$0(this,u,l,"info"),$0(this,u,l,"debug"),$0(this,u,l,"trace"),o.forEach(y=>{$0(this,u,l,y)})}function p(g,y,$){if(!y)throw new Error("missing bindings for child Pino");$=$||{},s&&y.serializers&&($.serializers=y.serializers);const _=$.serializers;if(s&&_){var x=Object.assign({},r,_),E=e.browser.serialize===!0?Object.keys(x):s;delete y.serializers,y9([y],E,x,this._stdErrSerialize)}function P(k){this._childLevel=(k._childLevel|0)+1,this.bindings=y,x&&(this.serializers=x,this._serialize=E),t&&(this._logEvent=b9([].concat(k._logEvent.bindings,y)))}P.prototype=this;const N=new P(this);return tR(this,N),N.child=function(...k){return p.call(this,g,...k)},N.level=$.level||this.level,g.onChild(N),N}return l}function Z0e(e){const t=e.customLevels||{},n=Object.assign({},gl.levels.values,t),r=Object.assign({},gl.levels.labels,W0e(t));return{values:n,labels:r}}function W0e(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}gl.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},gl.stdSerializers=z0e,gl.stdTimeFunctions=Object.assign({},{nullTime:rR,epochTime:sR,unixTime:efe,isoTime:tfe});function K0e(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[m9];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}function $0(e,t,n,r){if(Object.defineProperty(e,r,{value:zu(e.level,n)>zu(r,n)?kh:n[g9][r],writable:!0,enumerable:!0,configurable:!0}),e[r]===kh){if(!t.transmit)return;const i=t.transmit.level||e.level,o=zu(i,n);if(zu(r,n)<o)return}e[r]=Y0e(e,t,n,r);const s=K0e(e);s.length!==0&&(e[r]=G0e(s,e[r]))}function G0e(e,t){return function(){return t.apply(this,[...e,...arguments])}}function Y0e(e,t,n,r){return function(s){return function(){const o=t.timestamp(),a=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===kg?kg:this;for(var l=0;l<a.length;l++)a[l]=arguments[l];var u=!1;if(t.serialize&&(y9(a,this._serialize,this.serializers,this._stdErrSerialize),u=!0),t.asObject||t.formatters?s.call(c,...X0e(this,r,a,o,t)):s.apply(c,a),t.transmit){const f=t.transmit.level||e._level,d=zu(f,n),h=zu(r,n);if(h<d)return;J0e(this,{ts:o,methodLevel:r,methodValue:h,transmitLevel:f,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:zu(e._level,n)},a,u)}}}(e[g9][r])}function X0e(e,t,n,r,s){const{level:i,log:o=f=>f}=s.formatters||{},a=n.slice();let c=a[0];const l={};let u=(e._childLevel|0)+1;if(u<1&&(u=1),r&&(l.time=r),i){const f=i(t,e.levels.values[t]);Object.assign(l,f)}else l.level=e.levels.values[t];if(s.asObjectBindingsOnly){if(c!==null&&typeof c=="object")for(;u--&&typeof a[0]=="object";)Object.assign(l,a.shift());return[o(l),...a]}else{if(c!==null&&typeof c=="object"){for(;u--&&typeof a[0]=="object";)Object.assign(l,a.shift());c=a.length?eR(a.shift(),a):void 0}else typeof c=="string"&&(c=eR(a.shift(),a));return c!==void 0&&(l[s.messageKey]=c),[o(l)]}}function y9(e,t,n,r){for(const s in e)if(r&&e[s]instanceof Error)e[s]=gl.stdSerializers.err(e[s]);else if(typeof e[s]=="object"&&!Array.isArray(e[s])&&t)for(const i in e[s])t.indexOf(i)>-1&&i in n&&(e[s][i]=n[i](e[s][i]))}function J0e(e,t,n,r=!1){const s=t.send,i=t.ts,o=t.methodLevel,a=t.methodValue,c=t.val,l=e._logEvent.bindings;r||y9(n,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter(function(u){return l.indexOf(u)===-1}),e._logEvent.level.label=o,e._logEvent.level.value=a,s(o,e._logEvent,c),e._logEvent=b9(l)}function b9(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function nR(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)t[n]===void 0&&(t[n]=e[n]);return t}function Q0e(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?rR:sR}function r6(){return{}}function w9(e){return e}function kh(){}function rR(){return!1}function sR(){return Date.now()}function efe(){return Math.round(Date.now()/1e3)}function tfe(){return new Date(Date.now()).toISOString()}function nfe(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}la.exports.default=gl,la.exports.pino=gl;const rfe={level:"info"},s6="custom_context",v9=1e3*1024;var sfe=Object.defineProperty,ife=(e,t,n)=>t in e?sfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hu=(e,t,n)=>ife(e,typeof t!="symbol"?t+"":t,n);class ofe{constructor(t){Hu(this,"nodeValue"),Hu(this,"sizeInBytes"),Hu(this,"next"),this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class iR{constructor(t){Hu(this,"lengthInNodes"),Hu(this,"sizeInBytes"),Hu(this,"head"),Hu(this,"tail"),Hu(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new ofe(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}}var afe=Object.defineProperty,cfe=(e,t,n)=>t in e?afe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i6=(e,t,n)=>cfe(e,typeof t!="symbol"?t+"":t,n);class oR{constructor(t,n=v9){i6(this,"logs"),i6(this,"level"),i6(this,"levelValue"),i6(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=t??"error",this.levelValue=la.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new iR(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===la.exports.levels.values.error?console.error(t):n===la.exports.levels.values.warn?console.warn(t):n===la.exports.levels.values.debug?console.debug(t):n===la.exports.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(ws({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new iR(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(ws({extraMetadata:t})),new Blob(n,{type:"application/json"})}}var lfe=Object.defineProperty,ufe=(e,t,n)=>t in e?lfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dfe=(e,t,n)=>ufe(e,typeof t!="symbol"?t+"":t,n);class ffe{constructor(t,n=v9){dfe(this,"baseChunkLogger"),this.baseChunkLogger=new oR(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}}var hfe=Object.defineProperty,pfe=(e,t,n)=>t in e?hfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gfe=(e,t,n)=>pfe(e,typeof t!="symbol"?t+"":t,n);class mfe{constructor(t,n=v9){gfe(this,"baseChunkLogger"),this.baseChunkLogger=new oR(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var yfe=Object.defineProperty,bfe=Object.defineProperties,wfe=Object.getOwnPropertyDescriptors,aR=Object.getOwnPropertySymbols,vfe=Object.prototype.hasOwnProperty,Efe=Object.prototype.propertyIsEnumerable,cR=(e,t,n)=>t in e?yfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o6=(e,t)=>{for(var n in t||(t={}))vfe.call(t,n)&&cR(e,n,t[n]);if(aR)for(var n of aR(t))Efe.call(t,n)&&cR(e,n,t[n]);return e},a6=(e,t)=>bfe(e,wfe(t));function xfe(e){return a6(o6({},e),{level:e?.level||rfe.level})}function $fe(e,t,n=s6){return e[n]=t,e}function li(e,t=s6){return e[t]||""}function Afe(e,t,n=s6){const r=li(e,n);return r.trim()?`${r}/${t}`:t}function ui(e,t,n=s6){const r=Afe(e,t,n),s=e.child({context:r});return $fe(s,r,n)}function Cfe(e){var t,n;const r=new ffe((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:la.exports(a6(o6({},e.opts),{level:"trace",browser:a6(o6({},(n=e.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function Sfe(e){var t;const n=new mfe((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:la.exports(a6(o6({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function Ife(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Cfe(e):Sfe(e)}var _fe=Object.defineProperty,Ofe=(e,t,n)=>t in e?_fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lR=(e,t,n)=>Ofe(e,typeof t!="symbol"?t+"":t,n);class Pfe extends ai{constructor(t){super(),this.opts=t,lR(this,"protocol","wc"),lR(this,"version",2)}}var Tfe=Object.defineProperty,Nfe=(e,t,n)=>t in e?Tfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bfe=(e,t,n)=>Nfe(e,typeof t!="symbol"?t+"":t,n);class kfe extends ai{constructor(t,n){super(),this.core=t,this.logger=n,Bfe(this,"records",new Map)}}class Rfe{constructor(t,n){this.logger=t,this.core=n}}class Dfe extends ai{constructor(t,n){super(),this.relayer=t,this.logger=n}}class Mfe extends ai{constructor(t){super()}}class Ufe{constructor(t,n,r,s){this.core=t,this.logger=n,this.name=r}}class Lfe extends ai{constructor(t,n){super(),this.relayer=t,this.logger=n}}class Ffe extends ai{constructor(t,n){super(),this.core=t,this.logger=n}}class jfe{constructor(t,n,r){this.core=t,this.logger=n,this.store=r}}class zfe{constructor(t,n){this.projectId=t,this.logger=n}}class Hfe{constructor(t,n,r){this.core=t,this.logger=n,this.telemetryEnabled=r}}var Vfe=Object.defineProperty,qfe=(e,t,n)=>t in e?Vfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uR=(e,t,n)=>qfe(e,typeof t!="symbol"?t+"":t,n);class Zfe{constructor(t){this.opts=t,uR(this,"protocol","wc"),uR(this,"version",2)}}class Wfe{constructor(t){this.client=t}}const Kfe="PARSE_ERROR",Gfe="INVALID_REQUEST",Yfe="METHOD_NOT_FOUND",Xfe="INVALID_PARAMS",dR="INTERNAL_ERROR",E9="SERVER_ERROR",Jfe=[-32700,-32600,-32601,-32602,-32603],Rg={[Kfe]:{code:-32700,message:"Parse error"},[Gfe]:{code:-32600,message:"Invalid Request"},[Yfe]:{code:-32601,message:"Method not found"},[Xfe]:{code:-32602,message:"Invalid params"},[dR]:{code:-32603,message:"Internal error"},[E9]:{code:-32e3,message:"Server error"}},fR=E9;function Qfe(e){return Jfe.includes(e)}function hR(e){return Object.keys(Rg).includes(e)?Rg[e]:Rg[fR]}function ehe(e){const t=Object.values(Rg).find(n=>n.code===e);return t||Rg[fR]}function pR(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var gR={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var x9=function(e,t){return x9=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},x9(e,t)};function the(e,t){x9(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var $9=function(){return $9=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$9.apply(this,arguments)};function nhe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function rhe(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function she(e,t){return function(n,r){t(n,r,e)}}function ihe(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ohe(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function ahe(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function che(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function lhe(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function A9(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mR(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function uhe(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mR(arguments[t]));return e}function dhe(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Dg(e){return this instanceof Dg?(this.v=e,this):new Dg(e)}function fhe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(d){r[d]&&(s[d]=function(h){return new Promise(function(p,g){i.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{c(r[d](h))}catch(p){f(i[0][3],p)}}function c(d){d.value instanceof Dg?Promise.resolve(d.value.v).then(l,u):f(i[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function hhe(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(o){return(n=!n)?{value:Dg(e[s](o)),done:s==="return"}:i?i(o):o}:i}}function phe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof A9=="function"?A9(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function ghe(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function mhe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function yhe(e){return e&&e.__esModule?e:{default:e}}function bhe(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function whe(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}var vhe=Object.freeze({__proto__:null,__extends:the,get __assign(){return $9},__rest:nhe,__decorate:rhe,__param:she,__metadata:ihe,__awaiter:ohe,__generator:ahe,__createBinding:che,__exportStar:lhe,__values:A9,__read:mR,__spread:uhe,__spreadArrays:dhe,__await:Dg,__asyncGenerator:fhe,__asyncDelegator:hhe,__asyncValues:phe,__makeTemplateObject:ghe,__importStar:mhe,__importDefault:yhe,__classPrivateFieldGet:bhe,__classPrivateFieldSet:whe}),Ehe=w_(vhe),ml={},yR;function xhe(){if(yR)return ml;yR=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.isBrowserCryptoAvailable=ml.getSubtleCrypto=ml.getBrowerCrypto=void 0;function e(){return Tn?.crypto||Tn?.msCrypto||{}}ml.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}ml.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return ml.isBrowserCryptoAvailable=n,ml}var yl={},bR;function $he(){if(bR)return yl;bR=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.isBrowser=yl.isNode=yl.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}yl.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}yl.isNode=t;function n(){return!e()&&!t()}return yl.isBrowser=n,yl}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Ehe;t.__exportStar(xhe(),e),t.__exportStar($he(),e)})(gR);function Dn(e=3){const t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function Wr(e=6){return BigInt(Dn(e))}function rn(e,t,n){return{id:n||Dn(),jsonrpc:"2.0",method:e,params:t}}function ua(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Rh(e,t,n){return{id:e,jsonrpc:"2.0",error:Ahe(t,n)}}function Ahe(e,t){return typeof e>"u"?hR(dR):(typeof e=="string"&&(e=Object.assign(Object.assign({},hR(E9)),{message:e})),typeof t<"u"&&(e.data=t),Qfe(e.code)&&(e=ehe(e.code)),e)}class Che{}class She extends Che{constructor(){super()}}class Ihe extends She{constructor(t){super()}}const _he="^https?:",Ohe="^wss?:";function Phe(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function wR(e,t){const n=Phe(e);return typeof n>"u"?!1:new RegExp(t).test(n)}function vR(e){return wR(e,_he)}function ER(e){return wR(e,Ohe)}function The(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function xR(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Dh(e){return xR(e)&&"method"in e}function A0(e){return xR(e)&&(wn(e)||Xt(e))}function wn(e){return"result"in e}function Xt(e){return"error"in e}class Mh extends Ihe{constructor(t){super(t),this.events=new Ot.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async request(t,n){return this.requestStrict(rn(t.method,t.params||[],t.id||Wr().toString()),n)}async requestStrict(t,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${t.id}`,i=>{Xt(i)?s(i.error):r(i.result)});try{await this.connection.send(t,n)}catch(i){s(i)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),A0(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const Nhe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Bhe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",$R=e=>e.split("?")[0],AR=10,khe=Nhe();class CR{constructor(t){if(this.url=t,this.events=new Ot.exports.EventEmitter,this.registering=!1,!ER(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ws(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!ER(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=t,this.registering=!0,new Promise((n,r)=>{const s=gR.isReactNative()?void 0:{rejectUnauthorized:!The(t)},i=new khe(t,[],s);Bhe()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(t){t.onmessage=n=>this.onPayload(n),t.onclose=n=>this.onClose(n),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?sl(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),s=r.message||r.toString(),i=Rh(t,s);this.events.emit("payload",i)}parseError(t,n=this.url){return pR(t,$R(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>AR&&this.events.setMaxListeners(AR)}emitError(t){const n=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${$R(this.url)}`));return this.events.emit("register_error",n),n}}var Rhe=Object.defineProperty,SR=Object.getOwnPropertySymbols,Dhe=Object.prototype.hasOwnProperty,Mhe=Object.prototype.propertyIsEnumerable,IR=(e,t,n)=>t in e?Rhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kr=(e,t)=>{for(var n in t||(t={}))Dhe.call(t,n)&&IR(e,n,t[n]);if(SR)for(var n of SR(t))Mhe.call(t,n)&&IR(e,n,t[n]);return e};const _R="wc",OR=2,c6="core",da=`${_R}@2:${c6}:`,Uhe={name:c6,logger:"error"},Lhe={database:":memory:"},Fhe="crypto",PR="client_ed25519_seed",jhe=Q.ONE_DAY,zhe="keychain",Hhe="0.3",Vhe="messages",qhe="0.3",Zhe=Q.SIX_HOURS,Whe="publisher",TR="irn",Khe="error",NR="wss://relay.walletconnect.org",Ghe="relayer",sn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Yhe="_subscription",Mi={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Xhe=.1,C9="2.22.4",Lt={link_mode:"link_mode",relay:"relay"},l6={inbound:"inbound",outbound:"outbound"},Jhe="0.3",Qhe="WALLETCONNECT_CLIENT_ID",BR="WALLETCONNECT_LINK_MODE_APPS",di={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},e1e="subscription",t1e="0.3",n1e="pairing",r1e="0.3",Mg={wc_pairingDelete:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Q.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Q.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:0},res:{ttl:Q.ONE_DAY,prompt:!1,tag:0}}},C0={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},xo={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},s1e="history",i1e="0.3",o1e="expirer",Ui={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},a1e="0.3",c1e="verify-api",l1e="https://verify.walletconnect.com",kR="https://verify.walletconnect.org",Ug=kR,u1e=`${Ug}/v3`,d1e=[l1e,kR],f1e="echo",h1e="https://echo.walletconnect.com",fa={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},bl={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},$o={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},S0={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},I0={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},Lg={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},p1e=.1,g1e="event-client",m1e=86400,y1e="https://pulse.walletconnect.org/batch";function b1e(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,$=0,_=p.length;$!==_&&p[$]===0;)$++,g++;for(var x=(_-$)*u+1>>>0,E=new Uint8Array(x);$!==_;){for(var P=p[$],N=0,k=x-1;(P!==0||N<y)&&k!==-1;k--,N++)P+=256*E[k]>>>0,E[k]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");y=N,$++}for(var R=x-y;R!==x&&E[R]===0;)R++;for(var T=c.repeat(g);R<x;++R)T+=e.charAt(E[R]);return T}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,$=0;p[g]===c;)y++,g++;for(var _=(p.length-g)*l+1>>>0,x=new Uint8Array(_);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var P=0,N=_-1;(E!==0||P<$)&&N!==-1;N--,P++)E+=a*x[N]>>>0,x[N]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");$=P,g++}if(p[g]!==" "){for(var k=_-$;k!==_&&x[k]===0;)k++;for(var R=new Uint8Array(y+(_-k)),T=y;k!==_;)R[T++]=x[k++];return R}}}function h(p){var g=d(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var w1e=b1e,v1e=w1e;const RR=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},E1e=e=>new TextEncoder().encode(e),x1e=e=>new TextDecoder().decode(e);class $1e{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class A1e{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return DR(this,t)}}class C1e{constructor(t){this.decoders=t}or(t){return DR(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const DR=(e,t)=>new C1e(Kr(Kr({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class S1e{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new $1e(t,n,r),this.decoder=new A1e(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const u6=({name:e,prefix:t,encode:n,decode:r})=>new S1e(e,t,n,r),Fg=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=v1e(n,t);return u6({prefix:e,name:t,encode:r,decode:i=>RR(s(i))})},I1e=(e,t,n,r)=>{const s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let i=e.length;for(;e[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},_1e=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,i+=t[s&a>>o];if(o&&(i+=t[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Xn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>u6({prefix:t,name:e,encode(s){return _1e(s,r,n)},decode(s){return I1e(s,r,n,e)}}),O1e=u6({prefix:"\0",name:"identity",encode:e=>x1e(e),decode:e=>E1e(e)});var P1e=Object.freeze({__proto__:null,identity:O1e});const T1e=Xn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var N1e=Object.freeze({__proto__:null,base2:T1e});const B1e=Xn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var k1e=Object.freeze({__proto__:null,base8:B1e});const R1e=Fg({prefix:"9",name:"base10",alphabet:"0123456789"});var D1e=Object.freeze({__proto__:null,base10:R1e});const M1e=Xn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),U1e=Xn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var L1e=Object.freeze({__proto__:null,base16:M1e,base16upper:U1e});const F1e=Xn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),j1e=Xn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),z1e=Xn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),H1e=Xn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),V1e=Xn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),q1e=Xn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Z1e=Xn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),W1e=Xn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),K1e=Xn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var G1e=Object.freeze({__proto__:null,base32:F1e,base32upper:j1e,base32pad:z1e,base32padupper:H1e,base32hex:V1e,base32hexupper:q1e,base32hexpad:Z1e,base32hexpadupper:W1e,base32z:K1e});const Y1e=Fg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),X1e=Fg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var J1e=Object.freeze({__proto__:null,base36:Y1e,base36upper:X1e});const Q1e=Fg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),epe=Fg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var tpe=Object.freeze({__proto__:null,base58btc:Q1e,base58flickr:epe});const npe=Xn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),rpe=Xn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),spe=Xn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ipe=Xn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ope=Object.freeze({__proto__:null,base64:npe,base64pad:rpe,base64url:spe,base64urlpad:ipe});const MR=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),ape=MR.reduce((e,t,n)=>(e[n]=t,e),[]),cpe=MR.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function lpe(e){return e.reduce((t,n)=>(t+=ape[n],t),"")}function upe(e){const t=[];for(const n of e){const r=cpe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const dpe=u6({prefix:"\u{1F680}",name:"base256emoji",encode:lpe,decode:upe});var fpe=Object.freeze({__proto__:null,base256emoji:dpe}),hpe=LR,UR=128,ppe=127,gpe=~ppe,mpe=Math.pow(2,31);function LR(e,t,n){t=t||[],n=n||0;for(var r=n;e>=mpe;)t[n++]=e&255|UR,e/=128;for(;e&gpe;)t[n++]=e&255|UR,e>>>=7;return t[n]=e|0,LR.bytes=n-r+1,t}var ype=S9,bpe=128,FR=127;function S9(e,r){var n=0,r=r||0,s=0,i=r,o,a=e.length;do{if(i>=a)throw S9.bytes=0,new RangeError("Could not decode varint");o=e[i++],n+=s<28?(o&FR)<<s:(o&FR)*Math.pow(2,s),s+=7}while(o>=bpe);return S9.bytes=i-r,n}var wpe=Math.pow(2,7),vpe=Math.pow(2,14),Epe=Math.pow(2,21),xpe=Math.pow(2,28),$pe=Math.pow(2,35),Ape=Math.pow(2,42),Cpe=Math.pow(2,49),Spe=Math.pow(2,56),Ipe=Math.pow(2,63),_pe=function(e){return e<wpe?1:e<vpe?2:e<Epe?3:e<xpe?4:e<$pe?5:e<Ape?6:e<Cpe?7:e<Spe?8:e<Ipe?9:10},Ope={encode:hpe,decode:ype,encodingLength:_pe},jR=Ope;const zR=(e,t,n=0)=>(jR.encode(e,t,n),t),HR=e=>jR.encodingLength(e),I9=(e,t)=>{const n=t.byteLength,r=HR(e),s=r+HR(n),i=new Uint8Array(s+n);return zR(e,i,0),zR(n,i,r),i.set(t,s),new Ppe(e,n,t,i)};class Ppe{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}}const VR=({name:e,code:t,encode:n})=>new Tpe(e,t,n);class Tpe{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?I9(this.code,n):n.then(r=>I9(this.code,r))}else throw Error("Unknown type, must be binary type")}}const qR=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Npe=VR({name:"sha2-256",code:18,encode:qR("SHA-256")}),Bpe=VR({name:"sha2-512",code:19,encode:qR("SHA-512")});var kpe=Object.freeze({__proto__:null,sha256:Npe,sha512:Bpe});const ZR=0,Rpe="identity",WR=RR;var Dpe=Object.freeze({__proto__:null,identity:{code:ZR,name:Rpe,encode:WR,digest:e=>I9(ZR,WR(e))}});new TextEncoder,new TextDecoder;const KR=Kr(Kr(Kr(Kr(Kr(Kr(Kr(Kr(Kr(Kr({},P1e),N1e),k1e),D1e),L1e),G1e),J1e),tpe),ope),fpe);Kr(Kr({},kpe),Dpe);function GR(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Mpe(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?GR(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function YR(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const XR=YR("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),_9=YR("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=Mpe(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Upe=Kr({utf8:XR,"utf-8":XR,hex:KR.base16,latin1:_9,ascii:_9,binary:_9},KR);function Lpe(e,t="utf8"){const n=Upe[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?GR(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}var Fpe=Object.defineProperty,jpe=(e,t,n)=>t in e?Fpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ha=(e,t,n)=>jpe(e,typeof t!="symbol"?t+"":t,n);class zpe{constructor(t,n){this.core=t,this.logger=n,ha(this,"keychain",new Map),ha(this,"name",zhe),ha(this,"version",Hhe),ha(this,"initialized",!1),ha(this,"storagePrefix",da),ha(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),ha(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),ha(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),ha(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=pe("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),ha(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=t,this.logger=ui(n,this.name)}get context(){return li(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,CE(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?SE(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=pe("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Hpe=Object.defineProperty,Vpe=(e,t,n)=>t in e?Hpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mn=(e,t,n)=>Vpe(e,typeof t!="symbol"?t+"":t,n);class qpe{constructor(t,n,r){this.core=t,this.logger=n,Mn(this,"name",Fhe),Mn(this,"keychain"),Mn(this,"randomSessionIdentifier",i9()),Mn(this,"initialized",!1),Mn(this,"clientId"),Mn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Mn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Mn(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const s=await this.getClientSeed(),i=bw(s),o=lE(i.publicKey);return this.clientId=o,o}),Mn(this,"generateKeyPair",()=>{this.isInitialized();const s=que();return this.setPrivateKey(s.publicKey,s.privateKey)}),Mn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=bw(i),a=this.randomSessionIdentifier;return await tN(a,s,jhe,o)}),Mn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=Zue(a,i);return this.setSymKey(c,o)}),Mn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||Ww(s);return await this.keychain.set(o,s),o}),Mn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Mn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Mn(this,"encode",async(s,i,o)=>{this.isInitialized();const a=Ok(o),c=ws(i);if(Tk(a))return Gue(c,o?.encoding);if(Pk(a)){const d=a.senderPublicKey,h=a.receiverPublicKey;s=await this.generateSharedKey(d,h)}const l=this.getSymKey(s),{type:u,senderPublicKey:f}=a;return Wue({type:u,symKey:l,message:c,senderPublicKey:f,encoding:o?.encoding})}),Mn(this,"decode",async(s,i,o)=>{this.isInitialized();const a=Xue(i,o);if(Tk(a)){const c=Yue(i,o?.encoding);return sl(c)}if(Pk(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=Kue({symKey:c,encoded:i,encoding:o?.encoding});return sl(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Mn(this,"getPayloadType",(s,i=$s)=>{const o=Tg({encoded:s,encoding:i});return E0(o.type)}),Mn(this,"getPayloadSenderPublicKey",(s,i=$s)=>{const o=Tg({encoded:s,encoding:i});return o.senderPublicKey?St(o.senderPublicKey,Zr):void 0}),this.core=t,this.logger=ui(n,this.name),this.keychain=r||new zpe(this.core,this.logger)}get context(){return li(this.logger)}async setPrivateKey(t,n){return await this.keychain.set(t,n),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(PR)}catch{t=i9(),await this.keychain.set(PR,t)}return Lpe(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=pe("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Zpe=Object.defineProperty,Wpe=Object.defineProperties,Kpe=Object.getOwnPropertyDescriptors,JR=Object.getOwnPropertySymbols,Gpe=Object.prototype.hasOwnProperty,Ype=Object.prototype.propertyIsEnumerable,O9=(e,t,n)=>t in e?Zpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xpe=(e,t)=>{for(var n in t||(t={}))Gpe.call(t,n)&&O9(e,n,t[n]);if(JR)for(var n of JR(t))Ype.call(t,n)&&O9(e,n,t[n]);return e},Jpe=(e,t)=>Wpe(e,Kpe(t)),fi=(e,t,n)=>O9(e,typeof t!="symbol"?t+"":t,n);class Qpe extends Rfe{constructor(t,n){super(t,n),this.logger=t,this.core=n,fi(this,"messages",new Map),fi(this,"messagesWithoutClientAck",new Map),fi(this,"name",Vhe),fi(this,"version",qhe),fi(this,"initialized",!1),fi(this,"storagePrefix",da),fi(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),fi(this,"set",async(r,s,i)=>{this.isInitialized();const o=Ri(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===l6.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Jpe(Xpe({},c),{[o]:s}))}return await this.persist(),o}),fi(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),fi(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),fi(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=Ri(s);return typeof i[o]<"u"}),fi(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=Ri(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),fi(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=ui(t,this.name),this.core=n}get context(){return li(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,CE(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,CE(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?SE(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?SE(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=pe("NOT_INITIALIZED",this.name);throw new Error(t)}}}var ege=Object.defineProperty,tge=Object.defineProperties,nge=Object.getOwnPropertyDescriptors,QR=Object.getOwnPropertySymbols,rge=Object.prototype.hasOwnProperty,sge=Object.prototype.propertyIsEnumerable,P9=(e,t,n)=>t in e?ege(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uh=(e,t)=>{for(var n in t||(t={}))rge.call(t,n)&&P9(e,n,t[n]);if(QR)for(var n of QR(t))sge.call(t,n)&&P9(e,n,t[n]);return e},eD=(e,t)=>tge(e,nge(t)),Li=(e,t,n)=>P9(e,typeof t!="symbol"?t+"":t,n);class ige extends Dfe{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,Li(this,"events",new Ot.exports.EventEmitter),Li(this,"name",Whe),Li(this,"queue",new Map),Li(this,"publishTimeout",Q.toMiliseconds(Q.ONE_MINUTE)),Li(this,"initialPublishTimeout",Q.toMiliseconds(Q.ONE_SECOND*15)),Li(this,"needsTransportRestart",!1),Li(this,"publish",async(r,s,i)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const f=i?.ttl||Zhe,d=i?.prompt||!1,h=i?.tag||0,p=i?.id||Wr().toString(),g=Th(Kw().protocol),y={id:p,method:i?.publishMethod||g.publish,params:Uh({topic:r,message:s,ttl:f,prompt:d,tag:h,attestation:i?.attestation},i?.tvf)},$=`Failed to publish payload, please try again. id:${p} tag:${h}`;try{bn((o=y.params)==null?void 0:o.prompt)&&((a=y.params)==null||delete a.prompt),bn((c=y.params)==null?void 0:c.tag)&&((l=y.params)==null||delete l.tag);const _=new Promise(async x=>{const E=({id:N})=>{var k;((k=y.id)==null?void 0:k.toString())===N.toString()&&(this.removeRequestFromQueue(N),this.relayer.events.removeListener(sn.publish,E),x())};this.relayer.events.on(sn.publish,E);const P=sa(new Promise((N,k)=>{this.rpcPublish(y,i).then(N).catch(R=>{this.logger.warn(R,R?.message),k(R)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${p} tag:${h}`);try{await P,this.events.removeListener(sn.publish,E)}catch(N){this.queue.set(p,{request:y,opts:i,attempt:1}),this.logger.warn(N,N?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,topic:r,message:s,opts:i}}),await sa(_,this.publishTimeout,$)}catch(_){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(_),(u=i?.internal)!=null&&u.throwOnFailedPublish)throw _}finally{this.queue.delete(p)}}),Li(this,"publishCustom",async r=>{var s,i,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:l,opts:u={}}=r,{attestation:f,tvf:d,publishMethod:h,prompt:p,tag:g,ttl:y=Q.FIVE_MINUTES}=u,$=u.id||Wr().toString(),_=Th(Kw().protocol),x=h||_.publish,E={id:$,method:x,params:Uh(eD(Uh({},l),{ttl:y,prompt:p,tag:g,attestation:f}),d)},P=`Failed to publish custom payload, please try again. id:${$} tag:${g}`;try{bn((s=E.params)==null?void 0:s.prompt)&&((i=E.params)==null||delete i.prompt),bn((o=E.params)==null?void 0:o.tag)&&((a=E.params)==null||delete a.tag);const N=new Promise(async k=>{const R=({id:L})=>{var M;((M=E.id)==null?void 0:M.toString())===L.toString()&&(this.removeRequestFromQueue(L),this.relayer.events.removeListener(sn.publish,R),k())};this.relayer.events.on(sn.publish,R);const T=sa(new Promise((L,M)=>{this.rpcPublish(E,u).then(L).catch(S=>{this.logger.warn(S,S?.message),M(S)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${x} id:${$} tag:${g}`);try{await T,this.events.removeListener(sn.publish,R)}catch(L){this.queue.set($,{request:E,opts:u,attempt:1}),this.logger.warn(L,L?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:$,payload:l,opts:u}}),await sa(N,this.publishTimeout,P)}catch(N){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(N),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw N}finally{this.queue.delete($)}}),Li(this,"on",(r,s)=>{this.events.on(r,s)}),Li(this,"once",(r,s)=>{this.events.once(r,s)}),Li(this,"off",(r,s)=>{this.events.off(r,s)}),Li(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=t,this.logger=ui(n,this.name),this.registerEventListeners()}get context(){return li(this.logger)}async rpcPublish(t,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:t});const r=await this.relayer.request(t);return this.relayer.events.emit(sn.publish,Uh(Uh({},t),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,n)=>{var r;const s=t.attempt+1;this.queue.set(n,eD(Uh({},t),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${t.request.id}, tag: ${(r=t.request.params)==null?void 0:r.tag}, attempt: ${s}`),await this.rpcPublish(t.request,t.opts),this.logger.warn({},`Publisher: queue->published: ${t.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(ci.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(sn.connection_stalled);return}this.checkQueue()}),this.relayer.on(sn.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}var oge=Object.defineProperty,age=(e,t,n)=>t in e?oge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lh=(e,t,n)=>age(e,typeof t!="symbol"?t+"":t,n);class cge{constructor(){Lh(this,"map",new Map),Lh(this,"set",(t,n)=>{const r=this.get(t);this.exists(t,n)||this.map.set(t,[...r,n])}),Lh(this,"get",t=>this.map.get(t)||[]),Lh(this,"exists",(t,n)=>this.get(t).includes(n)),Lh(this,"delete",(t,n)=>{if(typeof n>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(t);return}this.map.set(t,s)}),Lh(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var lge=Object.defineProperty,uge=Object.defineProperties,dge=Object.getOwnPropertyDescriptors,tD=Object.getOwnPropertySymbols,fge=Object.prototype.hasOwnProperty,hge=Object.prototype.propertyIsEnumerable,T9=(e,t,n)=>t in e?lge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jg=(e,t)=>{for(var n in t||(t={}))fge.call(t,n)&&T9(e,n,t[n]);if(tD)for(var n of tD(t))hge.call(t,n)&&T9(e,n,t[n]);return e},N9=(e,t)=>uge(e,dge(t)),Tt=(e,t,n)=>T9(e,typeof t!="symbol"?t+"":t,n);class pge extends Lfe{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,Tt(this,"subscriptions",new Map),Tt(this,"topicMap",new cge),Tt(this,"events",new Ot.exports.EventEmitter),Tt(this,"name",e1e),Tt(this,"version",t1e),Tt(this,"pending",new Map),Tt(this,"cached",[]),Tt(this,"initialized",!1),Tt(this,"storagePrefix",da),Tt(this,"subscribeTimeout",Q.toMiliseconds(Q.ONE_MINUTE)),Tt(this,"initialSubscribeTimeout",Q.toMiliseconds(Q.ONE_SECOND*15)),Tt(this,"clientId"),Tt(this,"batchSubscribeTopicsLimit",500),Tt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Tt(this,"subscribe",async(r,s)=>{var i;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const o=Kw(s),a={topic:r,relay:o,transportType:s?.transportType};(i=s?.internal)!=null&&i.skipSubscribe||this.pending.set(r,a);const c=await this.rpcSubscribe(r,o,s);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),Tt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),Tt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),Tt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),Tt(this,"on",(r,s)=>{this.events.on(r,s)}),Tt(this,"once",(r,s)=>{this.events.once(r,s)}),Tt(this,"off",(r,s)=>{this.events.off(r,s)}),Tt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),Tt(this,"start",async()=>{await this.onConnect()}),Tt(this,"stop",async()=>{await this.onDisconnect()}),Tt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Tt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),Tt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(ci.pulse,async()=>{await this.checkPending()}),this.events.on(di.created,async r=>{const s=di.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(di.deleted,async r=>{const s=di.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=t,this.logger=ui(n,this.name),this.clientId=""}get context(){return li(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,n){let r=!1;try{r=this.getSubscription(t).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,n){const r=this.topicMap.get(t);await Promise.all(r.map(async s=>await this.unsubscribeById(t,s,n)))}async unsubscribeById(t,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}});try{const s=Kw(r);await this.restartToComplete({topic:t,id:n,relay:s}),await this.rpcUnsubscribe(t,n,s);const i=Ut("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(t,n,r){var s,i;const o=await this.getSubscriptionId(t);if((s=r?.internal)!=null&&s.skipSubscribe)return o;(!r||r?.transportType===Lt.relay)&&await this.restartToComplete({topic:t,id:t,relay:n});const a={method:Th(n.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(i=r?.internal)==null?void 0:i.throwOnFailedPublish;try{if(r?.transportType===Lt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(f=>this.logger.warn(f))},Q.toMiliseconds(Q.ONE_SECOND)),o;const l=new Promise(async f=>{const d=h=>{h.topic===t&&(this.events.removeListener(di.created,d),f(h.id))};this.events.on(di.created,d);try{const h=await sa(new Promise((p,g)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y?.message),g(y)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(di.created,d),f(h)}catch{}}),u=await sa(l,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${t} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(sn.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(t){if(!t.length)return;const n=t[0].relay,r={method:Th(n.protocol).batchSubscribe,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await sa(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(sn.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const n=t[0].relay,r={method:Th(n.protocol).batchFetchMessages,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await sa(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(sn.connection_stalled)}return s}rpcUnsubscribe(t,n,r){const s={method:Th(r.protocol).unsubscribe,params:{topic:t,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(t,n){this.setSubscription(t,N9(jg({},n),{id:t})),this.pending.delete(n.topic)}onBatchSubscribe(t){t.length&&t.forEach(n=>{this.setSubscription(n.id,jg({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(t,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:n}),this.addSubscription(t,n)}addSubscription(t,n){this.subscriptions.set(t,jg({},n)),this.topicMap.set(n.topic,t),this.events.emit(di.created,n)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const n=this.subscriptions.get(t);if(!n){const{message:r}=pe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}deleteSubscription(t,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:n});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(di.deleted,N9(jg({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(di.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(di.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size&&!t.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=pe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async n=>N9(jg({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const n=await this.rpcBatchFetchMessages(t);n&&n.messages&&(await hce(Q.toMiliseconds(Q.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=pe("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return Ri(t+await this.getClientId())}}var gge=Object.defineProperty,nD=Object.getOwnPropertySymbols,mge=Object.prototype.hasOwnProperty,yge=Object.prototype.propertyIsEnumerable,B9=(e,t,n)=>t in e?gge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rD=(e,t)=>{for(var n in t||(t={}))mge.call(t,n)&&B9(e,n,t[n]);if(nD)for(var n of nD(t))yge.call(t,n)&&B9(e,n,t[n]);return e},lt=(e,t,n)=>B9(e,typeof t!="symbol"?t+"":t,n);class bge extends Mfe{constructor(t){var n;super(t),lt(this,"protocol","wc"),lt(this,"version",2),lt(this,"core"),lt(this,"logger"),lt(this,"events",new Ot.exports.EventEmitter),lt(this,"provider"),lt(this,"messages"),lt(this,"subscriber"),lt(this,"publisher"),lt(this,"name",Ghe),lt(this,"transportExplicitlyClosed",!1),lt(this,"initialized",!1),lt(this,"connectionAttemptInProgress",!1),lt(this,"relayUrl"),lt(this,"projectId"),lt(this,"packageName"),lt(this,"bundleId"),lt(this,"hasExperiencedNetworkDisruption",!1),lt(this,"pingTimeout"),lt(this,"heartBeatTimeout",Q.toMiliseconds(Q.THIRTY_SECONDS+Q.FIVE_SECONDS)),lt(this,"reconnectTimeout"),lt(this,"connectPromise"),lt(this,"reconnectInProgress",!1),lt(this,"requestsInFlight",[]),lt(this,"connectTimeout",Q.toMiliseconds(Q.ONE_SECOND*15)),lt(this,"request",async r=>{var s,i;this.logger.debug("Publishing Request Payload");const o=r.id||Wr().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:r.method,topic:(s=r.params)==null?void 0:s.topic},"relayer.request - publishing...");const a=`${o}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(a);const c=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),lt(this,"resetPingTimeout",()=>{Iw()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,s,i,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null?void 0:i.terminate)==null||o.call(i)}catch(a){this.logger.warn(a,a?.message)}},this.heartBeatTimeout))}),lt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),lt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(sn.connect)}),lt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect()}),lt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(sn.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),lt(this,"registerProviderListeners",()=>{this.provider.on(Mi.payload,this.onPayloadHandler),this.provider.on(Mi.connect,this.onConnectHandler),this.provider.on(Mi.disconnect,this.onDisconnectHandler),this.provider.on(Mi.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=d9({logger:(n=t.logger)!=null?n:Khe,name:this.name}),this.messages=new Qpe(this.logger,t.core),this.subscriber=new pge(this,this.logger),this.publisher=new ige(this,this.logger),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||NR,Xae()?this.packageName=JN():Jae()&&(this.bundleId=JN()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(t=>this.logger.warn(t,t?.message))}get context(){return li(this.logger)}get connected(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,n,r){this.isInitialized(),await this.publisher.publish(t,n,r),await this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now(),transportType:Lt.relay},l6.outbound)}async publishCustom(t){this.isInitialized(),await this.publisher.publishCustom(t)}async subscribe(t,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n?.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(t))==null?void 0:i[0])||"",c;const l=u=>{u.topic===t&&(this.subscriber.off(di.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(di.created,l)}),new Promise(async(u,f)=>{a=await this.subscriber.subscribe(t,rD({internal:{throwOnFailedPublish:o}},n)).catch(d=>{o&&f(d)})||a,u()})]),a}async unsubscribe(t,n){this.isInitialized(),await this.subscriber.unsubscribe(t,n)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await sa(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(t).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Zk())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(t?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=t.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+s?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(t,n){const{topic:r}=t;if(!n.sessionExists){const s=cn(Q.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(sn.message,t),await this.recordMessageEvent(t,l6.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(Mi.disconnect,i),await sa(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(Mi.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Mi.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Mi.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Q.toMiliseconds(n*1))),n++}}startPingTimeout(){var t,n,r,s,i;if(Iw())try{(n=(t=this.provider)==null?void 0:t.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Mh(new CR(rce({sdkVersion:C9,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,n){const{topic:r,message:s}=t;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(t){const{topic:n,message:r}=t;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Dh(t)){if(!t.method.endsWith(Yhe))return;const n=t.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:Lt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(rD({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else A0(t)&&this.events.emit(sn.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,l6.inbound),this.events.emit(sn.message,t))}async acknowledgePayload(t){const n=ua(t.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Mi.payload,this.onPayloadHandler),this.provider.off(Mi.connect,this.onConnectHandler),this.provider.off(Mi.disconnect,this.onDisconnectHandler),this.provider.off(Mi.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await Zk();Yde(async n=>{t!==n&&(t=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(ci.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Qde())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(sn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Q.toMiliseconds(Xhe)))))}isInitialized(){if(!this.initialized){const{message:t}=pe("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function wge(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function sD(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function iD(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const vge="[object RegExp]",Ege="[object String]",xge="[object Number]",$ge="[object Boolean]",oD="[object Arguments]",Age="[object Symbol]",Cge="[object Date]",Sge="[object Map]",Ige="[object Set]",_ge="[object Array]",Oge="[object Function]",Pge="[object ArrayBuffer]",k9="[object Object]",Tge="[object Error]",Nge="[object DataView]",Bge="[object Uint8Array]",kge="[object Uint8ClampedArray]",Rge="[object Uint16Array]",Dge="[object Uint32Array]",Mge="[object BigUint64Array]",Uge="[object Int8Array]",Lge="[object Int16Array]",Fge="[object Int32Array]",jge="[object BigInt64Array]",zge="[object Float32Array]",Hge="[object Float64Array]";function Vge(){}function aD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function qge(e,t,n){return zg(e,t,void 0,void 0,void 0,void 0,n)}function zg(e,t,n,r,s,i,o){const a=o(e,t,n,r,s,i);if(a!==void 0)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return Hg(e,t,i,o)}return Hg(e,t,i,o)}function Hg(e,t,n,r){if(Object.is(e,t))return!0;let s=iD(e),i=iD(t);if(s===oD&&(s=k9),i===oD&&(i=k9),s!==i)return!1;switch(s){case Ege:return e.toString()===t.toString();case xge:{const c=e.valueOf(),l=t.valueOf();return wge(c,l)}case $ge:case Cge:case Age:return Object.is(e.valueOf(),t.valueOf());case vge:return e.source===t.source&&e.flags===t.flags;case Oge:return e===t}n=n??new Map;const o=n.get(e),a=n.get(t);if(o!=null&&a!=null)return o===t;n.set(e,t),n.set(t,e);try{switch(s){case Sge:{if(e.size!==t.size)return!1;for(const[c,l]of e.entries())if(!t.has(c)||!zg(l,t.get(c),c,e,t,n,r))return!1;return!0}case Ige:{if(e.size!==t.size)return!1;const c=Array.from(e.values()),l=Array.from(t.values());for(let u=0;u<c.length;u++){const f=c[u],d=l.findIndex(h=>zg(f,h,void 0,e,t,n,r));if(d===-1)return!1;l.splice(d,1)}return!0}case _ge:case Bge:case kge:case Rge:case Dge:case Mge:case Uge:case Lge:case Fge:case jge:case zge:case Hge:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!zg(e[c],t[c],c,e,t,n,r))return!1;return!0}case Pge:return e.byteLength!==t.byteLength?!1:Hg(new Uint8Array(e),new Uint8Array(t),n,r);case Nge:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:Hg(new Uint8Array(e),new Uint8Array(t),n,r);case Tge:return e.name===t.name&&e.message===t.message;case k9:{if(!(Hg(e.constructor,t.constructor,n,r)||aD(e)&&aD(t)))return!1;const c=[...Object.keys(e),...sD(e)],l=[...Object.keys(t),...sD(t)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const f=c[u],d=e[f];if(!Object.hasOwn(t,f))return!1;const h=t[f];if(!zg(d,h,f,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function Zge(e,t){return qge(e,t,Vge)}var Wge=Object.defineProperty,cD=Object.getOwnPropertySymbols,Kge=Object.prototype.hasOwnProperty,Gge=Object.prototype.propertyIsEnumerable,R9=(e,t,n)=>t in e?Wge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lD=(e,t)=>{for(var n in t||(t={}))Kge.call(t,n)&&R9(e,n,t[n]);if(cD)for(var n of cD(t))Gge.call(t,n)&&R9(e,n,t[n]);return e},Ss=(e,t,n)=>R9(e,typeof t!="symbol"?t+"":t,n);class _0 extends Ufe{constructor(t,n,r,s=da,i=void 0){super(t,n,r,s),this.core=t,this.logger=n,this.name=r,Ss(this,"map",new Map),Ss(this,"version",Jhe),Ss(this,"cached",[]),Ss(this,"initialized",!1),Ss(this,"getKey"),Ss(this,"storagePrefix",da),Ss(this,"recentlyDeleted",[]),Ss(this,"recentlyDeletedLimit",200),Ss(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!bn(o)?this.map.set(this.getKey(o),o):Ide(o)?this.map.set(o.id,o):_de(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Ss(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Ss(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Ss(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Zge(a[c],o[c]))):this.values)),Ss(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=lD(lD({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Ss(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ui(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return li(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const n=this.map.get(t);if(!n){if(this.recentlyDeleted.includes(t)){const{message:s}=pe("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(s),new Error(s)}const{message:r}=pe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:n}=pe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=pe("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Yge=Object.defineProperty,Xge=(e,t,n)=>t in e?Yge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,et=(e,t,n)=>Xge(e,typeof t!="symbol"?t+"":t,n);class Jge{constructor(t,n){this.core=t,this.logger=n,et(this,"name",n1e),et(this,"version",r1e),et(this,"events",new Ot.exports),et(this,"pairings"),et(this,"initialized",!1),et(this,"storagePrefix",da),et(this,"ignoredPayloadTypes",[pl]),et(this,"registeredMethods",[]),et(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),et(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),et(this,"create",async r=>{this.isInitialized();const s=i9(),i=await this.core.crypto.setSymKey(s),o=cn(Q.FIVE_MINUTES),a={protocol:TR},c={topic:i,expiry:o,relay:a,active:!1,methods:r?.methods},l=Rk({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(C0.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r?.transportType,internal:r?.internal}),{topic:i,uri:l}}),et(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[fa.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=kk(r.uri);s.props.properties.topic=i,s.addTrace(fa.pairing_uri_validation_success),s.addTrace(fa.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(fa.existing_pairing),u.active)throw s.setError(bl.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(fa.pairing_not_expired)}const f=c||cn(Q.FIVE_MINUTES),d={topic:i,relay:a,expiry:f,active:!1,methods:l};this.core.expirer.set(i,f),await this.pairings.set(i,d),s.addTrace(fa.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(C0.create,d),s.addTrace(fa.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(fa.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(bl.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(h){throw s.setError(bl.subscribe_pairing_topic_failure),h}return s.addTrace(fa.subscribe_pairing_topic_success),d}),et(this,"activate",async({topic:r})=>{this.isInitialized();const s=cn(Q.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),et(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=g0();this.events.once(gt("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),et(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),et(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),et(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),et(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Ut("USER_DISCONNECTED")),await this.deletePairing(s))}),et(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return Rk({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),et(this,"sendRequest",async(r,s,i)=>{const o=rn(s,i),a=await this.core.crypto.encode(r,o),c=Mg[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),et(this,"sendResult",async(r,s,i)=>{const o=ua(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Mg[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),et(this,"sendError",async(r,s,i)=>{const o=Rh(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Mg[c]?Mg[c].res:Mg.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),et(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Ut("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),et(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>ia(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),et(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),et(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),et(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(C0.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),et(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{wn(s)?this.events.emit(gt("pairing_ping",i),{}):Xt(s)&&this.events.emit(gt("pairing_ping",i),{error:s.error})},500)}),et(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(C0.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),et(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=Ut("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),et(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Ut("WC_METHOD_UNSUPPORTED",r))}),et(this,"isValidPair",(r,s)=>{var i;if(!As(r)){const{message:a}=pe("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(bl.malformed_pairing_uri),new Error(a)}if(!Sde(r.uri)){const{message:a}=pe("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(bl.malformed_pairing_uri),new Error(a)}const o=kk(r?.uri);if(!((i=o?.relay)!=null&&i.protocol)){const{message:a}=pe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(bl.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=pe("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(bl.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Q.toMiliseconds(o?.expiryTimestamp)<Date.now()){s.setError(bl.pairing_expired);const{message:a}=pe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),et(this,"isValidPing",async r=>{if(!As(r)){const{message:i}=pe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),et(this,"isValidDisconnect",async r=>{if(!As(r)){const{message:i}=pe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),et(this,"isValidPairingTopic",async r=>{if(!ln(r,!1)){const{message:s}=pe("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=pe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(ia(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=pe("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=t,this.logger=ui(n,this.name),this.pairings=new _0(this.core,this.logger,this.name,this.storagePrefix)}get context(){return li(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=pe("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(sn.message,async t=>{const{topic:n,message:r,transportType:s}=t;if(this.pairings.keys.includes(n)&&s!==Lt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);Dh(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):A0(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Ui.expired,async t=>{const{topic:n}=nB(t.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(C0.expire,{topic:n}))})}}var Qge=Object.defineProperty,e2e=(e,t,n)=>t in e?Qge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jn=(e,t,n)=>e2e(e,typeof t!="symbol"?t+"":t,n);class t2e extends kfe{constructor(t,n){super(t,n),this.core=t,this.logger=n,Jn(this,"records",new Map),Jn(this,"events",new Ot.exports.EventEmitter),Jn(this,"name",s1e),Jn(this,"version",i1e),Jn(this,"cached",[]),Jn(this,"initialized",!1),Jn(this,"storagePrefix",da),Jn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Jn(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:cn(Q.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(xo.created,o)}),Jn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=Xt(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(xo.updated,s))}),Jn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Jn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(xo.deleted,i)}}),this.persist()}),Jn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),Jn(this,"on",(r,s)=>{this.events.on(r,s)}),Jn(this,"once",(r,s)=>{this.events.once(r,s)}),Jn(this,"off",(r,s)=>{this.events.off(r,s)}),Jn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=ui(n,this.name)}get context(){return li(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:rn(n.request.method,n.request.params,n.id),chainId:n.chainId};return t.push(r)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const n=this.records.get(t);if(!n){const{message:r}=pe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(xo.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:n}=pe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(xo.created,t=>{const n=xo.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(xo.updated,t=>{const n=xo.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(xo.deleted,t=>{const n=xo.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.core.heartbeat.on(ci.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(n=>{Q.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(xo.deleted,n,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=pe("NOT_INITIALIZED",this.name);throw new Error(t)}}}var n2e=Object.defineProperty,r2e=(e,t,n)=>t in e?n2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xr=(e,t,n)=>r2e(e,typeof t!="symbol"?t+"":t,n);class s2e extends Ffe{constructor(t,n){super(t,n),this.core=t,this.logger=n,xr(this,"expirations",new Map),xr(this,"events",new Ot.exports.EventEmitter),xr(this,"name",o1e),xr(this,"version",a1e),xr(this,"cached",[]),xr(this,"initialized",!1),xr(this,"storagePrefix",da),xr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),xr(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),xr(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(Ui.created,{target:i,expiration:o})}),xr(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),xr(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Ui.deleted,{target:s,expiration:i})}}),xr(this,"on",(r,s)=>{this.events.on(r,s)}),xr(this,"once",(r,s)=>{this.events.once(r,s)}),xr(this,"off",(r,s)=>{this.events.off(r,s)}),xr(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=ui(n,this.name)}get context(){return li(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return sce(t);if(typeof t=="number")return ice(t);const{message:n}=pe("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(n)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ui.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:n}=pe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const n=this.expirations.get(t);if(!n){const{message:r}=pe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(t,n){const{expiry:r}=n;Q.toMiliseconds(r)-Date.now()<=0&&this.expire(t,n)}expire(t,n){this.expirations.delete(t),this.events.emit(Ui.expired,{target:t,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,n)=>this.checkExpiry(n,t))}registerEventListeners(){this.core.heartbeat.on(ci.pulse,()=>this.checkExpirations()),this.events.on(Ui.created,t=>{const n=Ui.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Ui.expired,t=>{const n=Ui.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Ui.deleted,t=>{const n=Ui.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=pe("NOT_INITIALIZED",this.name);throw new Error(t)}}}var i2e=Object.defineProperty,o2e=(e,t,n)=>t in e?i2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,un=(e,t,n)=>o2e(e,typeof t!="symbol"?t+"":t,n);class a2e extends jfe{constructor(t,n,r){super(t,n,r),this.core=t,this.logger=n,this.store=r,un(this,"name",c1e),un(this,"abortController"),un(this,"isDevEnv"),un(this,"verifyUrlV3",u1e),un(this,"storagePrefix",da),un(this,"version",OR),un(this,"publicKey"),un(this,"fetchPromise"),un(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Q.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),un(this,"register",async s=>{if(!$h()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=ei(),u=this.startAbortTimer(Q.ONE_SECOND*5),f=await new Promise((d,h)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const y=$=>{if($.data&&typeof $.data=="string")try{const _=JSON.parse($.data);if(_.type==="verify_attestation"){if(vh(_.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),d(_.attestation===null?"":_.attestation)}}catch(_){this.logger.warn(_)}};l.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug(f,"jwt attestation"),f}catch(l){this.logger.warn(l)}return""}),un(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(vh(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),un(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(Q.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),un(this,"getVerifyUrl",s=>{let i=s||Ug;return d1e.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Ug}`),i=Ug),i}),un(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(Q.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),un(this,"persistPublicKey",async s=>{this.logger.debug(s,"persisting public key to local storage"),await this.store.setItem(this.storeKey,s),this.publicKey=s}),un(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),un(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),un(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),un(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),un(this,"validateAttestation",(s,i)=>{const o=Que(s,i.publicKey),a={hasExpired:Q.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ui(n,this.name),this.abortController=new AbortController,this.isDevEnv=IE(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return li(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Q.toMiliseconds(t))}}var c2e=Object.defineProperty,l2e=(e,t,n)=>t in e?c2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uD=(e,t,n)=>l2e(e,typeof t!="symbol"?t+"":t,n);class u2e extends zfe{constructor(t,n){super(t,n),this.projectId=t,this.logger=n,uD(this,"context",f1e),uD(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${h1e}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=ui(n,this.context)}}var d2e=Object.defineProperty,dD=Object.getOwnPropertySymbols,f2e=Object.prototype.hasOwnProperty,h2e=Object.prototype.propertyIsEnumerable,D9=(e,t,n)=>t in e?d2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vg=(e,t)=>{for(var n in t||(t={}))f2e.call(t,n)&&D9(e,n,t[n]);if(dD)for(var n of dD(t))h2e.call(t,n)&&D9(e,n,t[n]);return e},Un=(e,t,n)=>D9(e,typeof t!="symbol"?t+"":t,n);class p2e extends Hfe{constructor(t,n,r=!0){super(t,n,r),this.core=t,this.logger=n,Un(this,"context",g1e),Un(this,"storagePrefix",da),Un(this,"storageVersion",p1e),Un(this,"events",new Map),Un(this,"shouldPersist",!1),Un(this,"init",async()=>{if(!IE())try{const s={eventId:sB(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:eB(this.core.relayer.protocol,this.core.relayer.version,C9)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Un(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=sB(),u=this.core.projectId||"",f=Date.now(),d=Vg({eventId:l,timestamp:f,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,d),this.shouldPersist=!0),d}),Un(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Vg(Vg({},a),this.setMethods(a.eventId))}),Un(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),Un(this,"setEventListeners",()=>{this.core.heartbeat.on(ci.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{Q.fromMiliseconds(Date.now())-Q.fromMiliseconds(s.timestamp)>m1e&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Un(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),Un(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),Un(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),Un(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Un(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,Vg(Vg({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),Un(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),Un(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${y1e}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${C9}${i}`,{method:"POST",body:JSON.stringify(s)})}),Un(this,"getAppDomain",()=>QN().url),this.logger=ui(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var g2e=Object.defineProperty,fD=Object.getOwnPropertySymbols,m2e=Object.prototype.hasOwnProperty,y2e=Object.prototype.propertyIsEnumerable,M9=(e,t,n)=>t in e?g2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hD=(e,t)=>{for(var n in t||(t={}))m2e.call(t,n)&&M9(e,n,t[n]);if(fD)for(var n of fD(t))y2e.call(t,n)&&M9(e,n,t[n]);return e},Rt=(e,t,n)=>M9(e,typeof t!="symbol"?t+"":t,n);class U9 extends Pfe{constructor(t){var n;super(t),Rt(this,"protocol",_R),Rt(this,"version",OR),Rt(this,"name",c6),Rt(this,"relayUrl"),Rt(this,"projectId"),Rt(this,"customStoragePrefix"),Rt(this,"events",new Ot.exports.EventEmitter),Rt(this,"logger"),Rt(this,"heartbeat"),Rt(this,"relayer"),Rt(this,"crypto"),Rt(this,"storage"),Rt(this,"history"),Rt(this,"expirer"),Rt(this,"pairing"),Rt(this,"verify"),Rt(this,"echoClient"),Rt(this,"linkModeSupportedApps"),Rt(this,"eventClient"),Rt(this,"initialized",!1),Rt(this,"logChunkController"),Rt(this,"on",(a,c)=>this.events.on(a,c)),Rt(this,"once",(a,c)=>this.events.once(a,c)),Rt(this,"off",(a,c)=>this.events.off(a,c)),Rt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Rt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Lt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(t?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||NR,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const s=xfe({level:typeof t?.logger=="string"&&t.logger?t.logger:Uhe.logger,name:c6}),{logger:i,chunkLoggerController:o}=Ife({opts:s,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ui(i,this.name),this.heartbeat=new Jw,this.crypto=new qpe(this,this.logger,t?.keychain),this.history=new t2e(this,this.logger),this.expirer=new s2e(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new Qk(hD(hD({},Lhe),t?.storageOptions)),this.relayer=new bge({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Jge(this,this.logger),this.verify=new a2e(this,this.logger,this.storage),this.echoClient=new u2e(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new p2e(this,this.logger,t?.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const n=new U9(t);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Qhe,r),n}get context(){return li(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(BR,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(BR)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(t,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${t}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(t){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=t.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=t}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const b2e=U9;var L9={exports:{}};const pD=Aw;L9.exports=wl;const qg=B2e().console||{},w2e={mapHttpRequest:d6,mapHttpResponse:d6,wrapRequestSerializer:V9,wrapResponseSerializer:V9,wrapErrorSerializer:V9,req:d6,res:d6,err:mD,errWithCause:mD};function Vu(e,t){return e==="silent"?1/0:t.levels.values[e]}const F9=Symbol("pino.logFuncs"),j9=Symbol("pino.hierarchy"),v2e={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function gD(e,t){const n={logger:t,parent:e[j9]};t[j9]=n}function E2e(e,t,n){const r={};t.forEach(s=>{r[s]=n[s]?n[s]:qg[s]||qg[v2e[s]||"log"]||Fh}),e[F9]=r}function x2e(e,t){return Array.isArray(e)?e.filter(function(r){return r!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function wl(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const n=e.browser.write||qg;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=x2e(e.browser.serialize,r);let i=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=Object.keys(e.customLevels||{}),a=["error","fatal","warn","info","debug","trace"].concat(o);typeof n=="function"&&a.forEach(function(g){n[g]=n}),(e.enabled===!1||e.browser.disabled)&&(e.level="silent");const c=e.level||"info",l=Object.create(n);l.log||(l.log=Fh),E2e(l,a,n),gD({},l),Object.defineProperty(l,"levelVal",{get:f}),Object.defineProperty(l,"level",{get:d,set:h});const u={transmit:t,serialize:s,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:a,timestamp:P2e(e),messageKey:e.messageKey||"msg",onChild:e.onChild||Fh};l.levels=$2e(e),l.level=c,l.isLevelEnabled=function(g){return this.levels.values[g]?this.levels.values[g]>=this.levels.values[this.level]:!1},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=Fh,l.serializers=r,l._serialize=s,l._stdErrSerialize=i,l.child=function(...g){return p.call(this,u,...g)},t&&(l._logEvent=H9());function f(){return Vu(this.level,this)}function d(){return this._level}function h(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,O0(this,u,l,"error"),O0(this,u,l,"fatal"),O0(this,u,l,"warn"),O0(this,u,l,"info"),O0(this,u,l,"debug"),O0(this,u,l,"trace"),o.forEach(y=>{O0(this,u,l,y)})}function p(g,y,$){if(!y)throw new Error("missing bindings for child Pino");$=$||{},s&&y.serializers&&($.serializers=y.serializers);const _=$.serializers;if(s&&_){var x=Object.assign({},r,_),E=e.browser.serialize===!0?Object.keys(x):s;delete y.serializers,z9([y],E,x,this._stdErrSerialize)}function P(k){this._childLevel=(k._childLevel|0)+1,this.bindings=y,x&&(this.serializers=x,this._serialize=E),t&&(this._logEvent=H9([].concat(k._logEvent.bindings,y)))}P.prototype=this;const N=new P(this);return gD(this,N),N.child=function(...k){return p.call(this,g,...k)},N.level=$.level||this.level,g.onChild(N),N}return l}function $2e(e){const t=e.customLevels||{},n=Object.assign({},wl.levels.values,t),r=Object.assign({},wl.levels.labels,A2e(t));return{values:n,labels:r}}function A2e(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}wl.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},wl.stdSerializers=w2e,wl.stdTimeFunctions=Object.assign({},{nullTime:yD,epochTime:bD,unixTime:T2e,isoTime:N2e});function C2e(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[j9];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}function O0(e,t,n,r){if(Object.defineProperty(e,r,{value:Vu(e.level,n)>Vu(r,n)?Fh:n[F9][r],writable:!0,enumerable:!0,configurable:!0}),e[r]===Fh){if(!t.transmit)return;const i=t.transmit.level||e.level,o=Vu(i,n);if(Vu(r,n)<o)return}e[r]=I2e(e,t,n,r);const s=C2e(e);s.length!==0&&(e[r]=S2e(s,e[r]))}function S2e(e,t){return function(){return t.apply(this,[...e,...arguments])}}function I2e(e,t,n,r){return function(s){return function(){const o=t.timestamp(),a=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===qg?qg:this;for(var l=0;l<a.length;l++)a[l]=arguments[l];var u=!1;if(t.serialize&&(z9(a,this._serialize,this.serializers,this._stdErrSerialize),u=!0),t.asObject||t.formatters?s.call(c,..._2e(this,r,a,o,t)):s.apply(c,a),t.transmit){const f=t.transmit.level||e._level,d=Vu(f,n),h=Vu(r,n);if(h<d)return;O2e(this,{ts:o,methodLevel:r,methodValue:h,transmitLevel:f,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:Vu(e._level,n)},a,u)}}}(e[F9][r])}function _2e(e,t,n,r,s){const{level:i,log:o=f=>f}=s.formatters||{},a=n.slice();let c=a[0];const l={};let u=(e._childLevel|0)+1;if(u<1&&(u=1),r&&(l.time=r),i){const f=i(t,e.levels.values[t]);Object.assign(l,f)}else l.level=e.levels.values[t];if(s.asObjectBindingsOnly){if(c!==null&&typeof c=="object")for(;u--&&typeof a[0]=="object";)Object.assign(l,a.shift());return[o(l),...a]}else{if(c!==null&&typeof c=="object"){for(;u--&&typeof a[0]=="object";)Object.assign(l,a.shift());c=a.length?pD(a.shift(),a):void 0}else typeof c=="string"&&(c=pD(a.shift(),a));return c!==void 0&&(l[s.messageKey]=c),[o(l)]}}function z9(e,t,n,r){for(const s in e)if(r&&e[s]instanceof Error)e[s]=wl.stdSerializers.err(e[s]);else if(typeof e[s]=="object"&&!Array.isArray(e[s])&&t)for(const i in e[s])t.indexOf(i)>-1&&i in n&&(e[s][i]=n[i](e[s][i]))}function O2e(e,t,n,r=!1){const s=t.send,i=t.ts,o=t.methodLevel,a=t.methodValue,c=t.val,l=e._logEvent.bindings;r||z9(n,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter(function(u){return l.indexOf(u)===-1}),e._logEvent.level.label=o,e._logEvent.level.value=a,s(o,e._logEvent,c),e._logEvent=H9(l)}function H9(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function mD(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)t[n]===void 0&&(t[n]=e[n]);return t}function P2e(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?yD:bD}function d6(){return{}}function V9(e){return e}function Fh(){}function yD(){return!1}function bD(){return Date.now()}function T2e(){return Math.round(Date.now()/1e3)}function N2e(){return new Date(Date.now()).toISOString()}function B2e(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}L9.exports.default=wl,L9.exports.pino=wl;const k2e="custom_context";function R2e(e,t=k2e){return e[t]||""}const wD="wc",vD=2,ED="client",q9=`${wD}@${vD}:${ED}:`,Z9={name:ED,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},xD="WALLETCONNECT_DEEPLINK_CHOICE",D2e="proposal",$D="Proposal expired",M2e="session",jh=Q.SEVEN_DAYS,U2e="engine",Qn={wc_sessionPropose:{req:{ttl:Q.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Q.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Q.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Q.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Q.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1119}}},W9={min:Q.FIVE_MINUTES,max:Q.SEVEN_DAYS},pa={idle:"IDLE",active:"ACTIVE"},L2e={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},F2e="request",j2e=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],z2e="wc",H2e="auth",V2e="authKeys",q2e="pairingTopics",Z2e="requests",f6=`${z2e}@${1.5}:${H2e}:`,h6=`${f6}:PUB_KEY`;var W2e=Object.defineProperty,K2e=Object.defineProperties,G2e=Object.getOwnPropertyDescriptors,AD=Object.getOwnPropertySymbols,Y2e=Object.prototype.hasOwnProperty,X2e=Object.prototype.propertyIsEnumerable,K9=(e,t,n)=>t in e?W2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wt=(e,t)=>{for(var n in t||(t={}))Y2e.call(t,n)&&K9(e,n,t[n]);if(AD)for(var n of AD(t))X2e.call(t,n)&&K9(e,n,t[n]);return e},$r=(e,t)=>K2e(e,G2e(t)),le=(e,t,n)=>K9(e,typeof t!="symbol"?t+"":t,n);class J2e extends Wfe{constructor(t){super(t),le(this,"name",U2e),le(this,"events",new Ot.exports),le(this,"initialized",!1),le(this,"requestQueue",{state:pa.idle,queue:[]}),le(this,"sessionRequestQueue",{state:pa.idle,queue:[]}),le(this,"emittedSessionRequests",new pce({limit:500})),le(this,"requestQueueDelay",Q.ONE_SECOND),le(this,"expectedPairingMethodMap",new Map),le(this,"recentlyDeletedMap",new Map),le(this,"recentlyDeletedLimit",200),le(this,"relayMessageCache",[]),le(this,"pendingSessions",new Map),le(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Qn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Q.toMiliseconds(this.requestQueueDelay)))}),le(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=$r(wt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=Ede(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,f,d=!1;try{if(u){const N=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=N.active}}catch(N){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),N}if(!u||!d){const{topic:N,uri:k}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=N,f=k}if(!u){const{message:N}=pe("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(N)}const h=await this.client.core.crypto.generateKeyPair(),p=Qn.wc_sessionPropose.req.ttl||Q.FIVE_MINUTES,g=cn(p),y=$r(wt(wt({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:TR}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Dn()}),$=gt("session_connect",y.id),{reject:_,resolve:x,done:E}=g0(p,$D),P=({id:N})=>{N===y.id&&(this.client.events.off("proposal_expire",P),this.pendingSessions.delete(y.id),this.events.emit($,{error:{message:$D,code:0}}))};return this.client.events.on("proposal_expire",P),this.events.once($,({error:N,session:k})=>{this.client.events.off("proposal_expire",P),N?_(N):k&&x(k)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:f,approval:E}}),le(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),le(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[$o.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(T){throw o.setError(S0.no_internet_connection),T}try{await this.isValidProposalId(n?.id)}catch(T){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(S0.proposal_not_found),T}try{await this.isValidApprove(n)}catch(T){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(S0.session_approve_namespace_validation_failure),T}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=n,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:y,optionalNamespaces:$}=h;let _=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});_||(_=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:$o.session_approve_started,properties:{topic:p,trace:[$o.session_approve_started,$o.session_namespaces_validation_success]}}));const x=await this.client.core.crypto.generateKeyPair(),E=g.publicKey,P=await this.client.core.crypto.generateSharedKey(x,E),N=wt(wt(wt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:x,metadata:this.client.metadata},expiry:cn(jh)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),k=Lt.relay;_.addTrace($o.subscribing_session_topic);try{await this.client.core.relayer.subscribe(P,{transportType:k,internal:{skipSubscribe:!0}})}catch(T){throw _.setError(S0.subscribe_session_topic_failure),T}_.addTrace($o.subscribe_session_topic_success);const R=$r(wt({},N),{topic:P,requiredNamespaces:y,optionalNamespaces:$,pairingTopic:p,acknowledged:!1,self:N.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:x,transportType:Lt.relay});await this.client.session.set(P,R),_.addTrace($o.store_session);try{await this.sendApproveSession({sessionTopic:P,proposal:h,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:x},sessionSettleRequest:N,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),_.addTrace($o.session_approve_publish_success)}catch(T){throw this.client.logger.error(T),this.client.session.delete(P,Ut("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(P),T}return this.client.core.eventClient.deleteEvent({eventId:_.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(P,cn(jh)),{topic:P,acknowledged:()=>Promise.resolve(this.client.session.get(P))}}),le(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:Qn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),le(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=g0(),c=Dn(),l=Wr().toString(),u=this.client.session.get(r).namespaces;return this.events.once(gt("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(r,{namespaces:u}),a(f)}),{acknowledged:i}}),le(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=Dn(),{done:i,resolve:o,reject:a}=g0();return this.events.once(gt("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,cn(jh)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),le(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:s,topic:i,expiry:o=Qn.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);a?.transportType===Lt.relay&&await this.confirmOnlineStateOrThrow();const c=Dn(),l=Wr().toString(),{done:u,resolve:f,reject:d}=g0(o,"Request expired. Please try again.");this.events.once(gt("session_request",c),({error:y,result:$})=>{y?d(y):f($)});const h="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:{request:$r(wt({},s),{expiryTimestamp:cn(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>d(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:$r(wt({},s),{expiryTimestamp:cn(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch($=>d($)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),y()}),new Promise(async y=>{var $;if(!(($=a.sessionConfig)!=null&&$.disableDeepLink)){const _=await lce(this.client.core.storage,xD);await oce({id:c,topic:i,wcDeepLink:_})}y()}),u()]).then(y=>y[2])}),le(this,"respond",async n=>{var r,s;this.isInitialized();const i=this.client.core.eventClient.createEvent({properties:{topic:n?.topic||((s=(r=n?.response)==null?void 0:r.id)==null?void 0:s.toString()),trace:[$o.session_request_response_started]}});try{await this.isValidRespond(n)}catch(f){throw i.addTrace(f?.message),i.setError(S0.session_request_response_validation_failure),f}i.addTrace($o.session_request_response_validation_success);const{topic:o,response:a}=n,{id:c}=a,l=this.client.session.get(o);l.transportType===Lt.relay&&await this.confirmOnlineStateOrThrow();const u=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);try{i.addTrace($o.session_request_response_publish_started),wn(a)?await this.sendResult({id:c,topic:o,result:a.result,throwOnFailedPublish:!0,appLink:u}):Xt(a)&&await this.sendError({id:c,topic:o,error:a.error,appLink:u}),this.cleanupAfterResponse(n)}catch(f){throw i.addTrace(f?.message),i.setError(S0.session_request_response_publish_failure),f}}),le(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=Dn(),i=Wr().toString(),{done:o,resolve:a,reject:c}=g0();this.events.once(gt("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),le(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=Wr().toString(),a=Dn();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),le(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Ut("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=pe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),le(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Ade(r,n)))),le(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),le(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?Lt.link_mode:Lt.relay;o===Lt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:f,type:d,exp:h,nbf:p,methods:g=[],expiry:y}=n,$=[...n.resources||[]],{topic:_,uri:x}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:_,uri:x}});const E=await this.client.core.crypto.generateKeyPair(),P=Ww(E);if(await Promise.all([this.client.auth.authKeys.set(h6,{responseTopic:P,publicKey:E}),this.client.auth.pairingTopics.set(P,{topic:P,pairingTopic:_})]),await this.client.core.relayer.subscribe(P,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${_}`),g.length>0){const{namespace:C}=cl(a[0]);let O=Ale(C,"request",g);Rw($)&&(O=Sle(O,$.pop())),$.push(O)}const N=y&&y>Qn.wc_sessionAuthenticate.req.ttl?y:Qn.wc_sessionAuthenticate.req.ttl,k={authPayload:{type:d??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:h,nbf:p,resources:$},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:cn(N)},R={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},T={requiredNamespaces:{},optionalNamespaces:R,relays:[{protocol:"irn"}],pairingTopic:_,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:cn(Qn.wc_sessionPropose.req.ttl),id:Dn()},{done:L,resolve:M,reject:S}=g0(N,"Request expired"),w=Dn(),v=gt("session_connect",T.id),m=gt("session_request",w),b=async({error:C,session:O})=>{this.events.off(m,A),C?S(C):O&&M({session:O})},A=async C=>{var O,B,D;if(await this.deletePendingAuthRequest(w,{message:"fulfilled",code:0}),C.error){const Z=Ut("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return C.error.code===Z.code?void 0:(this.events.off(v,b),S(C.error.message))}await this.deleteProposal(T.id),this.events.off(v,b);const{cacaos:z,responder:j}=C.result,U=[],V=[];for(const Z of z){await OB({cacao:Z,projectId:this.client.core.projectId})||(this.client.logger.error(Z,"Signature verification failed"),S(Ut("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Y}=Z,fe=Rw(Y.resources),me=[DE(Y.iss)],we=kw(Y.iss);if(fe){const Re=NB(fe),We=BB(fe);U.push(...Re),me.push(...We)}for(const Re of me)V.push(`${Re}:${we}`)}const q=await this.client.core.crypto.generateSharedKey(E,j.publicKey);let X;U.length>0&&(X={topic:q,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:j,controller:j.publicKey,expiry:cn(jh),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:_,namespaces:Lk([...new Set(U)],[...new Set(V)]),transportType:o},await this.client.core.relayer.subscribe(q,{transportType:o}),await this.client.session.set(q,X),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:j.metadata}),X=this.client.session.get(q)),(O=this.client.metadata.redirect)!=null&&O.linkMode&&(B=j.metadata.redirect)!=null&&B.linkMode&&(D=j.metadata.redirect)!=null&&D.universal&&r&&(this.client.core.addLinkModeSupportedApp(j.metadata.redirect.universal),this.client.session.update(q,{transportType:Lt.link_mode})),M({auths:z,session:X})};this.events.once(v,b),this.events.once(m,A);let I;try{if(i){const C=rn("wc_sessionAuthenticate",k,w);this.client.core.history.set(_,C);const O=await this.client.core.crypto.encode("",C,{type:Og,encoding:ju});I=Gw(r,_,O)}else await Promise.all([this.sendRequest({topic:_,method:"wc_sessionAuthenticate",params:k,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:w}),this.sendRequest({topic:_,method:"wc_sessionPropose",params:T,expiry:Qn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:T.id})])}catch(C){throw this.events.off(v,b),this.events.off(m,A),C}return await this.setProposal(T.id,T),await this.setAuthRequest(w,{request:$r(wt({},k),{verifyContext:{}}),pairingTopic:_,transportType:o}),{uri:I??x,response:L}}),le(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[I0.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(Lg.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(Lg.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Lt.relay;a===Lt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Ww(c),f={type:pl,receiverPublicKey:c,senderPublicKey:l},d=[],h=[];for(const y of s){if(!await OB({cacao:y,projectId:this.client.core.projectId})){i.setError(Lg.invalid_cacao);const P=Ut("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:P,encodeOpts:f}),new Error(P.message)}i.addTrace(I0.cacaos_verified);const{p:$}=y,_=Rw($.resources),x=[DE($.iss)],E=kw($.iss);if(_){const P=NB(_),N=BB(_);d.push(...P),x.push(...N)}for(const P of x)h.push(`${P}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(I0.create_authenticated_session_topic);let g;if(d?.length>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:cn(jh),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:Lk([...new Set(d)],[...new Set(h)]),transportType:a},i.addTrace(I0.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw i.setError(Lg.subscribe_authenticated_session_topic_failure),y}i.addTrace(I0.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(I0.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(I0.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw i.setError(Lg.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),le(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===Lt.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Ww(o),l={type:pl,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:Qn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),le(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return PB(r,s)}),le(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),le(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),le(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Ut("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(xD).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,Ut("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=pa.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),le(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i?.setError(S0.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Ut("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),le(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=pa.idle,this.client.events.emit("session_request_expire",{id:n}))}),le(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),le(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),le(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,cn(Qn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),le(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=Lt.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),le(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||cn(Qn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),le(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:f,publishOpts:d={}}=n,h=rn(s,i,c);let p;const g=!!u;try{const _=g?ju:$s;p=await this.client.core.crypto.encode(r,h,{encoding:_})}catch(_){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),_}let y;if(j2e.includes(s)){const _=Ri(JSON.stringify(h)),x=Ri(p);y=await this.client.core.verify.register({id:x,decryptedId:_})}const $=wt(wt({},Qn[s].req),d);if($.attestation=y,o&&($.ttl=o),a&&($.id=a),this.client.core.history.set(r,h),g){const _=Gw(u,r,p);await global.Linking.openURL(_,this.client.name)}else $.tvf=$r(wt({},f),{correlationId:h.id}),l?($.internal=$r(wt({},$.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,p,$)):this.client.core.relayer.publish(r,p,$).catch(_=>this.client.logger.error(_));return h.id}),le(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:s}=n,i=rn("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,i);const o=await this.client.core.crypto.encode(r.pairingTopic,i,{encoding:$s}),a=Ri(JSON.stringify(i)),c=Ri(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:$r(wt({},s),{publishMethod:"wc_proposeSession",attestation:l})})}),le(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:s,proposal:i,sessionSettleRequest:o,publishOpts:a}=n,c=ua(i.id,s),l=await this.client.core.crypto.encode(i.pairingTopic,c,{encoding:$s}),u=rn("wc_sessionSettle",o,a?.id),f=await this.client.core.crypto.encode(r,u,{encoding:$s});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:i.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:f},opts:$r(wt({},a),{publishMethod:"wc_approveSession"})})}),le(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=ua(r,i);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=f?ju:$s;u=await this.client.core.crypto.encode(s,l,$r(wt({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let d,h;try{d=await this.client.core.history.get(s,r);const p=d.request;try{h=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(f){const p=Gw(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=d.request.method,g=Qn[p].res;g.tvf=$r(wt({},h),{correlationId:r}),o?(g.internal=$r(wt({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),le(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Rh(r,i);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=f?ju:$s;u=await this.client.core.crypto.encode(s,l,$r(wt({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),h}let d;try{d=await this.client.core.history.get(s,r)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),h}if(f){const h=Gw(c,s,u);await global.Linking.openURL(h,this.client.name)}else{const h=d.request.method,p=a||Qn[h].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),le(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;ia(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{ia(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),le(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),le(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),le(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===pa.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=pa.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=pa.idle}),le(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),le(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),le(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=pe("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),le(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),le(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(bl.proposal_listener_not_found)),this.isValidConnect(wt({},s.params));const u=a.expiryTimestamp||cn(Qn.wc_sessionPropose.req.ttl),f=wt({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,f);const d=await this.getVerifyContext({attestationId:i,hash:Ri(JSON.stringify(s)),encryptedId:o,metadata:f.proposer.metadata});l?.addTrace(fa.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Qn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),le(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(wn(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const f=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:n})}else if(Xt(r)){await this.deleteProposal(i);const o=gt("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),le(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=r.params,h=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!h)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(h.proposalId),g=$r(wt(wt(wt({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:Lt.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(gt("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),le(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;wn(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(gt("session_approve",s),{})):Xt(r)&&(await this.client.session.delete(n,Ut("USER_DISCONNECTED")),this.events.emit(gt("session_approve",s),{error:r.error}))}),le(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=Ng.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:Ut("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(wt({topic:n},s));try{Ng.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw Ng.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),le(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),le(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=gt("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);wn(r)?this.events.emit(gt("session_update",s),{}):Xt(r)&&this.events.emit(gt("session_update",s),{error:r.error})}),le(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,cn(jh)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),le(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=gt("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);wn(r)?this.events.emit(gt("session_extend",s),{}):Xt(r)&&this.events.emit(gt("session_extend",s),{error:r.error})}),le(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),le(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=gt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);wn(r)?this.events.emit(gt("session_ping",s),{}):Xt(r)&&this.events.emit(gt("session_ping",s),{error:r.error})},500)}),le(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(sn.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Ut("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),le(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:f,params:d}=a;try{await this.isValidRequest(wt({topic:o},d));const h=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:Ri(JSON.stringify(rn("wc_sessionRequest",d,f))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:f,topic:o,params:d,verifyContext:p};await this.setPendingSessionRequest(g),u===Lt.link_mode&&(r=h.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=h.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:f,topic:o,error:h}),this.client.logger.error(h)}}),le(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=gt("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);wn(r)?this.events.emit(gt("session_request",s),{result:r.result}):Xt(r)&&this.events.emit(gt("session_request",s),{error:r.error})}),le(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=Ng.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(wt({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),Ng.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),le(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),wn(r)?this.events.emit(gt("session_request",s),{result:r.result}):Xt(r)&&this.events.emit(gt("session_request",s),{error:r.error})}),le(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:f}=i.params,d=await this.getVerifyContext({attestationId:o,hash:Ri(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(i.id,{request:h,pairingTopic:s,transportType:c}),c===Lt.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:d})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(i.params.requester.metadata,c),h={type:pl,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:h,rpcOpts:Qn.wc_sessionAuthenticate.autoReject,appLink:d})}}),le(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),le(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=pa.idle,this.processSessionRequestQueue()},Q.toMiliseconds(this.requestQueueDelay))}),le(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=gt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(gt("session_request",i.request.id),{error:r})})}),le(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===pa.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),le(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=pa.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),le(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:rn("wc_sessionPropose",$r(wt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),le(this,"isValidConnect",async n=>{if(!As(n)){const{message:l}=pe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(bn(r)||await this.isValidPairingTopic(r),!Dde(c,!0)){const{message:l}=pe("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(s&&!bn(s)&&ca(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(i&&!bn(i)&&ca(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),o&&!bn(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!bn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),le(this,"validateNamespaces",(n,r)=>{const s=Rde(n,"connect()",r);if(s)throw new Error(s.message)}),le(this,"isValidApprove",async n=>{if(!As(n))throw new Error(pe("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=c9(s,"approve()");if(l)throw new Error(l.message);const u=Vk(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!ln(i,!0)){const{message:f}=pe("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(f)}if(o&&!bn(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!bn(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(s));if(!Object.keys(a).every(d=>f.has(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),le(this,"isValidReject",async n=>{if(!As(n)){const{message:i}=pe("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Ude(s)){const{message:i}=pe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),le(this,"isValidSessionSettleRequest",n=>{if(!As(n)){const{message:l}=pe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!zk(r)){const{message:l}=pe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Ode(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=c9(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(ia(o)){const{message:l}=pe("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),le(this,"isValidUpdate",async n=>{if(!As(n)){const{message:c}=pe("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=c9(s,"update()");if(o)throw new Error(o.message);const a=Vk(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),le(this,"isValidExtend",async n=>{if(!As(n)){const{message:s}=pe("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),le(this,"isValidRequest",async n=>{if(!As(n)){const{message:c}=pe("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!Hk(a,i)){const{message:c}=pe("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!Lde(s)){const{message:c}=pe("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!zde(a,i,s.method)){const{message:c}=pe("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!Zde(o,W9)){const{message:c}=pe("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${W9.min} and ${W9.max}`);throw new Error(c)}}),le(this,"isValidRespond",async n=>{var r;if(!As(n)){const{message:a}=pe("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(a)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(a){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),a}if(!Fde(i)){const{message:a}=pe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(a)}const o=this.client.pendingRequest.get(i.id);if(o.topic!==s){const{message:a}=pe("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${i.id}, expected topic: ${o.topic}, received topic: ${s}`);throw new Error(a)}}),le(this,"isValidPing",async n=>{if(!As(n)){const{message:s}=pe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),le(this,"isValidEmit",async n=>{if(!As(n)){const{message:a}=pe("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!Hk(o,i)){const{message:a}=pe("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!jde(s)){const{message:a}=pe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!Hde(o,i,s.name)){const{message:a}=pe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),le(this,"isValidDisconnect",async n=>{if(!As(n)){const{message:s}=pe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),le(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!ln(s,!1))throw new Error("uri is required parameter");if(!ln(i,!1))throw new Error("domain is required parameter");if(!ln(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>cl(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=cl(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),le(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||Ug,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Lt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),le(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=pe("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),le(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),le(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),le(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=pe("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),le(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,f,d;return!n||r!==Lt.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n?.redirect)==null?void 0:u.universal)!==void 0&&((f=n?.redirect)==null?void 0:f.universal)!==""&&((d=n?.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),le(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n?.redirect)==null?void 0:s.universal:void 0}),le(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=rB(n,"topic")||"",s=decodeURIComponent(rB(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:Lt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),le(this,"registerLinkModeListeners",async()=>{var n;if(IE()||Iu()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),le(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn(l,"Error getting TVF params")}return c}),le(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=n?.data||((r=n?.[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),le(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=L2e[i];if(i==="sui_signTransaction")return[ale(r.transactionBytes)];if(i==="near_signTransaction")return[CB(r)];if(i==="near_signTransactions")return r.map(c=>CB(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[a0e({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return Di(r)?r.map(c=>SB(c)):[SB(r)];if(i==="cosmos_signDirect")return[lle(r)];if(i==="wallet_sendCalls")return ule(r);if(typeof r=="string")return[r];const a=r[o.key];if(Di(a))return i==="solana_signAllTransactions"?a.map(c=>ole(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn(i,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(t){this.client.logger.warn(t,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:t}=pe("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(sn.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:n,message:r,attestation:s,transportType:i}=t,{publicKey:o}=this.client.auth.authKeys.keys.includes(h6)?this.client.auth.authKeys.get(h6):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===Lt.link_mode?ju:$s});Dh(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:Ri(r)})):A0(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ui.expired,async t=>{const{topic:n,id:r}=nB(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,pe("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,pe("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(C0.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(C0.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!ln(t,!1)){const{message:n}=pe("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:n}=pe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(n)}if(ia(this.client.core.pairing.pairings.get(t).expiry)){const{message:n}=pe("EXPIRED",`pairing topic: ${t}`);throw new Error(n)}}async isValidSessionTopic(t){if(!ln(t,!1)){const{message:n}=pe("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(n)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:n}=pe("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(n)}if(ia(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:n}=pe("EXPIRED",`session topic: ${t}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(t)){const{message:n}=pe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(n)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(ln(t,!1)){const{message:n}=pe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(n)}else{const{message:n}=pe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(n)}}async isValidProposalId(t){if(!Mde(t)){const{message:n}=pe("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(n)}if(!this.client.proposal.keys.includes(t)){const{message:n}=pe("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(n)}if(ia(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:n}=pe("EXPIRED",`proposal id: ${t}`);throw new Error(n)}}}class Q2e extends _0{constructor(t,n){super(t,n,D2e,q9),this.core=t,this.logger=n}}class eme extends _0{constructor(t,n){super(t,n,M2e,q9),this.core=t,this.logger=n}}class tme extends _0{constructor(t,n){super(t,n,F2e,q9,r=>r.id),this.core=t,this.logger=n}}class nme extends _0{constructor(t,n){super(t,n,V2e,f6,()=>h6),this.core=t,this.logger=n}}class rme extends _0{constructor(t,n){super(t,n,q2e,f6),this.core=t,this.logger=n}}class sme extends _0{constructor(t,n){super(t,n,Z2e,f6,r=>r.id),this.core=t,this.logger=n}}var ime=Object.defineProperty,ome=(e,t,n)=>t in e?ime(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G9=(e,t,n)=>ome(e,typeof t!="symbol"?t+"":t,n);class ame{constructor(t,n){this.core=t,this.logger=n,G9(this,"authKeys"),G9(this,"pairingTopics"),G9(this,"requests"),this.authKeys=new nme(this.core,this.logger),this.pairingTopics=new rme(this.core,this.logger),this.requests=new sme(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var cme=Object.defineProperty,lme=(e,t,n)=>t in e?cme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tt=(e,t,n)=>lme(e,typeof t!="symbol"?t+"":t,n);class Y9 extends Zfe{constructor(t){super(t),tt(this,"protocol",wD),tt(this,"version",vD),tt(this,"name",Z9.name),tt(this,"metadata"),tt(this,"core"),tt(this,"logger"),tt(this,"events",new Ot.exports.EventEmitter),tt(this,"engine"),tt(this,"session"),tt(this,"proposal"),tt(this,"pendingRequest"),tt(this,"auth"),tt(this,"signConfig"),tt(this,"on",(r,s)=>this.events.on(r,s)),tt(this,"once",(r,s)=>this.events.once(r,s)),tt(this,"off",(r,s)=>this.events.off(r,s)),tt(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),tt(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),tt(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),tt(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),tt(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),tt(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=t?.name||Z9.name,this.metadata=ece(t?.metadata),this.signConfig=t?.signConfig;const n=d9({logger:t?.logger||Z9.logger,name:this.name});this.logger=n,this.core=t?.core||new b2e(t),this.session=new eme(this.core,this.logger),this.proposal=new Q2e(this.core,this.logger),this.pendingRequest=new tme(this.core,this.logger),this.engine=new J2e(this),this.auth=new ame(this.core,this.logger)}static async init(t){const n=new Y9(t);return await n.initialize(),n}get context(){return R2e(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}const ume=Y9;var X9={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Tn<"u"&&Tn,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof Tn<"u"&&Tn||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(m){return m&&DataView.prototype.isPrototypeOf(m)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(m){return m&&u.indexOf(Object.prototype.toString.call(m))>-1};function d(m){if(typeof m!="string"&&(m=String(m)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(m)||m==="")throw new TypeError('Invalid character in header field name: "'+m+'"');return m.toLowerCase()}function h(m){return typeof m!="string"&&(m=String(m)),m}function p(m){var b={next:function(){var A=m.shift();return{done:A===void 0,value:A}}};return c.iterable&&(b[Symbol.iterator]=function(){return b}),b}function g(m){this.map={},m instanceof g?m.forEach(function(b,A){this.append(A,b)},this):Array.isArray(m)?m.forEach(function(b){if(b.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+b.length);this.append(b[0],b[1])},this):m&&Object.getOwnPropertyNames(m).forEach(function(b){this.append(b,m[b])},this)}g.prototype.append=function(m,b){m=d(m),b=h(b);var A=this.map[m];this.map[m]=A?A+", "+b:b},g.prototype.delete=function(m){delete this.map[d(m)]},g.prototype.get=function(m){return m=d(m),this.has(m)?this.map[m]:null},g.prototype.has=function(m){return this.map.hasOwnProperty(d(m))},g.prototype.set=function(m,b){this.map[d(m)]=h(b)},g.prototype.forEach=function(m,b){for(var A in this.map)this.map.hasOwnProperty(A)&&m.call(b,this.map[A],A,this)},g.prototype.keys=function(){var m=[];return this.forEach(function(b,A){m.push(A)}),p(m)},g.prototype.values=function(){var m=[];return this.forEach(function(b){m.push(b)}),p(m)},g.prototype.entries=function(){var m=[];return this.forEach(function(b,A){m.push([A,b])}),p(m)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(m){if(!m._noBody){if(m.bodyUsed)return Promise.reject(new TypeError("Already read"));m.bodyUsed=!0}}function $(m){return new Promise(function(b,A){m.onload=function(){b(m.result)},m.onerror=function(){A(m.error)}})}function _(m){var b=new FileReader,A=$(b);return b.readAsArrayBuffer(m),A}function x(m){var b=new FileReader,A=$(b),I=/charset=([A-Za-z0-9_-]+)/.exec(m.type),C=I?I[1]:"utf-8";return b.readAsText(m,C),A}function E(m){for(var b=new Uint8Array(m),A=new Array(b.length),I=0;I<b.length;I++)A[I]=String.fromCharCode(b[I]);return A.join("")}function P(m){if(m.slice)return m.slice(0);var b=new Uint8Array(m.byteLength);return b.set(new Uint8Array(m)),b.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(m){this.bodyUsed=this.bodyUsed,this._bodyInit=m,m?typeof m=="string"?this._bodyText=m:c.blob&&Blob.prototype.isPrototypeOf(m)?this._bodyBlob=m:c.formData&&FormData.prototype.isPrototypeOf(m)?this._bodyFormData=m:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)?this._bodyText=m.toString():c.arrayBuffer&&c.blob&&l(m)?(this._bodyArrayBuffer=P(m.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(m)||f(m))?this._bodyArrayBuffer=P(m):this._bodyText=m=Object.prototype.toString.call(m):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof m=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var m=y(this);if(m)return m;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var m=y(this);return m||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(_);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var m=y(this);if(m)return m;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function R(m){var b=m.toUpperCase();return k.indexOf(b)>-1?b:m}function T(m,b){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');b=b||{};var A=b.body;if(m instanceof T){if(m.bodyUsed)throw new TypeError("Already read");this.url=m.url,this.credentials=m.credentials,b.headers||(this.headers=new g(m.headers)),this.method=m.method,this.mode=m.mode,this.signal=m.signal,!A&&m._bodyInit!=null&&(A=m._bodyInit,m.bodyUsed=!0)}else this.url=String(m);if(this.credentials=b.credentials||this.credentials||"same-origin",(b.headers||!this.headers)&&(this.headers=new g(b.headers)),this.method=R(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.signal=b.signal||this.signal||function(){if("AbortController"in a){var O=new AbortController;return O.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&A)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(A),(this.method==="GET"||this.method==="HEAD")&&(b.cache==="no-store"||b.cache==="no-cache")){var I=/([?&])_=[^&]*/;if(I.test(this.url))this.url=this.url.replace(I,"$1_="+new Date().getTime());else{var C=/\?/;this.url+=(C.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function L(m){var b=new FormData;return m.trim().split("&").forEach(function(A){if(A){var I=A.split("="),C=I.shift().replace(/\+/g," "),O=I.join("=").replace(/\+/g," ");b.append(decodeURIComponent(C),decodeURIComponent(O))}}),b}function M(m){var b=new g,A=m.replace(/\r?\n[\t ]+/g," ");return A.split("\r").map(function(I){return I.indexOf(`
`)===0?I.substr(1,I.length):I}).forEach(function(I){var C=I.split(":"),O=C.shift().trim();if(O){var B=C.join(":").trim();try{b.append(O,B)}catch(D){console.warn("Response "+D.message)}}}),b}N.call(T.prototype);function S(m,b){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(b||(b={}),this.type="default",this.status=b.status===void 0?200:b.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=b.statusText===void 0?"":""+b.statusText,this.headers=new g(b.headers),this.url=b.url||"",this._initBody(m)}N.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},S.error=function(){var m=new S(null,{status:200,statusText:""});return m.ok=!1,m.status=0,m.type="error",m};var w=[301,302,303,307,308];S.redirect=function(m,b){if(w.indexOf(b)===-1)throw new RangeError("Invalid status code");return new S(null,{status:b,headers:{location:m}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(b,A){this.message=b,this.name=A;var I=Error(b);this.stack=I.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function v(m,b){return new Promise(function(A,I){var C=new T(m,b);if(C.signal&&C.signal.aborted)return I(new o.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function B(){O.abort()}O.onload=function(){var j={statusText:O.statusText,headers:M(O.getAllResponseHeaders()||"")};C.url.indexOf("file://")===0&&(O.status<200||O.status>599)?j.status=200:j.status=O.status,j.url="responseURL"in O?O.responseURL:j.headers.get("X-Request-URL");var U="response"in O?O.response:O.responseText;setTimeout(function(){A(new S(U,j))},0)},O.onerror=function(){setTimeout(function(){I(new TypeError("Network request failed"))},0)},O.ontimeout=function(){setTimeout(function(){I(new TypeError("Network request timed out"))},0)},O.onabort=function(){setTimeout(function(){I(new o.DOMException("Aborted","AbortError"))},0)};function D(j){try{return j===""&&a.location.href?a.location.href:j}catch{return j}}if(O.open(C.method,D(C.url),!0),C.credentials==="include"?O.withCredentials=!0:C.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&(c.blob?O.responseType="blob":c.arrayBuffer&&(O.responseType="arraybuffer")),b&&typeof b.headers=="object"&&!(b.headers instanceof g||a.Headers&&b.headers instanceof a.Headers)){var z=[];Object.getOwnPropertyNames(b.headers).forEach(function(j){z.push(d(j)),O.setRequestHeader(j,h(b.headers[j]))}),C.headers.forEach(function(j,U){z.indexOf(U)===-1&&O.setRequestHeader(U,j)})}else C.headers.forEach(function(j,U){O.setRequestHeader(U,j)});C.signal&&(C.signal.addEventListener("abort",B),O.onreadystatechange=function(){O.readyState===4&&C.signal.removeEventListener("abort",B)}),O.send(typeof C._bodyInit>"u"?null:C._bodyInit)})}return v.polyfill=!0,a.fetch||(a.fetch=v,a.Headers=g,a.Request=T,a.Response=S),o.Headers=g,o.Request=T,o.Response=S,o.fetch=v,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t})(X9,X9.exports);var CD=CX(X9.exports),dme=Object.defineProperty,fme=Object.defineProperties,hme=Object.getOwnPropertyDescriptors,SD=Object.getOwnPropertySymbols,pme=Object.prototype.hasOwnProperty,gme=Object.prototype.propertyIsEnumerable,ID=(e,t,n)=>t in e?dme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_D=(e,t)=>{for(var n in t||(t={}))pme.call(t,n)&&ID(e,n,t[n]);if(SD)for(var n of SD(t))gme.call(t,n)&&ID(e,n,t[n]);return e},OD=(e,t)=>fme(e,hme(t));const mme={Accept:"application/json","Content-Type":"application/json"},yme="POST",PD={headers:mme,method:yme},TD=10;class p6{constructor(t,n=!1){if(this.url=t,this.disableProviderPing=n,this.events=new Ot.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!vR(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const n=ws(t),r=await(await CD(this.url,OD(_D({},PD),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(t.id,n)}}async register(t=this.url){if(!vR(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const n=ws({id:1,jsonrpc:"2.0",method:"test",params:[]});await CD(t,OD(_D({},PD),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?sl(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),s=r.message||r.toString(),i=Rh(t,s);this.events.emit("payload",i)}parseError(t,n=this.url){return pR(t,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>TD&&this.events.setMaxListeners(TD)}}var bme=Object.defineProperty,ND=Object.getOwnPropertySymbols,wme=Object.prototype.hasOwnProperty,vme=Object.prototype.propertyIsEnumerable,BD=(e,t,n)=>t in e?bme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kD=(e,t)=>{for(var n in t||(t={}))wme.call(t,n)&&BD(e,n,t[n]);if(ND)for(var n of ND(t))vme.call(t,n)&&BD(e,n,t[n]);return e};function J9(e){return e==null||typeof e!="object"&&typeof e!="function"}function RD(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function DD(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Eme="[object RegExp]",MD="[object String]",UD="[object Number]",LD="[object Boolean]",FD="[object Arguments]",xme="[object Symbol]",$me="[object Date]",Ame="[object Map]",Cme="[object Set]",Sme="[object Array]",Ime="[object ArrayBuffer]",_me="[object Object]",Ome="[object DataView]",Pme="[object Uint8Array]",Tme="[object Uint8ClampedArray]",Nme="[object Uint16Array]",Bme="[object Uint32Array]",kme="[object Int8Array]",Rme="[object Int16Array]",Dme="[object Int32Array]",Mme="[object Float32Array]",Ume="[object Float64Array]";function Q9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Lme(e,t){return zh(e,void 0,e,new Map,t)}function zh(e,t,n,r=new Map,s=void 0){const i=s?.(e,t,n,r);if(i!=null)return i;if(J9(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const o=new Array(e.length);r.set(e,o);for(let a=0;a<e.length;a++)o[a]=zh(e[a],a,n,r,s);return Object.hasOwn(e,"index")&&(o.index=e.index),Object.hasOwn(e,"input")&&(o.input=e.input),o}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const o=new RegExp(e.source,e.flags);return o.lastIndex=e.lastIndex,o}if(e instanceof Map){const o=new Map;r.set(e,o);for(const[a,c]of e)o.set(a,zh(c,a,n,r,s));return o}if(e instanceof Set){const o=new Set;r.set(e,o);for(const a of e)o.add(zh(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(Q9(e)){const o=new(Object.getPrototypeOf(e)).constructor(e.length);r.set(e,o);for(let a=0;a<e.length;a++)o[a]=zh(e[a],a,n,r,s);return o}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const o=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,o),P0(o,e,n,r,s),o}if(typeof File<"u"&&e instanceof File){const o=new File([e],e.name,{type:e.type});return r.set(e,o),P0(o,e,n,r,s),o}if(e instanceof Blob){const o=new Blob([e],{type:e.type});return r.set(e,o),P0(o,e,n,r,s),o}if(e instanceof Error){const o=new e.constructor;return r.set(e,o),o.message=e.message,o.name=e.name,o.stack=e.stack,o.cause=e.cause,P0(o,e,n,r,s),o}if(typeof e=="object"&&Fme(e)){const o=Object.create(Object.getPrototypeOf(e));return r.set(e,o),P0(o,e,n,r,s),o}return e}function P0(e,t,n=e,r,s){const i=[...Object.keys(t),...RD(t)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(e,a);(c==null||c.writable)&&(e[a]=zh(t[a],a,n,r,s))}}function Fme(e){switch(DD(e)){case FD:case Sme:case Ime:case Ome:case LD:case $me:case Mme:case Ume:case kme:case Rme:case Dme:case Ame:case UD:case _me:case Eme:case Cme:case MD:case xme:case Pme:case Tme:case Nme:case Bme:return!0;default:return!1}}function jme(e,t){return Lme(e,(n,r,s,i)=>{const o=t?.(n,r,s,i);if(o!=null)return o;if(typeof e=="object")switch(Object.prototype.toString.call(e)){case UD:case MD:case LD:{const a=new e.constructor(e?.valueOf());return P0(a,e),a}case FD:{const a={};return P0(a,e),a.length=e.length,a[Symbol.iterator]=e[Symbol.iterator],a}default:return}})}function jD(e){return jme(e)}function zD(e){return e!==null&&typeof e=="object"&&DD(e)==="[object Arguments]"}function HD(e){return typeof e=="object"&&e!==null}function zme(){}function Hme(e){return Q9(e)}function Vme(e){var t;if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const r=e[Symbol.toStringTag];return r==null||!((t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))!=null&&t.writable)?!1:e.toString()===`[object ${r}]`}let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function qme(e){if(J9(e))return e;if(Array.isArray(e)||Q9(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const r=new n(e);return r.lastIndex=e.lastIndex,r}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const r=new n(e.message);return r.stack=e.stack,r.name=e.name,r.cause=e.cause,r}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){const r=Object.create(t);return Object.assign(r,e)}return e}function Zme(e,...t){const n=t.slice(0,-1),r=t[t.length-1];let s=e;for(let i=0;i<n.length;i++){const o=n[i];s=ex(s,o,r,new Map)}return s}function ex(e,t,n,r){var s;if(J9(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(r.has(t))return qme(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let o=0;o<t.length;o++)t[o]=(s=t[o])!=null?s:void 0}const i=[...Object.keys(t),...RD(t)];for(let o=0;o<i.length;o++){const a=i[o];let c=t[a],l=e[a];if(zD(c)&&(c=kD({},c)),zD(l)&&(l=kD({},l)),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=jD(c)),Array.isArray(c))if(typeof l=="object"&&l!=null){const f=[],d=Reflect.ownKeys(l);for(let h=0;h<d.length;h++){const p=d[h];f[p]=l[p]}l=f}else l=[];const u=n(l,c,a,e,t,r);u!=null?e[a]=u:Array.isArray(c)||HD(l)&&HD(c)?e[a]=ex(l,c,n,r):l==null&&Vme(c)?e[a]=ex({},c,n,r):l==null&&Hme(c)?e[a]=jD(c):(l===void 0||c!==void 0)&&(e[a]=c)}return e}function Wme(e,...t){return Zme(e,...t,zme)}const VD="error",Kme="wss://relay.walletconnect.org",Gme="wc",qD="universal_provider",g6=`${Gme}@2:${qD}:`,ZD="https://rpc.walletconnect.org/v1/",WD="generic",Yme=`${ZD}bundler`,Hh="call_status",Xme=86400,tx={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Jme=Object.defineProperty,Qme=Object.defineProperties,eye=Object.getOwnPropertyDescriptors,KD=Object.getOwnPropertySymbols,tye=Object.prototype.hasOwnProperty,nye=Object.prototype.propertyIsEnumerable,GD=(e,t,n)=>t in e?Jme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m6=(e,t)=>{for(var n in t||(t={}))tye.call(t,n)&&GD(e,n,t[n]);if(KD)for(var n of KD(t))nye.call(t,n)&&GD(e,n,t[n]);return e},rye=(e,t)=>Qme(e,eye(t));function YD(e,t,n){var r;const s=cl(e);return((r=t.rpcMap)==null?void 0:r[s.reference])||`${ZD}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function sye(e){return e.includes(":")?e.split(":")[1]:e}function XD(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function iye(e,t){const n=Object.keys(t.namespaces).filter(s=>s.includes(e));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=t.namespaces[s].accounts;r.push(...i)}),r}function JD(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>{var r,s;return((r=n?.chains)==null?void 0:r.length)&&((s=n?.chains)==null?void 0:s.length)>0}))}function y6(e={},t={}){const n=JD(QD(e)),r=JD(QD(t));return Wme(n,r)}function QD(e){var t,n,r,s,i;const o={};if(!ca(e))return o;for(const[a,c]of Object.entries(e)){const l=Yw(a)?[a]:c.chains,u=c.methods||[],f=c.events||[],d=c.rpcMap||{},h=Bh(a);o[h]=rye(m6(m6({},o[h]),c),{chains:oa(l,(t=o[h])==null?void 0:t.chains),methods:oa(u,(n=o[h])==null?void 0:n.methods),events:oa(f,(r=o[h])==null?void 0:r.events)}),(ca(d)||ca(((s=o[h])==null?void 0:s.rpcMap)||{}))&&(o[h].rpcMap=m6(m6({},d),(i=o[h])==null?void 0:i.rpcMap))}return o}function eM(e){return e.includes(":")?e.split(":")[2]:e}function tM(e){const t={};for(const[n,r]of Object.entries(e)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=Yw(n)?[n]:r.chains?r.chains:XD(r.accounts);t[n]={chains:a,methods:s,events:i,accounts:o}}return t}function nx(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}function oye(e){try{const t=JSON.parse(e);return typeof t=="object"&&t!==null&&!Array.isArray(t)}catch{return!1}}const nM={},Vh=e=>nM[e],rx=(e,t)=>{nM[e]=t};var aye=Object.defineProperty,rM=Object.getOwnPropertySymbols,cye=Object.prototype.hasOwnProperty,lye=Object.prototype.propertyIsEnumerable,sM=(e,t,n)=>t in e?aye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iM=(e,t)=>{for(var n in t||(t={}))cye.call(t,n)&&sM(e,n,t[n]);if(rM)for(var n of rM(t))lye.call(t,n)&&sM(e,n,t[n]);return e};const oM="eip155",uye=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],dye=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,sx=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,aM=e=>Object.keys(e).filter(t=>uye.includes(t)).reduce((t,n)=>(t[n]=fye(e[n]),t),{}),fye=e=>typeof e=="string"&&oye(e)?JSON.parse(e):e,hye=(e,t,n)=>{const{sessionProperties:r={},scopedProperties:s={}}=e,i={};if(!ca(s)&&!ca(r))return;const o=aM(r);for(const a of n){const c=dye(a);if(!c)continue;i[sx(c)]=o;const l=s?.[`${oM}:${c}`];if(l){const u=l?.[`${oM}:${c}:${t}`];i[sx(c)]=iM(iM({},i[sx(c)]),aM(u||l))}}for(const[a,c]of Object.entries(i))Object.keys(c).length===0&&delete i[a];return Object.keys(i).length>0?i:void 0};var pye=Object.defineProperty,gye=(e,t,n)=>t in e?pye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mye=(e,t,n)=>gye(e,typeof t!="symbol"?t+"":t,n);let ix;class ox{constructor(t){mye(this,"storage"),this.storage=t}async getItem(t){return await this.storage.getItem(t)}async setItem(t,n){return await this.storage.setItem(t,n)}async removeItem(t){return await this.storage.removeItem(t)}static getStorage(t){return ix||(ix=new ox(t)),ix}}var yye=Object.defineProperty,bye=Object.defineProperties,wye=Object.getOwnPropertyDescriptors,cM=Object.getOwnPropertySymbols,vye=Object.prototype.hasOwnProperty,Eye=Object.prototype.propertyIsEnumerable,lM=(e,t,n)=>t in e?yye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xye=(e,t)=>{for(var n in t||(t={}))vye.call(t,n)&&lM(e,n,t[n]);if(cM)for(var n of cM(t))Eye.call(t,n)&&lM(e,n,t[n]);return e},$ye=(e,t)=>bye(e,wye(t));async function Aye(e,t){const n=cl(e.result.capabilities.caip345.caip2),r=e.result.capabilities.caip345.transactionHashes,s=await Promise.allSettled(r.map(f=>Cye(n.reference,f,t))),i=s.filter(f=>f.status==="fulfilled").map(f=>f.value).filter(f=>f);s.filter(f=>f.status==="rejected").forEach(f=>console.warn("Failed to fetch transaction receipt:",f.reason));const o=!i.length||i.some(f=>!f),a=i.every(f=>f?.status==="0x1"),c=i.every(f=>f?.status==="0x0"),l=i.some(f=>f?.status==="0x0");let u;return o?u=100:a?u=200:c?u=500:l&&(u=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:i,status:u}}async function Cye(e,t,n){return await n(parseInt(e)).request(rn("eth_getTransactionReceipt",[t]))}async function Sye({sendCalls:e,storage:t}){const n=await t.getItem(Hh);await t.setItem(Hh,$ye(xye({},n),{[e.result.id]:{request:e.request,result:e.result,expiry:cn(Xme)}}))}async function Iye({resultId:e,storage:t}){const n=await t.getItem(Hh);if(n){delete n[e],await t.setItem(Hh,n);for(const r in n)ia(n[r].expiry)&&delete n[r];await t.setItem(Hh,n)}}async function _ye({resultId:e,storage:t}){const n=await t.getItem(Hh),r=n?.[e];if(r&&!ia(r.expiry))return r;await Iye({resultId:e,storage:t})}var Oye=Object.defineProperty,Pye=Object.defineProperties,Tye=Object.getOwnPropertyDescriptors,uM=Object.getOwnPropertySymbols,Nye=Object.prototype.hasOwnProperty,Bye=Object.prototype.propertyIsEnumerable,ax=(e,t,n)=>t in e?Oye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cx=(e,t)=>{for(var n in t||(t={}))Nye.call(t,n)&&ax(e,n,t[n]);if(uM)for(var n of uM(t))Bye.call(t,n)&&ax(e,n,t[n]);return e},lx=(e,t)=>Pye(e,Tye(t)),T0=(e,t,n)=>ax(e,typeof t!="symbol"?t+"":t,n);class kye{constructor(t){T0(this,"name","eip155"),T0(this,"client"),T0(this,"chainId"),T0(this,"namespace"),T0(this,"httpProviders"),T0(this,"events"),T0(this,"storage"),this.namespace=t.namespace,this.events=Vh("events"),this.client=Vh("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=ox.getStorage(this.client.core.storage)}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t);case"wallet_sendCalls":return await this.sendCalls(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(parseInt(t),n);const r=this.chainId;this.chainId=parseInt(t),this.events.emit(tx.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${t}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,n){const r=n||YD(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Mh(new p6(r,Vh("disableProviderPing")))}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(sye(n));t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(t){const n=t||this.chainId;return this.httpProviders[n]||(this.httpProviders=lx(cx({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(t){var n,r;let s=t.request.params?(n=t.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var n,r,s,i,o;const a=(r=(n=t.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=t.request)==null?void 0:s.params)==null?void 0:i[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(t.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},f=`${a}${c.join(",")}`,d=u?.[f];if(d)return d;let h;try{h=hye(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;const p=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:lx(cx({},l.sessionProperties||{}),{capabilities:lx(cx({},u||{}),{[f]:p})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return p}async getCallStatus(t){var n,r,s;const i=this.client.session.get(t.topic),o=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(o){const l=this.getBundlerUrl(t.chainId,o);try{return await this.getUserOperationReceipt(l,t)}catch(u){console.warn("Failed to fetch call status from bundler",u,l)}}const a=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,t)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,a)}const c=await _ye({resultId:(s=t.request.params)==null?void 0:s[0],storage:this.storage});if(c)try{return await Aye(c,this.getHttpProvider.bind(this))}catch(l){console.warn("Failed to fetch call status from stored send calls",l,c)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,n){var r;const s=new URL(t),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(rn("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(t,n){return`${Yme}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${n}`}async sendCalls(t){var n,r,s;const i=await this.client.request(t),o=(n=t.request.params)==null?void 0:n[0],a=i?.id,c=i?.capabilities||{},l=(r=c?.caip345)==null?void 0:r.caip2,u=(s=c?.caip345)==null?void 0:s.transactionHashes;return!a||!l||!(u!=null&&u.length)||await Sye({sendCalls:{request:o,result:i},storage:this.storage}),i}}var Rye=Object.defineProperty,Dye=(e,t,n)=>t in e?Rye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qh=(e,t,n)=>Dye(e,typeof t!="symbol"?t+"":t,n);class Mye{constructor(t){qh(this,"name",WD),qh(this,"client"),qh(this,"httpProviders"),qh(this,"events"),qh(this,"namespace"),qh(this,"chainId"),this.namespace=t.namespace,this.events=Vh("events"),this.client=Vh("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n);const r=this.chainId;this.chainId=t,this.events.emit(tx.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${t}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getNamespaceName(){const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return cl(t).namespace}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var t,n;const r={};return(n=(t=this.namespace)==null?void 0:t.accounts)==null||n.forEach(s=>{var i,o;const a=cl(s),c=(o=(i=this.namespace)==null?void 0:i.rpcMap)==null?void 0:o[`${a.namespace}:${a.reference}`];r[a.reference]=this.createHttpProvider(s,c)}),r}getHttpProvider(t){const n=cl(t).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||YD(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Mh(new p6(r,Vh("disableProviderPing")))}}var Uye=Object.defineProperty,Lye=Object.defineProperties,Fye=Object.getOwnPropertyDescriptors,dM=Object.getOwnPropertySymbols,jye=Object.prototype.hasOwnProperty,zye=Object.prototype.propertyIsEnumerable,ux=(e,t,n)=>t in e?Uye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zg=(e,t)=>{for(var n in t||(t={}))jye.call(t,n)&&ux(e,n,t[n]);if(dM)for(var n of dM(t))zye.call(t,n)&&ux(e,n,t[n]);return e},b6=(e,t)=>Lye(e,Fye(t)),Fi=(e,t,n)=>ux(e,typeof t!="symbol"?t+"":t,n);class dx{constructor(t){Fi(this,"client"),Fi(this,"namespaces"),Fi(this,"optionalNamespaces"),Fi(this,"sessionProperties"),Fi(this,"scopedProperties"),Fi(this,"events",new Ot.exports),Fi(this,"rpcProviders",{}),Fi(this,"session"),Fi(this,"providerOpts"),Fi(this,"logger"),Fi(this,"uri"),Fi(this,"disableProviderPing",!1);var n,r;this.providerOpts=t,this.logger=d9({logger:(n=t.logger)!=null?n:VD,name:(r=this.providerOpts.name)!=null?r:qD}),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const n=new dx(t);return await n.initialize(),n}async request(t,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:Zg({},t),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(t,n,r,s){const i=new Date().getTime();this.request(t,r,s).then(o=>n(null,ua(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Ut("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(t,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=tM(this.session.namespaces);this.namespaces=y6(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}removeListener(t,n){this.events.removeListener(t,n)}off(t,n){this.events.off(t,n)}get isWalletConnect(){return!0}async pair(t){const{uri:n,approval:r}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=tM(s.namespaces);return this.namespaces=y6(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,n){try{if(!this.session)return;const[r,s]=this.validateChain(t);this.getProvider(r).setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(t={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Di(n))return;for(const r of n)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn(n,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,n;if(this.client=this.providerOpts.client||await ume.init({core:this.providerOpts.core,logger:this.providerOpts.logger||VD,relayUrl:this.providerOpts.relayUrl||Kme,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(n=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(n=>Bh(n)))];rx("client",this.client),rx("events",this.events),rx("disableProviderPing",this.disableProviderPing),t.forEach(n=>{if(!this.session)return;const r=iye(n,this.session);if(r?.length===0)return;const s=XD(r),i=y6(this.namespaces,this.optionalNamespaces),o=b6(Zg({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new kye({namespace:o});break;default:this.rpcProviders[n]=new Mye({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var n;const{topic:r}=t;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var n;const{params:r,topic:s}=t;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&Di(o)&&this.events.emit("accountsChanged",o.map(eM))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=Bh(o),l=nx(o)!==nx(a)?`${c}:${nx(a)}`:o;this.onChainChanged({currentCaipChainId:l})}else this.events.emit(i.name,i.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:n})=>{var r,s;if(t!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(t);this.session=b6(Zg({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",async t=>{var n;t.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",b6(Zg({},Ut("USER_DISCONNECTED")),{data:t.topic})))}),this.on(tx.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(b6(Zg({},t),{internal:!0}))})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[WD]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var n;this.getProvider(t).updateNamespace((n=this.session)==null?void 0:n.namespaces[t])})}setNamespaces(t){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=t;this.optionalNamespaces=y6(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(t){const[n,r]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>Bh(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=Bh(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged({currentCaipChainId:t,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[s,i]=this.validateChain(t);i&&(this.updateNamespaceChain(s,i),r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:s,currentCaipChainId:t,previousCaipChainId:n})):this.getProvider(s).setDefaultChain(i),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:t,currentCaipChainId:n,previousCaipChainId:r}){var s,i;try{if(r===n)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[t])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(eM);if(!Di(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn(o,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(t,n){if(!this.namespaces)return;const r=this.namespaces[t]?t:`${t}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${g6}/${t}${s}`,n)}async getFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${g6}/${t}${r}`)}async deleteFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${g6}/${t}${r}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(g6)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(n,"Failed to cleanup storage")}}}const Hye=dx,Vye="wc",qye="ethereum_provider",Zye=`${Vye}@2:${qye}:`,Wye="https://rpc.walletconnect.org/v1/",w6=["eth_sendTransaction","personal_sign"],fM=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],v6=["chainChanged","accountsChanged"],hM=["chainChanged","accountsChanged","message","disconnect","connect"],Kye=async()=>{const{createAppKit:e}=await Promise.resolve().then(function(){return HLe});return e};var Gye=Object.defineProperty,Yye=Object.defineProperties,Xye=Object.getOwnPropertyDescriptors,pM=Object.getOwnPropertySymbols,Jye=Object.prototype.hasOwnProperty,Qye=Object.prototype.propertyIsEnumerable,fx=(e,t,n)=>t in e?Gye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N0=(e,t)=>{for(var n in t||(t={}))Jye.call(t,n)&&fx(e,n,t[n]);if(pM)for(var n of pM(t))Qye.call(t,n)&&fx(e,n,t[n]);return e},Wg=(e,t)=>Yye(e,Xye(t)),hi=(e,t,n)=>fx(e,typeof t!="symbol"?t+"":t,n);function E6(e){return Number(e[0].split(":")[1])}function x6(e){return`0x${e.toString(16)}`}function ebe(e){const{chains:t,optionalChains:n,methods:r,optionalMethods:s,events:i,optionalEvents:o,rpcMap:a}=e;if(!Di(t))throw new Error("Invalid chains");const c={chains:t,methods:r||w6,events:i||v6,rpcMap:N0({},t.length?{[E6(t)]:a[E6(t)]}:{})},l=i?.filter(h=>!v6.includes(h)),u=r?.filter(h=>!w6.includes(h));if(!n&&!o&&!s&&!(l!=null&&l.length)&&!(u!=null&&u.length))return{required:t.length?c:void 0};const f=l?.length&&u?.length||!n,d={chains:[...new Set(f?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(s!=null&&s.length?s:fM))],events:[...new Set(c.events.concat(o!=null&&o.length?o:hM))],rpcMap:a};return{required:t.length?c:void 0,optional:n.length?d:void 0}}class $6{constructor(){hi(this,"events",new Ot.exports.EventEmitter),hi(this,"namespace","eip155"),hi(this,"accounts",[]),hi(this,"signer"),hi(this,"chainId",1),hi(this,"modal"),hi(this,"rpc"),hi(this,"STORAGE_KEY",Zye),hi(this,"on",(t,n)=>(this.events.on(t,n),this)),hi(this,"once",(t,n)=>(this.events.once(t,n),this)),hi(this,"removeListener",(t,n)=>(this.events.removeListener(t,n),this)),hi(this,"off",(t,n)=>(this.events.off(t,n),this)),hi(this,"parseAccount",t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t),this.signer={},this.rpc={}}static async init(t){const n=new $6;return await n.initialize(t),n}async request(t,n){return await this.signer.request(t,this.formatChainId(this.chainId),n)}sendAsync(t,n,r){this.signer.sendAsync(t,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:r,optional:s}=ebe(this.rpc);try{const i=await new Promise(async(a,c)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const f=t!=null&&t.scopedProperties?{[this.namespace]:t.scopedProperties}:void 0;await this.signer.connect(Wg(N0({namespaces:N0({},r&&{[this.namespace]:r})},s&&{optionalNamespaces:{[this.namespace]:s}}),{pairingTopic:t?.pairingTopic,scopedProperties:f})).then(d=>{a(d)}).catch(d=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),c(new Error(d.message))})});if(!i)return;const o=WN(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:x6(this.chainId)})}catch(i){throw this.signer.logger.error(i),i}finally{(n=this.modal)==null||n.close()}}async authenticate(t,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t?.chains});try{const s=await new Promise(async(o,a)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Wg(N0({},t),{chains:this.rpc.chains}),n).then(u=>{o(u)}).catch(u=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),i=s.session;if(i){const o=WN(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:x6(this.chainId)})}return s}catch(s){throw this.signer.logger.error(s),s}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:n}=t,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",t)}),this.signer.on("accountsChanged",t=>{this.accounts=this.parseAccounts(t),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",t=>{const n=parseInt(t);this.chainId=n,this.events.emit("chainChanged",x6(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",Wg(N0({},Ut("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const n=t.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",x6(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const n=this.parseChainId(t);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(t){const[n,r,s]=t.split(":");return{chainId:`${n}:${r}`,address:s}}setAccounts(t){this.accounts=t.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var n,r;const s=(n=t?.chains)!=null?n:[],i=(r=t?.optionalChains)!=null?r:[],o=s.concat(i);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=s.length?t?.methods||w6:[],c=s.length?t?.events||v6:[],l=t?.optionalMethods||[],u=t?.optionalEvents||[],f=t?.rpcMap||this.buildRpcMap(o,t.projectId),d=t?.qrModalOptions||void 0;return{chains:s?.map(h=>this.formatChainId(h)),optionalChains:i.map(h=>this.formatChainId(h)),methods:a,events:c,optionalMethods:l,optionalEvents:u,rpcMap:f,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:d,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,n){const r={};return t.forEach(s=>{r[s]=this.getRpcUrl(s,n)}),r}async initialize(t){var n;if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?E6(this.rpc.chains):E6(this.rpc.optionalChains),this.signer=await Hye.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storage:t.storage,storageOptions:t.storageOptions,customStoragePrefix:t.customStoragePrefix,telemetryEnabled:t.telemetryEnabled,logger:t.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const s=await Kye(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return QLe}),o=i(Wg(N0({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!o.networks.length)throw new Error("No networks found for WalletConnect\xB7");r=s(Wg(N0({},o),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((n=this.rpc.qrModalOptions)==null?void 0:n.enableMobileFullScreen)===!0}))}catch(s){throw console.warn(s),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(s){throw this.signer.logger.error(s),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:n,optionalChains:r,rpcMap:s}=t;n&&Di(n)&&(this.rpc.chains=n.map(i=>this.formatChainId(i)),n.forEach(i=>{this.rpc.rpcMap[i]=s?.[i]||this.getRpcUrl(i)})),r&&Di(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(i=>this.formatChainId(i)),r.forEach(i=>{this.rpc.rpcMap[i]=s?.[i]||this.getRpcUrl(i)}))}getRpcUrl(t,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[t])||`${Wye}?chainId=eip155:${t}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:n?.accounts),this.setAccounts(n?.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(n=>this.parseAccount(n))}}const tbe=$6;var gM={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Tn,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",o="second",a="minute",c="hour",l="day",u="week",f="month",d="quarter",h="year",p="date",g="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var m=["th","st","nd","rd"],b=v%100;return"["+v+(m[(b-20)%10]||m[b]||m[0])+"]"}},x=function(v,m,b){var A=String(v);return!A||A.length>=m?v:""+Array(m+1-A.length).join(b)+v},E={s:x,z:function(v){var m=-v.utcOffset(),b=Math.abs(m),A=Math.floor(b/60),I=b%60;return(m<=0?"+":"-")+x(A,2,"0")+":"+x(I,2,"0")},m:function v(m,b){if(m.date()<b.date())return-v(b,m);var A=12*(b.year()-m.year())+(b.month()-m.month()),I=m.clone().add(A,f),C=b-I<0,O=m.clone().add(A+(C?-1:1),f);return+(-(A+(b-I)/(C?I-O:O-I))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:f,y:h,w:u,d:l,D:p,h:c,m:a,s:o,ms:i,Q:d}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},P="en",N={};N[P]=_;var k="$isDayjsObject",R=function(v){return v instanceof S||!(!v||!v[k])},T=function v(m,b,A){var I;if(!m)return P;if(typeof m=="string"){var C=m.toLowerCase();N[C]&&(I=C),b&&(N[C]=b,I=C);var O=m.split("-");if(!I&&O.length>1)return v(O[0])}else{var B=m.name;N[B]=m,I=B}return!A&&I&&(P=I),I||!A&&P},L=function(v,m){if(R(v))return v.clone();var b=typeof m=="object"?m:{};return b.date=v,b.args=arguments,new S(b)},M=E;M.l=T,M.i=R,M.w=function(v,m){return L(v,{locale:m.$L,utc:m.$u,x:m.$x,$offset:m.$offset})};var S=function(){function v(b){this.$L=T(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[k]=!0}var m=v.prototype;return m.parse=function(b){this.$d=function(A){var I=A.date,C=A.utc;if(I===null)return new Date(NaN);if(M.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var O=I.match(y);if(O){var B=O[2]-1||0,D=(O[7]||"0").substring(0,3);return C?new Date(Date.UTC(O[1],B,O[3]||1,O[4]||0,O[5]||0,O[6]||0,D)):new Date(O[1],B,O[3]||1,O[4]||0,O[5]||0,O[6]||0,D)}}return new Date(I)}(b),this.init()},m.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},m.$utils=function(){return M},m.isValid=function(){return this.$d.toString()!==g},m.isSame=function(b,A){var I=L(b);return this.startOf(A)<=I&&I<=this.endOf(A)},m.isAfter=function(b,A){return L(b)<this.startOf(A)},m.isBefore=function(b,A){return this.endOf(A)<L(b)},m.$g=function(b,A,I){return M.u(b)?this[A]:this.set(I,b)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(b,A){var I=this,C=!!M.u(A)||A,O=M.p(b),B=function(Z,Y){var fe=M.w(I.$u?Date.UTC(I.$y,Y,Z):new Date(I.$y,Y,Z),I);return C?fe:fe.endOf(l)},D=function(Z,Y){return M.w(I.toDate()[Z].apply(I.toDate("s"),(C?[0,0,0,0]:[23,59,59,999]).slice(Y)),I)},z=this.$W,j=this.$M,U=this.$D,V="set"+(this.$u?"UTC":"");switch(O){case h:return C?B(1,0):B(31,11);case f:return C?B(1,j):B(0,j+1);case u:var q=this.$locale().weekStart||0,X=(z<q?z+7:z)-q;return B(C?U-X:U+(6-X),j);case l:case p:return D(V+"Hours",0);case c:return D(V+"Minutes",1);case a:return D(V+"Seconds",2);case o:return D(V+"Milliseconds",3);default:return this.clone()}},m.endOf=function(b){return this.startOf(b,!1)},m.$set=function(b,A){var I,C=M.p(b),O="set"+(this.$u?"UTC":""),B=(I={},I[l]=O+"Date",I[p]=O+"Date",I[f]=O+"Month",I[h]=O+"FullYear",I[c]=O+"Hours",I[a]=O+"Minutes",I[o]=O+"Seconds",I[i]=O+"Milliseconds",I)[C],D=C===l?this.$D+(A-this.$W):A;if(C===f||C===h){var z=this.clone().set(p,1);z.$d[B](D),z.init(),this.$d=z.set(p,Math.min(this.$D,z.daysInMonth())).$d}else B&&this.$d[B](D);return this.init(),this},m.set=function(b,A){return this.clone().$set(b,A)},m.get=function(b){return this[M.p(b)]()},m.add=function(b,A){var I,C=this;b=Number(b);var O=M.p(A),B=function(j){var U=L(C);return M.w(U.date(U.date()+Math.round(j*b)),C)};if(O===f)return this.set(f,this.$M+b);if(O===h)return this.set(h,this.$y+b);if(O===l)return B(1);if(O===u)return B(7);var D=(I={},I[a]=r,I[c]=s,I[o]=n,I)[O]||1,z=this.$d.getTime()+b*D;return M.w(z,this)},m.subtract=function(b,A){return this.add(-1*b,A)},m.format=function(b){var A=this,I=this.$locale();if(!this.isValid())return I.invalidDate||g;var C=b||"YYYY-MM-DDTHH:mm:ssZ",O=M.z(this),B=this.$H,D=this.$m,z=this.$M,j=I.weekdays,U=I.months,V=I.meridiem,q=function(Y,fe,me,we){return Y&&(Y[fe]||Y(A,C))||me[fe].slice(0,we)},X=function(Y){return M.s(B%12||12,Y,"0")},Z=V||function(Y,fe,me){var we=Y<12?"AM":"PM";return me?we.toLowerCase():we};return C.replace($,function(Y,fe){return fe||function(me){switch(me){case"YY":return String(A.$y).slice(-2);case"YYYY":return M.s(A.$y,4,"0");case"M":return z+1;case"MM":return M.s(z+1,2,"0");case"MMM":return q(I.monthsShort,z,U,3);case"MMMM":return q(U,z);case"D":return A.$D;case"DD":return M.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return q(I.weekdaysMin,A.$W,j,2);case"ddd":return q(I.weekdaysShort,A.$W,j,3);case"dddd":return j[A.$W];case"H":return String(B);case"HH":return M.s(B,2,"0");case"h":return X(1);case"hh":return X(2);case"a":return Z(B,D,!0);case"A":return Z(B,D,!1);case"m":return String(D);case"mm":return M.s(D,2,"0");case"s":return String(A.$s);case"ss":return M.s(A.$s,2,"0");case"SSS":return M.s(A.$ms,3,"0");case"Z":return O}return null}(Y)||O.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(b,A,I){var C,O=this,B=M.p(A),D=L(b),z=(D.utcOffset()-this.utcOffset())*r,j=this-D,U=function(){return M.m(O,D)};switch(B){case h:C=U()/12;break;case f:C=U();break;case d:C=U()/3;break;case u:C=(j-z)/6048e5;break;case l:C=(j-z)/864e5;break;case c:C=j/s;break;case a:C=j/r;break;case o:C=j/n;break;default:C=j}return I?C:M.a(C)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return N[this.$L]},m.locale=function(b,A){if(!b)return this.$L;var I=this.clone(),C=T(b,A,!0);return C&&(I.$L=C),I},m.clone=function(){return M.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},v}(),w=S.prototype;return L.prototype=w,[["$ms",i],["$s",o],["$m",a],["$H",c],["$W",l],["$M",f],["$y",h],["$D",p]].forEach(function(v){w[v[1]]=function(m){return this.$g(m,v[0],v[1])}}),L.extend=function(v,m){return v.$i||(v(m,S,L),v.$i=!0),L},L.locale=T,L.isDayjs=R,L.unix=function(v){return L(1e3*v)},L.en=N[P],L.Ls=N,L.p={},L})})(gM);var hx=gM.exports,mM={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Tn,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],s=n%100;return"["+n+(r[(s-20)%10]||r[s]||r[0])+"]"}}})})(mM);var nbe=mM.exports,yM={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Tn,function(){return function(n,r,s){n=n||{};var i=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(l,u,f,d){return i.fromToBase(l,u,f,d)}s.en.relativeTime=o,i.fromToBase=function(l,u,f,d,h){for(var p,g,y,$=f.$locale().relativeTime||o,_=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],x=_.length,E=0;E<x;E+=1){var P=_[E];P.d&&(p=d?s(l).diff(f,P.d,!0):f.diff(l,P.d,!0));var N=(n.rounding||Math.round)(Math.abs(p));if(y=p>0,N<=P.r||!P.r){N<=1&&E>0&&(P=_[E-1]);var k=$[P.l];h&&(N=h(""+N)),g=typeof k=="string"?k.replace("%d",N):k(N,u,P.l,y);break}}if(u)return g;var R=y?$.future:$.past;return typeof R=="function"?R(g):R.replace("%s",g)},i.to=function(l,u){return a(l,u,this,!0)},i.from=function(l,u){return a(l,u,this)};var c=function(l){return l.$u?s.utc():s()};i.toNow=function(l){return this.to(c(this),l)},i.fromNow=function(l){return this.from(c(this),l)}}})})(yM);var rbe=yM.exports,bM={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Tn,function(){return function(n,r,s){s.updateLocale=function(i,o){var a=s.Ls[i];if(a)return(o?Object.keys(o):[]).forEach(function(c){a[c]=o[c]}),a}}})})(bM);var sbe=bM.exports;hx.extend(rbe),hx.extend(sbe);const ibe={...nbe,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}};hx.locale("en-web3-modal",ibe);const te={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:typeof process<"u"&&process.env.NODE_ENV==="development"},px={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(n=>n.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;const n=e.find(s=>s.caipNetworkId===t);if(n)return n.name;const[r]=t.split(":");return te.CHAIN_NAME_MAP?.[r]||void 0}},wM=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var obe=20,abe=1,B0=1e6,vM=1e6,cbe=-7,lbe=21,ube=!1,Kg="[big.js] ",k0=Kg+"Invalid ",A6=k0+"decimal places",dbe=k0+"rounding mode",EM=Kg+"Division by zero",vt={},ga=void 0,fbe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function xM(){function e(t){var n=this;if(!(n instanceof e))return t===ga?xM():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(k0+"value");t=t===0&&1/t<0?"-0":String(t)}hbe(n,t)}n.constructor=e}return e.prototype=vt,e.DP=obe,e.RM=abe,e.NE=cbe,e.PE=lbe,e.strict=ube,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function hbe(e,t){var n,r,s;if(!fbe.test(t))throw Error(k0+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),s=t.length,r=0;r<s&&t.charAt(r)=="0";)++r;if(r==s)e.c=[e.e=0];else{for(;s>0&&t.charAt(--s)=="0";);for(e.e=n-r-1,e.c=[],n=0;r<=s;)e.c[n++]=+t.charAt(r++)}return e}function R0(e,t,n,r){var s=e.c;if(n===ga&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(dbe);if(t<1)r=n===3&&(r||!!s[0])||t===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==ga))),s.length=1,r?(e.e=e.e-t+1,s[0]=1):s[0]=e.e=0;else if(t<s.length){if(r=n===1&&s[t]>=5||n===2&&(s[t]>5||s[t]===5&&(r||s[t+1]!==ga||s[t-1]&1))||n===3&&(r||!!s[0]),s.length=t,r){for(;++s[--t]>9;)if(s[t]=0,t===0){++e.e,s.unshift(1);break}}for(t=s.length;!s[--t];)s.pop()}return e}function D0(e,t,n){var r=e.e,s=e.c.join(""),i=s.length;if(t)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&n?"-"+s:s}vt.abs=function(){var e=new this.constructor(this);return e.s=1,e},vt.cmp=function(e){var t,n=this,r=n.c,s=(e=new n.constructor(e)).c,i=n.s,o=e.s,a=n.e,c=e.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(t=i<0,a!=c)return a>c^t?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^t?1:-1;return a==c?0:a>c^t?1:-1},vt.div=function(e){var t=this,n=t.constructor,r=t.c,s=(e=new n(e)).c,i=t.s==e.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>B0)throw Error(A6);if(!s[0])throw Error(EM);if(!r[0])return e.s=i,e.c=[e.e=0],e;var a,c,l,u,f,d=s.slice(),h=a=s.length,p=r.length,g=r.slice(0,a),y=g.length,$=e,_=$.c=[],x=0,E=o+($.e=t.e-e.e)+1;for($.s=i,i=E<0?0:E,d.unshift(0);y++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(y=g.length))u=a>y?1:-1;else for(f=-1,u=0;++f<a;)if(s[f]!=g[f]){u=s[f]>g[f]?1:-1;break}if(u<0){for(c=y==a?s:d;y;){if(g[--y]<c[y]){for(f=y;f&&!g[--f];)g[f]=9;--g[f],g[y]+=10}g[y]-=c[y]}for(;!g[0];)g.shift()}else break}_[x++]=u?l:++l,g[0]&&u?g[y]=r[h]||0:g=[r[h]]}while((h++<p||g[0]!==ga)&&i--);return!_[0]&&x!=1&&(_.shift(),$.e--,E--),x>E&&R0($,E,n.RM,g[0]!==ga),$},vt.eq=function(e){return this.cmp(e)===0},vt.gt=function(e){return this.cmp(e)>0},vt.gte=function(e){return this.cmp(e)>-1},vt.lt=function(e){return this.cmp(e)<0},vt.lte=function(e){return this.cmp(e)<1},vt.minus=vt.sub=function(e){var t,n,r,s,i=this,o=i.constructor,a=i.s,c=(e=new o(e)).s;if(a!=c)return e.s=-c,i.plus(e);var l=i.c.slice(),u=i.e,f=e.c,d=e.e;if(!l[0]||!f[0])return f[0]?e.s=-c:l[0]?e=new o(i):e.s=1,e;if(a=u-d){for((s=a<0)?(a=-a,r=l):(d=u,r=f),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<f.length)?l:f).length,a=c=0;c<n;c++)if(l[c]!=f[c]){s=l[c]<f[c];break}if(s&&(r=l,l=f,f=r,e.s=-e.s),(c=(n=f.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;n>a;){if(l[--n]<f[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=f[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--d;return l[0]||(e.s=1,l=[d=0]),e.c=l,e.e=d,e},vt.mod=function(e){var t,n=this,r=n.constructor,s=n.s,i=(e=new r(e)).s;if(!e.c[0])throw Error(EM);return n.s=e.s=1,t=e.cmp(n)==1,n.s=s,e.s=i,t?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=s,r.RM=i,this.minus(n.times(e)))},vt.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},vt.plus=vt.add=function(e){var t,n,r,s=this,i=s.constructor;if(e=new i(e),s.s!=e.s)return e.s=-e.s,s.minus(e);var o=s.e,a=s.c,c=e.e,l=e.c;if(!a[0]||!l[0])return l[0]||(a[0]?e=new i(s):e.s=s.s),e;if(a=a.slice(),t=o-c){for(t>0?(c=o,r=l):(t=-t,r=a),r.reverse();t--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),t=l.length,n=0;t;a[t]%=10)n=(a[--t]=a[t]+l[t]+n)/10|0;for(n&&(a.unshift(n),++c),t=a.length;a[--t]===0;)a.pop();return e.c=a,e.e=c,e},vt.pow=function(e){var t=this,n=new t.constructor("1"),r=n,s=e<0;if(e!==~~e||e<-vM||e>vM)throw Error(k0+"exponent");for(s&&(e=-e);e&1&&(r=r.times(t)),e>>=1,!!e;)t=t.times(t);return s?n.div(r):r},vt.prec=function(e,t){if(e!==~~e||e<1||e>B0)throw Error(k0+"precision");return R0(new this.constructor(this),e,t)},vt.round=function(e,t){if(e===ga)e=0;else if(e!==~~e||e<-B0||e>B0)throw Error(A6);return R0(new this.constructor(this),e+this.e+1,t)},vt.sqrt=function(){var e,t,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Kg+"No square root");i=Math.sqrt(+D0(r,!0,!0)),i===0||i===1/0?(t=r.c.join(""),t.length+o&1||(t+="0"),i=Math.sqrt(t),o=((o+1)/2|0)-(o<0||o&1),e=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):e=new s(i+""),o=e.e+(s.DP+=4);do n=e,e=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return R0(e,(s.DP-=4)+e.e+1,s.RM)},vt.times=vt.mul=function(e){var t,n=this,r=n.constructor,s=n.c,i=(e=new r(e)).c,o=s.length,a=i.length,c=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!s[0]||!i[0])return e.c=[e.e=0],e;for(e.e=c+l,o<a&&(t=s,s=i,i=t,l=o,o=a,a=l),t=new Array(l=o+a);l--;)t[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=t[l]+i[c]*s[l-c-1]+a,t[l--]=a%10,a=a/10|0;t[l]=a}for(a?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},vt.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==ga){if(e!==~~e||e<0||e>B0)throw Error(A6);for(n=R0(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return D0(n,!0,!!r)},vt.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==ga){if(e!==~~e||e<0||e>B0)throw Error(A6);for(n=R0(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return D0(n,!1,!!r)},vt[Symbol.for("nodejs.util.inspect.custom")]=vt.toJSON=vt.toString=function(){var e=this,t=e.constructor;return D0(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},vt.toNumber=function(){var e=+D0(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(Kg+"Imprecise conversion");return e},vt.toPrecision=function(e,t){var n=this,r=n.constructor,s=n.c[0];if(e!==ga){if(e!==~~e||e<1||e>B0)throw Error(k0+"precision");for(n=R0(new r(n),e,t);n.c.length<e;)n.c.push(0)}return D0(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)},vt.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(Kg+"valueOf disallowed");return D0(e,e.e<=t.NE||e.e>=t.PE,!0)};var qu=xM();const dn={bigNumber(e){return e?new qu(e):new qu(0)},multiply(e,t){if(e===void 0||t===void 0)return new qu(0);const n=new qu(e),r=new qu(t);return n.times(r)},toFixed(e,t=2){return e===void 0||e===""?new qu(0).toFixed(t):new qu(e).toFixed(t)},formatNumberToLocalString(e,t=2){return e===void 0||e===""?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"})},parseLocalStringToNumber(e){if(e===void 0||e==="")return 0;const t=e.replace(/,/gu,"");return new qu(t).toNumber()}},pbe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],gbe=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],mbe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ybe={getERC20Abi:e=>te.USDT_CONTRACT_ADDRESSES.includes(e)?mbe:pbe,getSwapAbi:()=>gbe},er={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);const[n,r,s]=t;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(e){const t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}},ma={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(e){try{if(typeof e=="object"&&e!==null){const t=e,n=typeof t.message=="string",r=typeof t.code=="number";return n&&r}return!1}catch{return!1}},isUserRejectedMessage(e){return e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled")},isUserRejectedRequestError(e){return ma.isRpcProviderError(e)?e.code===ma.RPC_ERROR_CODE.USER_REJECTED_REQUEST||ma.isUserRejectedMessage(e.message):e instanceof Error?ma.isUserRejectedMessage(e.message):!1}};class bbe extends Error{constructor(t,n){super(n.message,{cause:t}),this.name=ma.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=n.code}}class $M extends bbe{constructor(t){super(t,{code:ma.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=ma.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}const _e={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version"};function gx(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const Ae={setItem(e,t){Gg()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(Gg())return localStorage.getItem(e)||void 0},removeItem(e){Gg()&&localStorage.removeItem(e)},clear(){Gg()&&localStorage.clear()}};function Gg(){return typeof window<"u"&&typeof localStorage<"u"}function C6(e,t){return t==="light"?{"--w3m-accent":e?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":e?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}const wbe=Symbol(),AM=Object.getPrototypeOf,mx=new WeakMap,vbe=e=>e&&(mx.has(e)?mx.get(e):AM(e)===Object.prototype||AM(e)===Array.prototype),Ebe=e=>vbe(e)&&e[wbe]||null,CM=(e,t=!0)=>{mx.set(e,t)},yx=e=>typeof e=="object"&&e!==null,xbe=e=>yx(e)&&!Yg.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),SM=(e,t)=>{const n=bx.get(e);if(n?.[0]===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return CM(r,!0),bx.set(e,[t,r]),Reflect.ownKeys(e).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(e,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(e,s),a={value:i,enumerable:o,configurable:!0};if(Yg.has(i))CM(i,!1);else if(Zu.has(i)){const[c,l]=Zu.get(i);a.value=SM(c,l())}Object.defineProperty(r,s,a)}),Object.preventExtensions(r)},$be=(e,t,n,r)=>({deleteProperty(s,i){const o=Reflect.get(s,i);n(i);const a=Reflect.deleteProperty(s,i);return a&&r(["delete",[i],o]),a},set(s,i,o,a){const c=!e()&&Reflect.has(s,i),l=Reflect.get(s,i,a);if(c&&(IM(l,o)||Xg.has(o)&&IM(l,Xg.get(o))))return!0;n(i),yx(o)&&(o=Ebe(o)||o);const u=!Zu.has(o)&&Cbe(o)?Et(o):o;return t(i,u),Reflect.set(s,i,u,a),r(["set",[i],o,l]),!0}}),Zu=new WeakMap,Yg=new WeakSet,bx=new WeakMap,S6=[1],Xg=new WeakMap;let IM=Object.is,Abe=(e,t)=>new Proxy(e,t),Cbe=xbe,Sbe=SM,Ibe=$be;function Et(e={}){if(!yx(e))throw new Error("object required");const t=Xg.get(e);if(t)return t;let n=S6[0];const r=new Set,s=(y,$=++S6[0])=>{n!==$&&(i=n=$,r.forEach(_=>_(y,$)))};let i=n;const o=(y=S6[0])=>(i!==y&&(i=y,c.forEach(([$])=>{const _=$[1](y);_>n&&(n=_)})),n),a=y=>($,_)=>{const x=[...$];x[1]=[y,...x[1]],s(x,_)},c=new Map,l=(y,$)=>{const _=!Yg.has($)&&Zu.get($);if(_){if(c.has(y))throw new Error("prop listener already exists");if(r.size){const x=_[2](a(y));c.set(y,[_,x])}else c.set(y,[_])}},u=y=>{var $;const _=c.get(y);_&&(c.delete(y),($=_[1])==null||$.call(_))},f=y=>(r.add(y),r.size===1&&c.forEach(([_,x],E)=>{if(x)throw new Error("remove already exists");const P=_[2](a(E));c.set(E,[_,P])}),()=>{r.delete(y),r.size===0&&c.forEach(([_,x],E)=>{x&&(x(),c.set(E,[_]))})});let d=!0;const h=Ibe(()=>d,l,u,s),p=Abe(e,h);Xg.set(e,p);const g=[e,o,f];return Zu.set(p,g),Reflect.ownKeys(e).forEach(y=>{const $=Object.getOwnPropertyDescriptor(e,y);"value"in $&&$.writable&&(p[y]=e[y])}),d=!1,p}function vn(e,t,n){const r=Zu.get(e);r||console.warn("Please use proxy object");let s;const i=[],o=r[2];let a=!1;const l=o(u=>{if(i.push(u),n){t(i.splice(0));return}s||(s=Promise.resolve().then(()=>{s=void 0,a&&t(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Jg(e){const t=Zu.get(e);t||console.warn("Please use proxy object");const[n,r]=t;return Sbe(n,r())}function Zh(e){return Yg.add(e),e}function _be(){return{proxyStateMap:Zu,refSet:Yg,snapCache:bx,versionHolder:S6,proxyCache:Xg}}function En(e,t,n,r){let s=e[t];return vn(e,()=>{const i=e[t];Object.is(s,i)||n(s=i)},r)}const{proxyStateMap:Obe,snapCache:Pbe}=_be(),I6=e=>Obe.has(e);function Tbe(e){const t=[];let n=0;const r=new Map,s=new WeakMap,i=()=>{const l=Pbe.get(a),u=l?.[1];if(u&&!s.has(u)){const f=new Map(r);s.set(u,f)}},o=l=>s.get(l)||r;if(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError(`proxyMap:
	initial state must be iterable
		tip: structure should be [[key, value]]`);for(const[l,u]of e)r.set(l,n),t[n++]=u}const a={data:t,index:n,epoch:0,get size(){return I6(this)||i(),o(this).size},get(l){const f=o(this).get(l);if(f===void 0){this.epoch;return}return this.data[f]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!I6(this))throw new Error("Cannot perform mutations on a snapshot");const f=r.get(l);return f===void 0?(r.set(l,this.index),this.data[this.index++]=u):this.data[f]=u,this.epoch++,this},delete(l){if(!I6(this))throw new Error("Cannot perform mutations on a snapshot");const u=r.get(l);return u===void 0?!1:(delete this.data[u],r.delete(l),this.epoch++,!0)},clear(){if(!I6(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(l){this.epoch,o(this).forEach((f,d)=>{l(this.data[f],d,this)})},*entries(){this.epoch;const l=o(this);for(const[u,f]of l)yield[u,this.data[f]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=Et(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}const wx=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",_M=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Nbe="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Ye={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:wx,SECURE_SITE_DASHBOARD:`${wx}/dashboard`,SECURE_SITE_FAVICON:`${wx}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[te.CHAIN.EVM,te.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[te.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[te.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[te.CHAIN.EVM,te.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[te.CHAIN.EVM,te.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[te.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[te.CHAIN.EVM,te.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},ce={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=ce.getActiveNamespace(),t=ce.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{Ae.setItem(_e.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=Ae.getItem(_e.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Ae.removeItem(_e.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{Ae.setItem(_e.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{Ae.setItem(_e.ACTIVE_CAIP_NETWORK_ID,e),ce.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Ae.getItem(_e.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Ae.removeItem(_e.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=gx(e);Ae.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=ce.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),Ae.setItem(_e.RECENT_WALLETS,JSON.stringify(t)),Ae.setItem(_e.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=Ae.getItem(_e.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{const e=Ae.getItem(_e.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{Ae.removeItem(_e.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{const n=gx(e);Ae.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Ae.getItem(_e.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=gx(e);return Ae.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{Ae.setItem(_e.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Ae.getItem(_e.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Ae.removeItem(_e.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Ae.getItem(_e.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return Ae.getItem(_e.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{Ae.setItem(_e.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Ae.getItem(_e.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=Ae.getItem(_e.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));Ae.setItem(_e.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=ce.getConnectedNamespaces();t.includes(e)||(t.push(e),ce.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=ce.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),ce.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Ae.getItem(_e.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{Ae.setItem(_e.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Ae.removeItem(_e.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=Ae.getItem(_e.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=ce.getBalanceCache();Ae.setItem(_e.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const n=ce.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ce.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=ce.getBalanceCache();t[e.caipAddress]=e,Ae.setItem(_e.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=Ae.getItem(_e.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=ce.getBalanceCache();Ae.setItem(_e.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const n=ce.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),ce.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=ce.getNativeBalanceCache();t[e.caipAddress]=e,Ae.setItem(_e.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=Ae.getItem(_e.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const n=ce.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ce.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=ce.getEnsCache();t[e.address]=e,Ae.setItem(_e.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=ce.getEnsCache();Ae.setItem(_e.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=Ae.getItem(_e.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const n=ce.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ce.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=ce.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},Ae.setItem(_e.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=ce.getIdentityCache();Ae.setItem(_e.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{Ae.removeItem(_e.PORTFOLIO_CACHE),Ae.removeItem(_e.NATIVE_BALANCE_CACHE),Ae.removeItem(_e.ENS_CACHE),Ae.removeItem(_e.IDENTITY_CACHE),Ae.removeItem(_e.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{Ae.setItem(_e.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=Ae.getItem(_e.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const n=ce.getConnections(),r=n[t]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of e){const a=s.get(o.connectorId),c=o.connectorId===te.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(f=>f.address.toLowerCase())),u=o.accounts.filter(f=>!l.has(f.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[t]:Array.from(s.values())};Ae.setItem(_e.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const e=Ae.getItem(_e.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{const r=ce.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(e);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==t.toLowerCase()).length===0?i.delete(e):i.set(e,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==t.toLowerCase())})),Ae.setItem(_e.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const e=Ae.getItem(_e.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{const n=ce.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),Ae.setItem(_e.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{const n=ce.getDisconnectedConnectorIds();let r=n[t]??[];r=r.filter(s=>s.toLowerCase()!==e.toLowerCase()),Ae.setItem(_e.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(ce.getDisconnectedConnectorIds()[t]??[]).some(s=>s.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{const e=Ae.getItem(_e.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{const r=ce.getTransactionsCache()[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;ce.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{const s=ce.getTransactionsCache();s[e]={...s[e],[t]:{timestamp:n,transactions:r}},Ae.setItem(_e.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{const n=ce.getTransactionsCache(),r=n?.[e]||{},{[t]:s,...i}=r;Ae.setItem(_e.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:i}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{const e=Ae.getItem(_e.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{const n=ce.getTokenPriceCache()[e.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;ce.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{const t=ce.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},Ae.setItem(_e.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{const t=ce.getTokenPriceCache();Ae.setItem(_e.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{const e=this.getLatestAppKitVersionCache(),t=e?.version;return t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion)?t:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{const e=Ae.getItem(_e.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{const t=ce.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,Ae.setItem(_e.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}},oe={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return oe.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=Ye.TEN_SEC_MS:!0},isAllowedRetry(e,t=Ye.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(oe.isClient()&&window.self!==window.top)try{const e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){const n=new URL(e),r=new URL(t);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Ye.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function s(){e(...r)}n&&clearTimeout(n),n=setTimeout(s,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(oe.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,s=n;r&&(r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`)),s&&!s?.endsWith("/")&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const i=encodeURIComponent(t);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(e,t){if(!oe.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?ce.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const e=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=e});return Promise.race([t,oe.wait(2e3)])},parseBalance(e,t){let n="0.000";if(typeof e=="string"){const c=Number(e);if(!isNaN(c)){const l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(n=l)}}const[r,s]=n.split("."),i=r||"0",o=s||"000";return{formattedText:`${i}.${o}${t?` ${t}`:""}`,value:i,decimals:o,symbol:t}},getApiUrl(){return te.W3M_API_URL},getBlockchainApiUrl(){return te.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return te.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const n={};return t&&e&&(e.forEach((r,s)=>{n[r]=s}),t.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const n of e)t+=n.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter(r=>{const s=r[t];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(e,t,n){const s=e.length===0?Ye.ADAPTER_TYPES.UNIVERSAL:e.map(i=>i.adapterType).join(",");return`${t}-${s}-${n}`},createAccount(e,t,n,r,s){return{namespace:e,address:t,type:n,publicKey:r,path:s}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in te.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){const e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){const s="provider_authorization_url=",i=e.substring(e.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,t);return e.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){const r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const s=e.indexOf("&",r),i=t.length,o=s!==-1?s:e.length,a=e.substring(0,r+i),c=e.substring(r+i,o),l=e.substring(s),u=c+n;return a+u+l}},Bbe="1.1.0";class Ln extends Error{constructor(t,n={}){const r=n.cause instanceof Ln?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Ln&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Bbe}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}}function vl(e,t){return e.exec(t)?.groups}const OM=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,PM=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,TM=/^\(.+?\).*?$/,NM=/^tuple(?<array>(\[(\d*)\])*)$/;function vx(e){let t=e.type;if(NM.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=vx(i),s<n-1&&(t+=", ")}const r=vl(NM,e.type);return t+=`)${r?.array??""}`,vx({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Wh(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=vx(s),r!==n-1&&(t+=", ")}return t}function _6(e){return e.type==="function"?`function ${e.name}(${Wh(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Wh(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Wh(e.inputs)})`:e.type==="error"?`error ${e.name}(${Wh(e.inputs)})`:e.type==="constructor"?`constructor(${Wh(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const BM=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function kbe(e){return BM.test(e)}function Rbe(e){return vl(BM,e)}const kM=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Dbe(e){return kM.test(e)}function Mbe(e){return vl(kM,e)}const RM=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Ube(e){return RM.test(e)}function Lbe(e){return vl(RM,e)}const DM=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Qg(e){return DM.test(e)}function Fbe(e){return vl(DM,e)}const MM=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function jbe(e){return MM.test(e)}function zbe(e){return vl(MM,e)}const UM=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Hbe(e){return UM.test(e)}function Vbe(e){return vl(UM,e)}const qbe=/^receive\(\) external payable$/;function Zbe(e){return qbe.test(e)}const O6=new Set(["memory","indexed","storage","calldata"]),Wbe=new Set(["indexed"]),Ex=new Set(["calldata","memory","storage"]);class LM extends Ln{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class FM extends Ln{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Kbe extends Ln{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class jM extends Ln{constructor({param:t}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}class zM extends Ln{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class HM extends Ln{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class VM extends Ln{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class qM extends Ln{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class ZM extends Ln{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class WM extends Ln{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class M0 extends Ln{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class KM extends Ln{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class GM extends Ln{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class YM extends Ln{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class XM extends Ln{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Gbe(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:e}const xx=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function $x(e,t={}){if(Ube(e))return Ybe(e,t);if(Dbe(e))return Xbe(e,t);if(kbe(e))return Jbe(e,t);if(jbe(e))return Qbe(e,t);if(Hbe(e))return ewe(e);if(Zbe(e))return{type:"receive",stateMutability:"payable"};throw new KM({signature:e})}function Ybe(e,t={}){const n=Lbe(e);if(!n)throw new M0({signature:e,type:"function"});const r=pi(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Ao(r[a],{modifiers:Ex,structs:t,type:"function"}));const o=[];if(n.returns){const a=pi(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(Ao(a[l],{modifiers:Ex,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function Xbe(e,t={}){const n=Mbe(e);if(!n)throw new M0({signature:e,type:"event"});const r=pi(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ao(r[o],{modifiers:Wbe,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Jbe(e,t={}){const n=Rbe(e);if(!n)throw new M0({signature:e,type:"error"});const r=pi(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ao(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Qbe(e,t={}){const n=zbe(e);if(!n)throw new M0({signature:e,type:"constructor"});const r=pi(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ao(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function ewe(e){const t=Vbe(e);if(!t)throw new M0({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const twe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,nwe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,rwe=/^u?int$/;function Ao(e,t){const n=Gbe(e,t?.type,t?.structs);if(xx.has(n))return xx.get(n);const r=TM.test(e),s=vl(r?nwe:twe,e);if(!s)throw new HM({param:e});if(s.name&&iwe(s.name))throw new VM({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,l={};if(r){c="tuple";const f=pi(s.type),d=[],h=f.length;for(let p=0;p<h;p++)d.push(Ao(f[p],{structs:a}));l={components:d}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(rwe.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!JM(c))throw new Kbe({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new qM({param:e,type:t?.type,modifier:s.modifier});if(Ex.has(s.modifier)&&!owe(c,!!s.array))throw new ZM({param:e,type:t?.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return xx.set(n,u),u}function pi(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],a=e.slice(i+1);switch(o){case",":return r===0?pi(a,[...t,n.trim()]):pi(a,t,`${n}${o}`,r);case"(":return pi(a,t,`${n}${o}`,r+1);case")":return pi(a,t,`${n}${o}`,r-1);default:return pi(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new XM({current:n,depth:r});return t.push(n.trim()),t}function JM(e){return e==="address"||e==="bool"||e==="function"||e==="string"||OM.test(e)||PM.test(e)}const swe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function iwe(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||OM.test(e)||PM.test(e)||swe.test(e)}function owe(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function P6(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!Qg(a))continue;const c=Fbe(a);if(!c)throw new M0({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],f=l.length;for(let d=0;d<f;d++){const p=l[d].trim();if(!p)continue;const g=Ao(p,{type:"struct"});u.push(g)}if(!u.length)throw new GM({signature:a});t[c.name]=u}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=QM(c,t)}return r}const awe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function QM(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(TM.test(o.type))r.push(o);else{const c=vl(awe,o.type);if(!c?.type)throw new WM({abiParameter:o});const{array:l,type:u}=c;if(u in t){if(n.has(u))throw new YM({type:u});r.push({...o,type:`tuple${l??""}`,components:QM(t[u]??[],t,new Set([...n,u]))})}else if(JM(u))r.push(o);else throw new FM({type:u})}}return r}function Ax(e){const t=P6(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];Qg(i)||n.push($x(i,t))}return n}function Cx(e){let t;if(typeof e=="string")t=$x(e);else{const n=P6(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(!Qg(i)){t=$x(i,n);break}}}if(!t)throw new LM({signature:e});return t}function cwe(e){let t;if(typeof e=="string")t=Ao(e,{modifiers:O6});else{const n=P6(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(!Qg(i)){t=Ao(i,{modifiers:O6,structs:n});break}}}if(!t)throw new jM({param:e});return t}function Sx(e){const t=[];if(typeof e=="string"){const n=pi(e),r=n.length;for(let s=0;s<r;s++)t.push(Ao(n[s],{modifiers:O6}))}else{const n=P6(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(Qg(i))continue;const o=pi(i),a=o.length;for(let c=0;c<a;c++)t.push(Ao(o[c],{modifiers:O6,structs:n}))}}if(t.length===0)throw new zM({params:e});return t}function $e(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}function Co(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new lU(e.type);return`${e.name}(${T6(e.inputs,{includeName:t})})`}function T6(e,{includeName:t=!1}={}){return e?e.map(n=>lwe(n,{includeName:t})).join(t?", ":","):""}function lwe(e,{includeName:t}){return e.type.startsWith("tuple")?`(${T6(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function je(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Ft(e){return je(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const eU="2.38.0";let N6={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${eU}`};function uwe(e){N6=e}class re extends Error{constructor(t,n={}){const r=n.cause instanceof re?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof re&&n.cause.docsPath||n.docsPath,i=N6.getDocsUrl?.({...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...N6.version?[`Version: ${N6.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=eU}walk(t){return tU(this,t)}}function tU(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?tU(e.cause,t):t?null:e}class Ix extends re{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class e2 extends re{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class dwe extends re{constructor({data:t,size:n}){super([`Data size of ${n} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${t} (${n} bytes)`],name:"AbiDecodingDataSizeInvalidError"})}}class _x extends re{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${T6(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Kh extends re{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class nU extends re{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class rU extends re{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Ft(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Ox extends re{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class sU extends re{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Px extends re{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Tx extends re{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class iU extends re{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Nx extends re{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Bx extends re{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class U0 extends re{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class kx extends re{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class oU extends re{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class fwe extends re{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Co(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Co(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class Rx extends re{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class Gh extends re{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${T6(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class t2 extends re{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Co(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class aU extends re{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class cU extends re{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class Dx extends re{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class lU extends re{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class uU extends re{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class dU extends re{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}class Mx extends re{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class Ux extends re{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}class fU extends re{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function So(e,{dir:t,size:n=32}={}){return typeof e=="string"?Io(e,{dir:t,size:n}):hU(e,{dir:t,size:n})}function Io(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Ux({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function hU(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Ux({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}class Lx extends re{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class pU extends re{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class gU extends re{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class mU extends re{constructor(t){super(`Hex value "${t}" is an odd length (${t.length}). It must be an even length.`,{name:"InvalidHexValueError"})}}class yU extends re{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function tr(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function ji(e,{size:t}){if(Ft(e)>t)throw new yU({givenSize:Ft(e),maxSize:t})}function hwe(e,t){const n=typeof t=="string"?{to:t}:t,r=n.to;return r==="number"?It(e,n):r==="bigint"?ze(e,n):r==="string"?bU(e,n):r==="boolean"?Fx(e,n):xn(e,n)}function ze(e,t={}){const{signed:n}=t;t.size&&ji(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Fx(e,t={}){let n=e;if(t.size&&(ji(n,{size:t.size}),n=tr(n)),tr(n)==="0x00")return!1;if(tr(n)==="0x01")return!0;throw new gU(n)}function It(e,t={}){return Number(ze(e,t))}function bU(e,t={}){let n=xn(e);return t.size&&(ji(n,{size:t.size}),n=tr(n,{dir:"right"})),new TextDecoder().decode(n)}const pwe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function jt(e,t={}){return typeof e=="number"||typeof e=="bigint"?se(e,t):typeof e=="string"?Wu(e,t):typeof e=="boolean"?B6(e,t):Nt(e,t)}function B6(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ji(n,{size:t.size}),So(n,{size:t.size})):n}function Nt(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=pwe[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ji(r,{size:t.size}),So(r,{dir:"right",size:t.size})):r}function se(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new Lx({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?So(a,{size:r}):a}const gwe=new TextEncoder;function Wu(e,t={}){const n=gwe.encode(e);return Nt(n,t)}const mwe=new TextEncoder;function Is(e,t={}){return typeof e=="number"||typeof e=="bigint"?EU(e,t):typeof e=="boolean"?wU(e,t):je(e)?xn(e,t):Ku(e,t)}function wU(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(ji(n,{size:t.size}),So(n,{size:t.size})):n}const El={zero:48,nine:57,A:65,F:70,a:97,f:102};function vU(e){if(e>=El.zero&&e<=El.nine)return e-El.zero;if(e>=El.A&&e<=El.F)return e-(El.A-10);if(e>=El.a&&e<=El.f)return e-(El.a-10)}function xn(e,t={}){let n=e;t.size&&(ji(n,{size:t.size}),n=So(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=vU(r.charCodeAt(a++)),l=vU(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new re(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function EU(e,t){const n=se(e,t);return xn(n)}function Ku(e,t={}){const n=mwe.encode(e);return typeof t.size=="number"?(ji(n,{size:t.size}),So(n,{dir:"right",size:t.size})):n}function Jt(e,t){const n=t||"hex",r=lh(je(e,{strict:!1})?Is(e):e);return n==="bytes"?r:jt(r)}const ywe=e=>Jt(Is(e));function bwe(e){return ywe(e)}function wwe(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new re("Unable to normalize signature.");return s}const n2=e=>{const t=typeof e=="string"?e:_6(e);return wwe(t)};function k6(e){return bwe(n2(e))}const Yh=k6;class $n extends re{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class Xh extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const jx=new Xh(8192);function Jh(e,t){if(jx.has(`${e}.${t}`))return jx.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=Jt(Ku(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return jx.set(`${e}.${t}`,i),i}function _o(e,t){if(!Vt(e,{strict:!1}))throw new $n({address:e});return Jh(e,t)}const vwe=/^0x[a-fA-F0-9]{40}$/,zx=new Xh(8192);function Vt(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(zx.has(r))return zx.get(r);const s=vwe.test(e)?e.toLowerCase()===e?!0:n?Jh(e)===e:!0:!1;return zx.set(r,s),s}function Gr(e){return typeof e[0]=="string"?Ar(e):xU(e)}function xU(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ar(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function xl(e,t,n,{strict:r}={}){return je(e,{strict:!1})?Qh(e,t,n,{strict:r}):Hx(e,t,n,{strict:r})}function $U(e,t){if(typeof t=="number"&&t>0&&t>Ft(e)-1)throw new Mx({offset:t,position:"start",size:Ft(e)})}function AU(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Ft(e)!==n-t)throw new Mx({offset:n,position:"end",size:Ft(e)})}function Hx(e,t,n,{strict:r}={}){$U(e,t);const s=e.slice(t,n);return r&&AU(s,t,n),s}function Qh(e,t,n,{strict:r}={}){$U(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&AU(s,t,n),s}const Ewe=/^(.*)\[([0-9]*)\]$/,CU=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Vx=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ya(e,t){if(e.length!==t.length)throw new Ox({expectedLength:e.length,givenLength:t.length});const n=xwe({params:e,values:t}),r=Zx(n);return r.length===0?"0x":r}function xwe({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(qx({param:e[r],value:t[r]}));return n}function qx({param:e,value:t}){const n=Wx(e.type);if(n){const[r,s]=n;return Awe(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Owe(t,{param:e});if(e.type==="address")return $we(t);if(e.type==="bool")return Swe(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Vx.exec(e.type)??[];return Iwe(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return Cwe(t,{param:e});if(e.type==="string")return _we(t);throw new aU(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Zx(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=Ft(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(se(t+s,{size:32})),r.push(a),s+=Ft(a)):n.push(a)}return Gr([...n,...r])}function $we(e){if(!Vt(e))throw new $n({address:e});return{dynamic:!1,encoded:Io(e.toLowerCase())}}function Awe(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Dx(e);if(!r&&e.length!==t)throw new nU({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const a=qx({param:n,value:e[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=Zx(i);if(r){const a=se(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Gr([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Gr(i.map(({encoded:o})=>o))}}function Cwe(e,{param:t}){const[,n]=t.type.split("bytes"),r=Ft(e);if(!n){let s=e;return r%32!==0&&(s=Io(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Gr([Io(se(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new rU({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Io(e,{dir:"right"})}}function Swe(e){if(typeof e!="boolean")throw new re(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Io(B6(e))}}function Iwe(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Lx({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:se(e,{size:32,signed:t})}}function _we(e){const t=Wu(e),n=Math.ceil(Ft(t)/32),r=[];for(let s=0;s<n;s++)r.push(Io(xl(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Gr([Io(se(Ft(t),{size:32})),...r])}}function Owe(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,a=qx({param:i,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Zx(r):Gr(r.map(({encoded:s})=>s))}}function Wx(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const L0=e=>xl(k6(e),0,4);function Gu(e){const{abi:t,args:n=[],name:r}=e,s=je(r,{strict:!1}),i=t.filter(a=>s?a.type==="function"?L0(a)===r:a.type==="event"?Yh(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const f="inputs"in a&&a.inputs[u];return f?Kx(l,f):!1})){if(o&&"inputs"in o&&o.inputs){const l=SU(a.inputs,o.inputs,n);if(l)throw new fwe({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function Kx(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Vt(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>Kx(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Kx(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function SU(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return SU(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Vt(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Vt(n[r],{strict:!1}):!1)return o}}const IU="/docs/contract/encodeEventTopics";function e1(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=Gu({abi:t,name:n});if(!c)throw new Bx(n,{docsPath:IU});s=c}if(s.type!=="event")throw new Bx(void 0,{docsPath:IU});const i=Co(s),o=Yh(i);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(u=>"indexed"in u&&u.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?c?.map(u=>r[u.name])??[]:[];l.length>0&&(a=c?.map((u,f)=>Array.isArray(l[f])?l[f].map((d,h)=>_U({param:u,value:l[f][h]})):typeof l[f]<"u"&&l[f]!==null?_U({param:u,value:l[f]}):null)??[])}return[o,...a]}function _U({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Jt(Is(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new dU(e.type);return ya([e],[t])}function R6(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:i,transport:o})=>{i==="success"&&t===r&&(n[s]=o.request)}),r=>n[r]||e.request}async function Gx(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=t,l=R6(e,{method:"eth_newFilter"}),u=i?e1({abi:r,args:s,eventName:i}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?se(o):o,toBlock:typeof c=="bigint"?se(c):c,topics:u}]});return{abi:r,args:s,eventName:i,id:f,request:l(f),strict:!!a,type:"event"}}function Qt(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const OU="/docs/contract/encodeFunctionData";function PU(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=Gu({abi:t,args:n,name:r});if(!i)throw new U0(r,{docsPath:OU});s=i}if(s.type!=="function")throw new U0(void 0,{docsPath:OU});return{abi:[s],functionName:L0(Co(s))}}function _s(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:PU(e),s=n[0],i=r,o="inputs"in s&&s.inputs?ya(s.inputs,t??[]):void 0;return Ar([i,o??"0x"])}const Pwe={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},TU={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Twe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class NU extends re{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class BU extends re{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class Nwe extends re{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Bwe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Nwe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new BU({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new NU({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new NU({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function t1(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Bwe);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function kwe(e,t){const n=typeof t=="string"?{to:t}:t,r=n.to;return r==="number"?Oo(e,n):r==="bigint"?Yx(e,n):r==="boolean"?Xx(e,n):r==="string"?Jx(e,n):Nt(e,n)}function Yx(e,t={}){typeof t.size<"u"&&ji(e,{size:t.size});const n=Nt(e,t);return ze(n,t)}function Xx(e,t={}){let n=e;if(typeof t.size<"u"&&(ji(n,{size:t.size}),n=tr(n)),n.length>1||n[0]>1)throw new pU(n);return!!n[0]}function Oo(e,t={}){typeof t.size<"u"&&ji(e,{size:t.size});const n=Nt(e,t);return It(n,t)}function Jx(e,t={}){let n=e;return typeof t.size<"u"&&(ji(n,{size:t.size}),n=tr(n,{dir:"right"})),new TextDecoder().decode(n)}function Yu(e,t){const n=typeof t=="string"?xn(t):t,r=t1(n);if(Ft(n)===0&&e.length>0)throw new Kh;if(Ft(t)&&Ft(t)<32)throw new _x({data:typeof t=="string"?t:Nt(t),params:e,size:Ft(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(s);const[c,l]=n1(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function n1(e,t,{staticPosition:n}){const r=Wx(t.type);if(r){const[s,i]=r;return Dwe(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return Fwe(e,t,{staticPosition:n});if(t.type==="address")return Rwe(e);if(t.type==="bool")return Mwe(e);if(t.type.startsWith("bytes"))return Uwe(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Lwe(e,t);if(t.type==="string")return jwe(e,{staticPosition:n});throw new cU(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const kU=32,Qx=32;function Rwe(e){const t=e.readBytes(32);return[Jh(Nt(Hx(t,-20))),32]}function Dwe(e,t,{length:n,staticPosition:r}){if(!n){const o=Oo(e.readBytes(Qx)),a=r+o,c=a+kU;e.setPosition(a);const l=Oo(e.readBytes(kU)),u=r2(t);let f=0;const d=[];for(let h=0;h<l;++h){e.setPosition(c+(u?h*32:f));const[p,g]=n1(e,t,{staticPosition:c});f+=g,d.push(p)}return e.setPosition(r+32),[d,32]}if(r2(t)){const o=Oo(e.readBytes(Qx)),a=r+o,c=[];for(let l=0;l<n;++l){e.setPosition(a+l*32);const[u]=n1(e,t,{staticPosition:a});c.push(u)}return e.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=n1(e,t,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function Mwe(e){return[Xx(e.readBytes(32),{size:32}),32]}function Uwe(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=Oo(e.readBytes(32));e.setPosition(n+o);const a=Oo(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Nt(c),32]}return[Nt(e.readBytes(Number.parseInt(s,10),32)),32]}function Lwe(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Yx(s,{signed:n}):Oo(s,{signed:n}),32]}function Fwe(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(r2(t)){const o=Oo(e.readBytes(Qx)),a=n+o;for(let c=0;c<t.components.length;++c){const l=t.components[c];e.setPosition(a+i);const[u,f]=n1(e,l,{staticPosition:a});i+=f,s[r?c:l?.name]=u}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,l]=n1(e,a,{staticPosition:n});s[r?o:a?.name]=c,i+=l}return[s,i]}function jwe(e,{staticPosition:t}){const n=Oo(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Oo(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=Jx(tr(i));return e.setPosition(t+32),[o,32]}function r2(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(r2);const n=Wx(e.type);return!!(n&&r2({...e,type:n[1]}))}function e7(e){const{abi:t,data:n}=e,r=xl(n,0,4);if(r==="0x")throw new Kh;const i=[...t||[],TU,Twe].find(o=>o.type==="error"&&r===L0(Co(o)));if(!i)throw new Tx(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Yu(i.inputs,xl(n,4)):void 0,errorName:i.name}}const Kt=(e,t,n)=>JSON.stringify(e,(r,s)=>{const i=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,i):i},n);function RU({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?Kt(t[i]):t[i]}`).join(", ")})`}const t7={gwei:9,wei:18},n7={ether:-9,wei:9},zwe={ether:-18,gwei:-9};function s2(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function D6(e,t="wei"){return s2(e,t7[t])}function Yr(e,t="wei"){return s2(e,n7[t])}class DU extends re{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class MU extends re{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function UU(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Hwe(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=UU(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=UU(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function i2(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class LU extends re{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class r7 extends re{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class FU extends re{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",i2(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class jU extends re{constructor({serializedType:t}){super(`Serialized transaction type "${t}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=t}}class r1 extends re{constructor({attributes:t,serializedTransaction:n,type:r}){const s=Object.entries(t).map(([i,o])=>typeof o>"u"?i:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${r}" was provided.`,{metaMessages:[`Serialized Transaction: "${n}"`,s.length>0?`Missing Attributes: ${s.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=n,this.type=r}}class zU extends re{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class HU extends re{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d}){const h=i2({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:f,value:typeof d<"u"&&`${D6(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Yr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Yr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Yr(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class s7 extends re{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class i7 extends re{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class VU extends re{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Vwe=e=>e,F0=e=>e;class o7 extends re{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d,stateOverride:h}){const p=n?Qt(n):void 0;let g=i2({from:p?.address,to:f,value:typeof d<"u"&&`${D6(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Yr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Yr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Yr(l)} gwei`,nonce:u});h&&(g+=`
${Hwe(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class a7 extends re{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Gu({abi:n,args:r,name:o}),l=c?RU({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Co(c,{includeName:!0}):void 0,f=i2({address:s&&Vwe(s),function:u,args:l&&l!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=a}}class M6 extends re{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=e7({abi:t,data:n});const{abiItem:u,errorName:f,args:d}=o;if(f==="Error")c=d[0];else if(f==="Panic"){const[h]=d;c=Pwe[h]}else{const h=u?Co(u,{includeName:!0}):void 0,p=u&&d?RU({abiItem:u,args:d,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof Tx&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class qU extends re{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class ZU extends re{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class o2 extends re{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Xu extends re{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${F0(o)}`,t&&`Request body: ${Kt(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=o}}class c7 extends re{constructor({body:t,cause:n,details:r,url:s}){super("WebSocket request failed.",{cause:n,details:r,metaMessages:[`URL: ${F0(s)}`,t&&`Request body: ${Kt(t)}`].filter(Boolean),name:"WebSocketRequestError"})}}class a2 extends re{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${F0(r)}`,`Request body: ${Kt(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class c2 extends re{constructor({url:t}={}){super("The socket has been closed.",{metaMessages:[t&&`URL: ${F0(t)}`].filter(Boolean),name:"SocketClosedError"})}}class U6 extends re{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${F0(n)}`,`Request body: ${Kt(t)}`],name:"TimeoutError"})}}const qwe=-1;class Xr extends re{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof a2?t.code:n??qwe}}class Os extends Xr{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class s1 extends Xr{constructor(t){super(t,{code:s1.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(s1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class i1 extends Xr{constructor(t){super(t,{code:i1.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(i1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class o1 extends Xr{constructor(t,{method:n}={}){super(t,{code:o1.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(o1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class a1 extends Xr{constructor(t){super(t,{code:a1.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(a1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ju extends Xr{constructor(t){super(t,{code:Ju.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ju,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Qu extends Xr{constructor(t){super(t,{code:Qu.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Qu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class c1 extends Xr{constructor(t){super(t,{code:c1.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(c1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class l1 extends Xr{constructor(t){super(t,{code:l1.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(l1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class j0 extends Xr{constructor(t){super(t,{code:j0.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(j0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ed extends Xr{constructor(t,{method:n}={}){super(t,{code:ed.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(ed,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class z0 extends Xr{constructor(t){super(t,{code:z0.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(z0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class u1 extends Xr{constructor(t){super(t,{code:u1.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(u1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class td extends Os{constructor(t){super(t,{code:td.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(td,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class d1 extends Os{constructor(t){super(t,{code:d1.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(d1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class f1 extends Os{constructor(t,{method:n}={}){super(t,{code:f1.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(f1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class h1 extends Os{constructor(t){super(t,{code:h1.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(h1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class p1 extends Os{constructor(t){super(t,{code:p1.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(p1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class g1 extends Os{constructor(t){super(t,{code:g1.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(g1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class H0 extends Os{constructor(t){super(t,{code:H0.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(H0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class m1 extends Os{constructor(t){super(t,{code:m1.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(m1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class y1 extends Os{constructor(t){super(t,{code:y1.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(y1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class b1 extends Os{constructor(t){super(t,{code:b1.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(b1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class w1 extends Os{constructor(t){super(t,{code:w1.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(w1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class v1 extends Os{constructor(t){super(t,{code:v1.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(v1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class V0 extends Os{constructor(t){super(t,{code:V0.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(V0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class WU extends Xr{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Zwe=3;function nd(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=e instanceof o2?e:e instanceof re?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:l,details:u,message:f,shortMessage:d}=a,h=e instanceof Kh?new qU({functionName:i}):[Zwe,Ju.code].includes(c)&&(l||u||f||d)?new M6({abi:t,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof a2?u:d??f}):e;return new a7(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}function Wwe(e){const t=Jt(`0x${e.substring(4)}`).substring(26);return Jh(`0x${t}`)}async function KU({hash:e,signature:t}){const n=je(e)?e:jt(e),{secp256k1:r}=await Promise.resolve().then(function(){return HEe});return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:l,s:u,v:f,yParity:d}=t,h=Number(d??f),p=GU(h);return new r.Signature(ze(l),ze(u)).addRecoveryBit(p)}const o=je(t)?t:jt(t);if(Ft(o)!==65)throw new Error("invalid signature length");const a=It(`0x${o.slice(130)}`),c=GU(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function GU(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function q0({hash:e,signature:t}){return Wwe(await KU({hash:e,signature:t}))}function gi(e,t="hex"){const n=YU(e),r=t1(new Uint8Array(n.length));return n.encode(r),t==="hex"?Nt(r.bytes):r.bytes}function Kwe(e,t="bytes"){return gi(e,t)}function Gwe(e,t="hex"){return gi(e,t)}function YU(e){return Array.isArray(e)?Ywe(e.map(t=>YU(t))):Xwe(e)}function Ywe(e){const t=e.reduce((s,i)=>s+i.length,0),n=XU(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function Xwe(e){const t=typeof e=="string"?xn(e):e,n=XU(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function XU(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new re("Length is too large.")}function Jwe(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,i=Jt(Ar(["0x05",gi([t?se(t):"0x",s,n?se(n):"0x"])]));return r==="bytes"?xn(i):i}async function L6(e){const{authorization:t,signature:n}=e;return q0({hash:Jwe(t),signature:n??t})}class JU extends re{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d}){const h=i2({from:n?.address,to:f,value:typeof d<"u"&&`${D6(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Yr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Yr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Yr(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class rd extends re{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(rd,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(rd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class $l extends re{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Yr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty($l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class F6 extends re{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Yr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(F6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class j6 extends re{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(j6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class z6 extends re{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(z6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class H6 extends re{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(H6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class V6 extends re{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(V6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class q6 extends re{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(q6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Z6 extends re{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Z6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class W6 extends re{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(W6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Z0 extends re{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Yr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Yr(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Z0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class E1 extends re{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function K6(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof re?e.walk(s=>s?.code===rd.code):e;return r instanceof re?new rd({cause:e,message:r.details}):rd.nodeMessage.test(n)?new rd({cause:e,message:e.details}):$l.nodeMessage.test(n)?new $l({cause:e,maxFeePerGas:t?.maxFeePerGas}):F6.nodeMessage.test(n)?new F6({cause:e,maxFeePerGas:t?.maxFeePerGas}):j6.nodeMessage.test(n)?new j6({cause:e,nonce:t?.nonce}):z6.nodeMessage.test(n)?new z6({cause:e,nonce:t?.nonce}):H6.nodeMessage.test(n)?new H6({cause:e,nonce:t?.nonce}):V6.nodeMessage.test(n)?new V6({cause:e}):q6.nodeMessage.test(n)?new q6({cause:e,gas:t?.gas}):Z6.nodeMessage.test(n)?new Z6({cause:e,gas:t?.gas}):W6.nodeMessage.test(n)?new W6({cause:e}):Z0.nodeMessage.test(n)?new Z0({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new E1({cause:e})}function Qwe(e,{docsPath:t,...n}){const r=(()=>{const s=K6(e,n);return s instanceof E1?e:s})();return new JU(r,{docsPath:t,...n})}function x1(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=t(e||{});return r(s),n}function G6(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,i)=>{const o=t(s,i);if(n)for(const a of n)delete o[a];return{...o,...r(s,i)}},type:e})}const QU={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function ba(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=e6e(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>Nt(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=se(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=se(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=se(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=se(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=se(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=se(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=QU[e.type]),typeof e.value<"u"&&(n.value=se(e.value)),n}const eL=G6("transactionRequest",ba);function e6e(e){return e.map(t=>({address:t.address,r:t.r?se(BigInt(t.r)):t.r,s:t.s?se(BigInt(t.s)):t.s,chainId:se(t.chainId),nonce:se(t.nonce),...typeof t.yParity<"u"?{yParity:se(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:se(t.v)}:{}}))}function tL(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new fU({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new fU({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function t6e(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=se(t)),n!==void 0&&(o.nonce=se(n)),r!==void 0&&(o.state=tL(r)),s!==void 0){if(o.state)throw new MU;o.stateDiff=tL(s)}return o}function l7(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Vt(n,{strict:!1}))throw new $n({address:n});if(t[n])throw new DU({address:n});t[n]=t6e(r)}return t}const n6e=2n**(8n-1n)-1n,r6e=2n**(16n-1n)-1n,s6e=2n**(24n-1n)-1n,i6e=2n**(32n-1n)-1n,o6e=2n**(40n-1n)-1n,a6e=2n**(48n-1n)-1n,c6e=2n**(56n-1n)-1n,l6e=2n**(64n-1n)-1n,u6e=2n**(72n-1n)-1n,d6e=2n**(80n-1n)-1n,f6e=2n**(88n-1n)-1n,h6e=2n**(96n-1n)-1n,p6e=2n**(104n-1n)-1n,g6e=2n**(112n-1n)-1n,m6e=2n**(120n-1n)-1n,y6e=2n**(128n-1n)-1n,b6e=2n**(136n-1n)-1n,w6e=2n**(144n-1n)-1n,v6e=2n**(152n-1n)-1n,E6e=2n**(160n-1n)-1n,x6e=2n**(168n-1n)-1n,$6e=2n**(176n-1n)-1n,A6e=2n**(184n-1n)-1n,C6e=2n**(192n-1n)-1n,S6e=2n**(200n-1n)-1n,I6e=2n**(208n-1n)-1n,_6e=2n**(216n-1n)-1n,O6e=2n**(224n-1n)-1n,P6e=2n**(232n-1n)-1n,T6e=2n**(240n-1n)-1n,N6e=2n**(248n-1n)-1n,B6e=2n**(256n-1n)-1n,k6e=-(2n**(8n-1n)),R6e=-(2n**(16n-1n)),D6e=-(2n**(24n-1n)),M6e=-(2n**(32n-1n)),U6e=-(2n**(40n-1n)),L6e=-(2n**(48n-1n)),F6e=-(2n**(56n-1n)),j6e=-(2n**(64n-1n)),z6e=-(2n**(72n-1n)),H6e=-(2n**(80n-1n)),V6e=-(2n**(88n-1n)),q6e=-(2n**(96n-1n)),Z6e=-(2n**(104n-1n)),W6e=-(2n**(112n-1n)),K6e=-(2n**(120n-1n)),G6e=-(2n**(128n-1n)),Y6e=-(2n**(136n-1n)),X6e=-(2n**(144n-1n)),J6e=-(2n**(152n-1n)),Q6e=-(2n**(160n-1n)),e8e=-(2n**(168n-1n)),t8e=-(2n**(176n-1n)),n8e=-(2n**(184n-1n)),r8e=-(2n**(192n-1n)),s8e=-(2n**(200n-1n)),i8e=-(2n**(208n-1n)),o8e=-(2n**(216n-1n)),a8e=-(2n**(224n-1n)),c8e=-(2n**(232n-1n)),l8e=-(2n**(240n-1n)),u8e=-(2n**(248n-1n)),d8e=-(2n**(256n-1n)),f8e=2n**8n-1n,h8e=2n**16n-1n,p8e=2n**24n-1n,g8e=2n**32n-1n,m8e=2n**40n-1n,y8e=2n**48n-1n,b8e=2n**56n-1n,w8e=2n**64n-1n,v8e=2n**72n-1n,E8e=2n**80n-1n,x8e=2n**88n-1n,$8e=2n**96n-1n,A8e=2n**104n-1n,C8e=2n**112n-1n,S8e=2n**120n-1n,I8e=2n**128n-1n,_8e=2n**136n-1n,O8e=2n**144n-1n,P8e=2n**152n-1n,T8e=2n**160n-1n,N8e=2n**168n-1n,B8e=2n**176n-1n,k8e=2n**184n-1n,R8e=2n**192n-1n,D8e=2n**200n-1n,M8e=2n**208n-1n,U8e=2n**216n-1n,L8e=2n**224n-1n,F8e=2n**232n-1n,j8e=2n**240n-1n,z8e=2n**248n-1n,$1=2n**256n-1n;function Al(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=e,o=t?Qt(t):void 0;if(o&&!Vt(o.address))throw new $n({address:o.address});if(i&&!Vt(i))throw new $n({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new LU;if(r&&r>$1)throw new $l({maxFeePerGas:r});if(s&&r&&s>r)throw new Z0({maxFeePerGas:r,maxPriorityFeePerGas:s})}class nL extends re{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Y6 extends re{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class rL extends re{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Yr(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class u7 extends re{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const d7={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function A1(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?It(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?It(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?d7[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=H8e(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const f7=G6("transaction",A1);function H8e(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function X6(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:A1(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const h7=G6("block",X6);async function wa(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const i=s??!1,o=n!==void 0?se(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new u7({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||X6)(a,"getBlock")}async function p7(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function V8e(e,t){return sL(e,t)}async function sL(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const i=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof i=="function"){const a=n||await $e(e,wa,"getBlock")({}),c=await i({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof i<"u")return i;const o=await e.request({method:"eth_maxPriorityFeePerGas"});return ze(o)}catch{const[i,o]=await Promise.all([n?Promise.resolve(n):$e(e,wa,"getBlock")({}),$e(e,p7,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new Y6;const a=o-i.baseFeePerGas;return a<0n?0n:a}}async function q8e(e,t){return g7(e,t)}async function g7(e,t){const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new nL;const c=10**(o.toString().split(".")[1]?.length??0),l=d=>d*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await $e(e,wa,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const d=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:l,request:s,type:i});if(d!==null)return d}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new Y6;const d=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await sL(e,{block:u,chain:r,request:s}),h=l(u.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??h+d,maxPriorityFeePerGas:d}}return{gasPrice:s?.gasPrice??l(await $e(e,p7,"getGasPrice")({}))}}async function J6(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?se(r):n]},{dedupe:!!r});return It(s)}function Q6(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>xn(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Nt(i))}function e8(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>xn(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>xn(o)):e.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Nt(o))}function iL(e,t){const n=t||"hex",r=vQ(je(e,{strict:!1})?Is(e):e);return n==="bytes"?r:jt(r)}function m7(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=iL(t,"bytes");return s.set([n],0),r==="bytes"?s:Nt(s)}function y7(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const i of t)s.push(m7({commitment:i,to:r,version:n}));return s}const oL=6,aL=32,b7=4096,cL=aL*b7,lL=cL*oL-1-1*b7*oL,uL=1;class Z8e extends re{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class dL extends re{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class W8e extends re{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class K8e extends re{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${uL}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function fL(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?xn(e.data):e.data,r=Ft(n);if(!r)throw new dL;if(r>lL)throw new Z8e({maxSize:lL,size:r});const s=[];let i=!0,o=0;for(;i;){const a=t1(new Uint8Array(cL));let c=0;for(;c<b7;){const l=n.slice(o,o+(aL-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>Nt(a.bytes))}function t8(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??fL({data:t,to:r}),i=e.commitments??Q6({blobs:s,kzg:n,to:r}),o=e.proofs??e8({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function w7(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new FU({transaction:e})}async function W0(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return It(t)}const v7=["blobVersionedHashes","chainId","fees","gas","nonce","type"],hL=new Map;async function l2(e,t){const{account:n=e.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=v7,type:u}=t,f=n&&Qt(n),d={...t,...f?{from:f?.address}:{}};let h;async function p(){return h||(h=await $e(e,wa,"getBlock")({blockTag:"latest"}),h)}let g;async function y(){return g||(s?s.id:typeof t.chainId<"u"?t.chainId:(g=await $e(e,W0,"getChainId")({}),g))}if(l.includes("nonce")&&typeof a>"u"&&f)if(c){const $=await y();d.nonce=await c.consume({address:f.address,chainId:$,client:e})}else d.nonce=await $e(e,J6,"getTransactionCount")({address:f.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const $=Q6({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const _=y7({commitments:$,to:"hex"});d.blobVersionedHashes=_}if(l.includes("sidecars")){const _=e8({blobs:r,commitments:$,kzg:o}),x=t8({blobs:r,commitments:$,proofs:_,to:"hex"});d.sidecars=x}}if(l.includes("chainId")&&(d.chainId=await y()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{d.type=w7(d)}catch{let $=hL.get(e.uid);typeof $>"u"&&($=typeof(await p())?.baseFeePerGas=="bigint",hL.set(e.uid,$)),d.type=$?"eip1559":"legacy"}if(l.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){const $=await p(),{maxFeePerGas:_,maxPriorityFeePerGas:x}=await g7(e,{block:$,chain:s,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<x)throw new rL({maxPriorityFeePerGas:x});d.maxPriorityFeePerGas=x,d.maxFeePerGas=_}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Y6;if(typeof t.gasPrice>"u"){const $=await p(),{gasPrice:_}=await g7(e,{block:$,chain:s,request:d,type:"legacy"});d.gasPrice=_}}return l.includes("gas")&&typeof i>"u"&&(d.gas=await $e(e,E7,"estimateGas")({...d,account:f&&{address:f.address,type:"json-rpc"}})),Al(d),delete d.parameters,d}async function E7(e,t){const{account:n=e.account}=t,r=n?Qt(n):void 0;try{const{accessList:s,authorizationList:i,blobs:o,blobVersionedHashes:a,blockNumber:c,blockTag:l,data:u,gas:f,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:g,nonce:y,value:$,stateOverride:_,...x}=await l2(e,{...t,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),P=(typeof c=="bigint"?se(c):void 0)||l,N=l7(_),k=await(async()=>{if(x.to)return x.to;if(i&&i.length>0)return await L6({authorization:i[0]}).catch(()=>{throw new re("`to` is required. Could not infer from `authorizationList`")})})();Al(t);const R=e.chain?.formatters?.transactionRequest?.format,L=(R||ba)({...x1(x,{format:R}),from:r?.address,accessList:s,authorizationList:i,blobs:o,blobVersionedHashes:a,data:u,gas:f,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:g,nonce:y,to:k,value:$},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:N?[L,P??e.experimental_blockTag??"latest",N]:P?[L,P]:[L]}))}catch(s){throw Qwe(s,{...t,account:r,chain:e.chain})}}async function pL(e,t){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=t,c=_s({abi:n,args:s,functionName:i});try{return await $e(e,E7,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(l){const u=a.account?Qt(a.account):void 0;throw nd(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:u?.address})}}function va(e,t){if(!Vt(e,{strict:!1}))throw new $n({address:e});if(!Vt(t,{strict:!1}))throw new $n({address:t});return e.toLowerCase()===t.toLowerCase()}const gL="/docs/contract/decodeEventLog";function n8(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...a]=s;if(!o)throw new iU({docsPath:gL});const c=t.find(g=>g.type==="event"&&o===Yh(Co(g)));if(!(c&&"name"in c)||c.type!=="event")throw new Nx(o,{docsPath:gL});const{name:l,inputs:u}=c,f=u?.some(g=>!("name"in g&&g.name)),d=f?[]:{},h=u.map((g,y)=>[g,y]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<h.length;g++){const[y,$]=h[g],_=a[g];if(!_)throw new t2({abiItem:c,param:y});d[f?$:y.name||$]=G8e({param:y,value:_})}const p=u.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=Yu(p,n);if(g)if(f)for(let y=0;y<u.length;y++)d[y]=d[y]??g.shift();else for(let y=0;y<p.length;y++)d[p[y].name]=g[y]}catch(g){if(i)throw g instanceof _x||g instanceof BU?new Gh({abiItem:c,data:n,params:p,size:Ft(n)}):g}else if(i)throw new Gh({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(d).length>0?d:void 0}}function G8e({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Yu([e],t)||[])[0]}function r8(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{try{const a=t.find(l=>l.type==="event"&&o.topics[0]===Yh(l));if(!a)return null;const c=n8({...o,abi:[a],strict:s});return i&&!i.includes(c.eventName)||!Y8e({args:c.args,inputs:a.inputs,matchArgs:n})?null:{...c,...o}}catch(a){let c,l;if(a instanceof Nx)return null;if(a instanceof Gh||a instanceof t2){if(s)return null;c=a.abiItem.name,l=a.abiItem.inputs?.some(u=>!("name"in u&&u.name))}return{...o,args:l?[]:{},eventName:c}}}).filter(Boolean)}function Y8e(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(i,o,a){try{return i.type==="address"?va(o,a):i.type==="string"||i.type==="bytes"?Jt(Is(o))===a:o===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,t[i])):!1}):!1}function Ea(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function x7(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const l=c??!1,u=o??(i?[i]:void 0);let f=[];u&&(f=[u.flatMap(g=>e1({abi:[g],eventName:g.name,args:o?void 0:a}))],i&&(f=f[0]));let d;n?d=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):d=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof r=="bigint"?se(r):r,toBlock:typeof s=="bigint"?se(s):s}]});const h=d.map(p=>Ea(p));return u?r8({abi:u,args:a,logs:h,strict:l}):h}async function $7(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:l}=t,u=o?Gu({abi:n,name:o}):void 0,f=u?void 0:n.filter(d=>d.type==="event");return $e(e,x7,"getLogs")({address:r,args:s,blockHash:i,event:u,events:f,fromBlock:a,toBlock:c,strict:l})}const A7="/docs/contract/decodeFunctionResult";function sd(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const a=Gu({abi:t,args:n,name:r});if(!a)throw new U0(r,{docsPath:A7});i=a}if(i.type!=="function")throw new U0(void 0,{docsPath:A7});if(!i.outputs)throw new kx(i.name,{docsPath:A7});const o=Yu(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C7=BigInt(0),S7=BigInt(1);function u2(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function I7(e){if(!u2(e))throw new Error("Uint8Array expected")}function d2(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function s8(e){const t=e.toString(16);return t.length&1?"0"+t:t}function mL(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?C7:BigInt("0x"+e)}const yL=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",X8e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function f2(e){if(I7(e),yL)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=X8e[e[n]];return t}const Cl={_0:48,_9:57,A:65,F:70,a:97,f:102};function bL(e){if(e>=Cl._0&&e<=Cl._9)return e-Cl._0;if(e>=Cl.A&&e<=Cl.F)return e-(Cl.A-10);if(e>=Cl.a&&e<=Cl.f)return e-(Cl.a-10)}function i8(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(yL)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=bL(e.charCodeAt(i)),a=bL(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function K0(e){return mL(f2(e))}function wL(e){return I7(e),mL(f2(Uint8Array.from(e).reverse()))}function h2(e,t){return i8(e.toString(16).padStart(t*2,"0"))}function vL(e,t){return h2(e,t).reverse()}function zi(e,t,n){let r;if(typeof t=="string")try{r=i8(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(u2(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function o8(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];I7(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const _7=e=>typeof e=="bigint"&&C7<=e;function O7(e,t,n){return _7(e)&&_7(t)&&_7(n)&&t<=e&&e<n}function C1(e,t,n,r){if(!O7(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function J8e(e){let t;for(t=0;e>C7;e>>=S7,t+=1);return t}const a8=e=>(S7<<BigInt(e))-S7,P7=e=>new Uint8Array(e),EL=e=>Uint8Array.from(e);function Q8e(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=P7(e),s=P7(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...f)=>n(s,r,...f),c=(f=P7(0))=>{s=a(EL([0]),f),r=a(),f.length!==0&&(s=a(EL([1]),f),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){r=a();const h=r.slice();d.push(h),f+=r.length}return o8(...d)};return(f,d)=>{o(),c(f);let h;for(;!(h=d(l()));)c();return o(),h}}const e4e={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||u2(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function c8(e,t,n={}){const r=(s,i,o)=>{const a=e4e[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function xL(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const t4e="0.1.1";function n4e(){return t4e}class He extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof He){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof He&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${n4e()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return $L(this,t)}}function $L(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?$L(e.cause,t):t?null:e}function p2(e,t){if(xa(e)>t)throw new A4e({givenSize:xa(e),maxSize:t})}function r4e(e,t){if(typeof t=="number"&&t>0&&t>xa(e)-1)throw new _L({offset:t,position:"start",size:xa(e)})}function s4e(e,t,n){if(typeof t=="number"&&typeof n=="number"&&xa(e)!==n-t)throw new _L({offset:n,position:"end",size:xa(e)})}const Sl={zero:48,nine:57,A:65,F:70,a:97,f:102};function AL(e){if(e>=Sl.zero&&e<=Sl.nine)return e-Sl.zero;if(e>=Sl.A&&e<=Sl.F)return e-(Sl.A-10);if(e>=Sl.a&&e<=Sl.f)return e-(Sl.a-10)}function i4e(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new C4e({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function CL(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function l8(e,t){if(Jr(e)>t)throw new O4e({givenSize:Jr(e),maxSize:t})}function o4e(e,t){if(typeof t=="number"&&t>0&&t>Jr(e)-1)throw new ML({offset:t,position:"start",size:Jr(e)})}function a4e(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Jr(e)!==n-t)throw new ML({offset:n,position:"end",size:Jr(e)})}function SL(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new P4e({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function c4e(e,t={}){const{dir:n="left"}=t;let r=e.replace("0x",""),s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r==="0"?"0x":n==="right"&&r.length%2===1?`0x${r}0`:`0x${r}`}const l4e="#__bigint";function u8(e,t,n){return JSON.stringify(e,(r,s)=>typeof t=="function"?t(r,s):typeof s=="bigint"?s.toString()+l4e:s,n)}const u4e=new TextDecoder,d4e=new TextEncoder;function f4e(e){if(!(e instanceof Uint8Array)){if(!e)throw new d8(e);if(typeof e!="object")throw new d8(e);if(!("BYTES_PER_ELEMENT"in e))throw new d8(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new d8(e)}}function h4e(e){return e instanceof Uint8Array?e:typeof e=="string"?T7(e):p4e(e)}function p4e(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function T7(e,t={}){const{size:n}=t;let r=e;n&&(l8(e,n),r=Y0(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const l=AL(s.charCodeAt(c++)),u=AL(s.charCodeAt(c++));if(l===void 0||u===void 0)throw new He(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=l*16+u}return o}function g4e(e,t={}){const{size:n}=t,r=d4e.encode(e);return typeof n=="number"?(p2(r,n),m4e(r,n)):r}function m4e(e,t){return i4e(e,{dir:"right",size:t})}function xa(e){return e.length}function y4e(e,t,n,r={}){const{strict:s}=r;r4e(e,t);const i=e.slice(t,n);return s&&s4e(i,t,n),i}function b4e(e,t={}){const{size:n}=t;typeof n<"u"&&p2(e,n);const r=mi(e,t);return TL(r,t)}function w4e(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(p2(r,n),r=IL(r)),r.length>1||r[0]>1)throw new $4e(r);return!!r[0]}function Il(e,t={}){const{size:n}=t;typeof n<"u"&&p2(e,n);const r=mi(e,t);return NL(r,t)}function v4e(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(p2(r,n),r=E4e(r)),u4e.decode(r)}function IL(e){return CL(e,{dir:"left"})}function E4e(e){return CL(e,{dir:"right"})}function x4e(e){try{return f4e(e),!0}catch{return!1}}class $4e extends He{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class d8 extends He{constructor(t){super(`Value \`${typeof t=="object"?u8(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class A4e extends He{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class _L extends He{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class C4e extends He{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}const S4e=new TextEncoder,I4e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _4e(e,t={}){const{strict:n=!1}=t;if(!e)throw new RL(e);if(typeof e!="string")throw new RL(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new DL(e);if(!e.startsWith("0x"))throw new DL(e)}function Ps(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function N7(e){return e instanceof Uint8Array?mi(e):Array.isArray(e)?mi(new Uint8Array(e)):e}function OL(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(l8(n,t.size),G0(n,t.size)):n}function mi(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=I4e[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(l8(r,t.size),Y0(r,t.size)):r}function Gt(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof e=="bigint"?"n":"";throw new kL({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${e}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?G0(c,r):c}function B7(e,t={}){return mi(S4e.encode(e),t)}function G0(e,t){return SL(e,{dir:"left",size:t})}function Y0(e,t){return SL(e,{dir:"right",size:t})}function nr(e,t,n,r={}){const{strict:s}=r;o4e(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&a4e(i,t,n),i}function Jr(e){return Math.ceil((e.length-2)/2)}function PL(e){return c4e(e,{dir:"left"})}function TL(e,t={}){const{signed:n}=t;t.size&&l8(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,o=i>>1n;return r<=o?r:r-i-1n}function NL(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:TL(e,t))}function BL(e,t={}){const{strict:n=!1}=t;try{return _4e(e,{strict:n}),!0}catch{return!1}}class kL extends He{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class RL extends He{constructor(t){super(`Value \`${typeof t=="object"?u8(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class DL extends He{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class O4e extends He{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class ML extends He{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class P4e extends He{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function T4e(e){return{address:e.address,amount:Gt(e.amount),index:Gt(e.index),validatorIndex:Gt(e.validatorIndex)}}function UL(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:Gt(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:Gt(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:Gt(e.gasLimit)},...typeof e.number=="bigint"&&{number:Gt(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:Gt(e.prevRandao)},...typeof e.time=="bigint"&&{time:Gt(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(T4e)}}}const g2=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],k7=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],LL=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],FL=[...LL,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],N4e=[...LL,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],jL=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],zL=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],HL=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],f8=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],m2=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],B4e=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],k4e=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],R4e=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],D4e=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],M4e="0x82ad56cb",R7="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",VL="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",D7="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",M7="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class h8 extends re{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class qL extends re{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} \u2013 ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} \u2013 ${t.name}`],name:"ChainMismatchError"})}}class ZL extends re{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class U7 extends re{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class S1 extends re{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const L7="/docs/contract/encodeDeployData";function y2(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Ix({docsPath:L7});if(!("inputs"in s))throw new e2({docsPath:L7});if(!s.inputs||s.inputs.length===0)throw new e2({docsPath:L7});const i=ya(s.inputs,n);return Ar([r,i])}function X0({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new h8({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new h8({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function WL(e,{docsPath:t,...n}){const r=(()=>{const s=K6(e,n);return s instanceof E1?e:s})();return new o7(r,{docsPath:t,...n})}function F7(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const j7=new Map;function z7({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const f=u.map(({args:d})=>d);f.length!==0&&e(f).then(d=>{s&&Array.isArray(d)&&d.sort(s);for(let h=0;h<u.length;h++){const{resolve:p}=u[h];p?.([d[h],d])}}).catch(d=>{for(let h=0;h<u.length;h++){const{reject:p}=u[h];p?.(d)}})},o=()=>j7.delete(t),a=()=>c().map(({args:u})=>u),c=()=>j7.get(t)||[],l=u=>j7.set(t,[...c(),u]);return{flush:o,async schedule(u){const{promise:f,resolve:d,reject:h}=F7();return n?.([...a(),u])&&i(),c().length>0?(l({args:u,resolve:d,reject:h}),f):(l({args:u,resolve:d,reject:h}),setTimeout(i,r),f)}}}async function b2(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:f,factory:d,factoryData:h,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:$,maxPriorityFeePerGas:_,nonce:x,to:E,value:P,stateOverride:N,...k}=t,R=n?Qt(n):void 0;if(u&&(d||h))throw new re("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&E)throw new re("Cannot provide both `code` & `to` as parameters.");const T=u&&f,L=d&&h&&E&&f,M=T||L,S=T?KL({code:u,data:f}):L?F4e({data:f,factory:d,factoryData:h,to:E}):f;try{Al(t);const v=(typeof i=="bigint"?se(i):void 0)||o,m=l?UL(l):void 0,b=l7(N),A=e.chain?.formatters?.transactionRequest?.format,C=(A||ba)({...x1(k,{format:A}),from:R?.address,accessList:a,authorizationList:r,blobs:c,data:S,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:$,maxPriorityFeePerGas:_,nonce:x,to:M?void 0:E,value:P},"call");if(s&&U4e({request:C})&&!b&&!m)try{return await L4e(e,{...C,blockNumber:i,blockTag:o})}catch(D){if(!(D instanceof U7)&&!(D instanceof h8))throw D}const O=(()=>{const D=[C,v];return b&&m?[...D,b,m]:b?[...D,b]:m?[...D,{},m]:D})(),B=await e.request({method:"eth_call",params:O});return B==="0x"?{data:void 0}:{data:B}}catch(w){const v=j4e(w),{offchainLookup:m,offchainLookupSignature:b}=await Promise.resolve().then(function(){return M3e});if(e.ccipRead!==!1&&v?.slice(0,10)===b&&E)return{data:await m(e,{data:v,to:E})};throw M&&v?.slice(0,10)==="0x101bb98d"?new ZU({factory:d}):WL(w,{...t,account:R,chain:e.chain})}}function U4e({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(M4e)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function L4e(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,l=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return X0({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new U7})(),f=(typeof i=="bigint"?se(i):void 0)||o,{schedule:d}=z7({id:`${e.uid}.${f}`,wait:s,shouldSplitBatch(g){return g.reduce(($,{data:_})=>$+(_.length-2),0)>n*2},fn:async g=>{const y=g.map(x=>({allowFailure:!0,callData:x.data,target:x.to})),$=_s({abi:g2,args:[y],functionName:"aggregate3"}),_=await e.request({method:"eth_call",params:[{...l===null?{data:KL({code:M7,data:$})}:{to:l,data:$}},f]});return sd({abi:g2,args:[y],functionName:"aggregate3",data:_||"0x"})}}),[{returnData:h,success:p}]=await d({data:a,to:c});if(!p)throw new o2({data:h});return h==="0x"?{data:void 0}:{data:h}}function KL(e){const{code:t,data:n}=e;return y2({abi:Ax(["constructor(bytes, bytes)"]),bytecode:R7,args:[t,n]})}function F4e(e){const{data:t,factory:n,factoryData:r,to:s}=e;return y2({abi:Ax(["constructor(address, bytes, address, bytes)"]),bytecode:VL,args:[s,t,n,r]})}function j4e(e){if(!(e instanceof re))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function Hi(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=_s({abi:n,args:s,functionName:i});try{const{data:c}=await $e(e,b2,"call")({...o,data:a,to:r});return sd({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw nd(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function GL(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=a.account?Qt(a.account):e.account,l=_s({abi:n,args:s,functionName:o});try{const{data:u}=await $e(e,b2,"call")({batch:!1,data:`${l}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),f=sd({abi:n,args:s,functionName:o,data:u||"0x"}),d=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:f,request:{abi:d,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(u){throw nd(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}const H7=new Map,YL=new Map;let z4e=0;function _l(e,t,n){const r=++z4e,s=()=>H7.get(e)||[],i=()=>{const u=s();H7.set(e,u.filter(f=>f.id!==r))},o=()=>{const u=s();if(!u.some(d=>d.id===r))return;const f=YL.get(e);if(u.length===1&&f){const d=f();d instanceof Promise&&d.catch(()=>{})}i()},a=s();if(H7.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const u in t)c[u]=(...f)=>{const d=s();if(d.length!==0)for(const h of d)h.fns[u]?.(...f)};const l=n(c);return typeof l=="function"&&YL.set(e,l),o}async function p8(e){return new Promise(t=>setTimeout(t,e))}function I1(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await n?.(a)??r;await p8(c);const l=async()=>{s&&(await e({unpoll:i}),await p8(r),l())};l()})(),i}const H4e=new Map,V4e=new Map;function q4e(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,H4e),r=t(e,V4e);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function XL(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=q4e(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Z4e=e=>`blockNumber.${e}`;async function w2(e,{cacheTime:t=e.cacheTime}={}){const n=await XL(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Z4e(e.uid),cacheTime:t});return BigInt(n)}async function g8(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>Ea(i));return!("abi"in t)||!t.abi?s:r8({abi:t.abi,logs:s,strict:n})}async function m8(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function JL(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:f=e.pollingInterval,strict:d}=t;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const y=d??!1,$=Kt(["watchContractEvent",r,s,i,e.uid,o,f,y,a]);return _l($,{onLogs:l,onError:c},_=>{let x;a!==void 0&&(x=a-1n);let E,P=!1;const N=I1(async()=>{if(!P){try{E=await $e(e,Gx,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:y,fromBlock:a})}catch{}P=!0;return}try{let k;if(E)k=await $e(e,g8,"getFilterChanges")({filter:E});else{const R=await $e(e,w2,"getBlockNumber")({});x&&x<R?k=await $e(e,$7,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:x+1n,toBlock:R,strict:y}):k=[],x=R}if(k.length===0)return;if(i)_.onLogs(k);else for(const R of k)_.onLogs([R])}catch(k){E&&k instanceof Qu&&(P=!1),_.onError?.(k)}},{emitOnBegin:!0,interval:f});return async()=>{E&&await $e(e,m8,"uninstallFilter")({filter:E}),N()}})})():(()=>{const y=d??!1,$=Kt(["watchContractEvent",r,s,i,e.uid,o,f,y]);let _=!0,x=()=>_=!1;return _l($,{onLogs:l,onError:c},E=>((async()=>{try{const P=(()=>{if(e.transport.type==="fallback"){const R=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return R?R.value:e.transport}return e.transport})(),N=o?e1({abi:n,eventName:o,args:s}):[],{unsubscribe:k}=await P.subscribe({params:["logs",{address:r,topics:N}],onData(R){if(!_)return;const T=R.result;try{const{eventName:L,args:M}=n8({abi:n,data:T.data,topics:T.topics,strict:d}),S=Ea(T,{args:M,eventName:L});E.onLogs([S])}catch(L){let M,S;if(L instanceof Gh||L instanceof t2){if(d)return;M=L.abiItem.name,S=L.abiItem.inputs?.some(v=>!("name"in v&&v.name))}const w=Ea(T,{args:S?[]:{},eventName:M});E.onLogs([w])}},onError(R){E.onError?.(R)}});x=k,_||x()}catch(P){c?.(P)}})(),()=>x()))})()}class id extends re{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class J0 extends re{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function y8({chain:e,currentChainId:t}){if(!e)throw new ZL;if(t!==e.id)throw new qL({chain:e,currentChainId:t})}function V7(e,{docsPath:t,...n}){const r=(()=>{const s=K6(e,n);return s instanceof E1?e:s})();return new HU(r,{docsPath:t,...n})}async function q7(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Z7=new Xh(128);async function b8(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,type:p,value:g,...y}=t;if(typeof n>"u")throw new id({docsPath:"/docs/actions/wallet/sendTransaction"});const $=n?Qt(n):null;try{Al(t);const _=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await L6({authorization:i[0]}).catch(()=>{throw new re("`to` is required. Could not infer from `authorizationList`.")})})();if($?.type==="json-rpc"||$===null){let x;r!==null&&(x=await $e(e,W0,"getChainId")({}),y8({currentChainId:x,chain:r}));const E=e.chain?.formatters?.transactionRequest?.format,N=(E||ba)({...x1(y,{format:E}),accessList:s,authorizationList:i,blobs:o,chainId:x,data:a,from:$?.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,to:_,type:p,value:g},"sendTransaction"),k=Z7.get(e.uid),R=k?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:R,params:[N]},{retryCount:0})}catch(T){if(k===!1)throw T;const L=T;if(L.name==="InvalidInputRpcError"||L.name==="InvalidParamsRpcError"||L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[N]},{retryCount:0}).then(M=>(Z7.set(e.uid,!0),M)).catch(M=>{const S=M;throw S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"?(Z7.set(e.uid,!1),L):S});throw L}}if($?.type==="local"){const x=await $e(e,l2,"prepareTransactionRequest")({account:$,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,nonceManager:$.nonceManager,parameters:[...v7,"sidecars"],type:p,value:g,...y,to:_}),E=r?.serializers?.transaction,P=await $.signTransaction(x,{serializer:E});return await $e(e,q7,"sendRawTransaction")({serializedTransaction:P})}throw $?.type==="smart"?new J0({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new J0({docsPath:"/docs/actions/wallet/sendTransaction",type:$?.type})}catch(_){throw _ instanceof J0?_:V7(_,{...t,account:$,chain:t.chain||void 0})}}async function _1(e,t){return _1.internal(e,b8,"sendTransaction",t)}(function(e){async function t(n,r,s,i){const{abi:o,account:a=n.account,address:c,args:l,dataSuffix:u,functionName:f,...d}=i;if(typeof a>"u")throw new id({docsPath:"/docs/contract/writeContract"});const h=a?Qt(a):null,p=_s({abi:o,args:l,functionName:f});try{return await $e(n,r,s)({data:`${p}${u?u.replace("0x",""):""}`,to:c,account:h,...d})}catch(g){throw nd(g,{abi:o,address:c,args:l,docsPath:"/docs/contract/writeContract",functionName:f,sender:h?.address})}}e.internal=t})(_1||(_1={}));function W4e({abi:e,address:t,client:n}){const r=n,[s,i]=r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0],o=s!=null,a=i!=null,c={};let l=!1,u=!1,f=!1;for(const d of e)if(d.type==="function"?d.stateMutability==="view"||d.stateMutability==="pure"?l=!0:u=!0:d.type==="event"&&(f=!0),l&&u&&f)break;return o&&(l&&(c.read=new Proxy({},{get(d,h){return(...p)=>{const{args:g,options:y}=w8(p);return $e(s,Hi,"readContract")({abi:e,address:t,functionName:h,args:g,...y})}}})),u&&(c.simulate=new Proxy({},{get(d,h){return(...p)=>{const{args:g,options:y}=w8(p);return $e(s,GL,"simulateContract")({abi:e,address:t,functionName:h,args:g,...y})}}})),f&&(c.createEventFilter=new Proxy({},{get(d,h){return(...p)=>{const g=e.find(_=>_.type==="event"&&_.name===h),{args:y,options:$}=W7(p,g);return $e(s,Gx,"createContractEventFilter")({abi:e,address:t,eventName:h,args:y,...$})}}}),c.getEvents=new Proxy({},{get(d,h){return(...p)=>{const g=e.find(_=>_.type==="event"&&_.name===h),{args:y,options:$}=W7(p,g);return $e(s,$7,"getContractEvents")({abi:e,address:t,eventName:h,args:y,...$})}}}),c.watchEvent=new Proxy({},{get(d,h){return(...p)=>{const g=e.find(_=>_.type==="event"&&_.name===h),{args:y,options:$}=W7(p,g);return $e(s,JL,"watchContractEvent")({abi:e,address:t,eventName:h,args:y,...$})}}}))),a&&u&&(c.write=new Proxy({},{get(d,h){return(...p)=>{const{args:g,options:y}=w8(p);return $e(i,_1,"writeContract")({abi:e,address:t,functionName:h,args:g,...y})}}})),(o||a)&&u&&(c.estimateGas=new Proxy({},{get(d,h){return(...p)=>{const{args:g,options:y}=w8(p);return $e(s??i,pL,"estimateContractGas")({abi:e,address:t,functionName:h,args:g,...y,account:y.account??i.account})}}})),c.address=t,c.abi=e,c}function w8(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function W7(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(i=>i.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,s=(n?e[1]:e[0])??{};return{args:r,options:s}}class QL extends re{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function v2(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof t=="function"?t({count:a,error:l}):t;u&&await p8(u),o({count:a+1})};try{const l=await e();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}const eF={"0x0":"reverted","0x1":"success"};function v8(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Ea(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?It(e.transactionIndex):null,status:e.status?eF[e.status]:null,type:e.type?d7[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const tF=G6("transactionReceipt",v8),nF="0x5792579257925792579257925792579257925792579257925792579257925792",rF=se(0,{size:32});async function sF(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=t,u=n?Qt(n):null,f=t.calls.map(d=>{const h=d,p=h.abi?_s({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&p?Gr([p,h.dataSuffix]):p,to:h.to,value:h.value?se(h.value):void 0}});try{const d=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:f,capabilities:r,chainId:se(s.id),from:u?.address,id:c,version:l}]},{retryCount:0});return typeof d=="string"?{id:d}:d}catch(d){const h=d;if(i&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured"))){if(r&&Object.values(r).some(_=>!_.optional)){const _="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new H0(new re(_,{details:_}))}if(a&&f.length>1){const $="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new V0(new re($,{details:$}))}const p=[];for(const $ of f){const _=b8(e,{account:u,chain:s,data:$.data,to:$.to,value:$.value?ze($.value):void 0});p.push(_),o>0&&await new Promise(x=>setTimeout(x,o))}const g=await Promise.allSettled(p);if(g.every($=>$.status==="rejected"))throw g[0].reason;const y=g.map($=>$.status==="fulfilled"?$.value:rF);return{id:Gr([...y,se(s.id,{size:32}),nF])}}throw V7(d,{...t,account:u,chain:t.chain})}}async function iF(e,t){async function n(u){if(u.endsWith(nF.slice(2))){const d=tr(Qh(u,-64,-32)),h=Qh(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(y=>rF.slice(2)!==y?e.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),g=p.some(y=>y===null)?100:p.every(y=>y?.status==="0x1")?200:p.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:It(d),receipts:p.filter(Boolean),status:g,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(t.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:s?It(s):void 0,receipts:i?.map(u=>({...u,blockNumber:ze(u.blockNumber),gasUsed:ze(u.gasUsed),status:eF[u.status]}))??[],statusCode:l,status:c,version:o}}async function oF(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:g})=>g===200||g>=300,retryCount:i=4,retryDelay:o=({count:g})=>~~(1<<g)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,l=Kt(["waitForCallsStatus",e.uid,n]),{promise:u,resolve:f,reject:d}=F7();let h;const p=_l(l,{resolve:f,reject:d},g=>{const y=I1(async()=>{const $=_=>{clearTimeout(h),y(),_(),p()};try{const _=await v2(async()=>{const x=await $e(e,iF,"getCallsStatus")({id:n});if(c&&x.status==="failure")throw new QL(x);return x},{retryCount:i,delay:o});if(!s(_))return;$(()=>g.resolve(_))}catch(_){$(()=>g.reject(_))}},{interval:r,emitOnBegin:!0});return y});return h=a?setTimeout(()=>{p(),clearTimeout(h),d(new aF({id:n}))},a):void 0,await u}class aF extends re{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const K7=256;let E8=K7,x8;function cF(e=11){if(!x8||E8+e>K7*2){x8="",E8=0;for(let t=0;t<K7;t++)x8+=(256+Math.random()*256|0).toString(16).substring(1)}return x8.substring(E8,E8+++e)}function $8(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),u=e.pollingInterval??l,f=e.cacheTime??u,d=e.account?Qt(e.account):void 0,{config:h,request:p,value:g}=e.transport({chain:n,pollingInterval:u}),y={...h,...g},$={account:d,batch:t,cacheTime:f,ccipRead:r,chain:n,key:s,name:i,pollingInterval:u,request:p,transport:y,type:o,uid:cF(),...a?{experimental_blockTag:a}:{}};function _(x){return E=>{const P=E(x);for(const k in $)delete P[k];const N={...x,...P};return Object.assign(N,{extend:_(N)})}}return Object.assign($,{extend:_($)})}function K4e(){return null}function G7(e){if(!(e instanceof re))return!1;const t=e.walk(n=>n instanceof M6);return t instanceof M6?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function lF(e){const{abi:t,data:n}=e,r=xl(n,0,4),s=t.find(i=>i.type==="function"&&r===L0(Co(i)));if(!s)throw new oU(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Yu(s.inputs,xl(n,4)):void 0}}const Y7="/docs/contract/encodeErrorResult";function X7(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Gu({abi:t,args:r,name:n});if(!c)throw new Px(n,{docsPath:Y7});s=c}if(s.type!=="error")throw new Px(void 0,{docsPath:Y7});const i=Co(s),o=L0(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new sU(s.name,{docsPath:Y7});a=ya(s.inputs,r)}return Ar([o,a])}const J7="/docs/contract/encodeFunctionResult";function uF(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=Gu({abi:t,name:n});if(!o)throw new U0(n,{docsPath:J7});s=o}if(s.type!=="function")throw new U0(void 0,{docsPath:J7});if(!s.outputs)throw new kx(s.name,{docsPath:J7});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Dx(r)})();return ya(s.outputs,i)}const E2="x-batch-gateway:true";async function dF(e){const{data:t,ccipRequest:n}=e,{args:[r]}=lF({abi:k7,data:t}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=o.urls.includes(E2)?await dF({data:o.data,ccipRequest:n}):await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=G4e(c)}})),uF({abi:k7,functionName:"query",result:[s,i]})}function G4e(e){return e.name==="HttpRequestError"&&e.status?X7({abi:k7,errorName:"HttpError",args:[e.status,e.shortMessage]}):X7({abi:[TU],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function fF(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return je(t)?t:null}function A8(e){let t=new Uint8Array(32).fill(0);if(!e)return Nt(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=fF(n[r]),i=s?Is(s):Jt(Ku(n[r]),"bytes");t=Jt(Gr([t,i]),"bytes")}return Nt(t)}function Y4e(e){return`[${e.slice(2)}]`}function hF(e){const t=new Uint8Array(32).fill(0);return e?fF(e)||Jt(Ku(e)):Nt(t)}function Q7(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ku(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=Ku(s[i]);o.byteLength>255&&(o=Ku(Y4e(hF(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function X4e(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return X0({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(d=>i.endsWith(d)))return null;const f=s!=null?[A8(i),BigInt(s)]:[A8(i)];try{const d=_s({abi:zL,functionName:"addr",args:f}),h={address:l,abi:FL,functionName:"resolveWithGateways",args:[jt(Q7(i)),d,o??[E2]],blockNumber:n,blockTag:r},g=await $e(e,Hi,"readContract")(h);if(g[0]==="0x")return null;const y=sd({abi:zL,args:f,functionName:"addr",data:g[0]});return y==="0x"||tr(y)==="0x00"?null:y}catch(d){if(a)throw d;if(G7(d))return null;throw d}}class J4e extends re{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class O1 extends re{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class C8 extends re{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class pF extends re{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}class gF extends re{constructor({chainId:t}){super(`Invalid ENSIP-11 chainId: ${t}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}const Q4e=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,e3e=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,t3e=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,n3e=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function r3e(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function mF(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function yF({uri:e,gatewayUrls:t}){const n=t3e.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=mF(t?.ipfs,"https://ipfs.io"),s=mF(t?.arweave,"https://arweave.net"),i=e.match(Q4e),{protocol:o,subpath:a,target:c,subtarget:l=""}=i?.groups||{},u=o==="ipns:/"||a==="ipns/",f=o==="ipfs:/"||a==="ipfs/"||e3e.test(e);if(e.startsWith("http")&&!u&&!f){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((u||f)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(n3e,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new C8({uri:e})}function bF(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new J4e({data:e});return e.image||e.image_url||e.image_data}async function s3e({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await e$({gatewayUrls:e,uri:bF(n)})}catch{throw new C8({uri:t})}}async function e$({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=yF({uri:t,gatewayUrls:e});if(r||await r3e(n))return n;throw new C8({uri:t})}function i3e(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new O1({reason:"Only EIP-155 supported"});if(!o)throw new O1({reason:"Chain ID not found"});if(!c)throw new O1({reason:"Contract address not found"});if(!s)throw new O1({reason:"Token ID not found"});if(!a)throw new O1({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function o3e(e,{nft:t}){if(t.namespace==="erc721")return Hi(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Hi(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new pF({namespace:t.namespace})}async function a3e(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?c3e(e,{gatewayUrls:t,record:n}):e$({uri:n,gatewayUrls:t})}async function c3e(e,{gatewayUrls:t,record:n}){const r=i3e(n),s=await o3e(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=yF({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const l=a?atob(i.replace("data:application/json;base64,","")):i,u=JSON.parse(l);return e$({uri:bF(u),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),s3e({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function wF(e,t){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return X0({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(f=>i.endsWith(f)))return null;try{const f={address:l,abi:FL,args:[jt(Q7(i)),_s({abi:jL,functionName:"text",args:[A8(i),s]}),o??[E2]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await $e(e,Hi,"readContract")(f);if(h[0]==="0x")return null;const p=sd({abi:jL,functionName:"text",data:h[0]});return p===""?null:p}catch(f){if(a)throw f;if(G7(f))return null;throw f}}async function l3e(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await $e(e,wF,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await a3e(e,{record:c,gatewayUrls:r})}catch{return null}}async function u3e(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return X0({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const u={address:l,abi:N4e,args:[n,i,o??[E2]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},f=$e(e,Hi,"readContract"),[d]=await f(u);return d||null}catch(u){if(a)throw u;if(G7(u))return null;throw u}}async function d3e(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:i}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return X0({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i?.ensTlds;if(a&&!a.some(l=>s.endsWith(l)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await $e(e,Hi,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[jt(Q7(s))],blockNumber:n,blockTag:r});return c}async function vF(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:f,to:d,value:h,...p}=t,g=n?Qt(n):void 0;try{Al(t);const $=(typeof r=="bigint"?se(r):void 0)||s,_=e.chain?.formatters?.transactionRequest?.format,E=(_||ba)({...x1(p,{format:_}),from:g?.address,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:f,to:d,value:h},"createAccessList"),P=await e.request({method:"eth_createAccessList",params:[E,$]});return{accessList:P.accessList,gasUsed:BigInt(P.gasUsed)}}catch(y){throw WL(y,{...t,account:g,chain:e.chain})}}async function f3e(e){const t=R6(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function EF(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),l=R6(e,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(h=>e1({abi:[h],eventName:h.name,args:n}))],r&&(u=u[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?se(i):i,toBlock:typeof a=="bigint"?se(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:f,request:l(f),strict:!!o,toBlock:a,type:"event"}}async function xF(e){const t=R6(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function h3e(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?se(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function p3e(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function g3e(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?se(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),It(i)}async function t$(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?se(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(i!=="0x")return i}class m3e extends re{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function y3e(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[i,o,a,c,l,u,f]=await $e(e,Hi,"readContract")({abi:b3e,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:l,salt:u},extensions:f,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new m3e({address:n}):o}}const b3e=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function w3e(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function v3e(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?se(n):void 0,o=await e.request({method:"eth_feeHistory",params:[se(t),i||r,s]},{dedupe:!!i});return w3e(o)}async function E3e(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>Ea(i));return t.abi?r8({abi:t.abi,logs:s,strict:n}):s}function x3e(e,t){if(e.length!==t.length)throw new Ox({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push($F(s,i))}return Ar(n)}function $F(e,t,n=!1){if(e==="address"){const o=t;if(!Vt(o))throw new $n({address:o});return So(o.toLowerCase(),{size:n?32:null})}if(e==="string")return Wu(t);if(e==="bytes")return t;if(e==="bool")return So(B6(t),{size:n?32:1});const r=e.match(Vx);if(r){const[o,a,c="256"]=r,l=Number.parseInt(c,10)/8;return se(t,{size:n?32:l,signed:a==="int"})}const s=e.match(CU);if(s){const[o,a]=s;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new Rx({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return So(t,{dir:"right",size:n?32:null})}const i=e.match(Ewe);if(i&&Array.isArray(t)){const[o,a]=i,c=[];for(let l=0;l<t.length;l++)c.push($F(a,t[l],!0));return c.length===0?"0x":Ar(c)}throw new uU(e)}function n$(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function $3e(e){return e.opcode==="CREATE2"?CF(e):AF(e)}function AF(e){const t=Is(_o(e.from));let n=Is(e.nonce);return n[0]===0&&(n=new Uint8Array([])),_o(`0x${Jt(gi([t,n],"bytes")).slice(26)}`)}function CF(e){const t=Is(_o(e.from)),n=So(n$(e.salt)?e.salt:Is(e.salt),{size:32}),r="bytecodeHash"in e?n$(e.bytecodeHash)?e.bytecodeHash:Is(e.bytecodeHash):Jt(e.bytecode,"bytes");return _o(xl(Jt(Gr([Is("0xff"),t,n,r])),12))}function SF(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!Vt(s))throw new $n({address:s});if(r<0)throw new S1({chainId:r})}x2(e)}function IF(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new dL;for(const n of t){const r=Ft(n),s=It(xl(n,0,1));if(r!==32)throw new W8e({hash:n,size:r});if(s!==uL)throw new K8e({hash:n,version:s})}}x2(e)}function x2(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new S1({chainId:t});if(s&&!Vt(s))throw new $n({address:s});if(r&&r>$1)throw new $l({maxFeePerGas:r});if(n&&r&&n>r)throw new Z0({maxFeePerGas:r,maxPriorityFeePerGas:n})}function r$(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(t<=0)throw new S1({chainId:t});if(i&&!Vt(i))throw new $n({address:i});if(n||s)throw new re("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>$1)throw new $l({maxFeePerGas:r})}function s$(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(i&&!Vt(i))throw new $n({address:i});if(typeof t<"u"&&t<=0)throw new S1({chainId:t});if(n||s)throw new re("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>$1)throw new $l({maxFeePerGas:r})}function P1(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new zU({storageKey:s[i]});if(!Vt(r,{strict:!1}))throw new $n({address:r});t.push([r,s])}return t}function i$(e,t){const n=w7(e);return n==="eip1559"?S3e(e,t):n==="eip2930"?I3e(e,t):n==="eip4844"?C3e(e,t):n==="eip7702"?A3e(e,t):_3e(e,t)}function A3e(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:f}=e;SF(e);const d=P1(u),h=O3e(n);return Ar(["0x04",gi([se(r),i?se(i):"0x",l?se(l):"0x",c?se(c):"0x",s?se(s):"0x",o??"0x",a?se(a):"0x",f??"0x",d,h,...T1(e,t)])])}function C3e(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:f}=e;IF(e);let d=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof d>"u"||typeof h>"u")){const x=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(N=>Nt(N)),E=e.kzg,P=Q6({blobs:x,kzg:E});if(typeof d>"u"&&(d=y7({commitments:P})),typeof h>"u"){const N=e8({blobs:x,commitments:P,kzg:E});h=t8({blobs:x,commitments:P,proofs:N})}}const p=P1(u),g=[se(n),s?se(s):"0x",l?se(l):"0x",c?se(c):"0x",r?se(r):"0x",i??"0x",o?se(o):"0x",f??"0x",p,a?se(a):"0x",d??[],...T1(e,t)],y=[],$=[],_=[];if(h)for(let x=0;x<h.length;x++){const{blob:E,commitment:P,proof:N}=h[x];y.push(E),$.push(P),_.push(N)}return Ar(["0x03",gi(h?[g,y,$,_]:g)])}function S3e(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:u}=e;x2(e);const f=P1(l),d=[se(n),s?se(s):"0x",c?se(c):"0x",a?se(a):"0x",r?se(r):"0x",i??"0x",o?se(o):"0x",u??"0x",f,...T1(e,t)];return Ar(["0x02",gi(d)])}function I3e(e,t){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:l}=e;r$(e);const u=P1(c),f=[se(n),i?se(i):"0x",l?se(l):"0x",r?se(r):"0x",o??"0x",a?se(a):"0x",s??"0x",u,...T1(e,t)];return Ar(["0x01",gi(f)])}function _3e(e,t){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=e;s$(e);let l=[i?se(i):"0x",c?se(c):"0x",r?se(r):"0x",o??"0x",a?se(a):"0x",s??"0x"];if(t){const u=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new r7({v:t.v});return h})(),f=tr(t.r),d=tr(t.s);l=[...l,se(u),f==="0x00"?"0x":f,d==="0x00"?"0x":d]}else n>0&&(l=[...l,se(n),"0x","0x"]);return gi(l)}function T1(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=tr(n.r),o=tr(n.s);return[typeof s=="number"?s?se(1):"0x":r===0n?"0x":r===1n?se(1):r===27n?"0x":se(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function O3e(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...i}=n,o=n.address;t.push([r?jt(r):"0x",o,s?jt(s):"0x",...T1({},i)])}return t}async function P3e({address:e,authorization:t,signature:n}){return va(_o(e),await L6({authorization:t,signature:n}))}const S8=new Xh(8192);function T3e(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(S8.get(n))return S8.get(n);const r=e().finally(()=>S8.delete(n));return S8.set(n,r),r}function N3e(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:l}=n;if(i?.exclude?.includes(l))throw new ed(new Error("method not supported"),{method:l});if(i?.include&&!i.include.includes(l))throw new ed(new Error("method not supported"),{method:l});const u=s?Wu(`${c}.${Kt(n)}`):void 0;return T3e(()=>v2(async()=>{try{return await e(n)}catch(f){const d=f;switch(d.code){case s1.code:throw new s1(d);case i1.code:throw new i1(d);case o1.code:throw new o1(d,{method:n.method});case a1.code:throw new a1(d);case Ju.code:throw new Ju(d);case Qu.code:throw new Qu(d);case c1.code:throw new c1(d);case l1.code:throw new l1(d);case j0.code:throw new j0(d);case ed.code:throw new ed(d,{method:n.method});case z0.code:throw new z0(d);case u1.code:throw new u1(d);case td.code:throw new td(d);case d1.code:throw new d1(d);case f1.code:throw new f1(d);case h1.code:throw new h1(d);case p1.code:throw new p1(d);case g1.code:throw new g1(d);case H0.code:throw new H0(d);case m1.code:throw new m1(d);case y1.code:throw new y1(d);case b1.code:throw new b1(d);case w1.code:throw new w1(d);case v1.code:throw new v1(d);case V0.code:throw new V0(d);case 5e3:throw new td(d);default:throw f instanceof re?f:new WU(d)}}},{delay:({count:f,error:d})=>{if(d&&d instanceof Xu){const h=d?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>B3e(f)}),{enabled:s,id:u})}}function B3e(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===z0.code||e.code===Ju.code:e instanceof Xu&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class k3e extends re{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:i,urls:o}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(a=>`    ${F0(a)}`)],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class R3e extends re{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${F0(n)}`,`Response: ${Kt(t)}`],name:"OffchainLookupResponseMalformedError"})}}class D3e extends re{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const _F="0x556f1830",o$={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function OF(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:i}=e7({data:r,abi:[o$]}),[o,a,c,l,u]=i,{ccipRead:f}=e,d=f&&typeof f?.request=="function"?f.request:I8;try{if(!va(s,o))throw new D3e({sender:o,to:s});const h=a.includes(E2)?await dF({data:c,ccipRequest:d}):await d({data:c,sender:o,urls:a}),{data:p}=await b2(e,{blockNumber:t,blockTag:n,data:Gr([l,ya([{type:"bytes"},{type:"bytes"}],[h,u])]),to:s});return p}catch(h){throw new k3e({callbackSelector:l,cause:h,data:r,extraData:u,sender:o,urls:a})}}async function I8({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const i=n[s],o=i.includes("{data}")?"GET":"POST",a=o==="POST"?{data:e,sender:t}:void 0,c=o==="POST"?{"Content-Type":"application/json"}:{};try{const l=await fetch(i.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:o});let u;if(l.headers.get("Content-Type")?.startsWith("application/json")?u=(await l.json()).data:u=await l.text(),!l.ok){r=new Xu({body:a,details:u?.error?Kt(u.error):l.statusText,headers:l.headers,status:l.status,url:i});continue}if(!je(u)){r=new R3e({result:u,url:i});continue}return u}catch(l){r=new Xu({body:a,details:l.message,url:i})}}throw r}var M3e=Object.freeze({__proto__:null,offchainLookupSignature:_F,offchainLookupAbiItem:o$,offchainLookup:OF,ccipRequest:I8});function Se(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function U3e({chains:e,id:t}){return e.find(n=>n.id===t)}function a$(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new mU(e);return xn(e)}return e})(),r=t1(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return PF(r,t)}function PF(e,t="hex"){if(e.bytes.length===0)return t==="hex"?Nt(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const s=TF(e,n,128),i=e.readBytes(s);return t==="hex"?Nt(i):i}const r=TF(e,n,192);return L3e(e,r,t)}function TF(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new re("Invalid RLP prefix")}function L3e(e,t,n){const r=e.position,s=[];for(;e.position-r<t;)s.push(PF(e,n));return s}function NF(e){return je(e)&&Ft(e)===32}function F3e(e,t){const n=t||"hex",r=ZJ(je(e,{strict:!1})?Is(e):e);return n==="bytes"?r:jt(r)}function BF(e){const{source:t}=e,n=new Map,r=new Xh(8192),s=new Map,i=({address:o,chainId:a})=>`${o}.${a}`;return{async consume({address:o,chainId:a,client:c}){const l=i({address:o,chainId:a}),u=this.get({address:o,chainId:a,client:c});this.increment({address:o,chainId:a});const f=await u;return await t.set({address:o,chainId:a},f),r.set(l,f),f},async increment({address:o,chainId:a}){const c=i({address:o,chainId:a}),l=n.get(c)??0;n.set(c,l+1)},async get({address:o,chainId:a,client:c}){const l=i({address:o,chainId:a});let u=s.get(l);return u||(u=(async()=>{try{const d=await t.get({address:o,chainId:a,client:c}),h=r.get(l)??0;return h>0&&d<=h?h+1:(r.delete(l),d)}finally{this.reset({address:o,chainId:a})}})(),s.set(l,u)),(n.get(l)??0)+await u},reset({address:o,chainId:a}){const c=i({address:o,chainId:a});n.delete(c),s.delete(c)}}}function j3e(){return{async get(e){const{address:t,client:n}=e;return J6(n,{address:t,blockTag:"pending"})},set(){}}}const z3e=BF({source:j3e()});function c$(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(t)},n)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function H3e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const l$=H3e();function V3e(e,t={}){return{async request(n){const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:u,signal:f}=c;try{const d=await c$(async({signal:p})=>{const g={...c,body:Array.isArray(r)?Kt(r.map(x=>({jsonrpc:"2.0",id:x.id??l$.take(),...x}))):Kt({jsonrpc:"2.0",id:r.id??l$.take(),...r}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:f||(a>0?p:null)},y=new Request(e,g),$=await i?.(y,g)??{...g,url:e};return await s($.url??e,$)},{errorInstance:new U6({body:r,url:e}),timeout:a,signal:!0});o&&await o(d);let h;if(d.headers.get("Content-Type")?.startsWith("application/json"))h=await d.json();else{h=await d.text();try{h=JSON.parse(h||"{}")}catch(p){if(d.ok)throw p;h={error:h}}}if(!d.ok)throw new Xu({body:r,details:Kt(h.error)||d.statusText,headers:d.headers,status:d.status,url:e});return h}catch(d){throw d instanceof Xu||d instanceof U6?d:new Xu({body:r,cause:d,url:e})}}}}const u$=new Map;async function q3e(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:s=!0,url:i}=e,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:a=5,delay:c=2e3}=typeof s=="object"?s:{},l=JSON.stringify({keepAlive:n,key:r,url:i,reconnect:s});let u=u$.get(l);if(u)return u;let f=0;const{schedule:d}=z7({id:l,fn:async()=>{const g=new Map,y=new Map;let $,_,x,E=!1;function P(){if(s&&f<a){if(E)return;E=!0,f++,_?.close(),setTimeout(async()=>{await N().catch(console.error),E=!1},c)}else g.clear(),y.clear()}async function N(){const k=await t({onClose(){for(const R of g.values())R.onError?.(new c2({url:i}));for(const R of y.values())R.onError?.(new c2({url:i}));P()},onError(R){$=R;for(const T of g.values())T.onError?.($);for(const T of y.values())T.onError?.($);P()},onOpen(){$=void 0,f=0},onResponse(R){const T=R.method==="eth_subscription",L=T?R.params.subscription:R.id,M=T?y:g,S=M.get(L);S&&S.onResponse(R),T||M.delete(L)}});if(_=k,n&&(x&&clearInterval(x),x=setInterval(()=>_.ping?.(),o)),s&&y.size>0){const R=y.entries();for(const[T,{onResponse:L,body:M,onError:S}]of R)M&&(y.delete(T),u?.request({body:M,onResponse:L,onError:S}))}return k}return await N(),$=void 0,u={close(){x&&clearInterval(x),_.close(),u$.delete(l)},get socket(){return _},request({body:k,onError:R,onResponse:T}){$&&R&&R($);const L=k.id??l$.take(),M=S=>{typeof S.id=="number"&&L!==S.id||(k.method==="eth_subscribe"&&typeof S.result=="string"&&y.set(S.result,{onResponse:M,onError:R,body:k}),k.method==="eth_unsubscribe"&&y.delete(k.params?.[0]),T(S))};g.set(L,{onResponse:M,onError:R});try{_.request({body:{jsonrpc:"2.0",id:L,...k}})}catch(S){R?.(S)}},requestAsync({body:k,timeout:R=1e4}){return c$(()=>new Promise((T,L)=>this.request({body:k,onError:L,onResponse:T})),{errorInstance:new U6({body:k,url:i}),timeout:R})},requests:g,subscriptions:y,url:i},u$.set(l,u),[u]}}),[h,[p]]=await d();return p}async function _8(e,t={}){const{keepAlive:n,reconnect:r}=t;return q3e({async getSocket({onClose:s,onError:i,onOpen:o,onResponse:a}){const c=await Promise.resolve().then(function(){return nFe}).then(h=>h.WebSocket),l=new c(e);function u(){l.removeEventListener("close",u),l.removeEventListener("message",f),l.removeEventListener("error",i),l.removeEventListener("open",o),s()}function f({data:h}){if(!(typeof h=="string"&&h.trim().length===0))try{const p=JSON.parse(h);a(p)}catch(p){i(p)}}l.addEventListener("close",u),l.addEventListener("message",f),l.addEventListener("error",i),l.addEventListener("open",o),l.readyState===c.CONNECTING&&await new Promise((h,p)=>{l&&(l.onopen=h,l.onerror=p)});const{close:d}=l;return Object.assign(l,{close(){d.bind(l)(),u()},ping(){try{if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new c7({url:l.url,cause:new c2({url:l.url})});const h={jsonrpc:"2.0",id:null,method:"net_version",params:[]};l.send(JSON.stringify(h))}catch(h){i(h)}},request({body:h}){if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new c7({body:h,url:l.url,cause:new c2({url:l.url})});return l.send(JSON.stringify(h))}})},keepAlive:n,reconnect:r,url:e})}async function Z3e(e){const t=await _8(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}const kF=`Ethereum Signed Message:
`;function RF(e){const t=typeof e=="string"?Wu(e):typeof e.raw=="string"?e.raw:Nt(e.raw),n=Wu(`${kF}${Ft(t)}`);return Gr([n,t])}function O8(e,t){return Jt(RF(e),t)}class DF extends re{constructor({domain:t}){super(`Invalid domain "${Kt(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class MF extends re{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class UF extends re{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function LF(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(c,l)=>{const u={...l};for(const f of c){const{name:d,type:h}=f;h==="address"&&(u[d]=u[d].toLowerCase())}return u},o=s.EIP712Domain?t?i(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return Kt({domain:o,message:a,primaryType:r,types:s})}function d$(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,a)=>{for(const c of o){const{name:l,type:u}=c,f=a[l],d=u.match(Vx);if(d&&(typeof f=="number"||typeof f=="bigint")){const[g,y,$]=d;se(f,{signed:y==="int",size:Number.parseInt($,10)/8})}if(u==="address"&&typeof f=="string"&&!Vt(f))throw new $n({address:f});const h=u.match(CU);if(h){const[g,y]=h;if(y&&Ft(f)!==Number.parseInt(y,10))throw new Rx({expectedSize:Number.parseInt(y,10),givenSize:Ft(f)})}const p=s[u];p&&(K3e(u),i(p,f))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new DF({domain:t});i(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new MF({primaryType:r,types:s})}function P8({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function W3e({domain:e}){return h$({domain:e,types:{EIP712Domain:P8({domain:e})}})}function K3e(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new UF({type:e})}function f$(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:P8({domain:t}),...e.types};d$({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(h$({domain:t,types:s})),r!=="EIP712Domain"&&i.push(p$({data:n,primaryType:r,types:s})),Jt(Gr(i))}function h$({domain:e,types:t}){return p$({data:e,primaryType:"EIP712Domain",types:t})}function p$({data:e,primaryType:t,types:n}){const r=FF({data:e,primaryType:t,types:n});return Jt(r)}function FF({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[G3e({primaryType:t,types:n})];for(const i of n[t]){const[o,a]=zF({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(a)}return ya(r,s)}function G3e({primaryType:e,types:t}){const n=jt(Y3e({primaryType:e,types:t}));return Jt(n)}function Y3e({primaryType:e,types:t}){let n="";const r=jF({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function jF({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])jF({primaryType:i.type,types:t},n);return n}function zF({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Jt(FF({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Jt(r)];if(n==="string")return[{type:"bytes32"},Jt(jt(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>zF({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},Jt(ya(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}const HF="0x6492649264926492649264926492649264926492649264926492649264926492",X3e="0x0000000000000000000000000000000000000000000000000000000000000000";function VF(e){return Qh(e,-32)===HF}class J3e extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const g$={checksum:new J3e(8192)}.checksum;function T8(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=lh(h4e(e));return n==="Bytes"?r:mi(r)}function qF(e,t={}){const{compressed:n}=t,{prefix:r,x:s,y:i}=e;if(n===!1||typeof s=="bigint"&&typeof i=="bigint"){if(r!==4)throw new WF({prefix:r,cause:new s5e});return}if(n===!0||typeof s=="bigint"&&typeof i>"u"){if(r!==3&&r!==2)throw new WF({prefix:r,cause:new r5e});return}throw new n5e({publicKey:e})}function Q3e(e){const t=(()=>{if(BL(e))return ZF(e);if(x4e(e))return e5e(e);const{prefix:n,x:r,y:s}=e;return typeof r=="bigint"&&typeof s=="bigint"?{prefix:n??4,x:r,y:s}:{prefix:n,x:r}})();return qF(t),t}function e5e(e){return ZF(mi(e))}function ZF(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new i5e({publicKey:e});if(e.length===130){const r=BigInt(nr(e,0,32)),s=BigInt(nr(e,32,64));return{prefix:4,x:r,y:s}}if(e.length===132){const r=Number(nr(e,0,1)),s=BigInt(nr(e,1,33)),i=BigInt(nr(e,33,65));return{prefix:r,x:s,y:i}}const t=Number(nr(e,0,1)),n=BigInt(nr(e,1,33));return{prefix:t,x:n}}function t5e(e,t={}){qF(e);const{prefix:n,x:r,y:s}=e,{includePrefix:i=!0}=t;return Ps(i?Gt(n,{size:1}):"0x",Gt(r,{size:32}),typeof s=="bigint"?Gt(s,{size:32}):"0x")}class n5e extends He{constructor({publicKey:t}){super(`Value \`${u8(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class WF extends He{constructor({prefix:t,cause:n}){super(`Prefix "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class r5e extends He{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class s5e extends He{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class i5e extends He{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Jr(N7(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}const o5e=/^0x[a-fA-F0-9]{40}$/;function $2(e,t={}){const{strict:n=!0}=t;if(!o5e.test(e))throw new KF({address:e,cause:new l5e});if(n){if(e.toLowerCase()===e)return;if(m$(e)!==e)throw new KF({address:e,cause:new u5e})}}function m$(e){if(g$.has(e))return g$.get(e);$2(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=T8(g4e(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return g$.set(e,s),s}function a5e(e,t={}){const{checksum:n=!1}=t;return $2(e),n?m$(e):e}function c5e(e,t={}){const n=T8(`0x${t5e(e).slice(4)}`).substring(26);return a5e(`0x${n}`,t)}function y$(e,t={}){const{strict:n=!0}=t??{};try{return $2(e,{strict:n}),!0}catch{return!1}}class KF extends He{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class l5e extends He{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class u5e extends He{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const d5e=/^(.*)\[([0-9]*)\]$/,f5e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,GF=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,YF=2n**256n-1n;function N1(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=E$(t.type);if(i){const[o,a]=i;return p5e(e,{...t,type:a},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return b5e(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return h5e(e,{checksum:r});if(t.type==="bool")return g5e(e);if(t.type.startsWith("bytes"))return m5e(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return y5e(e,t);if(t.type==="string")return w5e(e,{staticPosition:s});throw new $$(t.type)}const XF=32,b$=32;function h5e(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(i=>n?m$(i):i)(mi(y4e(r,-20))),32]}function p5e(e,t,n){const{checksumAddress:r,length:s,staticPosition:i}=n;if(!s){const c=Il(e.readBytes(b$)),l=i+c,u=l+XF;e.setPosition(l);const f=Il(e.readBytes(XF)),d=A2(t);let h=0;const p=[];for(let g=0;g<f;++g){e.setPosition(u+(d?g*32:h));const[y,$]=N1(e,t,{checksumAddress:r,staticPosition:u});h+=$,p.push(y)}return e.setPosition(i+32),[p,32]}if(A2(t)){const c=Il(e.readBytes(b$)),l=i+c,u=[];for(let f=0;f<s;++f){e.setPosition(l+f*32);const[d]=N1(e,t,{checksumAddress:r,staticPosition:l});u.push(d)}return e.setPosition(i+32),[u,32]}let o=0;const a=[];for(let c=0;c<s;++c){const[l,u]=N1(e,t,{checksumAddress:r,staticPosition:i+o});o+=u,a.push(l)}return[a,o]}function g5e(e){return[w4e(e.readBytes(32),{size:32}),32]}function m5e(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=Il(e.readBytes(32));e.setPosition(n+o);const a=Il(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[mi(c),32]}return[mi(e.readBytes(Number.parseInt(s,10),32)),32]}function y5e(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?b4e(s,{signed:n}):Il(s,{signed:n}),32]}function b5e(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=t.components.length===0||t.components.some(({name:c})=>!c),o=i?[]:{};let a=0;if(A2(t)){const c=Il(e.readBytes(b$)),l=s+c;for(let u=0;u<t.components.length;++u){const f=t.components[u];e.setPosition(l+a);const[d,h]=N1(e,f,{checksumAddress:r,staticPosition:l});a+=h,o[i?u:f?.name]=d}return e.setPosition(s+32),[o,32]}for(let c=0;c<t.components.length;++c){const l=t.components[c],[u,f]=N1(e,l,{checksumAddress:r,staticPosition:s});o[i?c:l?.name]=u,a+=f}return[o,a]}function w5e(e,{staticPosition:t}){const n=Il(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Il(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=v4e(IL(i));return e.setPosition(t+32),[o,32]}function v5e({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(w$({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function w$({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=E$(r.type);if(s){const[i,o]=s;return x5e(n,{checksumAddress:e,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return I5e(n,{checksumAddress:e,parameter:r});if(r.type==="address")return E5e(n,{checksum:e});if(r.type==="bool")return A5e(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=GF.exec(r.type)??[];return C5e(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return $5e(n,{type:r.type});if(r.type==="string")return S5e(n);throw new $$(r.type)}function v$(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=Jr(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(Gt(t+s,{size:32})),r.push(a),s+=Jr(a)):n.push(a)}return Ps(...n,...r)}function E5e(e,t){const{checksum:n=!1}=t;return $2(e,{strict:n}),{dynamic:!1,encoded:G0(e.toLowerCase())}}function x5e(e,t){const{checksumAddress:n,length:r,parameter:s}=t,i=r===null;if(!Array.isArray(e))throw new R5e(e);if(!i&&e.length!==r)throw new k5e({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const l=w$({checksumAddress:n,parameter:s,value:e[c]});l.dynamic&&(o=!0),a.push(l)}if(i||o){const c=v$(a);if(i){const l=Gt(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ps(l,c):l}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Ps(...a.map(({encoded:c})=>c))}}function $5e(e,{type:t}){const[,n]=t.split("bytes"),r=Jr(e);if(!n){let s=e;return r%32!==0&&(s=Y0(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Ps(G0(Gt(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new tj({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Y0(e)}}function A5e(e){if(typeof e!="boolean")throw new He(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:G0(OL(e))}}function C5e(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new kL({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Gt(e,{size:32,signed:t})}}function S5e(e){const t=B7(e),n=Math.ceil(Jr(t)/32),r=[];for(let s=0;s<n;s++)r.push(Y0(nr(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Ps(Y0(Gt(Jr(t),{size:32})),...r)}}function I5e(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(e)?o:a.name,l=w$({checksumAddress:n,parameter:a,value:e[c]});i.push(l),l.dynamic&&(s=!0)}return{dynamic:s,encoded:s?v$(i):Ps(...i.map(({encoded:o})=>o))}}function E$(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function A2(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(A2);const n=E$(e.type);return!!(n&&A2({...e,type:n[1]}))}const _5e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new P5e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new O5e({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new QF({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new QF({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function JF(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(_5e);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class QF extends He{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class O5e extends He{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class P5e extends He{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function T5e(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,i=typeof t=="string"?T7(t):t,o=JF(i);if(xa(i)===0&&e.length>0)throw new B5e;if(xa(i)&&xa(i)<32)throw new N5e({data:typeof t=="string"?t:mi(t),parameters:e,size:xa(i)});let a=0;const c=r==="Array"?[]:{};for(let l=0;l<e.length;++l){const u=e[l];o.setPosition(a);const[f,d]=N1(o,u,{checksumAddress:s,staticPosition:0});a+=d,r==="Array"?c.push(f):c[u.name??l]=f}return c}function N8(e,t,n){const{checksumAddress:r=!1}=n??{};if(e.length!==t.length)throw new nj({expectedLength:e.length,givenLength:t.length});const s=v5e({checksumAddress:r,parameters:e,values:t}),i=v$(s);return i.length===0?"0x":i}function x$(e,t){if(e.length!==t.length)throw new nj({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(x$.encode(s,i))}return Ps(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return $2(c),G0(c.toLowerCase(),s?32:0)}if(n==="string")return B7(r);if(n==="bytes")return r;if(n==="bool")return G0(OL(r),s?32:1);const i=n.match(GF);if(i){const[c,l,u="256"]=i,f=Number.parseInt(u,10)/8;return Gt(r,{size:s?32:f,signed:l==="int"})}const o=n.match(f5e);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new tj({expectedSize:Number.parseInt(l,10),value:r});return Y0(r,s?32:0)}const a=n.match(d5e);if(a&&Array.isArray(r)){const[c,l]=a,u=[];for(let f=0;f<r.length;f++)u.push(t(l,r[f],!0));return u.length===0?"0x":Ps(...u)}throw new $$(n)}e.encode=t})(x$||(x$={}));function ej(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Sx(e):e}class N5e extends He{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Wh(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class B5e extends He{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class k5e extends He{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class tj extends He{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Jr(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class nj extends He{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class R5e extends He{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class $$ extends He{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function D5e(e,t){const{as:n}=t,r=rj(e),s=JF(new Uint8Array(r.length));return r.encode(s),n==="Hex"?mi(s.bytes):s.bytes}function M5e(e,t={}){const{as:n="Hex"}=t;return D5e(e,{as:n})}function rj(e){return Array.isArray(e)?U5e(e.map(t=>rj(t))):L5e(e)}function U5e(e){const t=e.reduce((s,i)=>s+i.length,0),n=sj(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function L5e(e){const t=typeof e=="string"?T7(e):e,n=sj(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function sj(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new He("Length is too large.")}const Ts=BigInt(0),Qr=BigInt(1),Q0=BigInt(2),F5e=BigInt(3),ij=BigInt(4),oj=BigInt(5),aj=BigInt(8);function Ns(e,t){const n=e%t;return n>=Ts?n:t+n}function Vi(e,t,n){let r=e;for(;t-- >Ts;)r*=r,r%=n;return r}function A$(e,t){if(e===Ts)throw new Error("invert: expected non-zero number");if(t<=Ts)throw new Error("invert: expected positive modulus, got "+t);let n=Ns(e,t),r=t,s=Ts,i=Qr;for(;n!==Ts;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==Qr)throw new Error("invert: does not exist");return Ns(s,t)}function cj(e,t){const n=(e.ORDER+Qr)/ij,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function j5e(e,t){const n=(e.ORDER-oj)/aj,r=e.mul(t,Q0),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,Q0),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function z5e(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Qr,n=0;for(;t%Q0===Ts;)t/=Q0,n++;let r=Q0;const s=C$(e);for(;uj(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return cj;let i=s.pow(r,t);const o=(t+Qr)/Q0;return function(c,l){if(c.is0(l))return l;if(uj(c,l)!==1)throw new Error("Cannot find square root");let u=n,f=c.mul(c.ONE,i),d=c.pow(l,t),h=c.pow(l,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let p=1,g=c.sqr(d);for(;!c.eql(g,c.ONE);)if(p++,g=c.sqr(g),p===u)throw new Error("Cannot find square root");const y=Qr<<BigInt(u-p-1),$=c.pow(f,y);u=p,f=c.sqr($),d=c.mul(d,f),h=c.mul(h,$)}return h}}function H5e(e){return e%ij===F5e?cj:e%aj===oj?j5e:z5e(e)}const V5e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function q5e(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=V5e.reduce((r,s)=>(r[s]="function",r),t);return c8(e,n)}function Z5e(e,t,n){if(n<Ts)throw new Error("invalid exponent, negatives unsupported");if(n===Ts)return e.ONE;if(n===Qr)return t;let r=e.ONE,s=t;for(;n>Ts;)n&Qr&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Qr;return r}function lj(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function uj(e,t){const n=(e.ORDER-Qr)/Q0,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function dj(e,t){t!==void 0&&Xo(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function C$(e,t,n=!1,r={}){if(e<=Ts)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=dj(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:a8(s),ZERO:Ts,ONE:Qr,create:c=>Ns(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ts<=c&&c<e},is0:c=>c===Ts,isOdd:c=>(c&Qr)===Qr,neg:c=>Ns(-c,e),eql:(c,l)=>c===l,sqr:c=>Ns(c*c,e),add:(c,l)=>Ns(c+l,e),sub:(c,l)=>Ns(c-l,e),mul:(c,l)=>Ns(c*l,e),pow:(c,l)=>Z5e(a,c,l),div:(c,l)=>Ns(c*A$(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>A$(c,e),sqrt:r.sqrt||(c=>(o||(o=H5e(e)),o(a,c))),toBytes:c=>n?vL(c,i):h2(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?wL(c):K0(c)},invertBatch:c=>lj(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function fj(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function hj(e){const t=fj(e);return t+Math.ceil(t/2)}function W5e(e,t,n=!1){const r=e.length,s=fj(t),i=hj(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?wL(e):K0(e),a=Ns(o,t-Qr)+Qr;return n?vL(a,s):h2(a,s)}const pj=BigInt(0),S$=BigInt(1);function I$(e,t){const n=t.negate();return e?n:t}function gj(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function _$(e,t){gj(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=a8(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function mj(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=S$);const l=t*r,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function K5e(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function G5e(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const O$=new WeakMap,yj=new WeakMap;function P$(e){return yj.get(e)||1}function Y5e(e,t){return{constTimeNegate:I$,hasPrecomputes(n){return P$(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>pj;)r&S$&&(s=s.add(i)),i=i.double(),r>>=S$;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=_$(r,t),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=e.ZERO,o=e.BASE;const a=_$(n,t);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:p}=mj(s,c,a);s=l,f?o=o.add(I$(h,r[p])):i=i.add(I$(d,r[u]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=e.ZERO){const o=_$(n,t);for(let a=0;a<o.windows&&s!==pj;a++){const{nextN:c,offset:l,isZero:u,isNeg:f}=mj(s,a,o);if(s=c,!u){const d=r[l];i=i.add(f?d.negate():d)}}return i},getPrecomputes(n,r,s){let i=O$.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&O$.set(r,s(i))),i},wNAFCached(n,r,s){const i=P$(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=P$(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){gj(r,t),yj.set(n,r),O$.delete(n)}}}function X5e(e,t,n,r){K5e(n,e),G5e(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=J8e(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=a8(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],$=Number(y>>BigInt(h)&l);u[$]=u[$].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(d=d.add(p),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function bj(e){return q5e(e.Fp),c8(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dj(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function wj(e){e.lowS!==void 0&&d2("lowS",e.lowS),e.prehash!==void 0&&d2("prehash",e.prehash)}function J5e(e){const t=bj(e);c8(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Q5e extends Error{constructor(t=""){super(t)}}const Ol={Err:Q5e,_tlv:{encode:(e,t)=>{const{Err:n}=Ol;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=s8(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?s8(s.length/2|128):"";return s8(e)+i+s+t},decode(e,t){const{Err:n}=Ol;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Ol;if(e<Pl)throw new t("integer: negative integers are not allowed");let n=s8(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ol;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return K0(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ol,s=zi("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Ol,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}};function T$(e,t){return f2(h2(e,t))}const Pl=BigInt(0),Fn=BigInt(1);BigInt(2);const N$=BigInt(3),eve=BigInt(4);function tve(e){const t=J5e(e),{Fp:n}=t,r=C$(t.n,t.nBitLength),s=t.toBytes||((x,E,P)=>{const N=E.toAffine();return o8(Uint8Array.from([4]),n.toBytes(N.x),n.toBytes(N.y))}),i=t.fromBytes||(x=>{const E=x.subarray(1),P=n.fromBytes(E.subarray(0,n.BYTES)),N=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:P,y:N}});function o(x){const{a:E,b:P}=t,N=n.sqr(x),k=n.mul(N,x);return n.add(n.add(k,n.mul(x,E)),P)}function a(x,E){const P=n.sqr(E),N=o(x);return n.eql(P,N)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,N$),eve),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(x){return O7(x,Fn,t.n)}function f(x){const{allowedPrivateKeyLengths:E,nByteLength:P,wrapPrivateKey:N,n:k}=t;if(E&&typeof x!="bigint"){if(u2(x)&&(x=f2(x)),typeof x!="string"||!E.includes(x.length))throw new Error("invalid private key");x=x.padStart(P*2,"0")}let R;try{R=typeof x=="bigint"?x:K0(zi("private key",x,P))}catch{throw new Error("invalid private key, expected hex or "+P+" bytes, got "+typeof x)}return N&&(R=Ns(R,k)),C1("private key",R,Fn,k),R}function d(x){if(!(x instanceof g))throw new Error("ProjectivePoint expected")}const h=xL((x,E)=>{const{px:P,py:N,pz:k}=x;if(n.eql(k,n.ONE))return{x:P,y:N};const R=x.is0();E==null&&(E=R?n.ONE:n.inv(k));const T=n.mul(P,E),L=n.mul(N,E),M=n.mul(k,E);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:T,y:L}}),p=xL(x=>{if(x.is0()){if(t.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:E,y:P}=x.toAffine();if(!n.isValid(E)||!n.isValid(P))throw new Error("bad point: x or y not FE");if(!a(E,P))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(E,P,N){if(E==null||!n.isValid(E))throw new Error("x required");if(P==null||!n.isValid(P)||n.is0(P))throw new Error("y required");if(N==null||!n.isValid(N))throw new Error("z required");this.px=E,this.py=P,this.pz=N,Object.freeze(this)}static fromAffine(E){const{x:P,y:N}=E||{};if(!E||!n.isValid(P)||!n.isValid(N))throw new Error("invalid affine point");if(E instanceof g)throw new Error("projective point not allowed");const k=R=>n.eql(R,n.ZERO);return k(P)&&k(N)?g.ZERO:new g(P,N,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const P=lj(n,E.map(N=>N.pz));return E.map((N,k)=>N.toAffine(P[k])).map(g.fromAffine)}static fromHex(E){const P=g.fromAffine(i(zi("pointHex",E)));return P.assertValidity(),P}static fromPrivateKey(E){return g.BASE.multiply(f(E))}static msm(E,P){return X5e(g,r,E,P)}_setWindowSize(E){_.setWindowSize(this,E)}assertValidity(){p(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){d(E);const{px:P,py:N,pz:k}=this,{px:R,py:T,pz:L}=E,M=n.eql(n.mul(P,L),n.mul(R,k)),S=n.eql(n.mul(N,L),n.mul(T,k));return M&&S}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:P}=t,N=n.mul(P,N$),{px:k,py:R,pz:T}=this;let L=n.ZERO,M=n.ZERO,S=n.ZERO,w=n.mul(k,k),v=n.mul(R,R),m=n.mul(T,T),b=n.mul(k,R);return b=n.add(b,b),S=n.mul(k,T),S=n.add(S,S),L=n.mul(E,S),M=n.mul(N,m),M=n.add(L,M),L=n.sub(v,M),M=n.add(v,M),M=n.mul(L,M),L=n.mul(b,L),S=n.mul(N,S),m=n.mul(E,m),b=n.sub(w,m),b=n.mul(E,b),b=n.add(b,S),S=n.add(w,w),w=n.add(S,w),w=n.add(w,m),w=n.mul(w,b),M=n.add(M,w),m=n.mul(R,T),m=n.add(m,m),w=n.mul(m,b),L=n.sub(L,w),S=n.mul(m,v),S=n.add(S,S),S=n.add(S,S),new g(L,M,S)}add(E){d(E);const{px:P,py:N,pz:k}=this,{px:R,py:T,pz:L}=E;let M=n.ZERO,S=n.ZERO,w=n.ZERO;const v=t.a,m=n.mul(t.b,N$);let b=n.mul(P,R),A=n.mul(N,T),I=n.mul(k,L),C=n.add(P,N),O=n.add(R,T);C=n.mul(C,O),O=n.add(b,A),C=n.sub(C,O),O=n.add(P,k);let B=n.add(R,L);return O=n.mul(O,B),B=n.add(b,I),O=n.sub(O,B),B=n.add(N,k),M=n.add(T,L),B=n.mul(B,M),M=n.add(A,I),B=n.sub(B,M),w=n.mul(v,O),M=n.mul(m,I),w=n.add(M,w),M=n.sub(A,w),w=n.add(A,w),S=n.mul(M,w),A=n.add(b,b),A=n.add(A,b),I=n.mul(v,I),O=n.mul(m,O),A=n.add(A,I),I=n.sub(b,I),I=n.mul(v,I),O=n.add(O,I),b=n.mul(A,O),S=n.add(S,b),b=n.mul(B,O),M=n.mul(C,M),M=n.sub(M,b),b=n.mul(C,A),w=n.mul(B,w),w=n.add(w,b),new g(M,S,w)}subtract(E){return this.add(E.negate())}is0(){return this.equals(g.ZERO)}wNAF(E){return _.wNAFCached(this,E,g.normalizeZ)}multiplyUnsafe(E){const{endo:P,n:N}=t;C1("scalar",E,Pl,N);const k=g.ZERO;if(E===Pl)return k;if(this.is0()||E===Fn)return this;if(!P||_.hasPrecomputes(this))return _.wNAFCachedUnsafe(this,E,g.normalizeZ);let{k1neg:R,k1:T,k2neg:L,k2:M}=P.splitScalar(E),S=k,w=k,v=this;for(;T>Pl||M>Pl;)T&Fn&&(S=S.add(v)),M&Fn&&(w=w.add(v)),v=v.double(),T>>=Fn,M>>=Fn;return R&&(S=S.negate()),L&&(w=w.negate()),w=new g(n.mul(w.px,P.beta),w.py,w.pz),S.add(w)}multiply(E){const{endo:P,n:N}=t;C1("scalar",E,Fn,N);let k,R;if(P){const{k1neg:T,k1:L,k2neg:M,k2:S}=P.splitScalar(E);let{p:w,f:v}=this.wNAF(L),{p:m,f:b}=this.wNAF(S);w=_.constTimeNegate(T,w),m=_.constTimeNegate(M,m),m=new g(n.mul(m.px,P.beta),m.py,m.pz),k=w.add(m),R=v.add(b)}else{const{p:T,f:L}=this.wNAF(E);k=T,R=L}return g.normalizeZ([k,R])[0]}multiplyAndAddUnsafe(E,P,N){const k=g.BASE,R=(L,M)=>M===Pl||M===Fn||!L.equals(k)?L.multiplyUnsafe(M):L.multiply(M),T=R(this,P).add(R(E,N));return T.is0()?void 0:T}toAffine(E){return h(this,E)}isTorsionFree(){const{h:E,isTorsionFree:P}=t;if(E===Fn)return!0;if(P)return P(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:P}=t;return E===Fn?this:P?P(g,this):this.multiplyUnsafe(t.h)}toRawBytes(E=!0){return d2("isCompressed",E),this.assertValidity(),s(g,this,E)}toHex(E=!0){return d2("isCompressed",E),f2(this.toRawBytes(E))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:$}=t,_=Y5e(g,y?Math.ceil($/2):$);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function nve(e){const t=bj(e);return c8(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function rve(e){const t=nve(e),{Fp:n,n:r,nByteLength:s,nBitLength:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(m){return Ns(m,r)}function l(m){return A$(m,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:h}=tve({...t,toBytes(m,b,A){const I=b.toAffine(),C=n.toBytes(I.x),O=o8;return d2("isCompressed",A),A?O(Uint8Array.from([b.hasEvenY()?2:3]),C):O(Uint8Array.from([4]),C,n.toBytes(I.y))},fromBytes(m){const b=m.length,A=m[0],I=m.subarray(1);if(b===o&&(A===2||A===3)){const C=K0(I);if(!O7(C,Fn,n.ORDER))throw new Error("Point is not on curve");const O=d(C);let B;try{B=n.sqrt(O)}catch(j){const U=j instanceof Error?": "+j.message:"";throw new Error("Point is not on curve"+U)}const D=(B&Fn)===Fn;return(A&1)===1!==D&&(B=n.neg(B)),{x:C,y:B}}else if(b===a&&A===4){const C=n.fromBytes(I.subarray(0,n.BYTES)),O=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:C,y:O}}else{const C=o,O=a;throw new Error("invalid Point, expected length of "+C+", or uncompressed "+O+", got "+b)}}});function p(m){const b=r>>Fn;return m>b}function g(m){return p(m)?c(-m):m}const y=(m,b,A)=>K0(m.slice(b,A));class ${constructor(b,A,I){C1("r",b,Fn,r),C1("s",A,Fn,r),this.r=b,this.s=A,I!=null&&(this.recovery=I),Object.freeze(this)}static fromCompact(b){const A=s;return b=zi("compactSignature",b,A*2),new $(y(b,0,A),y(b,A,2*A))}static fromDER(b){const{r:A,s:I}=Ol.toSig(zi("DER",b));return new $(A,I)}assertValidity(){}addRecoveryBit(b){return new $(this.r,this.s,b)}recoverPublicKey(b){const{r:A,s:I,recovery:C}=this,O=k(zi("msgHash",b));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const B=C===2||C===3?A+t.n:A;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",z=u.fromHex(D+T$(B,n.BYTES)),j=l(B),U=c(-O*j),V=c(I*j),q=u.BASE.multiplyAndAddUnsafe(z,U,V);if(!q)throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return i8(this.toDERHex())}toDERHex(){return Ol.hexFromSig(this)}toCompactRawBytes(){return i8(this.toCompactHex())}toCompactHex(){const b=s;return T$(this.r,b)+T$(this.s,b)}}const _={isValidPrivateKey(m){try{return f(m),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const m=hj(t.n);return W5e(t.randomBytes(m),t.n)},precompute(m=8,b=u.BASE){return b._setWindowSize(m),b.multiply(BigInt(3)),b}};function x(m,b=!0){return u.fromPrivateKey(m).toRawBytes(b)}function E(m){if(typeof m=="bigint")return!1;if(m instanceof u)return!0;const A=zi("key",m).length,I=n.BYTES,C=I+1,O=2*I+1;if(!(t.allowedPrivateKeyLengths||s===C))return A===C||A===O}function P(m,b,A=!0){if(E(m)===!0)throw new Error("first arg must be private key");if(E(b)===!1)throw new Error("second arg must be public key");return u.fromHex(b).multiply(f(m)).toRawBytes(A)}const N=t.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const b=K0(m),A=m.length*8-i;return A>0?b>>BigInt(A):b},k=t.bits2int_modN||function(m){return c(N(m))},R=a8(i);function T(m){return C1("num < 2^"+i,m,Pl,R),h2(m,s)}function L(m,b,A=M){if(["recovered","canonical"].some(Z=>Z in A))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:C}=t;let{lowS:O,prehash:B,extraEntropy:D}=A;O==null&&(O=!0),m=zi("msgHash",m),wj(A),B&&(m=zi("prehashed msgHash",I(m)));const z=k(m),j=f(b),U=[T(j),T(z)];if(D!=null&&D!==!1){const Z=D===!0?C(n.BYTES):D;U.push(zi("extraEntropy",Z))}const V=o8(...U),q=z;function X(Z){const Y=N(Z);if(!h(Y))return;const fe=l(Y),me=u.BASE.multiply(Y).toAffine(),we=c(me.x);if(we===Pl)return;const Re=c(fe*c(q+we*j));if(Re===Pl)return;let We=(me.x===we?0:2)|Number(me.y&Fn),hs=Re;return O&&p(Re)&&(hs=g(Re),We^=1),new $(we,hs,We)}return{seed:V,k2sig:X}}const M={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};function w(m,b,A=M){const{seed:I,k2sig:C}=L(m,b,A),O=t;return Q8e(O.hash.outputLen,O.nByteLength,O.hmac)(I,C)}u.BASE._setWindowSize(8);function v(m,b,A,I=S){const C=m;b=zi("msgHash",b),A=zi("publicKey",A);const{lowS:O,prehash:B,format:D}=I;if(wj(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&D!=="compact"&&D!=="der")throw new Error("format must be compact or der");const z=typeof C=="string"||u2(C),j=!z&&!D&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!z&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let U,V;try{if(j&&(U=new $(C.r,C.s)),z){try{D!=="compact"&&(U=$.fromDER(C))}catch(We){if(!(We instanceof Ol.Err))throw We}!U&&D!=="der"&&(U=$.fromCompact(C))}V=u.fromHex(A)}catch{return!1}if(!U||O&&U.hasHighS())return!1;B&&(b=t.hash(b));const{r:q,s:X}=U,Z=k(b),Y=l(X),fe=c(Z*Y),me=c(q*Y),we=u.BASE.multiplyAndAddUnsafe(V,fe,me)?.toAffine();return we?c(we.x)===q:!1}return{CURVE:t,getPublicKey:x,getSharedSecret:P,sign:w,verify:v,ProjectivePoint:u,Signature:$,utils:_}}function sve(e){return{hash:e,hmac:(t,...n)=>o0(e,t,Qe(...n)),randomBytes:ti}}function ive(e,t){const n=r=>rve({...e,...sve(r)});return{...n(t),create:n}}const vj=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ej=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ove=BigInt(0),ave=BigInt(1),B$=BigInt(2),xj=(e,t)=>(e+t/B$)/t;function cve(e){const t=vj,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=Vi(u,n,t)*u%t,d=Vi(f,n,t)*u%t,h=Vi(d,B$,t)*l%t,p=Vi(h,s,t)*h%t,g=Vi(p,i,t)*p%t,y=Vi(g,a,t)*g%t,$=Vi(y,c,t)*y%t,_=Vi($,a,t)*g%t,x=Vi(_,n,t)*u%t,E=Vi(x,o,t)*p%t,P=Vi(E,r,t)*l%t,N=Vi(P,B$,t);if(!k$.eql(k$.sqr(N),e))throw new Error("Cannot find square root");return N}const k$=C$(vj,void 0,void 0,{sqrt:cve}),lve=ive({a:ove,b:BigInt(7),Fp:k$,n:Ej,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ej,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ave*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=xj(i*e,t),c=xj(-r*e,t);let l=Ns(e-a*n-c*s,t),u=Ns(-a*r-c*i,t);const f=l>o,d=u>o;if(f&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},Zn);function $j(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new D$({signature:e});if(typeof e.s>"u")throw new D$({signature:e});if(n&&typeof e.yParity>"u")throw new D$({signature:e});if(e.r<0n||e.r>YF)throw new gve({value:e.r});if(e.s<0n||e.s>YF)throw new mve({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new M$({value:e.yParity})}function uve(e){return Aj(mi(e))}function Aj(e){if(e.length!==130&&e.length!==132)throw new pve({signature:e});const t=BigInt(nr(e,0,32)),n=BigInt(nr(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return R$(s)}catch{throw new M$({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Cj(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Sj(e)}function Sj(e){const t=typeof e=="string"?Aj(e):e instanceof Uint8Array?uve(e):typeof e.r=="string"?fve(e):e.v?dve(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return $j(t),t}function dve(e){return{r:e.r,s:e.s,yParity:R$(e.v)}}function fve(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=R$(n)),typeof r!="number")throw new M$({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function hve(e){const{r:t,s:n,yParity:r}=e;return[r?"0x01":"0x",t===0n?"0x":PL(Gt(t)),n===0n?"0x":PL(Gt(n))]}function R$(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new yve({value:e})}class pve extends He{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Jr(N7(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class D$ extends He{constructor({signature:t}){super(`Signature \`${u8(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class gve extends He{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class mve extends He{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class M$ extends He{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class yve extends He{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function bve(e,t={}){return typeof e.chainId=="string"?wve(e):{...e,...t.signature}}function wve(e){const{address:t,chainId:n,nonce:r}=e,s=Cj(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}function vve(e){return Eve(e,{presign:!0})}function Eve(e,t={}){const{presign:n}=t;return T8(Ps("0x05",M5e(xve(n?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}function xve(e){const{address:t,chainId:n,nonce:r}=e,s=Cj(e);return[n?Gt(n):"0x",t,r?Gt(r):"0x",...s?hve(s):[]]}function $ve(e){return c5e(Ave(e))}function Ave(e){const{payload:t,signature:n}=e,{r,s,yParity:i}=n,a=new lve.Signature(BigInt(r),BigInt(s)).addRecoveryBit(i).recoverPublicKey(N7(t).substring(2));return Q3e(a)}const Ij="0x8010801080108010801080108010801080108010801080108010801080108010",_j=ej("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function U$(e){if(typeof e=="string"){if(nr(e,-32)!==Ij)throw new Sve(e)}else $j(e.authorization)}function Oj(e){U$(e);const t=NL(nr(e,-64,-32)),n=nr(e,-t-64,-64),r=nr(e,0,-t-64),[s,i,o]=T5e(_j,n);return{authorization:bve({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:i}:{}}}function Cve(e){const{data:t,signature:n}=e;U$(e);const r=$ve({payload:vve(e.authorization),signature:Sj(e.authorization)}),s=N8(_j,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??r,t??"0x"]),i=Gt(Jr(s),{size:32});return Ps(n,s,i,Ij)}function Pj(e){try{return U$(e),!0}catch{return!1}}class Sve extends He{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}function Tj(e){return Pj(e)}function Ive(e){if(!VF(e))return{signature:e};const[t,n,r]=Yu([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:n,signature:r}}function _ve(e){if(!Tj(e))return{signature:e};const{authorization:t,to:n,...r}=Oj(e);return{authorization:{address:t.address,chainId:t.chainId,nonce:Number(t.nonce),r:se(t.r,{size:32}),s:se(t.s,{size:32}),yParity:t.yParity},...n?{address:n}:{},...r}}async function Nj({message:e,signature:t}){return q0({hash:O8(e),signature:t})}async function Bj(e){const{domain:t,message:n,primaryType:r,signature:s,types:i}=e;return q0({hash:f$({domain:t,message:n,primaryType:r,types:i}),signature:s})}function Ove(e){const{address:t,data:n,signature:r,to:s="hex"}=e,i=Ar([ya([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),HF]);return s==="hex"?i:xn(i)}function Pve(e){const{address:t,data:n,signature:r,to:s="hex"}=e,i=Cve({authorization:{address:e.authorization.address,chainId:e.authorization.chainId,nonce:BigInt(e.authorization.nonce),r:BigInt(e.authorization.r),s:BigInt(e.authorization.s),yParity:e.authorization.yParity},data:n,signature:r,to:t});return s==="hex"?i:xn(i)}async function Tve({address:e,hash:t,signature:n}){return va(_o(e),await q0({hash:t,signature:n}))}async function Nve({address:e,message:t,signature:n}){return va(_o(e),await Nj({message:t,signature:n}))}async function Bve(e){const{address:t,domain:n,message:r,primaryType:s,signature:i,types:o}=e;return va(_o(t),await Bj({domain:n,message:r,primaryType:s,signature:i,types:o}))}function kj(e){const t=Qh(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&It(t)>=192)return"legacy";throw new jU({serializedType:t})}function Rj(e){const t=kj(e);return t==="eip1559"?Dve(e):t==="eip2930"?Mve(e):t==="eip4844"?Rve(e):t==="eip7702"?kve(e):Uve(e)}function kve(e){const t=B8(e),[n,r,s,i,o,a,c,l,u,f,d,h,p]=t;if(t.length!==10&&t.length!==13)throw new r1({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:i,gas:o,to:a,value:c,data:l,accessList:u,authorizationList:f,...t.length>9?{v:d,r:h,s:p}:{}},serializedTransaction:e,type:"eip7702"});const g={chainId:It(n),type:"eip7702"};return je(a)&&a!=="0x"&&(g.to=a),je(o)&&o!=="0x"&&(g.gas=ze(o)),je(l)&&l!=="0x"&&(g.data=l),je(r)&&(g.nonce=r==="0x"?0:It(r)),je(c)&&c!=="0x"&&(g.value=ze(c)),je(i)&&i!=="0x"&&(g.maxFeePerGas=ze(i)),je(s)&&s!=="0x"&&(g.maxPriorityFeePerGas=ze(s)),u.length!==0&&u!=="0x"&&(g.accessList=k8(u)),f.length!==0&&f!=="0x"&&(g.authorizationList=Lve(f)),SF(g),{...t.length===13?C2(t):void 0,...g}}function Rve(e){const t=B8(e),n=t.length===4,r=n?t[0]:t,s=n?t.slice(1):[],[i,o,a,c,l,u,f,d,h,p,g,y,$,_]=r,[x,E,P]=s;if(!(r.length===11||r.length===14))throw new r1({attributes:{chainId:i,nonce:o,maxPriorityFeePerGas:a,maxFeePerGas:c,gas:l,to:u,value:f,data:d,accessList:h,...r.length>9?{v:y,r:$,s:_}:{}},serializedTransaction:e,type:"eip4844"});const N={blobVersionedHashes:g,chainId:It(i),to:u,type:"eip4844"};return je(l)&&l!=="0x"&&(N.gas=ze(l)),je(d)&&d!=="0x"&&(N.data=d),je(o)&&(N.nonce=o==="0x"?0:It(o)),je(f)&&f!=="0x"&&(N.value=ze(f)),je(p)&&p!=="0x"&&(N.maxFeePerBlobGas=ze(p)),je(c)&&c!=="0x"&&(N.maxFeePerGas=ze(c)),je(a)&&a!=="0x"&&(N.maxPriorityFeePerGas=ze(a)),h.length!==0&&h!=="0x"&&(N.accessList=k8(h)),x&&E&&P&&(N.sidecars=t8({blobs:x,commitments:E,proofs:P})),IF(N),{...r.length===14?C2(r):void 0,...N}}function Dve(e){const t=B8(e),[n,r,s,i,o,a,c,l,u,f,d,h]=t;if(!(t.length===9||t.length===12))throw new r1({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:i,gas:o,to:a,value:c,data:l,accessList:u,...t.length>9?{v:f,r:d,s:h}:{}},serializedTransaction:e,type:"eip1559"});const p={chainId:It(n),type:"eip1559"};return je(a)&&a!=="0x"&&(p.to=a),je(o)&&o!=="0x"&&(p.gas=ze(o)),je(l)&&l!=="0x"&&(p.data=l),je(r)&&(p.nonce=r==="0x"?0:It(r)),je(c)&&c!=="0x"&&(p.value=ze(c)),je(i)&&i!=="0x"&&(p.maxFeePerGas=ze(i)),je(s)&&s!=="0x"&&(p.maxPriorityFeePerGas=ze(s)),u.length!==0&&u!=="0x"&&(p.accessList=k8(u)),x2(p),{...t.length===12?C2(t):void 0,...p}}function Mve(e){const t=B8(e),[n,r,s,i,o,a,c,l,u,f,d]=t;if(!(t.length===8||t.length===11))throw new r1({attributes:{chainId:n,nonce:r,gasPrice:s,gas:i,to:o,value:a,data:c,accessList:l,...t.length>8?{v:u,r:f,s:d}:{}},serializedTransaction:e,type:"eip2930"});const h={chainId:It(n),type:"eip2930"};return je(o)&&o!=="0x"&&(h.to=o),je(i)&&i!=="0x"&&(h.gas=ze(i)),je(c)&&c!=="0x"&&(h.data=c),je(r)&&(h.nonce=r==="0x"?0:It(r)),je(a)&&a!=="0x"&&(h.value=ze(a)),je(s)&&s!=="0x"&&(h.gasPrice=ze(s)),l.length!==0&&l!=="0x"&&(h.accessList=k8(l)),r$(h),{...t.length===11?C2(t):void 0,...h}}function Uve(e){const t=a$(e,"hex"),[n,r,s,i,o,a,c,l,u]=t;if(!(t.length===6||t.length===9))throw new r1({attributes:{nonce:n,gasPrice:r,gas:s,to:i,value:o,data:a,...t.length>6?{v:c,r:l,s:u}:{}},serializedTransaction:e,type:"legacy"});const f={type:"legacy"};if(je(i)&&i!=="0x"&&(f.to=i),je(s)&&s!=="0x"&&(f.gas=ze(s)),je(a)&&a!=="0x"&&(f.data=a),je(n)&&(f.nonce=n==="0x"?0:It(n)),je(o)&&o!=="0x"&&(f.value=ze(o)),je(r)&&r!=="0x"&&(f.gasPrice=ze(r)),s$(f),t.length===6)return f;const d=je(c)&&c!=="0x"?ze(c):0n;if(u==="0x"&&l==="0x")return d>0&&(f.chainId=Number(d)),f;const h=d,p=Number((h-35n)/2n);if(p>0)f.chainId=p;else if(h!==27n&&h!==28n)throw new r7({v:h});return f.v=h,f.s=u,f.r=l,f.yParity=h%2n===0n?1:0,f}function B8(e){return a$(`0x${e.slice(4)}`,"hex")}function k8(e){const t=[];for(let n=0;n<e.length;n++){const[r,s]=e[n];if(!Vt(r,{strict:!1}))throw new $n({address:r});t.push({address:r,storageKeys:s.map(i=>NF(i)?i:tr(i))})}return t}function Lve(e){const t=[];for(let n=0;n<e.length;n++){const[r,s,i,o,a,c]=e[n];t.push({address:s,chainId:r==="0x"?0:It(r),nonce:i==="0x"?0:It(i),...C2([o,a,c])})}return t}function C2(e){const t=e.slice(-3),n=t[0]==="0x"||ze(t[0])===0n?27n:28n;return{r:Io(t[1],{size:32}),s:Io(t[2],{size:32}),v:n,yParity:n===27n?0:1}}class Dj extends re{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function L$(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new Dj({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[i,o,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function Fve(e,t="wei"){return L$(e,t7[t])}function jve(e,t="wei"){return L$(e,n7[t])}function zve(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Hve(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?It(e.nonce):void 0,storageProof:e.storageProof?zve(e.storageProof):void 0}}async function Vve(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?se(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,o||i]});return Hve(a)}async function qve(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?se(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function F$(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){const o=r||"latest",a=n!==void 0?se(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,se(i)]},{dedupe:!0}):(a||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,se(i)]},{dedupe:!!a})),!c)throw new s7({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:i});return(e.chain?.formatters?.transaction?.format||A1)(c,"getTransaction")}async function Zve(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([$e(e,w2,"getBlockNumber")({}),t?$e(e,F$,"getTransaction")({hash:t}):void 0]),i=n?.blockNumber||s?.blockNumber;return i?r-i+1n:0n}async function R8(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new i7({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||v8)(n,"getTransactionReceipt")}async function Wve(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=t,l=t.contracts,{batchSize:u=t.batchSize??1024,deployless:f=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},d=(()=>{if(t.multicallAddress)return t.multicallAddress;if(f)return null;if(e.chain)return X0({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let p=0,g=0;for(let _=0;_<l.length;_++){const{abi:x,address:E,args:P,functionName:N}=l[_];try{const k=_s({abi:x,args:P,functionName:N});g+=(k.length-2)/2,u>0&&g>u&&h[p].length>0&&(p++,g=(k.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:k,target:E}]}catch(k){const R=nd(k,{abi:x,address:E,args:P,docsPath:"/docs/contract/multicall",functionName:N,sender:n});if(!s)throw R;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:E}]}}const y=await Promise.allSettled(h.map(_=>$e(e,Hi,"readContract")({...d===null?{code:M7}:{address:d},abi:g2,account:n,args:[_],authorizationList:r,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),$=[];for(let _=0;_<y.length;_++){const x=y[_];if(x.status==="rejected"){if(!s)throw x.reason;for(let P=0;P<h[_].length;P++)$.push({status:"failure",error:x.reason,result:void 0});continue}const E=x.value;for(let P=0;P<E.length;P++){const{returnData:N,success:k}=E[P],{callData:R}=h[_][P],{abi:T,address:L,functionName:M,args:S}=l[$.length];try{if(R==="0x")throw new Kh;if(!k)throw new o2({data:N});const w=sd({abi:T,args:S,data:N,functionName:M});$.push(s?{result:w,status:"success"}:w)}catch(w){const v=nd(w,{abi:T,address:L,args:S,docsPath:"/docs/contract/multicall",functionName:M});if(!s)throw v;$.push({error:v,result:void 0,status:"failure"})}}}if($.length!==l.length)throw new re("multicall results mismatch");return $}async function j$(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=t;try{const c=[];for(const d of s){const h=d.blockOverrides?UL(d.blockOverrides):void 0,p=d.calls.map(y=>{const $=y,_=$.account?Qt($.account):void 0,x=$.abi?_s($):$.data,E={...$,data:$.dataSuffix?Gr([x||"0x",$.dataSuffix]):x,from:$.from??_?.address};return Al(E),ba(E)}),g=d.stateOverrides?l7(d.stateOverrides):void 0;c.push({blockOverrides:h,calls:p,stateOverrides:g})}const u=(typeof n=="bigint"?se(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},u]})).map((d,h)=>({...X6(d),calls:d.calls.map((p,g)=>{const{abi:y,args:$,functionName:_,to:x}=s[h].calls[g],E=p.error?.data??p.returnData,P=BigInt(p.gasUsed),N=p.logs?.map(L=>Ea(L)),k=p.status==="0x1"?"success":"failure",R=y&&k==="success"&&E!=="0x"?sd({abi:y,data:E,functionName:_}):null,T=(()=>{if(k==="success")return;let L;if(p.error?.data==="0x"?L=new Kh:p.error&&(L=new o2(p.error)),!!L)return nd(L,{abi:y??[],address:x??"0x",args:$,functionName:_??"<unknown>"})})();return{data:E,gasUsed:P,logs:N,status:k,...k==="success"?{result:R}:{error:T}}})}))}catch(c){const l=c,u=K6(l,{});throw u instanceof E1?l:u}}function z$(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new He("Unable to normalize signature.");return s}function H$(e,t){const n=typeof e,r=t.type;switch(r){case"address":return y$(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>H$(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>H$(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Mj(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Mj(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?y$(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?y$(n[r],{strict:!1}):!1)return o}}function Uj(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Cx(e):e;return{...r,...n?{hash:B1(r)}:{}}}function D8(e,t,n){const{args:r=[],prepare:s=!0}=n??{},i=BL(t,{strict:!1}),o=e.filter(l=>i?l.type==="function"||l.type==="error"?Lj(l)===nr(t,0,4):l.type==="event"?B1(l)===t:!1:"name"in l&&l.name===t);if(o.length===0)throw new M8({name:t});if(o.length===1)return{...o[0],...s?{hash:B1(o[0])}:{}};let a;for(const l of o){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...s?{hash:B1(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((f,d)=>{const h="inputs"in l&&l.inputs[d];return h?H$(f,h):!1})){if(a&&"inputs"in a&&a.inputs){const f=Mj(l.inputs,a.inputs,r);if(f)throw new Gve({abiItem:l,type:f[0]},{abiItem:a,type:f[1]})}a=l}}const c=(()=>{if(a)return a;const[l,...u]=o;return{...l,overloads:u}})();if(!c)throw new M8({name:t});return{...c,...s?{hash:B1(c)}:{}}}function Lj(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return D8(n,r)}return e[0]})();return nr(B1(t),0,4)}function Kve(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return D8(r,s)}return e[0]})(),n=typeof t=="string"?t:_6(t);return z$(n)}function B1(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return D8(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:T8(B7(Kve(t)))}class Gve extends He{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${z$(_6(t.abiItem))}\`, and`,`\`${n.type}\` in \`${z$(_6(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class M8 extends He{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Yve(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,o]=e;return[Jve(i),o]}return e})(),{bytecode:r,args:s}=n;return Ps(r,t.inputs?.length&&s?.length?N8(t.inputs,s):"0x")}function Xve(e){return Uj(e)}function Jve(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new M8({name:"constructor"});return t}function Qve(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[l,u,f]=e;return[Fj(l,u,{args:f}),f]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?Fj([t,...r],t.name,{args:n}):t,i=eEe(s),o=n.length>0?N8(s.inputs,n):void 0;return o?Ps(i,o):i}function k1(e,t={}){return Uj(e,t)}function Fj(e,t,n){const r=D8(e,t,n);if(r.type!=="function")throw new M8({name:t,type:"function"});return r}function eEe(e){return Lj(e)}const jj="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Po="0x0000000000000000000000000000000000000000",tEe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function nEe(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=t,l=t.account?Qt(t.account):void 0;if(o&&!l)throw new re("`account` is required when `traceAssetChanges` is true");const u=l?Yve(Xve("constructor(bytes, bytes)"),{bytecode:R7,args:[tEe,Qve(k1("function getBalance(address)"),[l.address])]}):void 0,f=o?await Promise.all(t.calls.map(async I=>{if(!I.data&&!I.abi)return;const{accessList:C}=await vF(e,{account:l.address,...I,data:I.abi?_s(I):I.data});return C.map(({address:O,storageKeys:B})=>B.length>0?O:null)})).then(I=>I.flat().filter(Boolean)):[],d=await j$(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:u}],stateOverrides:i},{calls:f.map((I,C)=>({abi:[k1("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:I,from:Po,nonce:C})),stateOverrides:[{address:Po,nonce:0}]}]:[],{calls:[...s,{}].map(I=>({...I,from:l?.address})),stateOverrides:i},...o?[{calls:[{data:u}]},{calls:f.map((I,C)=>({abi:[k1("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:I,from:Po,nonce:C})),stateOverrides:[{address:Po,nonce:0}]},{calls:f.map((I,C)=>({to:I,abi:[k1("function decimals() returns (uint256)")],functionName:"decimals",from:Po,nonce:C})),stateOverrides:[{address:Po,nonce:0}]},{calls:f.map((I,C)=>({to:I,abi:[k1("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Po,nonce:C})),stateOverrides:[{address:Po,nonce:0}]},{calls:f.map((I,C)=>({to:I,abi:[k1("function symbol() returns (string)")],functionName:"symbol",from:Po,nonce:C})),stateOverrides:[{address:Po,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=o?d[2]:d[0],[p,g,,y,$,_,x,E]=o?d:[],{calls:P,...N}=h,k=P.slice(0,-1)??[],R=p?.calls??[],T=g?.calls??[],L=[...R,...T].map(I=>I.status==="success"?ze(I.data):null),M=y?.calls??[],S=$?.calls??[],w=[...M,...S].map(I=>I.status==="success"?ze(I.data):null),v=(_?.calls??[]).map(I=>I.status==="success"?I.result:null),m=(E?.calls??[]).map(I=>I.status==="success"?I.result:null),b=(x?.calls??[]).map(I=>I.status==="success"?I.result:null),A=[];for(const[I,C]of w.entries()){const O=L[I];if(typeof C!="bigint"||typeof O!="bigint")continue;const B=v[I-1],D=m[I-1],z=b[I-1],j=I===0?{address:jj,decimals:18,symbol:"ETH"}:{address:f[I-1],decimals:z||B?Number(B??1):void 0,symbol:D??void 0};A.some(U=>U.token.address===j.address)||A.push({token:j,value:{pre:O,post:C,diff:C-O}})}return{assetChanges:A,block:N,results:k}}const zj="0x6492649264926492649264926492649264926492649264926492649264926492";function rEe(e){if(nr(e,-32)!==zj)throw new oEe(e)}function sEe(e){const{data:t,signature:n,to:r}=e;return Ps(N8(ej("address, bytes, bytes"),[r,t,n]),zj)}function iEe(e){try{return rEe(e),!0}catch{return!1}}class oEe extends He{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const V$=BigInt(0),q$=BigInt(1);function S2(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function od(e){if(!S2(e))throw new Error("Uint8Array expected")}function I2(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function U8(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Hj(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?V$:BigInt("0x"+e)}const Vj=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",aEe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _2(e){if(od(e),Vj)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=aEe[e[n]];return t}const Tl={_0:48,_9:57,A:65,F:70,a:97,f:102};function qj(e){if(e>=Tl._0&&e<=Tl._9)return e-Tl._0;if(e>=Tl.A&&e<=Tl.F)return e-(Tl.A-10);if(e>=Tl.a&&e<=Tl.f)return e-(Tl.a-10)}function L8(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Vj)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=qj(e.charCodeAt(i)),a=qj(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function $a(e){return Hj(_2(e))}function Zj(e){return od(e),Hj(_2(Uint8Array.from(e).reverse()))}function ef(e,t){return L8(e.toString(16).padStart(t*2,"0"))}function Wj(e,t){return ef(e,t).reverse()}function rr(e,t,n){let r;if(typeof t=="string")try{r=L8(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(S2(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function qi(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];od(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}function Z$(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const W$=e=>typeof e=="bigint"&&V$<=e;function O2(e,t,n){return W$(e)&&W$(t)&&W$(n)&&t<=e&&e<n}function tf(e,t,n,r){if(!O2(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function cEe(e){let t;for(t=0;e>V$;e>>=q$,t+=1);return t}const F8=e=>(q$<<BigInt(e))-q$,K$=e=>new Uint8Array(e),Kj=e=>Uint8Array.from(e);function lEe(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=K$(e),s=K$(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...f)=>n(s,r,...f),c=(f=K$(0))=>{s=a(Kj([0]),f),r=a(),f.length!==0&&(s=a(Kj([1]),f),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){r=a();const h=r.slice();d.push(h),f+=r.length}return qi(...d)};return(f,d)=>{o(),c(f);let h;for(;!(h=d(l()));)c();return o(),h}}const uEe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||S2(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function P2(e,t,n={}){const r=(s,i,o)=>{const a=uEe[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function Gj(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const Bs=BigInt(0),es=BigInt(1),nf=BigInt(2),dEe=BigInt(3),Yj=BigInt(4),Xj=BigInt(5),Jj=BigInt(8);function jn(e,t){const n=e%t;return n>=Bs?n:t+n}function Zi(e,t,n){let r=e;for(;t-- >Bs;)r*=r,r%=n;return r}function G$(e,t){if(e===Bs)throw new Error("invert: expected non-zero number");if(t<=Bs)throw new Error("invert: expected positive modulus, got "+t);let n=jn(e,t),r=t,s=Bs,i=es;for(;n!==Bs;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==es)throw new Error("invert: does not exist");return jn(s,t)}function Qj(e,t){const n=(e.ORDER+es)/Yj,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function fEe(e,t){const n=(e.ORDER-Xj)/Jj,r=e.mul(t,nf),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,nf),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function hEe(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-es,n=0;for(;t%nf===Bs;)t/=nf,n++;let r=nf;const s=Y$(e);for(;tz(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Qj;let i=s.pow(r,t);const o=(t+es)/nf;return function(c,l){if(c.is0(l))return l;if(tz(c,l)!==1)throw new Error("Cannot find square root");let u=n,f=c.mul(c.ONE,i),d=c.pow(l,t),h=c.pow(l,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let p=1,g=c.sqr(d);for(;!c.eql(g,c.ONE);)if(p++,g=c.sqr(g),p===u)throw new Error("Cannot find square root");const y=es<<BigInt(u-p-1),$=c.pow(f,y);u=p,f=c.sqr($),d=c.mul(d,f),h=c.mul(h,$)}return h}}function pEe(e){return e%Yj===dEe?Qj:e%Jj===Xj?fEe:hEe(e)}const gEe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ez(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=gEe.reduce((r,s)=>(r[s]="function",r),t);return P2(e,n)}function mEe(e,t,n){if(n<Bs)throw new Error("invalid exponent, negatives unsupported");if(n===Bs)return e.ONE;if(n===es)return t;let r=e.ONE,s=t;for(;n>Bs;)n&es&&(r=e.mul(r,s)),s=e.sqr(s),n>>=es;return r}function j8(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function tz(e,t){const n=(e.ORDER-es)/nf,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function nz(e,t){t!==void 0&&Xo(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Y$(e,t,n=!1,r={}){if(e<=Bs)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=nz(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:F8(s),ZERO:Bs,ONE:es,create:c=>jn(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Bs<=c&&c<e},is0:c=>c===Bs,isOdd:c=>(c&es)===es,neg:c=>jn(-c,e),eql:(c,l)=>c===l,sqr:c=>jn(c*c,e),add:(c,l)=>jn(c+l,e),sub:(c,l)=>jn(c-l,e),mul:(c,l)=>jn(c*l,e),pow:(c,l)=>mEe(a,c,l),div:(c,l)=>jn(c*G$(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>G$(c,e),sqrt:r.sqrt||(c=>(o||(o=pEe(e)),o(a,c))),toBytes:c=>n?Wj(c,i):ef(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?Zj(c):$a(c)},invertBatch:c=>j8(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function rz(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function sz(e){const t=rz(e);return t+Math.ceil(t/2)}function yEe(e,t,n=!1){const r=e.length,s=rz(t),i=sz(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Zj(e):$a(e),a=jn(o,t-es)+es;return n?Wj(a,s):ef(a,s)}const iz=BigInt(0),X$=BigInt(1);function J$(e,t){const n=t.negate();return e?n:t}function oz(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Q$(e,t){oz(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=F8(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function az(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=X$);const l=t*r,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function bEe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function wEe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const eA=new WeakMap,cz=new WeakMap;function tA(e){return cz.get(e)||1}function vEe(e,t){return{constTimeNegate:J$,hasPrecomputes(n){return tA(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>iz;)r&X$&&(s=s.add(i)),i=i.double(),r>>=X$;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Q$(r,t),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=e.ZERO,o=e.BASE;const a=Q$(n,t);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:p}=az(s,c,a);s=l,f?o=o.add(J$(h,r[p])):i=i.add(J$(d,r[u]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=e.ZERO){const o=Q$(n,t);for(let a=0;a<o.windows&&s!==iz;a++){const{nextN:c,offset:l,isZero:u,isNeg:f}=az(s,a,o);if(s=c,!u){const d=r[l];i=i.add(f?d.negate():d)}}return i},getPrecomputes(n,r,s){let i=eA.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&eA.set(r,s(i))),i},wNAFCached(n,r,s){const i=tA(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=tA(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){oz(r,t),cz.set(n,r),eA.delete(n)}}}function EEe(e,t,n,r){bEe(n,e),wEe(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=cEe(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=F8(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],$=Number(y>>BigInt(h)&l);u[$]=u[$].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(d=d.add(p),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function lz(e){return ez(e.Fp),P2(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nz(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function uz(e){e.lowS!==void 0&&I2("lowS",e.lowS),e.prehash!==void 0&&I2("prehash",e.prehash)}function xEe(e){const t=lz(e);P2(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class $Ee extends Error{constructor(t=""){super(t)}}const Nl={Err:$Ee,_tlv:{encode:(e,t)=>{const{Err:n}=Nl;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=U8(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?U8(s.length/2|128):"";return U8(e)+i+s+t},decode(e,t){const{Err:n}=Nl;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Nl;if(e<To)throw new t("integer: negative integers are not allowed");let n=U8(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Nl;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return $a(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Nl,s=rr("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Nl,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}};function nA(e,t){return _2(ef(e,t))}const To=BigInt(0),_t=BigInt(1),ad=BigInt(2),T2=BigInt(3),rA=BigInt(4);function AEe(e){const t=xEe(e),{Fp:n}=t,r=Y$(t.n,t.nBitLength),s=t.toBytes||((x,E,P)=>{const N=E.toAffine();return qi(Uint8Array.from([4]),n.toBytes(N.x),n.toBytes(N.y))}),i=t.fromBytes||(x=>{const E=x.subarray(1),P=n.fromBytes(E.subarray(0,n.BYTES)),N=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:P,y:N}});function o(x){const{a:E,b:P}=t,N=n.sqr(x),k=n.mul(N,x);return n.add(n.add(k,n.mul(x,E)),P)}function a(x,E){const P=n.sqr(E),N=o(x);return n.eql(P,N)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,T2),rA),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(x){return O2(x,_t,t.n)}function f(x){const{allowedPrivateKeyLengths:E,nByteLength:P,wrapPrivateKey:N,n:k}=t;if(E&&typeof x!="bigint"){if(S2(x)&&(x=_2(x)),typeof x!="string"||!E.includes(x.length))throw new Error("invalid private key");x=x.padStart(P*2,"0")}let R;try{R=typeof x=="bigint"?x:$a(rr("private key",x,P))}catch{throw new Error("invalid private key, expected hex or "+P+" bytes, got "+typeof x)}return N&&(R=jn(R,k)),tf("private key",R,_t,k),R}function d(x){if(!(x instanceof g))throw new Error("ProjectivePoint expected")}const h=Gj((x,E)=>{const{px:P,py:N,pz:k}=x;if(n.eql(k,n.ONE))return{x:P,y:N};const R=x.is0();E==null&&(E=R?n.ONE:n.inv(k));const T=n.mul(P,E),L=n.mul(N,E),M=n.mul(k,E);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:T,y:L}}),p=Gj(x=>{if(x.is0()){if(t.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:E,y:P}=x.toAffine();if(!n.isValid(E)||!n.isValid(P))throw new Error("bad point: x or y not FE");if(!a(E,P))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(E,P,N){if(E==null||!n.isValid(E))throw new Error("x required");if(P==null||!n.isValid(P)||n.is0(P))throw new Error("y required");if(N==null||!n.isValid(N))throw new Error("z required");this.px=E,this.py=P,this.pz=N,Object.freeze(this)}static fromAffine(E){const{x:P,y:N}=E||{};if(!E||!n.isValid(P)||!n.isValid(N))throw new Error("invalid affine point");if(E instanceof g)throw new Error("projective point not allowed");const k=R=>n.eql(R,n.ZERO);return k(P)&&k(N)?g.ZERO:new g(P,N,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const P=j8(n,E.map(N=>N.pz));return E.map((N,k)=>N.toAffine(P[k])).map(g.fromAffine)}static fromHex(E){const P=g.fromAffine(i(rr("pointHex",E)));return P.assertValidity(),P}static fromPrivateKey(E){return g.BASE.multiply(f(E))}static msm(E,P){return EEe(g,r,E,P)}_setWindowSize(E){_.setWindowSize(this,E)}assertValidity(){p(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){d(E);const{px:P,py:N,pz:k}=this,{px:R,py:T,pz:L}=E,M=n.eql(n.mul(P,L),n.mul(R,k)),S=n.eql(n.mul(N,L),n.mul(T,k));return M&&S}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:P}=t,N=n.mul(P,T2),{px:k,py:R,pz:T}=this;let L=n.ZERO,M=n.ZERO,S=n.ZERO,w=n.mul(k,k),v=n.mul(R,R),m=n.mul(T,T),b=n.mul(k,R);return b=n.add(b,b),S=n.mul(k,T),S=n.add(S,S),L=n.mul(E,S),M=n.mul(N,m),M=n.add(L,M),L=n.sub(v,M),M=n.add(v,M),M=n.mul(L,M),L=n.mul(b,L),S=n.mul(N,S),m=n.mul(E,m),b=n.sub(w,m),b=n.mul(E,b),b=n.add(b,S),S=n.add(w,w),w=n.add(S,w),w=n.add(w,m),w=n.mul(w,b),M=n.add(M,w),m=n.mul(R,T),m=n.add(m,m),w=n.mul(m,b),L=n.sub(L,w),S=n.mul(m,v),S=n.add(S,S),S=n.add(S,S),new g(L,M,S)}add(E){d(E);const{px:P,py:N,pz:k}=this,{px:R,py:T,pz:L}=E;let M=n.ZERO,S=n.ZERO,w=n.ZERO;const v=t.a,m=n.mul(t.b,T2);let b=n.mul(P,R),A=n.mul(N,T),I=n.mul(k,L),C=n.add(P,N),O=n.add(R,T);C=n.mul(C,O),O=n.add(b,A),C=n.sub(C,O),O=n.add(P,k);let B=n.add(R,L);return O=n.mul(O,B),B=n.add(b,I),O=n.sub(O,B),B=n.add(N,k),M=n.add(T,L),B=n.mul(B,M),M=n.add(A,I),B=n.sub(B,M),w=n.mul(v,O),M=n.mul(m,I),w=n.add(M,w),M=n.sub(A,w),w=n.add(A,w),S=n.mul(M,w),A=n.add(b,b),A=n.add(A,b),I=n.mul(v,I),O=n.mul(m,O),A=n.add(A,I),I=n.sub(b,I),I=n.mul(v,I),O=n.add(O,I),b=n.mul(A,O),S=n.add(S,b),b=n.mul(B,O),M=n.mul(C,M),M=n.sub(M,b),b=n.mul(C,A),w=n.mul(B,w),w=n.add(w,b),new g(M,S,w)}subtract(E){return this.add(E.negate())}is0(){return this.equals(g.ZERO)}wNAF(E){return _.wNAFCached(this,E,g.normalizeZ)}multiplyUnsafe(E){const{endo:P,n:N}=t;tf("scalar",E,To,N);const k=g.ZERO;if(E===To)return k;if(this.is0()||E===_t)return this;if(!P||_.hasPrecomputes(this))return _.wNAFCachedUnsafe(this,E,g.normalizeZ);let{k1neg:R,k1:T,k2neg:L,k2:M}=P.splitScalar(E),S=k,w=k,v=this;for(;T>To||M>To;)T&_t&&(S=S.add(v)),M&_t&&(w=w.add(v)),v=v.double(),T>>=_t,M>>=_t;return R&&(S=S.negate()),L&&(w=w.negate()),w=new g(n.mul(w.px,P.beta),w.py,w.pz),S.add(w)}multiply(E){const{endo:P,n:N}=t;tf("scalar",E,_t,N);let k,R;if(P){const{k1neg:T,k1:L,k2neg:M,k2:S}=P.splitScalar(E);let{p:w,f:v}=this.wNAF(L),{p:m,f:b}=this.wNAF(S);w=_.constTimeNegate(T,w),m=_.constTimeNegate(M,m),m=new g(n.mul(m.px,P.beta),m.py,m.pz),k=w.add(m),R=v.add(b)}else{const{p:T,f:L}=this.wNAF(E);k=T,R=L}return g.normalizeZ([k,R])[0]}multiplyAndAddUnsafe(E,P,N){const k=g.BASE,R=(L,M)=>M===To||M===_t||!L.equals(k)?L.multiplyUnsafe(M):L.multiply(M),T=R(this,P).add(R(E,N));return T.is0()?void 0:T}toAffine(E){return h(this,E)}isTorsionFree(){const{h:E,isTorsionFree:P}=t;if(E===_t)return!0;if(P)return P(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:P}=t;return E===_t?this:P?P(g,this):this.multiplyUnsafe(t.h)}toRawBytes(E=!0){return I2("isCompressed",E),this.assertValidity(),s(g,this,E)}toHex(E=!0){return I2("isCompressed",E),_2(this.toRawBytes(E))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:$}=t,_=vEe(g,y?Math.ceil($/2):$);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function CEe(e){const t=lz(e);return P2(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function SEe(e){const t=CEe(e),{Fp:n,n:r,nByteLength:s,nBitLength:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(m){return jn(m,r)}function l(m){return G$(m,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:h}=AEe({...t,toBytes(m,b,A){const I=b.toAffine(),C=n.toBytes(I.x),O=qi;return I2("isCompressed",A),A?O(Uint8Array.from([b.hasEvenY()?2:3]),C):O(Uint8Array.from([4]),C,n.toBytes(I.y))},fromBytes(m){const b=m.length,A=m[0],I=m.subarray(1);if(b===o&&(A===2||A===3)){const C=$a(I);if(!O2(C,_t,n.ORDER))throw new Error("Point is not on curve");const O=d(C);let B;try{B=n.sqrt(O)}catch(j){const U=j instanceof Error?": "+j.message:"";throw new Error("Point is not on curve"+U)}const D=(B&_t)===_t;return(A&1)===1!==D&&(B=n.neg(B)),{x:C,y:B}}else if(b===a&&A===4){const C=n.fromBytes(I.subarray(0,n.BYTES)),O=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:C,y:O}}else{const C=o,O=a;throw new Error("invalid Point, expected length of "+C+", or uncompressed "+O+", got "+b)}}});function p(m){const b=r>>_t;return m>b}function g(m){return p(m)?c(-m):m}const y=(m,b,A)=>$a(m.slice(b,A));class ${constructor(b,A,I){tf("r",b,_t,r),tf("s",A,_t,r),this.r=b,this.s=A,I!=null&&(this.recovery=I),Object.freeze(this)}static fromCompact(b){const A=s;return b=rr("compactSignature",b,A*2),new $(y(b,0,A),y(b,A,2*A))}static fromDER(b){const{r:A,s:I}=Nl.toSig(rr("DER",b));return new $(A,I)}assertValidity(){}addRecoveryBit(b){return new $(this.r,this.s,b)}recoverPublicKey(b){const{r:A,s:I,recovery:C}=this,O=k(rr("msgHash",b));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const B=C===2||C===3?A+t.n:A;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",z=u.fromHex(D+nA(B,n.BYTES)),j=l(B),U=c(-O*j),V=c(I*j),q=u.BASE.multiplyAndAddUnsafe(z,U,V);if(!q)throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return L8(this.toDERHex())}toDERHex(){return Nl.hexFromSig(this)}toCompactRawBytes(){return L8(this.toCompactHex())}toCompactHex(){const b=s;return nA(this.r,b)+nA(this.s,b)}}const _={isValidPrivateKey(m){try{return f(m),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const m=sz(t.n);return yEe(t.randomBytes(m),t.n)},precompute(m=8,b=u.BASE){return b._setWindowSize(m),b.multiply(BigInt(3)),b}};function x(m,b=!0){return u.fromPrivateKey(m).toRawBytes(b)}function E(m){if(typeof m=="bigint")return!1;if(m instanceof u)return!0;const A=rr("key",m).length,I=n.BYTES,C=I+1,O=2*I+1;if(!(t.allowedPrivateKeyLengths||s===C))return A===C||A===O}function P(m,b,A=!0){if(E(m)===!0)throw new Error("first arg must be private key");if(E(b)===!1)throw new Error("second arg must be public key");return u.fromHex(b).multiply(f(m)).toRawBytes(A)}const N=t.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const b=$a(m),A=m.length*8-i;return A>0?b>>BigInt(A):b},k=t.bits2int_modN||function(m){return c(N(m))},R=F8(i);function T(m){return tf("num < 2^"+i,m,To,R),ef(m,s)}function L(m,b,A=M){if(["recovered","canonical"].some(Z=>Z in A))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:C}=t;let{lowS:O,prehash:B,extraEntropy:D}=A;O==null&&(O=!0),m=rr("msgHash",m),uz(A),B&&(m=rr("prehashed msgHash",I(m)));const z=k(m),j=f(b),U=[T(j),T(z)];if(D!=null&&D!==!1){const Z=D===!0?C(n.BYTES):D;U.push(rr("extraEntropy",Z))}const V=qi(...U),q=z;function X(Z){const Y=N(Z);if(!h(Y))return;const fe=l(Y),me=u.BASE.multiply(Y).toAffine(),we=c(me.x);if(we===To)return;const Re=c(fe*c(q+we*j));if(Re===To)return;let We=(me.x===we?0:2)|Number(me.y&_t),hs=Re;return O&&p(Re)&&(hs=g(Re),We^=1),new $(we,hs,We)}return{seed:V,k2sig:X}}const M={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};function w(m,b,A=M){const{seed:I,k2sig:C}=L(m,b,A),O=t;return lEe(O.hash.outputLen,O.nByteLength,O.hmac)(I,C)}u.BASE._setWindowSize(8);function v(m,b,A,I=S){const C=m;b=rr("msgHash",b),A=rr("publicKey",A);const{lowS:O,prehash:B,format:D}=I;if(uz(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&D!=="compact"&&D!=="der")throw new Error("format must be compact or der");const z=typeof C=="string"||S2(C),j=!z&&!D&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!z&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let U,V;try{if(j&&(U=new $(C.r,C.s)),z){try{D!=="compact"&&(U=$.fromDER(C))}catch(We){if(!(We instanceof Nl.Err))throw We}!U&&D!=="der"&&(U=$.fromCompact(C))}V=u.fromHex(A)}catch{return!1}if(!U||O&&U.hasHighS())return!1;B&&(b=t.hash(b));const{r:q,s:X}=U,Z=k(b),Y=l(X),fe=c(Z*Y),me=c(q*Y),we=u.BASE.multiplyAndAddUnsafe(V,fe,me)?.toAffine();return we?c(we.x)===q:!1}return{CURVE:t,getPublicKey:x,getSharedSecret:P,sign:w,verify:v,ProjectivePoint:u,Signature:$,utils:_}}function IEe(e,t){const n=e.ORDER;let r=To;for(let p=n-_t;p%ad===To;p/=ad)r+=_t;const s=r,i=ad<<s-_t-_t,o=i*ad,a=(n-_t)/o,c=(a-_t)/ad,l=o-_t,u=i,f=e.pow(t,a),d=e.pow(t,(a+_t)/ad);let h=(p,g)=>{let y=f,$=e.pow(g,l),_=e.sqr($);_=e.mul(_,g);let x=e.mul(p,_);x=e.pow(x,c),x=e.mul(x,$),$=e.mul(x,g),_=e.mul(x,p);let E=e.mul(_,$);x=e.pow(E,u);let P=e.eql(x,e.ONE);$=e.mul(_,d),x=e.mul(E,y),_=e.cmov($,_,P),E=e.cmov(x,E,P);for(let N=s;N>_t;N--){let k=N-ad;k=ad<<k-_t;let R=e.pow(E,k);const T=e.eql(R,e.ONE);$=e.mul(_,y),y=e.mul(y,y),R=e.mul(E,y),_=e.cmov($,_,T),E=e.cmov(R,E,T)}return{isValid:P,value:_}};if(e.ORDER%rA===T2){const p=(e.ORDER-T2)/rA,g=e.sqrt(e.neg(t));h=(y,$)=>{let _=e.sqr($);const x=e.mul(y,$);_=e.mul(_,x);let E=e.pow(_,p);E=e.mul(E,x);const P=e.mul(E,g),N=e.mul(e.sqr(E),$),k=e.eql(N,y);let R=e.cmov(P,E,k);return{isValid:k,value:R}}}return h}function _Ee(e,t){if(ez(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=IEe(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let s,i,o,a,c,l,u,f;s=e.sqr(r),s=e.mul(s,t.Z),i=e.sqr(s),i=e.add(i,s),o=e.add(i,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(i),!e.eql(i,e.ZERO)),a=e.mul(a,t.A),i=e.sqr(o),l=e.sqr(a),c=e.mul(l,t.A),i=e.add(i,c),i=e.mul(i,o),l=e.mul(l,a),c=e.mul(l,t.B),i=e.add(i,c),u=e.mul(s,o);const{isValid:d,value:h}=n(i,l);f=e.mul(s,r),f=e.mul(f,h),u=e.cmov(u,o,d),f=e.cmov(f,h,d);const p=e.isOdd(r)===e.isOdd(f);f=e.cmov(e.neg(f),f,p);const g=j8(e,[a],!0)[0];return u=e.mul(u,g),{x:u,y:f}}}function OEe(e){return{hash:e,hmac:(t,...n)=>o0(e,t,Qe(...n)),randomBytes:ti}}function PEe(e,t){const n=r=>SEe({...e,...OEe(r)});return{...n(t),create:n}}const TEe=$a;function cd(e,t){if(N2(e),N2(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function NEe(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function N2(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function BEe(e,t,n,r){od(e),od(t),N2(n),t.length>255&&(t=r(qi(Z$("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:i}=r,o=Math.ceil(n/s);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=qi(t,cd(t.length,1)),c=cd(0,i),l=cd(n,2),u=new Array(o),f=r(qi(c,e,l,cd(0,1),a));u[0]=r(qi(f,cd(1,1),a));for(let h=1;h<=o;h++){const p=[NEe(f,u[h-1]),cd(h+1,1),a];u[h]=r(qi(...p))}return qi(...u).slice(0,n)}function kEe(e,t,n,r,s){if(od(e),od(t),N2(n),t.length>255){const i=Math.ceil(2*r/8);t=s.create({dkLen:i}).update(Z$("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:n}).update(e).update(cd(n,2)).update(t).update(cd(t.length,1)).digest()}function dz(e,t,n){P2(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:i,hash:o,expand:a,DST:c}=n;od(e),N2(t);const l=typeof c=="string"?Z$(c):c,u=r.toString(2).length,f=Math.ceil((u+s)/8),d=t*i*f;let h;if(a==="xmd")h=BEe(e,l,d,o);else if(a==="xof")h=kEe(e,l,d,s,o);else if(a==="_internal_pass")h=e;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(t);for(let g=0;g<t;g++){const y=new Array(i);for(let $=0;$<i;$++){const _=f*($+g*i),x=h.subarray(_,_+f);y[$]=jn(TEe(x),r)}p[g]=y}return p}function REe(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,s)=>{const[i,o,a,c]=n.map(f=>f.reduce((d,h)=>e.add(e.mul(d,r),h))),[l,u]=j8(e,[o,c],!0);return r=e.mul(i,l),s=e.mul(s,e.mul(a,u)),{x:r,y:s}}}function DEe(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function r(i){return e.fromAffine(t(i))}function s(i){const o=i.clearCofactor();return o.equals(e.ZERO)?e.ZERO:(o.assertValidity(),o)}return{defaults:n,hashToCurve(i,o){const a=dz(i,2,{...n,DST:n.DST,...o}),c=r(a[0]),l=r(a[1]);return s(c.add(l))},encodeToCurve(i,o){const a=dz(i,1,{...n,DST:n.encodeDST,...o});return s(r(a[0]))},mapToCurve(i){if(!Array.isArray(i))throw new Error("expected array of bigints");for(const o of i)if(typeof o!="bigint")throw new Error("expected array of bigints");return s(r(i))}}}const B2=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),z8=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sA=BigInt(0),k2=BigInt(1),H8=BigInt(2),fz=(e,t)=>(e+t/H8)/t;function hz(e){const t=B2,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=Zi(u,n,t)*u%t,d=Zi(f,n,t)*u%t,h=Zi(d,H8,t)*l%t,p=Zi(h,s,t)*h%t,g=Zi(p,i,t)*p%t,y=Zi(g,a,t)*g%t,$=Zi(y,c,t)*y%t,_=Zi($,a,t)*g%t,x=Zi(_,n,t)*u%t,E=Zi(x,o,t)*p%t,P=Zi(E,r,t)*l%t,N=Zi(P,H8,t);if(!ld.eql(ld.sqr(N),e))throw new Error("Cannot find square root");return N}const ld=Y$(B2,void 0,void 0,{sqrt:hz}),Bl=PEe({a:sA,b:BigInt(7),Fp:ld,n:z8,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=z8,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-k2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=fz(i*e,t),c=fz(-r*e,t);let l=jn(e-a*n-c*s,t),u=jn(-a*r-c*i,t);const f=l>o,d=u>o;if(f&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},Zn),pz={};function V8(e,...t){let n=pz[e];if(n===void 0){const r=Zn(Uint8Array.from(e,s=>s.charCodeAt(0)));n=qi(r,r),pz[e]=n}return Zn(qi(n,...t))}const iA=e=>e.toRawBytes(!0).slice(1),oA=e=>ef(e,32),aA=e=>jn(e,B2),R2=e=>jn(e,z8),cA=Bl.ProjectivePoint,MEe=(e,t,n)=>cA.BASE.multiplyAndAddUnsafe(e,t,n);function lA(e){let t=Bl.utils.normPrivateKeyToScalar(e),n=cA.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:R2(-t),bytes:iA(n)}}function gz(e){tf("x",e,k2,B2);const t=aA(e*e),n=aA(t*e+BigInt(7));let r=hz(n);r%H8!==sA&&(r=aA(-r));const s=new cA(e,r,k2);return s.assertValidity(),s}const R1=$a;function mz(...e){return R2(R1(V8("BIP0340/challenge",...e)))}function UEe(e){return lA(e).bytes}function LEe(e,t,n=ti(32)){const r=rr("message",e),{bytes:s,scalar:i}=lA(t),o=rr("auxRand",n,32),a=oA(i^R1(V8("BIP0340/aux",o))),c=V8("BIP0340/nonce",a,s,r),l=R2(R1(c));if(l===sA)throw new Error("sign failed: k is zero");const{bytes:u,scalar:f}=lA(l),d=mz(u,s,r),h=new Uint8Array(64);if(h.set(u,0),h.set(oA(R2(f+d*i)),32),!yz(h,r,s))throw new Error("sign: Invalid signature produced");return h}function yz(e,t,n){const r=rr("signature",e,64),s=rr("message",t),i=rr("publicKey",n,32);try{const o=gz(R1(i)),a=R1(r.subarray(0,32));if(!O2(a,k2,B2))return!1;const c=R1(r.subarray(32,64));if(!O2(c,k2,z8))return!1;const l=mz(oA(a),iA(o),s),u=MEe(o,c,R2(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch{return!1}}const FEe={getPublicKey:UEe,sign:LEe,verify:yz,utils:{randomPrivateKey:Bl.utils.randomPrivateKey,lift_x:gz,pointToBytes:iA,numberToBytesBE:ef,bytesToNumberBE:$a,taggedHash:V8,mod:jn}},jEe=REe(ld,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),zEe=_Ee(ld,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ld.create(BigInt("-11"))}),uA=DEe(Bl.ProjectivePoint,e=>{const{x:t,y:n}=zEe(ld.create(e[0]));return jEe(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:ld.ORDER,m:1,k:128,expand:"xmd",hash:Zn});var HEe=Object.freeze({__proto__:null,secp256k1:Bl,schnorr:FEe,secp256k1_hasher:uA,hashToCurve:uA.hashToCurve,encodeToCurve:uA.encodeToCurve});function dA({r:e,s:t,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new Bl.Signature(ze(e),ze(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:xn(o)}async function q8(e,t){const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:i=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,o=(()=>{const a=t.signature;return je(a)?a:typeof a=="object"&&"r"in a&&"s"in a?dA(a):Nt(a)})();try{return Pj(o)?await VEe(e,{...t,multicallAddress:i,signature:o}):await qEe(e,{...t,verifierAddress:s,signature:o})}catch(a){try{if(va(_o(n),await q0({hash:r,signature:o})))return!0}catch{}if(a instanceof rf)return!1;throw a}}async function VEe(e,t){const{address:n,blockNumber:r,blockTag:s,hash:i,multicallAddress:o}=t,{authorization:a,data:c,signature:l,to:u}=Oj(t.signature);if(await t$(e,{address:n,blockNumber:r,blockTag:s})===Ar(["0xef0100",a.address]))return await ZEe(e,{address:n,blockNumber:r,blockTag:s,hash:i,signature:l});const d={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:se(a.r,{size:32}),s:se(a.s,{size:32}),yParity:a.yParity};if(!await P3e({address:n,authorization:d}))throw new rf;const p=await $e(e,Hi,"readContract")({...o?{address:o}:{code:M7},authorizationList:[d],abi:g2,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:u??n,callData:c}]:[],{allowFailure:!0,target:n,callData:_s({abi:HL,functionName:"isValidSignature",args:[i,l]})}]]});if(p[p.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new rf}async function qEe(e,t){const{address:n,factory:r,factoryData:s,hash:i,signature:o,verifierAddress:a,...c}=t,l=await(async()=>!r&&!s||iEe(o)?o:sEe({data:s,signature:o,to:r}))(),u=a?{to:a,data:_s({abi:f8,functionName:"isValidSig",args:[n,i,l]}),...c}:{data:y2({abi:f8,args:[n,i,l],bytecode:D7}),...c},{data:f}=await $e(e,b2,"call")(u).catch(d=>{throw d instanceof o7?new rf:d});if(Fx(f??"0x0"))return!0;throw new rf}async function ZEe(e,t){const{address:n,blockNumber:r,blockTag:s,hash:i,signature:o}=t;if((await $e(e,Hi,"readContract")({address:n,abi:HL,args:[i,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof a7?new rf:c})).startsWith("0x1626ba7e"))return!0;throw new rf}class rf extends Error{}async function WEe(e,{address:t,message:n,factory:r,factoryData:s,signature:i,...o}){const a=O8(n);return q8(e,{address:t,factory:r,factoryData:s,hash:a,signature:i,...o})}async function KEe(e,t){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:l,...u}=t,f=f$({message:o,primaryType:a,types:c,domain:l});return q8(e,{address:n,factory:r,factoryData:s,hash:f,signature:i,...u})}function bz(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const a=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const f=Kt(["watchBlockNumber",e.uid,t,n,o]);return _l(f,{onBlockNumber:r,onError:s},d=>I1(async()=>{try{const h=await $e(e,w2,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let p=c+1n;p<h;p++)d.onBlockNumber(p,c),c=p}(c===void 0||h>c)&&(d.onBlockNumber(h,c),c=h)}catch(h){d.onError?.(h)}},{emitOnBegin:t,interval:o}))})():(()=>{const f=Kt(["watchBlockNumber",e.uid,t,n]);return _l(f,{onBlockNumber:r,onError:s},d=>{let h=!0,p=()=>h=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(_=>_.config.type==="webSocket"||_.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),{unsubscribe:y}=await g.subscribe({params:["newHeads"],onData($){if(!h)return;const _=ze($.result?.number);d.onBlockNumber(_,c),c=_},onError($){d.onError?.($)}});p=y,h||p()}catch(g){s?.(g)}})(),()=>p()})})()}async function wz(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:P})=>~~(1<<P)*200,timeout:c=18e4}=t,l=Kt(["waitForTransactionReceipt",e.uid,s]),u=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let f,d,h,p=!1,g,y;const{promise:$,resolve:_,reject:x}=F7(),E=c?setTimeout(()=>{y?.(),g?.(),x(new VU({hash:s}))},c):void 0;return g=_l(l,{onReplaced:i,resolve:_,reject:x},async P=>{if(h=await $e(e,R8,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(E),P.resolve(h),g?.();return}y=$e(e,bz,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(N){const k=T=>{clearTimeout(E),y?.(),T(),g?.()};let R=N;if(!p)try{if(h){if(r>1&&(!h.blockNumber||R-h.blockNumber+1n<r))return;k(()=>P.resolve(h));return}if(n&&!f&&(p=!0,await v2(async()=>{f=await $e(e,F$,"getTransaction")({hash:s}),f.blockNumber&&(R=f.blockNumber)},{delay:a,retryCount:o}),p=!1),h=await $e(e,R8,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||R-h.blockNumber+1n<r))return;k(()=>P.resolve(h))}catch(T){if(T instanceof s7||T instanceof i7){if(!f){p=!1;return}try{d=f,p=!0;const L=await v2(()=>$e(e,wa,"getBlock")({blockNumber:R,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:w})=>w instanceof u7});p=!1;const M=L.transactions.find(({from:w,nonce:v})=>w===d.from&&v===d.nonce);if(!M||(h=await $e(e,R8,"getTransactionReceipt")({hash:M.hash}),r>1&&(!h.blockNumber||R-h.blockNumber+1n<r)))return;let S="replaced";M.to===d.to&&M.value===d.value&&M.input===d.input?S="repriced":M.from===M.to&&M.value===0n&&(S="cancelled"),k(()=>{P.onReplaced?.({reason:S,replacedTransaction:d,transaction:M,transactionReceipt:h}),P.resolve(h)})}catch(L){k(()=>P.reject(L))}}else k(()=>P.reject(T))}}})}),$}function GEe(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const l=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),u=o??!1;let f;return l?(()=>{const p=Kt(["watchBlocks",e.uid,t,n,r,u,c]);return _l(p,{onBlock:s,onError:i},g=>I1(async()=>{try{const y=await $e(e,wa,"getBlock")({blockTag:t,includeTransactions:u});if(y.number!==null&&f?.number!=null){if(y.number===f.number)return;if(y.number-f.number>1&&n)for(let $=f?.number+1n;$<y.number;$++){const _=await $e(e,wa,"getBlock")({blockNumber:$,includeTransactions:u});g.onBlock(_,f),f=_}}(f?.number==null||t==="pending"&&y?.number==null||y.number!==null&&y.number>f.number)&&(g.onBlock(y,f),f=y)}catch(y){g.onError?.(y)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,g=!0,y=()=>p=!1;return(async()=>{try{r&&$e(e,wa,"getBlock")({blockTag:t,includeTransactions:u}).then(x=>{p&&g&&(s(x,void 0),g=!1)}).catch(i);const $=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return x?x.value:e.transport}return e.transport})(),{unsubscribe:_}=await $.subscribe({params:["newHeads"],async onData(x){if(!p)return;const E=await $e(e,wa,"getBlock")({blockNumber:x.result?.number,includeTransactions:u}).catch(()=>{});p&&(s(E,f),g=!1,f=E)},onError(x){i?.(x)}});y=_,p||y()}catch($){i?.($)}})(),()=>y()})()}function YEe(e,{address:t,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:u=e.pollingInterval,strict:f}){const d=typeof l<"u"?l:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=f??!1;return d?(()=>{const y=Kt(["watchEvent",t,n,r,e.uid,s,u,o]);return _l(y,{onLogs:c,onError:a},$=>{let _;o!==void 0&&(_=o-1n);let x,E=!1;const P=I1(async()=>{if(!E){try{x=await $e(e,EF,"createEventFilter")({address:t,args:n,event:s,events:i,strict:h,fromBlock:o})}catch{}E=!0;return}try{let N;if(x)N=await $e(e,g8,"getFilterChanges")({filter:x});else{const k=await $e(e,w2,"getBlockNumber")({});_&&_!==k?N=await $e(e,x7,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:_+1n,toBlock:k}):N=[],_=k}if(N.length===0)return;if(r)$.onLogs(N);else for(const k of N)$.onLogs([k])}catch(N){x&&N instanceof Qu&&(E=!1),$.onError?.(N)}},{emitOnBegin:!0,interval:u});return async()=>{x&&await $e(e,m8,"uninstallFilter")({filter:x}),P()}})})():(()=>{let y=!0,$=()=>y=!1;return(async()=>{try{const _=(()=>{if(e.transport.type==="fallback"){const N=e.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return N?N.value:e.transport}return e.transport})(),x=i??(s?[s]:void 0);let E=[];x&&(E=[x.flatMap(k=>e1({abi:[k],eventName:k.name,args:n}))],s&&(E=E[0]));const{unsubscribe:P}=await _.subscribe({params:["logs",{address:t,topics:E}],onData(N){if(!y)return;const k=N.result;try{const{eventName:R,args:T}=n8({abi:x??[],data:k.data,topics:k.topics,strict:h}),L=Ea(k,{args:T,eventName:R});c([L])}catch(R){let T,L;if(R instanceof Gh||R instanceof t2){if(f)return;T=R.abiItem.name,L=R.abiItem.inputs?.some(S=>!("name"in S&&S.name))}const M=Ea(k,{args:L?[]:{},eventName:T});c([M])}},onError(N){a?.(N)}});$=P,y||$()}catch(_){a?.(_)}})(),()=>$()})()}function XEe(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const l=Kt(["watchPendingTransactions",e.uid,t,i]);return _l(l,{onTransactions:r,onError:n},u=>{let f;const d=I1(async()=>{try{if(!f)try{f=await $e(e,xF,"createPendingTransactionFilter")({});return}catch(p){throw d(),p}const h=await $e(e,g8,"getFilterChanges")({filter:f});if(h.length===0)return;if(t)u.onTransactions(h);else for(const p of h)u.onTransactions([p])}catch(h){u.onError?.(h)}},{emitOnBegin:!0,interval:i});return async()=>{f&&await $e(e,m8,"uninstallFilter")({filter:f}),d()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!l)return;const h=d.result;r([h])},onError(d){n?.(d)}});u=f,l||u()}catch(f){n?.(f)}})(),()=>u()})()}function JEe(e){const{scheme:t,statement:n,...r}=e.match(QEe)?.groups??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...l}=e.match(e9e)?.groups??{},u=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...l,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const QEe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,e9e=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function t9e(e){const{address:t,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!Vt(r.address,{strict:!1})||t&&!va(r.address,t))return!1}catch{return!1}return!0}async function n9e(e,t){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...l}=t,u=JEe(s);if(!u.address||!t9e({address:n,domain:r,message:u,nonce:i,scheme:o,time:c}))return!1;const d=O8(s);return q8(e,{address:u.address,hash:d,signature:a,...l})}async function fA(e,{serializedTransaction:t,timeout:n}){const r=await e.request({method:"eth_sendRawTransactionSync",params:n?[t,se(n)]:[t]},{retryCount:0});return(e.chain?.formatters?.transactionReceipt?.format||v8)(r)}function vz(e){return{call:t=>b2(e,t),createAccessList:t=>vF(e,t),createBlockFilter:()=>f3e(e),createContractEventFilter:t=>Gx(e,t),createEventFilter:t=>EF(e,t),createPendingTransactionFilter:()=>xF(e),estimateContractGas:t=>pL(e,t),estimateGas:t=>E7(e,t),getBalance:t=>h3e(e,t),getBlobBaseFee:()=>p3e(e),getBlock:t=>wa(e,t),getBlockNumber:t=>w2(e,t),getBlockTransactionCount:t=>g3e(e,t),getBytecode:t=>t$(e,t),getChainId:()=>W0(e),getCode:t=>t$(e,t),getContractEvents:t=>$7(e,t),getEip712Domain:t=>y3e(e,t),getEnsAddress:t=>X4e(e,t),getEnsAvatar:t=>l3e(e,t),getEnsName:t=>u3e(e,t),getEnsResolver:t=>d3e(e,t),getEnsText:t=>wF(e,t),getFeeHistory:t=>v3e(e,t),estimateFeesPerGas:t=>q8e(e,t),getFilterChanges:t=>g8(e,t),getFilterLogs:t=>E3e(e,t),getGasPrice:()=>p7(e),getLogs:t=>x7(e,t),getProof:t=>Vve(e,t),estimateMaxPriorityFeePerGas:t=>V8e(e,t),getStorageAt:t=>qve(e,t),getTransaction:t=>F$(e,t),getTransactionConfirmations:t=>Zve(e,t),getTransactionCount:t=>J6(e,t),getTransactionReceipt:t=>R8(e,t),multicall:t=>Wve(e,t),prepareTransactionRequest:t=>l2(e,t),readContract:t=>Hi(e,t),sendRawTransaction:t=>q7(e,t),sendRawTransactionSync:t=>fA(e,t),simulate:t=>j$(e,t),simulateBlocks:t=>j$(e,t),simulateCalls:t=>nEe(e,t),simulateContract:t=>GL(e,t),verifyHash:t=>q8(e,t),verifyMessage:t=>WEe(e,t),verifySiweMessage:t=>n9e(e,t),verifyTypedData:t=>KEe(e,t),uninstallFilter:t=>m8(e,t),waitForTransactionReceipt:t=>wz(e,t),watchBlocks:t=>GEe(e,t),watchBlockNumber:t=>bz(e,t),watchContractEvent:t=>JL(e,t),watchEvent:t=>YEe(e,t),watchPendingTransactions:t=>XEe(e,t)}}function r9e(e){const{key:t="public",name:n="Public Client"}=e;return $8({...e,key:t,name:n,type:"publicClient"}).extend(vz)}async function s9e(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function i9e(e){return e.request({method:`${e.mode}_dumpState`})}async function o9e(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function a9e(e){return await e.request({method:"txpool_content"})}async function c9e(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:It(t),queued:It(n)}}async function l9e(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function u9e(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[se(t)]})}async function d9e(e){return await e.request({method:"txpool_inspect"})}async function f9e(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function h9e(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:se(t)}]}):await e.request({method:`${e.mode}_mine`,params:[se(t),se(n||0)]})}async function p9e(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function g9e(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function m9e(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function y9e(e,t){const{accessList:n,data:r,from:s,gas:i,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:u,value:f,...d}=t,h=e.chain?.formatters?.transactionRequest?.format,g=(h||ba)({...x1(d,{format:h}),accessList:n,data:r,from:s,gas:i,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:u,value:f},"sendUnsignedTransaction");return await e.request({method:"eth_sendUnsignedTransaction",params:[g]})}async function b9e(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function w9e(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,se(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,se(n)]})}async function v9e(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[se(t)]})}async function E9e(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function x9e(e,{address:t,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function $9e(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function A9e(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[n]})}async function C9e(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function S9e(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[se(t)]})}async function I9e(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[se(t)]})}async function _9e(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[se(t)]})}async function O9e(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,se(n)]})}async function P9e(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function T9e(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?se(n):n,r]})}async function N9e(e){return await e.request({method:"evm_snapshot"})}async function B9e(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}function Ez({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:r=>s9e(n,r),dumpState:()=>i9e(n),getAutomine:()=>o9e(n),getTxpoolContent:()=>a9e(n),getTxpoolStatus:()=>c9e(n),impersonateAccount:r=>l9e(n,r),increaseTime:r=>u9e(n,r),inspectTxpool:()=>d9e(n),loadState:r=>f9e(n,r),mine:r=>h9e(n,r),removeBlockTimestampInterval:()=>p9e(n),reset:r=>g9e(n,r),revert:r=>m9e(n,r),sendUnsignedTransaction:r=>y9e(n,r),setAutomine:r=>b9e(n,r),setBalance:r=>w9e(n,r),setBlockGasLimit:r=>v9e(n,r),setBlockTimestampInterval:r=>E9e(n,r),setCode:r=>x9e(n,r),setCoinbase:r=>$9e(n,r),setIntervalMining:r=>A9e(n,r),setLoggingEnabled:r=>C9e(n,r),setMinGasPrice:r=>S9e(n,r),setNextBlockBaseFeePerGas:r=>I9e(n,r),setNextBlockTimestamp:r=>_9e(n,r),setNonce:r=>O9e(n,r),setRpcUrl:r=>P9e(n,r),setStorageAt:r=>T9e(n,r),snapshot:()=>N9e(n),stopImpersonatingAccount:r=>B9e(n,r)}}}function k9e(e){const{key:t="test",name:n="Test Client",mode:r}=e;return $8({...e,key:t,name:n,type:"testClient"}).extend(i=>({mode:r,...Ez({mode:r})(i)}))}async function R9e(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:se(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function D9e(e,t){const{abi:n,args:r,bytecode:s,...i}=t,o=y2({abi:n,args:r,bytecode:s});return b8(e,{...i,...i.authorizationList?{to:null}:{},data:o})}async function M9e(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(n=>Jh(n))}async function U9e(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?Qt(n):void 0,i=r?[s?.address,[se(r)]]:[s?.address],o=await e.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,f]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=f}return typeof r=="number"?a[r]:a}async function L9e(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function xz(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new id({docsPath:"/docs/eip7702/prepareAuthorization"});const i=Qt(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:Qt(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await $e(e,W0,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await $e(e,J6,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o?.address&&va(o.address,i.address))&&(a.nonce+=1)),a}async function F9e(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>_o(n))}async function j9e(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function z9e(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max((n?.blockTime??0)*3,5e3),s=await sF(e,t);return await oF(e,{...t,id:s.id,timeout:r})}const hA=new Xh(128);async function $z(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,pollingInterval:p,type:g,value:y,...$}=t,_=t.timeout??Math.max((r?.blockTime??0)*3,5e3);if(typeof n>"u")throw new id({docsPath:"/docs/actions/wallet/sendTransactionSync"});const x=n?Qt(n):null;try{Al(t);const E=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await L6({authorization:i[0]}).catch(()=>{throw new re("`to` is required. Could not infer from `authorizationList`.")})})();if(x?.type==="json-rpc"||x===null){let P;r!==null&&(P=await $e(e,W0,"getChainId")({}),y8({currentChainId:P,chain:r}));const N=e.chain?.formatters?.transactionRequest?.format,R=(N||ba)({...x1($,{format:N}),accessList:s,authorizationList:i,blobs:o,chainId:P,data:a,from:x?.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,to:E,type:g,value:y},"sendTransaction"),T=hA.get(e.uid),L=T?"wallet_sendTransaction":"eth_sendTransaction",M=await(async()=>{try{return await e.request({method:L,params:[R]},{retryCount:0})}catch(S){if(T===!1)throw S;const w=S;if(w.name==="InvalidInputRpcError"||w.name==="InvalidParamsRpcError"||w.name==="MethodNotFoundRpcError"||w.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[R]},{retryCount:0}).then(v=>(hA.set(e.uid,!0),v)).catch(v=>{const m=v;throw m.name==="MethodNotFoundRpcError"||m.name==="MethodNotSupportedRpcError"?(hA.set(e.uid,!1),w):m});throw w}})();return $e(e,wz,"waitForTransactionReceipt")({checkReplacement:!1,hash:M,pollingInterval:p,timeout:_})}if(x?.type==="local"){const P=await $e(e,l2,"prepareTransactionRequest")({account:x,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,nonceManager:x.nonceManager,parameters:[...v7,"sidecars"],type:g,value:y,...$,to:E}),N=r?.serializers?.transaction,k=await x.signTransaction(P,{serializer:N});return await $e(e,fA,"sendRawTransactionSync")({serializedTransaction:k})}throw x?.type==="smart"?new J0({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new J0({docsPath:"/docs/actions/wallet/sendTransactionSync",type:x?.type})}catch(E){throw E instanceof J0?E:V7(E,{...t,account:x,chain:t.chain||void 0})}}async function H9e(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function V9e(e,t){const{account:n=e.account}=t;if(!n)throw new id({docsPath:"/docs/eip7702/signAuthorization"});const r=Qt(n);if(!r.signAuthorization)throw new J0({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await xz(e,t);return r.signAuthorization(s)}async function q9e(e,{account:t=e.account,message:n}){if(!t)throw new id({docsPath:"/docs/actions/wallet/signMessage"});const r=Qt(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Wu(n):n.raw instanceof Uint8Array?jt(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Z9e(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new id({docsPath:"/docs/actions/wallet/signTransaction"});const i=Qt(n);Al({account:i,...t});const o=await $e(e,W0,"getChainId")({});r!==null&&y8({currentChainId:o,chain:r});const c=(r?.formatters||e.chain?.formatters)?.transactionRequest?.format||ba;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s,"signTransaction"),chainId:se(o),from:i.address}]},{retryCount:0})}async function W9e(e,t){const{account:n=e.account,domain:r,message:s,primaryType:i}=t;if(!n)throw new id({docsPath:"/docs/actions/wallet/signTypedData"});const o=Qt(n),a={EIP712Domain:P8({domain:r}),...t.types};if(d$({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=LF({domain:r,message:s,primaryType:i,types:a});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function K9e(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:se(t)}]},{retryCount:0})}async function G9e(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function Y9e(e,t){return _1.internal(e,$z,"sendTransactionSync",t)}function Az(e){return{addChain:t=>R9e(e,t),deployContract:t=>D9e(e,t),getAddresses:()=>M9e(e),getCallsStatus:t=>iF(e,t),getCapabilities:t=>U9e(e,t),getChainId:()=>W0(e),getPermissions:()=>L9e(e),prepareAuthorization:t=>xz(e,t),prepareTransactionRequest:t=>l2(e,t),requestAddresses:()=>F9e(e),requestPermissions:t=>j9e(e,t),sendCalls:t=>sF(e,t),sendCallsSync:t=>z9e(e,t),sendRawTransaction:t=>q7(e,t),sendRawTransactionSync:t=>fA(e,t),sendTransaction:t=>b8(e,t),sendTransactionSync:t=>$z(e,t),showCallsStatus:t=>H9e(e,t),signAuthorization:t=>V9e(e,t),signMessage:t=>q9e(e,t),signTransaction:t=>Z9e(e,t),signTypedData:t=>W9e(e,t),switchChain:t=>K9e(e,t),waitForCallsStatus:t=>oF(e,t),watchAsset:t=>G9e(e,t),writeContract:t=>_1(e,t),writeContractSync:t=>Y9e(e,t)}}function X9e(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return $8({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Az)}function D2({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=cF();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:N3e(r,{methods:t,retryCount:s,retryDelay:i,uid:l}),value:c}}function J9e(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=t;return({retryCount:o})=>D2({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:i,type:"custom"})}function pA(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=Cz,retryCount:o,retryDelay:a}=t;return({chain:c,pollingInterval:l=4e3,timeout:u,...f})=>{let d=e,h=()=>{};const p=D2({key:n,name:r,async request({method:g,params:y}){let $;const _=async(x=0)=>{const E=d[x]({...f,chain:c,retryCount:0,timeout:u});try{const P=await E.request({method:g,params:y});return h({method:g,params:y,response:P,transport:E,status:"success"}),P}catch(P){if(h({error:P,method:g,params:y,transport:E,status:"error"}),i(P)||x===d.length-1||($??=d.slice(x+1).some(N=>{const{include:k,exclude:R}=N({chain:c}).config.methods||{};return k?k.includes(g):R?!R.includes(g):!0}),!$))throw P;return _(x+1)}};return _()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>h=g,transports:d.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};Q9e({chain:c,interval:g.interval??l,onTransports:y=>d=y,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:d,weights:g.weights})}return p}}function Cz(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===j0.code||e.code===td.code||rd.nodeMessage.test(e.message)||e.code===5e3))}function Q9e({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],f=async()=>{const d=await Promise.all(o.map(async g=>{const y=g({chain:e,retryCount:0,timeout:i}),$=Date.now();let _,x;try{await(r?r({transport:y}):y.request({method:"net_listening"})),x=1}catch{x=0}finally{_=Date.now()}return{latency:_-$,success:x}}));u.push(d),u.length>s&&u.shift();const h=Math.max(...u.map(g=>Math.max(...g.map(({latency:y})=>y)))),p=o.map((g,y)=>{const $=u.map(N=>N[y].latency),x=1-$.reduce((N,k)=>N+k,0)/$.length/h,E=u.map(N=>N[y].success),P=E.reduce((N,k)=>N+k,0)/E.length;return P===0?[0,y]:[l*x+c*P,y]}).sort((g,y)=>y[0]-g[0]);n(p.map(([,g])=>o[g])),await p8(t),f()};f()}class gA extends re{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function M2(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:f}=t;return({chain:d,retryCount:h,timeout:p})=>{const{batchSize:g=1e3,wait:y=0}=typeof n=="object"?n:{},$=t.retryCount??h,_=p??t.timeout??1e4,x=e||d?.rpcUrls.default.http[0];if(!x)throw new gA;const E=V3e(x,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:l,timeout:_});return D2({key:i,methods:o,name:a,async request({method:P,params:N}){const k={method:P,params:N},{schedule:R}=z7({id:x,wait:y,shouldSplitBatch(S){return S.length>g},fn:S=>E.request({body:S}),sort:(S,w)=>S.id-w.id}),T=async S=>n?R(S):[await E.request({body:S})],[{error:L,result:M}]=await T(k);if(f)return{error:L,result:M};if(L)throw new a2({body:k,error:L,url:x});return M},retryCount:$,retryDelay:u,timeout:_,type:"http"},{fetchOptions:s,url:x})}}function exe(e,t={}){const{keepAlive:n,key:r="webSocket",methods:s,name:i="WebSocket JSON-RPC",reconnect:o,retryDelay:a}=t;return({chain:c,retryCount:l,timeout:u})=>{const f=t.retryCount??l,d=u??t.timeout??1e4,h=e||c?.rpcUrls.default.webSocket?.[0],p={keepAlive:n,reconnect:o};if(!h)throw new gA;return D2({key:r,methods:s,name:i,async request({method:g,params:y}){const $={method:g,params:y},_=await _8(h,p),{error:x,result:E}=await _.requestAsync({body:$,timeout:d});if(x)throw new a2({body:$,error:x,url:h});return E},retryCount:f,retryDelay:a,timeout:d,type:"webSocket"},{getSocket(){return Z3e(h)},getRpcClient(){return _8(h,p)},async subscribe({params:g,onData:y,onError:$}){const _=await _8(h,p),{result:x}=await new Promise((E,P)=>_.request({body:{method:"eth_subscribe",params:g},onError(N){P(N),$?.(N)},onResponse(N){if(N.error){P(N.error),$?.(N.error);return}if(typeof N.id=="number"){E(N);return}N.method==="eth_subscription"&&y(N.params)}}));return{subscriptionId:x,async unsubscribe(){return new Promise(E=>_.request({body:{method:"eth_unsubscribe",params:[x]},onResponse:E}))}}}})}}class txe extends Error{constructor(t,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=n}}const mA="/docs/contract/decodeDeployData";function nxe(e){const{abi:t,bytecode:n,data:r}=e;if(r===n)return{bytecode:n};const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Ix({docsPath:mA});if(!("inputs"in s))throw new e2({docsPath:mA});if(!s.inputs||s.inputs.length===0)throw new e2({docsPath:mA});return{args:Yu(s.inputs,`0x${r.replace(n,"")}`),bytecode:n}}function rxe(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(a=>xn(a)):e.blobs,r=n.reduce((a,c)=>a+c.length,0),s=t1(new Uint8Array(r));let i=!0;for(const a of n){const c=t1(a);for(;i&&c.position<a.length;){c.incrementPosition(1);let l=31;a.length-c.position<31&&(l=a.length-c.position);for(const u in Array.from({length:l})){const f=c.readByte();if(f===128&&!c.inspectBytes(c.remaining).includes(128)){i=!1;break}s.pushByte(f)}}}const o=s.bytes.slice(0,s.position);return t==="hex"?Nt(o):o}function sxe(e){const{sidecars:t,version:n}=e,r=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),s=[];for(const{commitment:i}of t)s.push(m7({commitment:i,to:r,version:n}));return s}const ixe=2147483648;function oxe(e){if(e===1)return 60n;if(e>=ixe||e<0)throw new gF({chainId:e});return BigInt((2147483648|e)>>>0)}function Sz({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function axe(e,t){try{e.loadTrustedSetup(t)}catch(n){const r=n;if(!r.message.includes("trusted setup is already loaded"))throw r}return Sz(e)}function cxe({r:e,yParityAndS:t}){const n=xn(t),r=n[0]&128?1:0,s=n;return r===1&&(s[0]&=127),{r:e,s:Nt(s),yParity:r}}function Iz(e){const{r:t,s:n}=Bl.Signature.fromCompact(e.slice(2,130));return{r:se(t,{size:32}),yParityAndS:se(n,{size:32})}}function _z(e){const{r:t,s:n}=Bl.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,i]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:se(t,{size:32}),s:se(n,{size:32}),v:s,yParity:i}:{r:se(t,{size:32}),s:se(n,{size:32}),yParity:i}}async function lxe(e){const{serializedTransaction:t,signature:n}=e,r=Rj(t),s=n??{r:r.r,s:r.s,v:r.v,yParity:r.yParity},i=i$({...r,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await q0({hash:Jt(i),signature:s})}function Oz({r:e,yParityAndS:t}){return`0x${new Bl.Signature(ze(e),ze(t)).toCompactHex()}`}function uxe(e){const{r:t,s:n,v:r,yParity:s}=e,i=Number(s??r-27n);let o=n;if(i===1){const a=xn(n);a[0]|=128,o=Nt(a)}return{r:t,yParityAndS:o}}var dxe=Object.freeze({__proto__:null,CircularReferenceError:YM,InvalidAbiItemError:LM,InvalidAbiParameterError:jM,InvalidAbiParametersError:zM,InvalidAbiTypeParameterError:WM,InvalidFunctionModifierError:ZM,InvalidModifierError:qM,InvalidParameterError:HM,InvalidParenthesisError:XM,InvalidSignatureError:M0,InvalidStructSignatureError:GM,parseAbi:Ax,parseAbiItem:Cx,parseAbiParameter:cwe,parseAbiParameters:Sx,SolidityProtectedKeywordError:VM,UnknownSignatureError:KM,UnknownTypeError:FM,getContract:W4e,WaitForCallsStatusTimeoutError:aF,createClient:$8,rpcSchema:K4e,createPublicClient:r9e,createTestClient:k9e,createWalletClient:X9e,publicActions:vz,testActions:Ez,walletActions:Az,createTransport:D2,custom:J9e,fallback:pA,shouldThrow:Cz,http:M2,webSocket:exe,erc20Abi:m2,erc20Abi_bytes32:B4e,erc721Abi:R4e,erc1155Abi:k4e,erc4626Abi:D4e,erc6492SignatureValidatorAbi:f8,universalSignatureValidatorAbi:f8,multicall3Abi:g2,ethAddress:jj,zeroAddress:Po,zeroHash:X3e,deploylessCallViaBytecodeBytecode:R7,deploylessCallViaFactoryBytecode:VL,erc6492SignatureValidatorByteCode:D7,universalSignatureValidatorByteCode:D7,maxInt8:n6e,maxInt16:r6e,maxInt24:s6e,maxInt32:i6e,maxInt40:o6e,maxInt48:a6e,maxInt56:c6e,maxInt64:l6e,maxInt72:u6e,maxInt80:d6e,maxInt88:f6e,maxInt96:h6e,maxInt104:p6e,maxInt112:g6e,maxInt120:m6e,maxInt128:y6e,maxInt136:b6e,maxInt144:w6e,maxInt152:v6e,maxInt160:E6e,maxInt168:x6e,maxInt176:$6e,maxInt184:A6e,maxInt192:C6e,maxInt200:S6e,maxInt208:I6e,maxInt216:_6e,maxInt224:O6e,maxInt232:P6e,maxInt240:T6e,maxInt248:N6e,maxInt256:B6e,maxUint8:f8e,maxUint16:h8e,maxUint24:p8e,maxUint32:g8e,maxUint40:m8e,maxUint48:y8e,maxUint56:b8e,maxUint64:w8e,maxUint72:v8e,maxUint80:E8e,maxUint88:x8e,maxUint96:$8e,maxUint104:A8e,maxUint112:C8e,maxUint120:S8e,maxUint128:I8e,maxUint136:_8e,maxUint144:O8e,maxUint152:P8e,maxUint160:T8e,maxUint168:N8e,maxUint176:B8e,maxUint184:k8e,maxUint192:R8e,maxUint200:D8e,maxUint208:M8e,maxUint216:U8e,maxUint224:L8e,maxUint232:F8e,maxUint240:j8e,maxUint248:z8e,maxUint256:$1,minInt8:k6e,minInt16:R6e,minInt24:D6e,minInt32:M6e,minInt40:U6e,minInt48:L6e,minInt56:F6e,minInt64:j6e,minInt72:z6e,minInt80:H6e,minInt88:V6e,minInt96:q6e,minInt104:Z6e,minInt112:W6e,minInt120:K6e,minInt128:G6e,minInt136:Y6e,minInt144:X6e,minInt152:J6e,minInt160:Q6e,minInt168:e8e,minInt176:t8e,minInt184:n8e,minInt192:r8e,minInt200:s8e,minInt208:i8e,minInt216:o8e,minInt224:a8e,minInt232:c8e,minInt240:l8e,minInt248:u8e,minInt256:d8e,presignMessagePrefix:kF,etherUnits:t7,gweiUnits:n7,weiUnits:zwe,AbiConstructorNotFoundError:Ix,AbiConstructorParamsNotFoundError:e2,AbiDecodingDataSizeInvalidError:dwe,AbiDecodingDataSizeTooSmallError:_x,AbiDecodingZeroDataError:Kh,AbiEncodingArrayLengthMismatchError:nU,AbiEncodingBytesSizeMismatchError:rU,AbiEncodingLengthMismatchError:Ox,AbiErrorInputsNotFoundError:sU,AbiErrorNotFoundError:Px,AbiErrorSignatureNotFoundError:Tx,AbiEventNotFoundError:Bx,AbiEventSignatureEmptyTopicsError:iU,AbiEventSignatureNotFoundError:Nx,AbiFunctionNotFoundError:U0,AbiFunctionOutputsNotFoundError:kx,AbiFunctionSignatureNotFoundError:oU,BytesSizeMismatchError:Rx,DecodeLogDataMismatch:Gh,DecodeLogTopicsMismatch:t2,InvalidAbiDecodingTypeError:cU,InvalidAbiEncodingTypeError:aU,InvalidArrayError:Dx,InvalidDefinitionTypeError:lU,UnsupportedPackedAbiType:uU,InvalidAddressError:$n,BaseError:re,setErrorConfig:uwe,BlockNotFoundError:u7,BundleFailedError:QL,ChainDoesNotSupportContract:h8,ChainMismatchError:qL,ChainNotFoundError:ZL,ClientChainNotConfiguredError:U7,InvalidChainIdError:S1,CallExecutionError:o7,ContractFunctionExecutionError:a7,ContractFunctionRevertedError:M6,ContractFunctionZeroDataError:qU,CounterfactualDeploymentFailedError:ZU,RawContractError:o2,SizeExceedsPaddingSizeError:Ux,SliceOffsetOutOfBoundsError:Mx,IntegerOutOfRangeError:Lx,InvalidBytesBooleanError:pU,InvalidHexBooleanError:gU,InvalidHexValueError:mU,SizeOverflowError:yU,EnsAvatarInvalidNftUriError:O1,EnsAvatarUnsupportedNamespaceError:pF,EnsAvatarUriResolutionError:C8,EnsInvalidChainIdError:gF,EstimateGasExecutionError:JU,BaseFeeScalarError:nL,Eip1559FeesNotSupportedError:Y6,MaxFeePerGasTooLowError:rL,FilterTypeNotSupportedError:dU,ExecutionRevertedError:rd,FeeCapTooHighError:$l,FeeCapTooLowError:F6,InsufficientFundsError:V6,IntrinsicGasTooHighError:q6,IntrinsicGasTooLowError:Z6,NonceMaxValueError:H6,NonceTooHighError:j6,NonceTooLowError:z6,TipAboveFeeCapError:Z0,TransactionTypeNotSupportedError:W6,UnknownNodeError:E1,HttpRequestError:Xu,RpcRequestError:a2,SocketClosedError:c2,TimeoutError:U6,WebSocketRequestError:c7,AtomicityNotSupportedError:V0,AtomicReadyWalletRejectedUpgradeError:v1,BundleTooLargeError:w1,ChainDisconnectedError:p1,DuplicateIdError:y1,InternalRpcError:Ju,InvalidInputRpcError:Qu,InvalidParamsRpcError:a1,InvalidRequestRpcError:i1,JsonRpcVersionUnsupportedError:u1,LimitExceededRpcError:z0,MethodNotFoundRpcError:o1,MethodNotSupportedRpcError:ed,ParseRpcError:s1,ProviderDisconnectedError:h1,ProviderRpcError:Os,ResourceNotFoundRpcError:c1,ResourceUnavailableRpcError:l1,RpcError:Xr,SwitchChainError:g1,TransactionRejectedRpcError:j0,UnauthorizedProviderError:d1,UnknownBundleIdError:b1,UnknownRpcError:WU,UnsupportedChainIdError:m1,UnsupportedNonOptionalCapabilityError:H0,UnsupportedProviderMethodError:f1,UserRejectedRequestError:td,AccountStateConflictError:DU,StateAssignmentConflictError:MU,FeeConflictError:LU,InvalidLegacyVError:r7,InvalidSerializableTransactionError:FU,InvalidSerializedTransactionError:r1,InvalidSerializedTransactionTypeError:jU,InvalidStorageKeySizeError:zU,TransactionExecutionError:HU,TransactionNotFoundError:s7,TransactionReceiptNotFoundError:i7,WaitForTransactionReceiptTimeoutError:VU,UrlRequiredError:gA,InvalidDomainError:DF,InvalidPrimaryTypeError:MF,InvalidStructTypeError:UF,InvalidDecimalNumberError:Dj,EIP1193ProviderRpcError:txe,decodeAbiParameters:Yu,decodeDeployData:nxe,decodeErrorResult:e7,decodeEventLog:n8,decodeFunctionData:lF,decodeFunctionResult:sd,encodeAbiParameters:ya,encodeDeployData:y2,encodeErrorResult:X7,encodeEventTopics:e1,encodeFunctionData:_s,encodeFunctionResult:uF,encodePacked:x3e,getAbiItem:Gu,parseEventLogs:r8,prepareEncodeFunctionData:PU,checksumAddress:Jh,getAddress:_o,getContractAddress:$3e,getCreate2Address:CF,getCreateAddress:AF,isAddress:Vt,isAddressEqual:va,blobsToCommitments:Q6,blobsToProofs:e8,commitmentsToVersionedHashes:y7,commitmentToVersionedHash:m7,fromBlobs:rxe,sidecarsToVersionedHashes:sxe,toBlobSidecars:t8,toBlobs:fL,ccipRequest:I8,ccipFetch:I8,offchainLookup:OF,offchainLookupAbiItem:o$,offchainLookupSignature:_F,assertCurrentChain:y8,defineChain:Se,extractChain:U3e,getChainContractAddress:X0,concat:Gr,concatBytes:xU,concatHex:Ar,isBytes:n$,isHex:je,pad:So,padBytes:hU,padHex:Io,size:Ft,slice:xl,sliceBytes:Hx,sliceHex:Qh,trim:tr,bytesToBigInt:Yx,bytesToBool:Xx,bytesToNumber:Oo,bytesToString:Jx,fromBytes:kwe,fromHex:hwe,hexToBigInt:ze,hexToBool:Fx,hexToNumber:It,hexToString:bU,fromRlp:a$,boolToBytes:wU,hexToBytes:xn,numberToBytes:EU,stringToBytes:Ku,toBytes:Is,boolToHex:B6,bytesToHex:Nt,numberToHex:se,stringToHex:Wu,toHex:jt,bytesToRlp:Kwe,hexToRlp:Gwe,toRlp:gi,labelhash:hF,namehash:A8,toCoinType:oxe,getContractError:nd,defineBlock:h7,formatBlock:X6,formatLog:Ea,defineTransaction:f7,formatTransaction:A1,transactionType:d7,defineTransactionReceipt:tF,formatTransactionReceipt:v8,defineTransactionRequest:eL,formatTransactionRequest:ba,rpcTransactionType:QU,isHash:NF,keccak256:Jt,ripemd160:F3e,sha256:iL,toEventHash:k6,toEventSelector:Yh,getEventSelector:Yh,toEventSignature:n2,getEventSignature:n2,toFunctionHash:k6,toFunctionSelector:L0,getFunctionSelector:L0,toFunctionSignature:n2,getFunctionSignature:n2,defineKzg:Sz,setupKzg:axe,createNonceManager:BF,nonceManager:z3e,withCache:XL,withRetry:v2,withTimeout:c$,compactSignatureToSignature:cxe,hashMessage:O8,hashDomain:h$,hashStruct:p$,hashTypedData:f$,isErc6492Signature:VF,isErc8010Signature:Tj,hexToCompactSignature:Iz,parseCompactSignature:Iz,parseErc6492Signature:Ive,parseErc8010Signature:_ve,hexToSignature:_z,parseSignature:_z,recoverAddress:q0,recoverMessageAddress:Nj,recoverPublicKey:KU,recoverTransactionAddress:lxe,recoverTypedDataAddress:Bj,compactSignatureToHex:Oz,serializeCompactSignature:Oz,serializeErc6492Signature:Ove,serializeErc8010Signature:Pve,signatureToHex:dA,serializeSignature:dA,signatureToCompactSignature:uxe,toPrefixedMessage:RF,verifyHash:Tve,verifyMessage:Nve,verifyTypedData:Bve,stringify:Kt,assertRequest:Al,assertTransactionEIP1559:x2,assertTransactionEIP2930:r$,assertTransactionLegacy:s$,getSerializedTransactionType:kj,getTransactionType:w7,parseTransaction:Rj,serializeAccessList:P1,serializeTransaction:i$,domainSeparator:W3e,getTypesForEIP712Domain:P8,serializeTypedData:LF,validateTypedData:d$,formatEther:D6,formatGwei:Yr,formatUnits:s2,parseEther:Fve,parseGwei:jve,parseUnits:L$});async function U2(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}class L2{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await U2(i,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){const s=this.createUrl(r);return(await U2(s,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await U2(i,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await U2(i,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await U2(i,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){const r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon({body:t,...n}){const r=this.createUrl(n);return navigator.sendBeacon(r.toString(),t?JSON.stringify(t):void 0)}}const yA={getFeatureValue(e,t){const n=t?.[e];return n===void 0?Ye.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;if(oe.isTelegram()){if(oe.isIos())return e.filter(t=>t!=="google");if(oe.isMac())return e.filter(t=>t!=="x");if(oe.isAndroid())return e.filter(t=>!["facebook","x"].includes(t))}return e},isSocialsEnabled(){return Array.isArray(ee.state.features?.socials)&&ee.state.features?.socials.length>0||Array.isArray(ee.state.remoteFeatures?.socials)&&ee.state.remoteFeatures?.socials.length>0},isEmailEnabled(){return!!(ee.state.features?.email||ee.state.remoteFeatures?.email)}},Pe=Et({features:Ye.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Ye.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1}),ee={state:Pe,subscribeKey(e,t){return En(Pe,e,t)},setOptions(e){Object.assign(Pe,e)},setRemoteFeatures(e){if(!e)return;const t={...Pe.remoteFeatures,...e};Pe.remoteFeatures=t,Pe.remoteFeatures?.socials&&(Pe.remoteFeatures.socials=yA.filterSocialsByPlatform(Pe.remoteFeatures.socials)),Pe.features?.pay&&(Pe.remoteFeatures.email=!1,Pe.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;Pe.features||(Pe.features=Ye.DEFAULT_FEATURES);const t={...Pe.features,...e};Pe.features=t,Pe.features?.pay&&Pe.remoteFeatures&&(Pe.remoteFeatures.email=!1,Pe.remoteFeatures.socials=!1)},setProjectId(e){Pe.projectId=e},setCustomRpcUrls(e){Pe.customRpcUrls=e},setAllWallets(e){Pe.allWallets=e},setIncludeWalletIds(e){Pe.includeWalletIds=e},setExcludeWalletIds(e){Pe.excludeWalletIds=e},setFeaturedWalletIds(e){Pe.featuredWalletIds=e},setTokens(e){Pe.tokens=e},setTermsConditionsUrl(e){Pe.termsConditionsUrl=e},setPrivacyPolicyUrl(e){Pe.privacyPolicyUrl=e},setCustomWallets(e){Pe.customWallets=e},setIsSiweEnabled(e){Pe.isSiweEnabled=e},setIsUniversalProvider(e){Pe.isUniversalProvider=e},setSdkVersion(e){Pe.sdkVersion=e},setMetadata(e){Pe.metadata=e},setDisableAppend(e){Pe.disableAppend=e},setEIP6963Enabled(e){Pe.enableEIP6963=e},setDebug(e){Pe.debug=e},setEnableWalletGuide(e){Pe.enableWalletGuide=e},setEnableAuthLogger(e){Pe.enableAuthLogger=e},setEnableWallets(e){Pe.enableWallets=e},setPreferUniversalLinks(e){Pe.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(const[t,n]of Object.entries(Ye.SIWX_DEFAULTS))e[t]??=n;Pe.siwx=e},setConnectMethodsOrder(e){Pe.features={...Pe.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){Pe.features={...Pe.features,walletFeaturesOrder:e}},setSocialsOrder(e){Pe.remoteFeatures={...Pe.remoteFeatures,socials:e}},setCollapseWallets(e){Pe.features={...Pe.features,collapseWallets:e}},setEnableEmbedded(e){Pe.enableEmbedded=e},setAllowUnsupportedChain(e){Pe.allowUnsupportedChain=e},setManualWCControl(e){Pe.manualWCControl=e},setEnableNetworkSwitch(e){Pe.enableNetworkSwitch=e},setEnableMobileFullScreen(e){Pe.enableMobileFullScreen=oe.isMobile()&&e},setEnableReconnect(e){Pe.enableReconnect=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(Pe.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){Pe.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return Pe.universalProviderConfigOverride},getSnapshot(){return Jg(Pe)}},sf=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),An=Et({...sf}),it={state:An,subscribeKey(e,t){return En(An,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=oe.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){An.message=sf.message,An.variant=sf.variant,An.svg=sf.svg,An.open=sf.open,An.autoClose=sf.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=sf.autoClose}){An.open?(An.open=!1,setTimeout(()=>{An.message=e,An.variant=n,An.svg=t,An.open=!0,An.autoClose=r},150)):(An.message=e,An.variant=n,An.svg=t,An.open=!0,An.autoClose=r)}},fxe={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Pz=oe.getBlockchainApiUrl(),ks=Et({clientId:null,api:new L2({baseUrl:Pz,clientId:null}),supportedChains:{http:[],ws:[]}}),Be={state:ks,async get(e){const{st:t,sv:n}=Be.getSdkProperties(),r=ee.state.projectId,s={...e.params||{},st:t,sv:n,projectId:r};return ks.api.get({...e,params:s})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=ee.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{ks.supportedChains.http.length||await Be.getSupportedNetworks()}catch{return!1}return ks.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await Be.get({path:"v1/supported-chains"});return ks.supportedChains=e,e}catch{return ks.supportedChains}},async fetchIdentity({address:e}){const t=ce.getIdentityFromCacheForAddress(e);if(t)return t;const n=await Be.get({path:`/v1/identity/${e}`,params:{sender:F.state.activeCaipAddress?oe.getPlainAddress(F.state.activeCaipAddress):void 0}});return ce.updateIdentityCache({address:e,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:s}){if(!await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const o=ce.getTransactionsCacheForAddress({address:e,chainId:s});if(o)return o;const a=await Be.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:s},signal:n,cache:r});return ce.updateTransactionsCache({address:e,chainId:s,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:s}){return await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async fetchTokenPrice({addresses:e}){if(!await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const n=ce.getTokenPriceCacheForAddresses(e);if(n)return n;const r=await ks.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:ee.state.projectId},headers:{"Content-Type":"application/json"}});return ce.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){const{st:t,sv:n}=Be.getSdkProperties();if(!await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Be.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:s}){if(!await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ks.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:Ye.CONVERT_SLIPPAGE_TOLERANCE},projectId:ee.state.projectId,from:t,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){const{st:r,sv:s}=Be.getSdkProperties();if(!await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Be.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:s}})},async getBalance(e,t,n){const{st:r,sv:s}=Be.getSdkProperties();if(!await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId))return it.showError("Token Balance Unavailable"),{balances:[]};const o=`${t}:${e}`,a=ce.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Be.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:s}});return ce.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(e){return await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){if(!await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId))return[];const n=F.getAccountData()?.address;return Be.get({path:`/v1/profile/reverse/${e}`,params:{sender:n,apiVersion:"2"}})},async getEnsNameSuggestions(e){return await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){return await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId)?ks.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){return await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId)?(await ks.api.post({path:"/v1/generators/onrampurl",params:{projectId:ee.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){if(!await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Be.get({path:"/v1/onramp/options"})}catch{return fxe}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){try{return await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId)?await ks.api.post({path:"/v1/onramp/quote",params:{projectId:ee.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){return await Be.isNetworkSupported(F.state.activeCaipNetwork?.caipNetworkId)?ks.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:ee.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){ks.clientId=e,ks.api=new L2({baseUrl:Pz,clientId:e})}},hxe="https://secure.walletconnect.org/sdk";typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL,typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL,typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION;const yi={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Wi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},pxe={handleMobileDeeplinkRedirect(e,t){const n=window.location.href,r=encodeURIComponent(n);if(e===Wi.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${Wi.PHANTOM.url}/ul/browse/${r}?ref=${o}`}if(e===Wi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${Wi.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===te.CHAIN.SOLANA&&e===Wi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${Wi.COINBASE.url}/dapp?cb_url=${r}`),t===te.CHAIN.BITCOIN&&e===Wi.BINANCE.id&&!("binancew3w"in window)){const s=F.state.activeCaipNetwork,i=window.btoa("/pages/browser/index"),o=window.btoa(`url=${r}&defaultChainId=${s?.id??1}`),a=new URL(Wi.BINANCE.deeplink);a.searchParams.set("appId",Wi.BINANCE.appId),a.searchParams.set("startPagePath",i),a.searchParams.set("startPageQuery",o);const c=new URL(Wi.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},gxe=Object.freeze({enabled:!0,events:[]}),mxe=new L2({baseUrl:oe.getAnalyticsUrl(),clientId:null}),yxe=5,bxe=60*1e3,ud=Et({...gxe}),wxe={state:ud,subscribeKey(e,t){return En(ud,e,t)},async sendError(e,t){if(!ud.enabled)return;const n=Date.now();if(ud.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<bxe}).length>=yxe)return;const s={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};ud.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=ee.state;await mxe.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:oe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){ud.enabled=!0},disable(){ud.enabled=!1},clearEvents(){ud.events=[]}};class kl extends Error{constructor(t,n,r){super(t),this.originalName="AppKitError",this.name="AppKitError",this.category=n,this.originalError=r,r&&r instanceof Error&&(this.originalName=r.name),Object.setPrototypeOf(this,kl.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,kl):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function Tz(e,t){let n="";try{e instanceof Error?n=e.message:typeof e=="string"?n=e:typeof e=="object"&&e!==null?Object.keys(e).length===0?n="Unknown error":n=e?.message||JSON.stringify(e):n=String(e)}catch(s){n="Unknown error",console.error("Error parsing error message",s)}const r=e instanceof kl?e:new kl(n,t,e);throw wxe.sendError(r,r.category),r}function Rs(e,t="INTERNAL_SDK_ERROR"){const n={};return Object.keys(e).forEach(r=>{const s=e[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return Tz(a,t)}}:i=(...o)=>{try{return s(...o)}catch(a){return Tz(a,t)}},n[r]=i}else n[r]=s}),n}const bi=Et({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),ts=Rs({state:bi,subscribeNetworkImages(e){return vn(bi.networkImages,()=>e(bi.networkImages))},subscribeKey(e,t){return En(bi,e,t)},subscribe(e){return vn(bi,()=>e(bi))},setWalletImage(e,t){bi.walletImages[e]=t},setNetworkImage(e,t){bi.networkImages[e]=t},setChainImage(e,t){bi.chainImages[e]=t},setConnectorImage(e,t){bi.connectorImages={...bi.connectorImages,[e]:t}},setTokenImage(e,t){bi.tokenImages[e]=t},setCurrencyImage(e,t){bi.currencyImages[e]=t}}),vxe={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},bA=Et({networkImagePromises:{}}),wi={async fetchWalletImage(e){if(e)return await he._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(bA.networkImagePromises[e]||(bA.networkImagePromises[e]=he._fetchNetworkImage(e)),await bA.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return ts.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return ts.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return ts.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return ts.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.info?.icon)return e.info.icon;if(e?.imageId)return ts.state.connectorImages[e.imageId]},getChainImage(e){return ts.state.networkImages[vxe[e]]},getTokenImage(e){if(e)return ts.state.tokenImages[e]}},Exe=oe.getAnalyticsUrl(),xxe=new L2({baseUrl:Exe,clientId:null}),$xe=["MODAL_CREATED"],Axe=45,Nz=1e3*10,en=Et({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),Ie={state:en,subscribe(e){return vn(en,()=>e(en))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=ee.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},shouldFlushEvents(){const e=JSON.stringify(en.pendingEvents).length/1024>Axe,t=en.lastFlush+Nz<Date.now();return e||t},_setPendingEvent(e){try{let t=F.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),$xe.includes(e.data.event)||typeof window>"u")return;const n=F.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:oe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:n}}}),en.reportedErrors.FORBIDDEN=!1,Ie.shouldFlushEvents()&&Ie._submitPendingEvents()}catch(t){console.warn("_setPendingEvent",t)}},sendEvent(e){en.timestamp=Date.now(),en.data=e;const t=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(ee.state.features?.analytics||t.includes(e.event))&&Ie._setPendingEvent(en),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){en.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(t=>t.props.event!=="WALLET_IMPRESSION")}catch{return e}},_submitPendingEvents(){if(en.lastFlush=Date.now(),!(en.pendingEvents.length===0&&en.walletImpressions.length===0))try{const e=Ie._transformPendingEventsForBatch(en.pendingEvents);en.walletImpressions.length&&e.push({eventId:oe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION",items:[...en.walletImpressions]}}),xxe.sendBeacon({path:"/batch",params:Ie.getSdkProperties(),body:e}),en.reportedErrors.FORBIDDEN=!1,en.pendingEvents=[],en.walletImpressions=[]}catch{en.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){en.subscribedToVisibilityChange||typeof document>"u"||(en.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{document.visibilityState==="hidden"&&Ie._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{Ie._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{Ie._submitPendingEvents()}),setInterval(()=>{Ie._submitPendingEvents()},Nz))}},Cxe=oe.getApiUrl(),Ds=new L2({baseUrl:Cxe,clientId:null}),Sxe=40,Bz=4,Ixe=20,Ve=Et({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[]}),he={state:Ve,subscribeKey(e,t){return En(Ve,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=ee.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return ee.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${Ds.baseUrl}/getWalletImage/${e}`,n=await Ds.getBlob({path:t,params:he._getSdkProperties()});ts.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t=`${Ds.baseUrl}/public/getAssetImage/${e}`,n=await Ds.getBlob({path:t,params:he._getSdkProperties()});ts.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t=`${Ds.baseUrl}/public/getAssetImage/${e}`,n=await Ds.getBlob({path:t,params:he._getSdkProperties()});ts.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t=`${Ds.baseUrl}/public/getCurrencyImage/${e}`,n=await Ds.getBlob({path:t,params:he._getSdkProperties()});ts.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t=`${Ds.baseUrl}/public/getTokenImage/${e}`,n=await Ds.getBlob({path:t,params:he._getSdkProperties()});ts.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){const t=e.length,n=oe.isMobile()?e?.filter(s=>s.mobile_link||s.webapp_link?!0:Object.values(Wi).map(o=>o.id).includes(s.id)):e,r=t-n.length;return{filteredWallets:n,mobileFilteredOutWalletsLength:r}},async fetchProjectConfig(){return(await Ds.get({path:"/appkit/v1/config",params:he._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await Ds.get({path:"/projects/v1/origins",params:he._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){const t=e.cause.status;if(t===te.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=te.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){const t=F.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!wi.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>he._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:e}=ae.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>he._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>he._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>he._fetchTokenImage(t)))},async fetchWallets(e){const t=e.exclude??[];he._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(Wi).map(o=>o.id));const r=await Ds.get({path:"/getWallets",params:{...he._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:s,mobileFilteredOutWalletsLength:i}=he._filterWalletsByPlatform(r?.data);return{data:s||[],count:r?.count,mobileFilteredOutWalletsLength:i}},async prefetchWalletRanks(){const e=ae.state.connectors;if(!e?.length)return;const t={page:1,entries:20,badge:"certified"};if(t.names=e.map(s=>s.name).join(","),F.state.activeChain===te.CHAIN.EVM){const s=[...e.flatMap(i=>i.connectors?.map(o=>o.info?.rdns)||[]),...e.map(i=>i.info?.rdns)].filter(i=>typeof i=="string"&&i.length>0);s.length&&(t.rdns=s.join(","))}const{data:n}=await he.fetchWallets(t);Ve.explorerWallets=n;const r=F.getRequestedCaipNetworkIds().join(",");Ve.explorerFilteredWallets=n.filter(s=>s.chains?.some(i=>r.includes(i)))},async fetchFeaturedWallets(){const{featuredWalletIds:e}=ee.state;if(e?.length){const t={...he._getSdkProperties(),page:1,entries:e?.length??Bz,include:e},{data:n}=await he.fetchWallets(t),r=[...n].sort((i,o)=>e.indexOf(i.id)-e.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>he._fetchWalletImage(i))),Ve.featured=r,Ve.allFeatured=r}},async fetchRecommendedWallets(){try{Ve.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=ee.state,r=[...t??[],...n??[]].filter(Boolean),s=F.getRequestedCaipNetworkIds().join(","),i={page:1,entries:Bz,include:e,exclude:r,chains:s},{data:o,count:a}=await he.fetchWallets(i),c=ce.getRecentWallets(),l=o.map(f=>f.image_id).filter(Boolean),u=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(f=>he._fetchWalletImage(f))),Ve.recommended=o,Ve.allRecommended=o,Ve.count=a??0}catch{}finally{Ve.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=ee.state,s=F.getRequestedCaipNetworkIds().join(","),i=[...Ve.recommended.map(({id:f})=>f),...n??[],...r??[]].filter(Boolean),o={page:e,entries:Sxe,include:t,exclude:i,chains:s},{data:a,count:c,mobileFilteredOutWalletsLength:l}=await he.fetchWallets(o);Ve.mobileFilteredOutWalletsLength=l+(Ve.mobileFilteredOutWalletsLength??0);const u=a.slice(0,Ixe).map(f=>f.image_id).filter(Boolean);await Promise.allSettled(u.map(f=>he._fetchWalletImage(f))),Ve.wallets=oe.uniqueBy([...Ve.wallets,...he._filterOutExtensions(a)],"id").filter(f=>f.chains?.some(d=>s.includes(d))),Ve.count=c>Ve.count?c:Ve.count,Ve.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:n}=await he.fetchWallets(t);n&&n.forEach(r=>{Ve.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:n,excludeWalletIds:r}=ee.state,s=F.getRequestedCaipNetworkIds().join(",");Ve.search=[];const i={page:1,entries:100,search:e?.trim(),badge_type:t,include:n,exclude:r,chains:s},{data:o}=await he.fetchWallets(i);Ie.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>he._fetchWalletImage(c)),oe.wait(300)]),Ve.search=he._filterOutExtensions(o)},initPromise(e,t){const n=Ve.promises[e];return n||(Ve.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0,fetchWalletRanks:s=!0}={}){const i=[e&&he.initPromise("connectorImages",he.fetchConnectorImages),t&&he.initPromise("featuredWallets",he.fetchFeaturedWallets),n&&he.initPromise("recommendedWallets",he.fetchRecommendedWallets),r&&he.initPromise("networkImages",he.fetchNetworkImages),s&&he.initPromise("walletRanks",he.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){ee.state.features?.analytics&&he.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await Ds.get({path:"/getAnalyticsConfig",params:he._getSdkProperties()});ee.setFeatures({analytics:e})}catch{ee.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){Ve.featured=Ve.allFeatured,Ve.recommended=Ve.allRecommended;return}const t=F.getRequestedCaipNetworkIds().join(",");Ve.featured=Ve.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),Ve.recommended=Ve.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),Ve.filteredWallets=Ve.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))},clearFilterByNamespaces(){Ve.filteredWallets=[]},setFilterByNamespace(e){if(!e){Ve.featured=Ve.allFeatured,Ve.recommended=Ve.allRecommended;return}const t=F.getRequestedCaipNetworkIds().join(",");Ve.featured=Ve.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),Ve.recommended=Ve.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),Ve.filteredWallets=Ve.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))}},mt=Et({view:"Connect",history:["Connect"],transactionStack:[]}),ne=Rs({state:mt,subscribeKey(e,t){return En(mt,e,t)},pushTransactionStack(e){mt.transactionStack.push(e)},popTransactionStack(e){const t=mt.transactionStack.pop();if(!t)return;const{onSuccess:n,onError:r,onCancel:s}=t;switch(e){case"success":n?.();break;case"error":r?.(),ne.goBack();break;case"cancel":s?.(),ne.goBack();break}},push(e,t){e!==mt.view&&(mt.view=e,mt.history.push(e),mt.data=t)},reset(e,t){mt.view=e,mt.history=[e],mt.data=t},replace(e,t){mt.history.at(-1)===e||(mt.view=e,mt.history[mt.history.length-1]=e,mt.data=t)},goBack(){const e=F.state.activeCaipAddress,t=ne.state.view==="ConnectingFarcaster",n=!e&&t;if(mt.history.length>1){mt.history.pop();const[r]=mt.history.slice(-1);r&&(e&&r==="Connect"?mt.view="Account":mt.view=r)}else Fe.close();mt.data?.wallet&&(mt.data.wallet=void 0),mt.data?.redirectView&&(mt.data.redirectView=void 0),setTimeout(()=>{if(n){F.setAccountProp("farcasterUrl",void 0,F.state.activeChain);const r=ae.getAuthConnector();r?.provider?.reload();const s=Jg(ee.state);r?.provider?.syncDappData?.({metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType})}},100)},goBackToIndex(e){if(mt.history.length>1){mt.history=mt.history.slice(0,e+1);const[t]=mt.history.slice(-1);t&&(mt.view=t)}},goBackOrCloseModal(){ne.state.history.length>1?ne.goBack():Fe.close()}}),Rl=Et({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),wA={state:Rl,subscribe(e){return vn(Rl,()=>e(Rl))},setThemeMode(e){Rl.themeMode=e;try{const t=ae.getAuthConnector();if(t){const n=wA.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:C6(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){Rl.themeVariables={...Rl.themeVariables,...e};try{const t=ae.getAuthConnector();if(t){const n=wA.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:C6(Rl.themeVariables,Rl.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Jg(Rl)}},sr=Rs(wA),kz=Object.fromEntries(wM.map(e=>[e,void 0])),_xe=Object.fromEntries(wM.map(e=>[e,!0])),ut=Et({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:kz,filterByNamespaceMap:_xe}),ae=Rs({state:ut,subscribe(e){return vn(ut,()=>{e(ut)})},subscribeKey(e,t){return En(ut,e,t)},initialize(e){e.forEach(t=>{const n=ce.getConnectedConnectorId(t);n&&ae.setConnectorId(n,t)})},setActiveConnector(e){e&&(ut.activeConnector=Zh(e))},setConnectors(e){e.filter(s=>!ut.allConnectors.some(i=>i.id===s.id&&ae.getConnectorName(i.name)===ae.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&ut.allConnectors.push(Zh(s))});const n=ae.getEnabledNamespaces(),r=ae.getEnabledConnectors(n);ut.connectors=ae.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(ut.filterByNamespaceMap).forEach(t=>{ut.filterByNamespaceMap[t]=!1}),e.forEach(t=>{ut.filterByNamespaceMap[t]=!0}),ae.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){ut.filterByNamespaceMap[e]=t,ae.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=ae.getEnabledNamespaces(),t=ae.getEnabledConnectors(e),n=ae.areAllNamespacesEnabled();ut.connectors=ae.mergeMultiChainConnectors(t),n?he.clearFilterByNamespaces():he.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(ut.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return ut.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(ut.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=ae.generateConnectorMapByName(e),n=[];return t.forEach(r=>{const s=r[0],i=s?.id===te.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:s?.id||""}):s&&n.push(s)}),n},generateConnectorMapByName(e){const t=new Map;return e.forEach(n=>{const{name:r}=n,s=ae.getConnectorName(r);if(!s)return;const i=t.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),t.set(s,i)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){if(e.id===te.CONNECTOR_ID.AUTH){const t=e,n=Jg(ee.state),r=sr.getSnapshot().themeMode,s=sr.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),t?.provider?.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:C6(s,r)}),ae.setConnectors([e])}else ae.setConnectors([e])},getAuthConnector(e){const t=e||F.state.activeChain,n=ut.connectors.find(r=>r.id===te.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(s=>s.chain===t):n},getAnnouncedConnectorRdns(){return ut.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return ut.allConnectors.find(t=>t.id===e)},getConnector({id:e,rdns:t,namespace:n}){const r=n||F.state.activeChain;return ut.allConnectors.filter(i=>i.chain===r).find(i=>i.explorerId===e||i.info?.rdns===t)},syncIfAuthConnector(e){if(e.id!=="ID_AUTH")return;const t=e,n=Jg(ee.state),r=sr.getSnapshot().themeMode,s=sr.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:C6(s,r)})},getConnectorsByNamespace(e){const t=ut.allConnectors.filter(n=>n.chain===e);return ae.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return F.checkIfSmartAccountEnabled()&&Cr(e)===yi.ACCOUNT_TYPES.EOA},selectWalletConnector(e){const t=ne.state.data?.redirectView,n=ae.getConnector({id:e.id,rdns:e.rdns});pxe.handleMobileDeeplinkRedirect(n?.explorerId||e.id,F.state.activeChain),n?ne.push("ConnectingExternal",{connector:n,wallet:e,redirectView:t}):ne.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors(e){return e?ae.getConnectorsByNamespace(e):ae.mergeMultiChainConnectors(ut.allConnectors)},setFilterByNamespace(e){ut.filterByNamespace=e,ut.connectors=ae.getConnectors(e),he.setFilterByNamespace(e)},setConnectorId(e,t){e&&(ut.activeConnectorIds={...ut.activeConnectorIds,[t]:e},ce.setConnectedConnectorId(t,e))},removeConnectorId(e){ut.activeConnectorIds={...ut.activeConnectorIds,[e]:void 0},ce.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return ut.activeConnectorIds[e]},isConnected(e){return e?!!ut.activeConnectorIds[e]:Object.values(ut.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){ut.activeConnectorIds={...kz}}}),Oxe=1e3,F2={checkNamespaceConnectorId(e,t){return ae.getConnectorId(e)===t},isSocialProvider(e){return Ye.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(e&&ae.setActiveConnector(t),s?.(oe.isMobile()&&e),r){const l=Fe.subscribeKey("open",u=>{u||(ne.state.view!==r&&ne.replace(r),l(),a(new Error("Modal closed")))})}const c=F.subscribeKey("activeCaipAddress",l=>{l&&(i?.(),n&&Fe.close(),c(),o(er.parseCaipAddress(l)))})})},connectExternal(e){return new Promise((t,n)=>{const r=F.subscribeKey("activeCaipAddress",s=>{s&&(Fe.close(),r(),t(er.parseCaipAddress(s)))});ie.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:s}){const i=F.getAccountData(t);let o=i?.socialWindow,a=i?.socialProvider,c=!1,l=null;const u=t||F.state.activeChain,f=F.subscribeKey("activeCaipAddress",d=>{d&&(n&&Fe.close(),f())});return new Promise((d,h)=>{async function p(y){if(y.data?.resultUri)if(y.origin===te.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",p,!1);try{const $=ae.getAuthConnector(u);if($&&!c){const _=F.getAccountData(u);o&&(o.close(),F.setAccountProp("socialWindow",void 0,u),o=_?.socialWindow),c=!0;const x=y.data.resultUri;if(a&&Ie.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:a}}),a){ce.setConnectedSocialProvider(a),await ie.connectExternal({id:$.id,type:$.type,socialUri:x},$.chain);const E=F.state.activeCaipAddress;if(!E){h(new Error("Failed to connect"));return}d(er.parseCaipAddress(E)),Ie.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:a}})}}}catch($){a&&Ie.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:a,message:oe.parseError($)}}),h(new Error("Failed to connect"))}}else a&&Ie.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:a,message:"Untrusted Origin"}})}async function g(){if(e){const y=F.getAccountData(u);F.setAccountProp("socialProvider",e,u),a=y?.socialProvider,Ie.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:a}})}if(a==="farcaster"){r?.();const y=Fe.subscribeKey("open",_=>{!_&&e==="farcaster"&&(h(new Error("Popup closed")),s?.(),y())}),$=ae.getAuthConnector();if($&&!F.getAccountData(u)?.farcasterUrl)try{const{url:x}=await $.provider.getFarcasterUri();F.setAccountProp("farcasterUrl",x,u)}catch{h(new Error("Failed to connect to farcaster"))}}else{const y=ae.getAuthConnector();l=oe.returnOpenHref(`${te.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(y&&a){const{uri:$}=await y.provider.getSocialRedirectUri({provider:a});if(l&&$){F.setAccountProp("socialWindow",Zh(l),u),o=i?.socialWindow,l.location.href=$;const _=setInterval(()=>{o?.closed&&!c&&(h(new Error("Popup closed")),clearInterval(_))},1e3);window.addEventListener("message",p,!1)}else l?.close(),h(new Error("Failed to initiate social connection"))}}catch{h(new Error("Failed to initiate social connection")),l?.close()}}}g()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n?.(),t){const a=Fe.subscribeKey("open",c=>{c||(ne.state.view!==t&&ne.replace(t),a(),i(new Error("Modal closed")))})}const o=F.subscribeKey("activeCaipAddress",a=>{a&&(r?.(),e&&Fe.close(),o(),s(er.parseCaipAddress(a)))})})},async updateEmail(){const e=ce.getConnectedConnectorId(F.state.activeChain),t=ae.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==te.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=t.provider.getEmail()??"";return await Fe.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,s)=>{const i=setInterval(()=>{const a=t.provider.getEmail()??"";a!==n&&(Fe.close(),clearInterval(i),o(),r({email:a}))},Oxe),o=Fe.subscribeKey("open",a=>{a||(ne.state.view!=="Connect"&&ne.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return F.checkIfSmartAccountEnabled()&&Cr(e)===yi.ACCOUNT_TYPES.EOA}};function vA(){const e=F.state.activeCaipNetwork?.chainNamespace||"eip155",t=F.state.activeCaipNetwork?.id||1,n=Ye.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function Cr(e){return F.getAccountData(e)?.preferredAccountType}function j2(e){return e?F.state.chains.get(e)?.networkState?.caipNetwork:F.state.activeCaipNetwork}const Z8={getConnectionStatus(e,t){const n=ae.state.activeConnectorIds[t],r=ie.getConnections(t);return!!n&&e.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if((t?r.connectorId.toLowerCase()===t.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(e,t){const n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){const t=!!ee.state.remoteFeatures?.multiWallet,n=ae.state.activeConnectorIds[e],r=ie.getConnections(e),i=(ie.state.recentConnections.get(e)??[]).filter(a=>ae.getConnectorById(a.connectorId)),o=Z8.excludeExistingConnections([...r.map(a=>a.connectorId),...n?[n]:[]],i);return t?{connections:r,recentConnections:o}:{connections:r.filter(a=>a.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}},qt=Et({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),W8=Rs({state:qt,subscribe(e){return vn(qt,()=>e(qt))},setLastNetworkInView(e){qt.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");qt.loading=!0;try{const t=await Be.fetchTransactions({account:e,cursor:qt.next,chainId:F.state.activeCaipNetwork?.caipNetworkId}),n=W8.filterSpamTransactions(t.data),r=W8.filterByConnectedChain(n),s=[...qt.transactions,...r];qt.loading=!1,qt.transactions=s,qt.transactionsByYear=W8.groupTransactionsByYearAndMonth(qt.transactionsByYear,r),qt.empty=s.length===0,qt.next=t.next?t.next:void 0}catch{const n=F.state.activeChain;Ie.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:ee.state.projectId,cursor:qt.next,isSmartAccount:Cr(n)===yi.ACCOUNT_TYPES.SMART_ACCOUNT}}),it.showError("Failed to fetch transactions"),qt.loading=!1,qt.empty=!0,qt.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const n=e;return t.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){const t=F.state.activeCaipNetwork?.caipNetworkId;return e.filter(r=>r.metadata.chain===t)},clearCursor(){qt.next=void 0},resetTransactions(){qt.transactions=[],qt.transactionsByYear={},qt.lastNetworkInView=void 0,qt.loading=!1,qt.empty=!1,qt.next=void 0}},"API_ERROR"),dt=Et({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let of;const ie=Rs({state:dt,subscribe(e){return vn(dt,()=>e(dt))},subscribeKey(e,t){return En(dt,e,t)},_getClient(){return dt._client},setClient(e){dt._client=Zh(e)},initialize(e){const t=e.filter(n=>!!n.namespace).map(n=>n.namespace);ie.syncStorageConnections(t)},syncStorageConnections(e){const t=ce.getConnections(),n=e??Array.from(F.state.chains.keys());for(const r of n){const s=t[r]??[],i=new Map(dt.recentConnections);i.set(r,s),dt.recentConnections=i}},getConnections(e){return e?dt.connections.get(e)??[]:[]},hasAnyConnection(e){const t=ie.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect({cache:e="auto"}={}){const t=oe.isTelegram()||oe.isSafari()&&oe.isIos();if(e==="always"||e==="auto"&&t){if(of){await of,of=void 0;return}if(!oe.isPairingExpired(dt?.wcPairingExpiry)){const n=dt.wcUri;dt.wcUri=n;return}of=ie._getClient()?.connectWalletConnect?.().catch(()=>{}),ie.state.status="connecting",await of,of=void 0,dt.wcPairingExpiry=void 0,ie.state.status="connected"}else await ie._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,n=!0){const r=await ie._getClient()?.connectExternal?.(e);return n&&F.setActiveNamespace(t),r},async reconnectExternal(e){await ie._getClient()?.reconnectExternal?.(e);const t=e.chain||F.state.activeChain;t&&ae.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;Fe.setLoading(!0,F.state.activeChain);const n=ae.getAuthConnector();n&&(F.setAccountProp("preferredAccountType",e,t),await n.provider.setPreferredAccount(e),ce.setPreferredAccountTypes(Object.entries(F.state.chains).reduce((r,[s,i])=>{const o=s,a=Cr(o);return a!==void 0&&(r[o]=a),r},{})),await ie.reconnectExternal(n),Fe.setLoading(!1,F.state.activeChain),Ie.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:F.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return ie._getClient()?.signMessage(e)},parseUnits(e,t){return ie._getClient()?.parseUnits(e,t)},formatUnits(e,t){return ie._getClient()?.formatUnits(e,t)},updateBalance(e){return ie._getClient()?.updateBalance(e)},async sendTransaction(e){return ie._getClient()?.sendTransaction(e)},async getCapabilities(e){return ie._getClient()?.getCapabilities(e)},async grantPermissions(e){return ie._getClient()?.grantPermissions(e)},async walletGetAssets(e){return ie._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return ie._getClient()?.estimateGas(e)},async writeContract(e){return ie._getClient()?.writeContract(e)},async getEnsAddress(e){return ie._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return ie._getClient()?.getEnsAvatar(e)},checkInstalled(e){return ie._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){dt.wcUri=void 0,dt.wcPairingExpiry=void 0,dt.wcLinking=void 0,dt.recentWallet=void 0,dt.status="disconnected",W8.resetTransactions(),ce.deleteWalletConnectDeepLink(),ce.deleteRecentWallet()},resetUri(){dt.wcUri=void 0,dt.wcPairingExpiry=void 0,of=void 0},finalizeWcConnection(e){const{wcLinking:t,recentWallet:n}=ie.state;t&&ce.setWalletConnectDeepLink(t),n&&ce.setAppKitRecent(n),e&&Ie.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:ne.state.data?.wallet?.name||"Unknown",view:ne.state.view,walletRank:n?.order}})},setWcBasic(e){dt.wcBasic=e},setUri(e){dt.wcUri=e,dt.wcPairingExpiry=oe.getPairingExpiry()},setWcLinking(e){dt.wcLinking=e},setWcError(e){dt.wcError=e,dt.buffering=!1},setRecentWallet(e){dt.recentWallet=e},setBuffering(e){dt.buffering=e},setStatus(e){dt.status=e},setIsSwitchingConnection(e){dt.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){try{await ie._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:n})}catch(r){throw new kl("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},async disconnectConnector({id:e,namespace:t}){try{await ie._getClient()?.disconnectConnector({id:e,namespace:t})}catch(n){throw new kl("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(e,t){const n=new Map(dt.connections);n.set(t,e),dt.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){const r=F.getAccountData(t)?.user?.accounts?.find(i=>i.type==="smartAccount"),s=r&&r.address.toLowerCase()===e.toLowerCase()&&F2.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await ie.setPreferredAccountType(s,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){const r=ae.getConnectorById(e.connectorId),s=e.connectorId===te.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(s)s&&n&&await ie.handleAuthAccountSwitch({address:n,namespace:t});else return(await ie.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t))?.address;return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){const s=ae.getConnectorById(e.connectorId),i=e.auth?.name?.toLowerCase(),o=e.connectorId===te.CONNECTOR_ID.AUTH,a=e.connectorId===te.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${e.connectorId}`);let c;if(o)if(i&&F2.isSocialProvider(i)){const{address:l}=await F2.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){Fe.open({view:"ConnectingFarcaster"})},onConnect(){ne.replace("ProfileWallets")}});c=l}else{const{address:l}=await F2.connectEmail({closeModalOnConnect:r,onOpen(){Fe.open({view:"EmailLogin"})},onConnect(){ne.replace("ProfileWallets")}});c=l}else if(a){const{address:l}=await F2.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(u){const f=u?"AllWallets":"ConnectingWalletConnect";Fe.state.open?ne.push(f):Fe.open({view:f})},onConnect(){ne.replace("ProfileWallets")}});c=l}else{const l=await ie.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:t},t);l&&(c=l.address)}return o&&n&&await ie.handleAuthAccountSwitch({address:n,namespace:t}),c},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:s}){let i;const o=F.getAccountData(n)?.caipAddress;if(o){const{address:c}=er.parseCaipAddress(o);i=c}const a=Z8.getConnectionStatus(e,n);switch(a){case"connected":case"active":{const c=await ie.handleActiveConnection({connection:e,namespace:n,address:t});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s?.({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await ie.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});c&&s?.({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}}),EA={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return s2(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}};let xA;async function Rz(){if(!xA){const{createPublicClient:e,http:t,defineChain:n}=await Promise.resolve().then(function(){return dxe});xA={createPublicClient:e,http:t,defineChain:n}}return xA}const $A={getBlockchainApiRpcUrl(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()},async getViemChain(e){const{defineChain:t}=await Rz(),{chainId:n}=er.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(n)})},async createViemPublicClient(e){const{createPublicClient:t,http:n}=await Rz(),r=ee.state.projectId,s=await $A.getViemChain(e);if(!s)throw new Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:s,transport:n($A.getBlockchainApiRpcUrl(e.caipNetworkId,r))})}},K8={async getMyTokensWithBalance(e){const t=F.getAccountData()?.address,n=F.state.activeCaipNetwork,r=ae.getConnectorId("eip155")===te.CONNECTOR_ID.AUTH;if(!t||!n)return[];const s=`${n.caipNetworkId}:${t}`,i=ce.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace===te.CHAIN.EVM&&r){const a=await this.getEIP155Balances(t,n);if(a)return this.filterLowQualityTokens(a)}const o=await Be.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(e,t){try{const n=EA.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await ie.getCapabilities(e))?.[n]?.assetDiscovery?.supported)return null;const s=await ie.walletGetAssets({account:e,chainFilter:[n]});if(!EA.isWalletGetAssetsResponse(s))return null;const o=(s[n]||[]).map(a=>EA.createBalance(a,t.caipNetworkId));return ce.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:o},timestamp:Date.now()}),o}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:n}){const r=await $A.createViemPublicClient(n),{address:s}=er.parseCaipAddress(e),[{result:i},{result:o},{result:a},{result:c}]=await r.multicall({contracts:[{address:t,functionName:"name",args:[],abi:m2},{address:t,functionName:"symbol",args:[],abi:m2},{address:t,functionName:"balanceOf",args:[s],abi:m2},{address:t,functionName:"decimals",args:[],abi:m2}]});return{name:i,symbol:o,decimals:c,balance:a&&c?s2(a,c):"0"}}},D1=Et({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Dl={state:D1,subscribe(e){return vn(D1,()=>e(D1))},subscribeOpen(e){return En(D1,"open",e)},set(e){Object.assign(D1,{...D1,...e})}},M1={async getTokenList(e){return(await Be.fetchSwapTokens({chainId:e}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const e=F.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":const t=(await ie?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:t,fast:t,instant:t};case"eip155":default:return await Be.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Be.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(s?.allowance&&n&&r){const i=ie.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(e){const t=await K8.getMyTokensWithBalance(e);return F.setAccountProp("tokenBalance",t,F.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:vA(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]},async handleSwapError(e){try{const t=e?.cause;return t?.json&&(await t.json())?.reasons?.[0]?.description?.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}},st=Et({tokenBalances:[],loading:!1}),Xe=Rs({state:st,subscribe(e){return vn(st,()=>e(st))},subscribeKey(e,t){return En(st,e,t)},setToken(e){e&&(st.token=Zh(e))},setTokenAmount(e){st.sendTokenAmount=e},setReceiverAddress(e){st.receiverAddress=e},setReceiverProfileImageUrl(e){st.receiverProfileImageUrl=e},setReceiverProfileName(e){st.receiverProfileName=e},setNetworkBalanceInUsd(e){st.networkBalanceInUSD=e},setLoading(e){st.loading=e},getSdkEventProperties(e){return{message:oe.parseError(e),isSmartAccount:Cr(F.state.activeChain)===yi.ACCOUNT_TYPES.SMART_ACCOUNT,token:st.token?.symbol||"",amount:st.sendTokenAmount??0,network:F.state.activeCaipNetwork?.caipNetworkId||""}},async sendToken(){try{switch(Xe.setLoading(!0),F.state.activeCaipNetwork?.chainNamespace){case"eip155":await Xe.sendEvmToken();return;case"solana":await Xe.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw ma.isUserRejectedRequestError(e)?new $M(e):e}finally{Xe.setLoading(!1)}},async sendEvmToken(){const e=F.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const t=Cr(e);if(!Xe.state.sendTokenAmount||!Xe.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Xe.state.token)throw new Error("A token is required");if(Xe.state.token?.address){Ie.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===yi.ACCOUNT_TYPES.SMART_ACCOUNT,token:Xe.state.token.address,amount:Xe.state.sendTokenAmount,network:F.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await Xe.sendERC20Token({receiverAddress:Xe.state.receiverAddress,tokenAddress:Xe.state.token.address,sendTokenAmount:Xe.state.sendTokenAmount,decimals:Xe.state.token.quantity.decimals});n&&(st.hash=n)}else{Ie.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===yi.ACCOUNT_TYPES.SMART_ACCOUNT,token:Xe.state.token.symbol||"",amount:Xe.state.sendTokenAmount,network:F.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await Xe.sendNativeToken({receiverAddress:Xe.state.receiverAddress,sendTokenAmount:Xe.state.sendTokenAmount,decimals:Xe.state.token.quantity.decimals});n&&(st.hash=n)}},async fetchTokenBalance(e){st.loading=!0;const t=F.state.activeChain,n=F.state.activeCaipNetwork?.caipNetworkId,r=F.state.activeCaipNetwork?.chainNamespace,s=F.getAccountData(t)?.caipAddress??F.state.activeCaipAddress,i=s?oe.getPlainAddress(s):void 0;if(st.lastRetry&&!oe.isAllowedRetry(st.lastRetry,30*Ye.ONE_SEC_MS))return st.loading=!1,[];try{if(i&&n&&r){const o=await K8.getMyTokensWithBalance();return st.tokenBalances=o,st.lastRetry=void 0,o}}catch(o){st.lastRetry=Date.now(),e?.(o),it.showError("Token Balance Unavailable")}finally{st.loading=!1}return[]},fetchNetworkBalance(){if(st.tokenBalances.length===0)return;const e=M1.mapBalancesToSwapTokens(st.tokenBalances);if(!e)return;const t=e.find(n=>n.address===vA());t&&(st.networkBalanceInUSD=t?dn.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){ne.pushTransactionStack({});const t=e.receiverAddress,n=F.getAccountData()?.address,r=ie.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),i=await ie.sendTransaction({chainNamespace:te.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)});return Ie.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Cr("eip155")===yi.ACCOUNT_TYPES.SMART_ACCOUNT,token:Xe.state.token?.symbol||"",amount:e.sendTokenAmount,network:F.state.activeCaipNetwork?.caipNetworkId||"",hash:i||""}}),ie._getClient()?.updateBalance("eip155"),Xe.resetSend(),{hash:i}},async sendERC20Token(e){ne.pushTransactionStack({onSuccess(){ne.replace("Account")}});const t=ie.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),n=F.getAccountData()?.address;if(n&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const r=oe.getPlainAddress(e.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");const s=await ie.writeContract({fromAddress:n,tokenAddress:r,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:ybe.getERC20Abi(r),chainNamespace:te.CHAIN.EVM});return Ie.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Cr("eip155")===yi.ACCOUNT_TYPES.SMART_ACCOUNT,token:Xe.state.token?.symbol||"",amount:e.sendTokenAmount,network:F.state.activeCaipNetwork?.caipNetworkId||"",hash:s||""}}),Xe.resetSend(),{hash:s}}return{hash:void 0}},async sendSolanaToken(){if(!Xe.state.sendTokenAmount||!Xe.state.receiverAddress)throw new Error("An amount and receiver address are required");ne.pushTransactionStack({onSuccess(){ne.replace("Account")}});let e;Xe.state.token&&Xe.state.token.address!==Ye.SOLANA_NATIVE_TOKEN_ADDRESS&&(oe.isCaipAddress(Xe.state.token.address)?e=oe.getPlainAddress(Xe.state.token.address):e=Xe.state.token.address);const t=await ie.sendTransaction({chainNamespace:"solana",tokenMint:e,to:Xe.state.receiverAddress,value:Xe.state.sendTokenAmount});t&&(st.hash=t),ie._getClient()?.updateBalance("solana"),Xe.resetSend()},resetSend(){st.token=void 0,st.sendTokenAmount=void 0,st.receiverAddress=void 0,st.receiverProfileImageUrl=void 0,st.receiverProfileName=void 0,st.loading=!1,st.tokenBalances=[]}}),AA={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},G8={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ye=Et({chains:Tbe(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),Dz={state:ye,subscribe(e){return vn(ye,()=>{e(ye)})},subscribeKey(e,t){return En(ye,e,t)},subscribeAccountStateProp(e,t,n){const r=n||ye.activeChain;return r?En(ye.chains.get(r)?.accountState||{},e,t):()=>{}},subscribeChainProp(e,t,n){let r;return vn(ye.chains,()=>{const s=n||ye.activeChain;if(s){const i=ye.chains.get(s)?.[e];r!==i&&(r=i,t(i))}})},initialize(e,t,n){const{chainId:r,namespace:s}=ce.getActiveNetworkProps(),i=t?.find(u=>u.id.toString()===r?.toString()),a=e.find(u=>u?.namespace===s)||e?.[0],c=e.map(u=>u.namespace).filter(u=>u!==void 0),l=ee.state.enableEmbedded?new Set([...c]):new Set([...t?.map(u=>u.chainNamespace)??[]]);(e?.length===0||!a)&&(ye.noAdapters=!0),ye.noAdapters||(ye.activeChain=a?.namespace,ye.activeCaipNetwork=i,F.setChainNetworkData(a?.namespace,{caipNetwork:i}),ye.activeChain&&Dl.set({activeChain:a?.namespace})),l.forEach(u=>{const f=t?.filter(p=>p.chainNamespace===u),d=ce.getPreferredAccountTypes()||{},h={...ee.state.defaultAccountTypes,...d};F.state.chains.set(u,{namespace:u,networkState:Et({...G8,caipNetwork:f?.[0]}),accountState:Et({...AA,preferredAccountType:h[u]}),caipNetworks:f??[],...n}),F.setRequestedCaipNetworks(f??[],u)})},removeAdapter(e){if(ye.activeChain===e){const t=Array.from(ye.chains.entries()).find(([n])=>n!==e);if(t){const n=t[1]?.caipNetworks?.[0];n&&F.setActiveCaipNetwork(n)}}ye.chains.delete(e)},addAdapter(e,{networkControllerClient:t,connectionControllerClient:n},r){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");ye.chains.set(e.namespace,{namespace:e.namespace,networkState:{...G8,caipNetwork:r[0]},accountState:{...AA},caipNetworks:r,connectionControllerClient:n,networkControllerClient:t}),F.setRequestedCaipNetworks(r?.filter(s=>s.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){const t=ye.chains.get(e.chainNamespace);if(t){const n=[...t.caipNetworks||[]];t.caipNetworks?.find(r=>r.id===e.id)||n.push(e),ye.chains.set(e.chainNamespace,{...t,caipNetworks:n}),F.setRequestedCaipNetworks(n,e.chainNamespace),ae.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){const n=ye.chains.get(e);if(n){const r=ye.activeCaipNetwork?.id===t,s=[...n.caipNetworks?.filter(i=>i.id!==t)||[]];r&&n?.caipNetworks?.[0]&&F.setActiveCaipNetwork(n.caipNetworks[0]),ye.chains.set(e,{...n,caipNetworks:s}),F.setRequestedCaipNetworks(s||[],e),s.length===0&&ae.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const n=ye.chains.get(e);n&&(n.networkState={...n.networkState||G8,...t},ye.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");const r=ye.chains.get(e);if(r){const s={...r.accountState||AA,...t};ye.chains.set(e,{...r,accountState:s}),(ye.chains.size===1||ye.activeChain===e)&&t.caipAddress&&(ye.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;const n=ye.chains.get(e);if(n){const r={...n.networkState||G8,...t};ye.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){F.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){ye.activeChain=e;const t=e?ye.chains.get(e):void 0,n=t?.networkState?.caipNetwork;n?.id&&e&&(ye.activeCaipAddress=t?.accountState?.caipAddress,ye.activeCaipNetwork=n,F.setChainNetworkData(e,{caipNetwork:n}),ce.setActiveCaipNetworkId(n?.caipNetworkId),Dl.set({activeChain:e,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;const t=ye.activeChain===e.chainNamespace;t||F.setIsSwitchingNamespace(!0);const n=ye.chains.get(e.chainNamespace);ye.activeChain=e.chainNamespace,ye.activeCaipNetwork=e,F.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let r=n?.accountState?.address;if(r)ye.activeCaipAddress=`${e.chainNamespace}:${e.id}:${r}`;else if(t&&ye.activeCaipAddress){const{address:i}=er.parseCaipAddress(ye.activeCaipAddress);r=i,ye.activeCaipAddress=`${e.caipNetworkId}:${r}`}else ye.activeCaipAddress=void 0;F.setChainAccountData(e.chainNamespace,{address:r,caipAddress:ye.activeCaipAddress}),Xe.resetSend(),Dl.set({activeChain:ye.activeChain,selectedNetworkId:ye.activeCaipNetwork?.caipNetworkId}),ce.setActiveCaipNetworkId(e.caipNetworkId),!F.checkIfSupportedNetwork(e.chainNamespace)&&ee.state.enableNetworkSwitch&&!ee.state.allowUnsupportedChain&&!ie.state.wcBasic&&F.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;const t=ye.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;const t=e!==F.state.activeChain,n=F.getNetworkData(e)?.caipNetwork,r=F.getCaipNetworkByNamespace(e,n?.id);t&&r&&await F.switchActiveNetwork(r)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){const n=F.state.activeChain;if(!n)throw new Error("ChainController:switchActiveNetwork - namespace is required");const s=!F.state.chains.get(n)?.caipNetworks?.some(o=>o.id===ye.activeCaipNetwork?.id),i=F.getNetworkControllerClient(e.chainNamespace);if(i){try{await i.switchCaipNetwork(e),s&&Fe.close()}catch(o){if(t)throw o;ne.goBack()}Ie.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})}},getNetworkControllerClient(e){const t=e||ye.activeChain;if(!t)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=ye.chains.get(t);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(e){const t=e||ye.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=ye.chains.get(t);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){const n=ye.chains.get(t)?.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){const t=ye.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return oe.sortRequestedNetworks(n,r).filter(o=>o?.id)},getAllRequestedCaipNetworks(){const e=[];return ye.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=F.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){F.setAdapterNetworkState(t,{requestedCaipNetworks:e});const r=F.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));ae.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const e=[];return ye.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=F.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){return e?ye.chains.get(e)?.networkState?.caipNetwork:ye.activeCaipNetwork},getActiveCaipAddress(){return ye.activeCaipAddress},getApprovedCaipNetworkIds(e){return ye.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(e){const n=await F.getNetworkControllerClient()?.getApprovedCaipNetworksData();F.setAdapterNetworkState(e,{approvedCaipNetworkIds:n?.approvedCaipNetworkIds,supportsAllNetworks:n?.supportsAllNetworks})},checkIfSupportedNetwork(e,t){const n=t||ye.activeCaipNetwork?.caipNetworkId,r=F.getRequestedCaipNetworks(e);return r.length?r?.some(s=>s.caipNetworkId===n):!0},checkIfSupportedChainId(e){return ye.activeChain?F.getRequestedCaipNetworks(ye.activeChain)?.some(n=>n.id===e):!0},setSmartAccountEnabledNetworks(e,t){F.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled(){const e=px.caipNetworkIdToNumber(ye.activeCaipNetwork?.caipNetworkId),t=ye.activeChain;return!t||!e?!1:!!F.getNetworkProp("smartAccountEnabledNetworks",t)?.includes(Number(e))},showUnsupportedChainUI(){Fe.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=ye.activeCaipNetwork;return!!(e?.chainNamespace&&Ye.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){F.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");const n=F.state.chains.get(t)?.accountState?.preferredAccountType,r=ee.state.defaultAccountTypes[t];ye.activeCaipAddress=void 0,F.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),ae.removeConnectorId(t)},setIsSwitchingNamespace(e){ye.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){const e=[];let t;if(ye.chains.forEach(n=>{te.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&e.push(n.namespace)}),e.length>0){const n=e[0];return t=n?ye.chains.get(n)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){const t=e||ye.activeChain;if(t)return F.state.chains.get(t)?.accountState},getNetworkData(e){const t=e||ye.activeChain;if(t)return F.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;const n=F.state.chains.get(e),r=n?.caipNetworks?.find(s=>s.id===t);return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const e=ae.state.filterByNamespace;return(e?[ye.chains.get(e)]:Array.from(ye.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?F.getRequestedCaipNetworks(e):F.getAllRequestedCaipNetworks()},getCaipNetworkById(e,t){return Dz.getCaipNetworks(t).find(n=>n.id.toString()===e.toString()||n.caipNetworkId.toString()===e.toString())},setLastConnectedSIWECaipNetwork(e){ye.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return ye.lastConnectedSIWECaipNetwork},async fetchTokenBalance(e){const t=F.getAccountData();if(!t)return[];const n=F.state.activeCaipNetwork?.caipNetworkId,r=F.state.activeCaipNetwork?.chainNamespace,s=F.state.activeCaipAddress,i=s?oe.getPlainAddress(s):void 0;if(F.setAccountProp("balanceLoading",!0,r),t.lastRetry&&!oe.isAllowedRetry(t.lastRetry,30*Ye.ONE_SEC_MS))return F.setAccountProp("balanceLoading",!1,r),[];try{if(i&&n&&r){const o=await K8.getMyTokensWithBalance();return F.setAccountProp("tokenBalance",o,r),F.setAccountProp("lastRetry",void 0,r),F.setAccountProp("balanceLoading",!1,r),o}}catch(o){F.setAccountProp("lastRetry",Date.now(),r),e?.(o),it.showError("Token Balance Unavailable")}finally{F.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(e){const t=e.chainNamespace,n=!!F.getAccountData(t)?.caipAddress,r=F.getAllApprovedCaipNetworkIds(),s=F.getNetworkProp("supportsAllNetworks",t)!==!1,i=ae.getConnectorId(t),o=ae.getAuthConnector(),a=i===te.CONNECTOR_ID.AUTH&&o;return!n||s||a?!1:!r?.includes(e.caipNetworkId)}},F=Rs(Dz),Pxe={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const n=F.state.activeCaipNetwork,r=F.state.activeChain,s=ne.state.data;if(e.id===n?.id)return;const o=!!F.getAccountData(r)?.address,a=!!F.getAccountData(e.chainNamespace)?.address,c=e.chainNamespace!==r,u=ae.getConnectorId(r)===te.CONNECTOR_ID.AUTH,f=te.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===e.chainNamespace);t||u&&f?ne.push("SwitchNetwork",{...s,network:e}):o&&c&&!a?ne.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):ne.push("SwitchNetwork",{...s,network:e})}},Ms=Et({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Fe=Rs({state:Ms,subscribe(e){return vn(Ms,()=>e(Ms))},subscribeKey(e,t){return En(Ms,e,t)},async open(e){const t=e?.namespace,n=F.state.activeChain,r=t&&t!==n,s=F.getAccountData(e?.namespace)?.caipAddress,i=F.state.noAdapters;if(ie.state.wcBasic?he.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await he.prefetch(),ae.setFilterByNamespace(e?.namespace),Fe.setLoading(!0,t),t&&r){const o=F.getNetworkData(t)?.caipNetwork||F.getRequestedCaipNetworks(t)[0];o&&(i?(await F.switchActiveNetwork(o),ne.push("ConnectingWalletConnectBasic")):Pxe.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0}))}else ee.state.manualWCControl||i&&!s?oe.isMobile()?ne.reset("AllWallets"):ne.reset("ConnectingWalletConnectBasic"):e?.view?ne.reset(e.view,e.data):s?ne.reset("Account"):ne.reset("Connect");Ms.open=!0,Dl.set({open:!0}),Ie.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const e=ee.state.enableEmbedded,t=!!F.state.activeCaipAddress;Ms.open&&Ie.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),Ms.open=!1,ne.reset("Connect"),Fe.clearLoading(),e?t?ne.replace("Account"):ne.push("Connect"):Dl.set({open:!1}),ie.resetUri()},setLoading(e,t){t&&Ms.loadingNamespaceMap.set(t,e),Ms.loading=e,Dl.set({loading:e})},clearLoading(){Ms.loadingNamespaceMap.clear(),Ms.loading=!1,Dl.set({loading:!1})},shake(){Ms.shake||(Ms.shake=!0,setTimeout(()=>{Ms.shake=!1},500))}}),Y8={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},Us=Et({providers:{...Y8},providerIds:{...Y8}}),Yt={state:Us,subscribeKey(e,t){return En(Us,e,t)},subscribe(e){return vn(Us,()=>{e(Us)})},subscribeProviders(e){return vn(Us.providers,()=>e(Us.providers))},setProvider(e,t){e&&t&&(Us.providers[e]=Zh(t))},getProvider(e){if(e)return Us.providers[e]},setProviderId(e,t){t&&(Us.providerIds[e]=t)},getProviderId(e){if(e)return Us.providerIds[e]},reset(){Us.providers={...Y8},Us.providerIds={...Y8}},resetChain(e){Us.providers[e]=void 0,Us.providerIds[e]=void 0}},z2={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},CA={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},ot=Et({providers:_M,selectedProvider:null,error:null,purchaseCurrency:z2,paymentCurrency:CA,purchaseCurrencies:[z2],paymentCurrencies:[],quotesLoading:!1}),SA=Rs({state:ot,subscribe(e){return vn(ot,()=>e(ot))},subscribeKey(e,t){return En(ot,e,t)},setSelectedProvider(e){if(e&&e.name==="meld"){const t=F.state.activeChain,n=t===te.CHAIN.SOLANA?"SOL":"USDC",r=t?F.state.chains.get(t)?.accountState?.address??"":"",s=new URL(e.url);s.searchParams.append("publicKey",Nbe),s.searchParams.append("destinationCurrencyCode",n),s.searchParams.append("walletAddress",r),s.searchParams.append("externalCustomerId",ee.state.projectId),ot.selectedProvider={...e,url:s.toString()}}else ot.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every(t=>typeof t=="string")){const t=e,n=_M.filter(r=>t.includes(r.name));ot.providers=n}else ot.providers=[]},setPurchaseCurrency(e){ot.purchaseCurrency=e},setPaymentCurrency(e){ot.paymentCurrency=e},setPurchaseAmount(e){SA.state.purchaseAmount=e},setPaymentAmount(e){SA.state.paymentAmount=e},async getAvailableCurrencies(){const e=await Be.getOnrampOptions();ot.purchaseCurrencies=e.purchaseCurrencies,ot.paymentCurrencies=e.paymentCurrencies,ot.paymentCurrency=e.paymentCurrencies[0]||CA,ot.purchaseCurrency=e.purchaseCurrencies[0]||z2,await he.fetchCurrencyImages(e.paymentCurrencies.map(t=>t.id)),await he.fetchTokenImages(e.purchaseCurrencies.map(t=>t.symbol))},async getQuote(){ot.quotesLoading=!0;try{const e=await Be.getOnrampQuote({purchaseCurrency:ot.purchaseCurrency,paymentCurrency:ot.paymentCurrency,amount:ot.paymentAmount?.toString()||"0",network:ot.purchaseCurrency?.symbol});return ot.quotesLoading=!1,ot.purchaseAmount=Number(e?.purchaseAmount.amount),e}catch(e){return ot.error=e.message,ot.quotesLoading=!1,null}finally{ot.quotesLoading=!1}},resetState(){ot.selectedProvider=null,ot.error=null,ot.purchaseCurrency=z2,ot.paymentCurrency=CA,ot.purchaseCurrencies=[z2],ot.paymentCurrencies=[],ot.paymentAmount=void 0,ot.purchaseAmount=void 0,ot.quotesLoading=!1}}),dd={getGasPriceInEther(e,t){const n=t*e;return Number(n)/1e18},getGasPriceInUSD(e,t,n){const r=dd.getGasPriceInEther(t,n);return dn.bigNumber(e).times(r).toNumber()},getPriceImpact({sourceTokenAmount:e,sourceTokenPriceInUSD:t,toTokenPriceInUSD:n,toTokenAmount:r}){const s=dn.bigNumber(e).times(t),i=dn.bigNumber(r).times(n);return s.minus(i).div(s).times(100).toNumber()},getMaxSlippage(e,t){const n=dn.bigNumber(e).div(100);return dn.multiply(t,n).toNumber()},getProviderFee(e,t=.0085){return dn.bigNumber(e).times(t).toString()},isInsufficientNetworkTokenForGas(e,t){const n=t||"0";return dn.bigNumber(e).eq(0)?!0:dn.bigNumber(dn.bigNumber(n)).gt(e)},isInsufficientSourceTokenForSwap(e,t,n){const r=n?.find(i=>i.address===t)?.quantity?.numeric;return dn.bigNumber(r||"0").lt(e)}},No=Et({message:"",variant:"info",open:!1}),zn=Rs({state:No,subscribeKey(e,t){return En(No,e,t)},open(e,t){const{debug:n}=ee.state,{code:r,displayMessage:s,debugMessage:i}=e;s&&n&&(No.message=s,No.variant=t,No.open=!0),i&&console.error(typeof i=="function"?i():i,r?{code:r}:void 0)},warn(e,t,n){No.open=!0,No.message=e,No.variant="warning",t&&console.warn(t,n)},close(){No.open=!1,No.message="",No.variant="info"}}),Mz=15e4,Txe=6,Sr={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,switchingTokens:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:Ye.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},J=Et({...Sr}),X8={state:J,subscribe(e){return vn(J,()=>e(J))},subscribeKey(e,t){return En(J,e,t)},getParams(){const e=F.state.activeChain,t=F.getAccountData(e)?.caipAddress??F.state.activeCaipAddress,n=oe.getPlainAddress(t),r=vA(),s=ae.getConnectorId(F.state.activeChain);if(!n)throw new Error("No address found to swap the tokens from.");const i=!J.toToken?.address||!J.toToken?.decimals,o=!J.sourceToken?.address||!J.sourceToken?.decimals||!dn.bigNumber(J.sourceTokenAmount).gt(0),a=!J.sourceTokenAmount;return{networkAddress:r,fromAddress:n,fromCaipAddress:t,sourceTokenAddress:J.sourceToken?.address,toTokenAddress:J.toToken?.address,toTokenAmount:J.toTokenAmount,toTokenDecimals:J.toToken?.decimals,sourceTokenAmount:J.sourceTokenAmount,sourceTokenDecimals:J.sourceToken?.decimals,invalidToToken:i,invalidSourceToken:o,invalidSourceTokenAmount:a,availableToSwap:t&&!i&&!o&&!a,isAuthConnector:s===te.CONNECTOR_ID.AUTH}},async setSourceToken(e){if(!e){J.sourceToken=e,J.sourceTokenAmount="",J.sourceTokenPriceInUSD=0;return}J.sourceToken=e,await De.setTokenPrice(e.address,"sourceToken")},setSourceTokenAmount(e){J.sourceTokenAmount=e},async setToToken(e){if(!e){J.toToken=e,J.toTokenAmount="",J.toTokenPriceInUSD=0;return}J.toToken=e,await De.setTokenPrice(e.address,"toToken")},setToTokenAmount(e){J.toTokenAmount=e?dn.toFixed(e,Txe):""},async setTokenPrice(e,t){let n=J.tokensPriceMap[e]||0;n||(J.loadingPrices=!0,n=await De.getAddressPrice(e)),t==="sourceToken"?J.sourceTokenPriceInUSD=n:t==="toToken"&&(J.toTokenPriceInUSD=n),J.loadingPrices&&(J.loadingPrices=!1),De.getParams().availableToSwap&&!J.switchingTokens&&De.swapTokens()},async switchTokens(){if(!(J.initializing||!J.initialized||J.switchingTokens)){J.switchingTokens=!0;try{const e=J.toToken?{...J.toToken}:void 0,t=J.sourceToken?{...J.sourceToken}:void 0,n=e&&J.toTokenAmount===""?"1":J.toTokenAmount;De.setSourceTokenAmount(n),De.setToTokenAmount(""),await De.setSourceToken(e),await De.setToToken(t),J.switchingTokens=!1,De.swapTokens()}catch(e){throw J.switchingTokens=!1,e}}},resetState(){J.myTokensWithBalance=Sr.myTokensWithBalance,J.tokensPriceMap=Sr.tokensPriceMap,J.initialized=Sr.initialized,J.initializing=Sr.initializing,J.switchingTokens=Sr.switchingTokens,J.sourceToken=Sr.sourceToken,J.sourceTokenAmount=Sr.sourceTokenAmount,J.sourceTokenPriceInUSD=Sr.sourceTokenPriceInUSD,J.toToken=Sr.toToken,J.toTokenAmount=Sr.toTokenAmount,J.toTokenPriceInUSD=Sr.toTokenPriceInUSD,J.networkPrice=Sr.networkPrice,J.networkTokenSymbol=Sr.networkTokenSymbol,J.networkBalanceInUSD=Sr.networkBalanceInUSD,J.inputError=Sr.inputError},resetValues(){const{networkAddress:e}=De.getParams(),t=J.tokens?.find(n=>n.address===e);De.setSourceToken(t),De.setToToken(void 0)},getApprovalLoadingState(){return J.loadingApprovalTransaction},clearError(){J.transactionError=void 0},async initializeState(){if(!J.initializing){if(J.initializing=!0,!J.initialized)try{await De.fetchTokens(),J.initialized=!0}catch{J.initialized=!1,it.showError("Failed to initialize swap"),ne.goBack()}J.initializing=!1}},async fetchTokens(){const{networkAddress:e}=De.getParams();await De.getNetworkTokenPrice(),await De.getMyTokensWithBalance();const t=J.myTokensWithBalance?.find(n=>n.address===e);t&&(J.networkTokenSymbol=t.symbol,De.setSourceToken(t),De.setSourceTokenAmount("0"))},async getTokenList(){const e=F.state.activeCaipNetwork?.caipNetworkId;if(!(J.caipNetworkId===e&&J.tokens))try{J.tokensLoading=!0;const t=await M1.getTokenList(e);J.tokens=t,J.caipNetworkId=e,J.popularTokens=t.sort((n,r)=>n.symbol<r.symbol?-1:n.symbol>r.symbol?1:0),J.suggestedTokens=t.filter(n=>!!Ye.SWAP_SUGGESTED_TOKENS.includes(n.symbol))}catch{J.tokens=[],J.popularTokens=[],J.suggestedTokens=[]}finally{J.tokensLoading=!1}},async getAddressPrice(e){const t=J.tokensPriceMap[e];if(t)return t;const r=(await Be.fetchTokenPrice({addresses:[e]}))?.fungibles||[],i=[...J.tokens||[],...J.myTokensWithBalance||[]]?.find(c=>c.address===e)?.symbol,o=r.find(c=>c.symbol.toLowerCase()===i?.toLowerCase())?.price||0,a=parseFloat(o.toString());return J.tokensPriceMap[e]=a,a},async getNetworkTokenPrice(){const{networkAddress:e}=De.getParams(),n=(await Be.fetchTokenPrice({addresses:[e]}).catch(()=>(it.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles?.[0],r=n?.price.toString()||"0";J.tokensPriceMap[e]=parseFloat(r),J.networkTokenSymbol=n?.symbol||"",J.networkPrice=r},async getMyTokensWithBalance(e){const t=await K8.getMyTokensWithBalance(e),n=M1.mapBalancesToSwapTokens(t);n&&(await De.getInitialGasPrice(),De.setBalances(n))},setBalances(e){const{networkAddress:t}=De.getParams(),n=F.state.activeCaipNetwork;if(!n)return;const r=e.find(s=>s.address===t);e.forEach(s=>{J.tokensPriceMap[s.address]=s.price||0}),J.myTokensWithBalance=e.filter(s=>s.address.startsWith(n.caipNetworkId)),J.networkBalanceInUSD=r?dn.multiply(r.quantity.numeric,r.price).toString():"0"},async getInitialGasPrice(){const e=await M1.fetchGasPrice();if(!e)return{gasPrice:null,gasPriceInUSD:null};switch(F.state?.activeCaipNetwork?.chainNamespace){case te.CHAIN.SOLANA:return J.gasFee=e.standard??"0",J.gasPriceInUSD=dn.multiply(e.standard,J.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(J.gasFee),gasPriceInUSD:Number(J.gasPriceInUSD)};case te.CHAIN.EVM:default:const t=e.standard??"0",n=BigInt(t),r=BigInt(Mz),s=dd.getGasPriceInUSD(J.networkPrice,r,n);return J.gasFee=t,J.gasPriceInUSD=s,{gasPrice:n,gasPriceInUSD:s}}},async swapTokens(){const e=F.getAccountData()?.address,t=J.sourceToken,n=J.toToken,r=dn.bigNumber(J.sourceTokenAmount).gt(0);if(r||De.setToTokenAmount(""),!n||!t||J.loadingPrices||!r||!e)return;J.loadingQuote=!0;const s=dn.bigNumber(J.sourceTokenAmount).times(10**t.decimals).round(0);try{const i=await Be.fetchSwapQuote({userAddress:e,from:t.address,to:n.address,gasPrice:J.gasFee,amount:s.toString()});J.loadingQuote=!1;const o=i?.quotes?.[0]?.toAmount;if(!o){zn.open({displayMessage:"Incorrect amount",debugMessage:"Please enter a valid amount"},"error");return}const a=dn.bigNumber(o).div(10**n.decimals).toString();De.setToTokenAmount(a),De.hasInsufficientToken(J.sourceTokenAmount,t.address)?J.inputError="Insufficient balance":(J.inputError=void 0,De.setTransactionDetails())}catch(i){const o=await M1.handleSwapError(i);J.loadingQuote=!1,J.inputError=o||"Insufficient balance"}},async getTransaction(){const{fromCaipAddress:e,availableToSwap:t}=De.getParams(),n=J.sourceToken,r=J.toToken;if(!(!e||!t||!n||!r||J.loadingQuote))try{J.loadingBuildTransaction=!0;const s=await M1.fetchSwapAllowance({userAddress:e,tokenAddress:n.address,sourceTokenAmount:J.sourceTokenAmount,sourceTokenDecimals:n.decimals});let i;return s?i=await De.createSwapTransaction():i=await De.createAllowanceTransaction(),J.loadingBuildTransaction=!1,J.fetchError=!1,i}catch{ne.goBack(),it.showError("Failed to check allowance"),J.loadingBuildTransaction=!1,J.approvalTransaction=void 0,J.swapTransaction=void 0,J.fetchError=!0;return}},async createAllowanceTransaction(){const{fromCaipAddress:e,sourceTokenAddress:t,toTokenAddress:n}=De.getParams();if(!(!e||!n)){if(!t)throw new Error("createAllowanceTransaction - No source token address found.");try{const r=await Be.generateApproveCalldata({from:t,to:n,userAddress:e}),s=oe.getPlainAddress(r.tx.from);if(!s)throw new Error("SwapController:createAllowanceTransaction - address is required");const i={data:r.tx.data,to:s,gasPrice:BigInt(r.tx.eip155.gasPrice),value:BigInt(r.tx.value),toAmount:J.toTokenAmount};return J.swapTransaction=void 0,J.approvalTransaction={data:i.data,to:i.to,gasPrice:i.gasPrice,value:i.value,toAmount:i.toAmount},{data:i.data,to:i.to,gasPrice:i.gasPrice,value:i.value,toAmount:i.toAmount}}catch{ne.goBack(),it.showError("Failed to create approval transaction"),J.approvalTransaction=void 0,J.swapTransaction=void 0,J.fetchError=!0;return}}},async createSwapTransaction(){const{networkAddress:e,fromCaipAddress:t,sourceTokenAmount:n}=De.getParams(),r=J.sourceToken,s=J.toToken;if(!t||!n||!r||!s)return;const i=ie.parseUnits(n,r.decimals)?.toString();try{const o=await Be.generateSwapCalldata({userAddress:t,from:r.address,to:s.address,amount:i,disableEstimate:!0}),a=r.address===e,c=BigInt(o.tx.eip155.gas),l=BigInt(o.tx.eip155.gasPrice),u=oe.getPlainAddress(o.tx.to);if(!u)throw new Error("SwapController:createSwapTransaction - address is required");const f={data:o.tx.data,to:u,gas:c,gasPrice:l,value:BigInt(a?i??"0":"0"),toAmount:J.toTokenAmount};return J.gasPriceInUSD=dd.getGasPriceInUSD(J.networkPrice,c,l),J.approvalTransaction=void 0,J.swapTransaction=f,f}catch{ne.goBack(),it.showError("Failed to create transaction"),J.approvalTransaction=void 0,J.swapTransaction=void 0,J.fetchError=!0;return}},onEmbeddedWalletApprovalSuccess(){it.showLoading("Approve limit increase in your wallet"),ne.replace("SwapPreview")},async sendTransactionForApproval(e){const{fromAddress:t,isAuthConnector:n}=De.getParams();J.loadingApprovalTransaction=!0,n?ne.pushTransactionStack({onSuccess:De.onEmbeddedWalletApprovalSuccess}):it.showLoading("Approve limit increase in your wallet");try{await ie.sendTransaction({address:t,to:e.to,data:e.data,value:e.value,chainNamespace:te.CHAIN.EVM}),await De.swapTokens(),await De.getTransaction(),J.approvalTransaction=void 0,J.loadingApprovalTransaction=!1}catch(s){const i=s;J.transactionError=i?.displayMessage,J.loadingApprovalTransaction=!1,it.showError(i?.displayMessage||"Transaction error"),Ie.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:i?.displayMessage||i?.message||"Unknown",network:F.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:De.state.sourceToken?.symbol||"",swapToToken:De.state.toToken?.symbol||"",swapFromAmount:De.state.sourceTokenAmount||"",swapToAmount:De.state.toTokenAmount||"",isSmartAccount:Cr(te.CHAIN.EVM)===yi.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(e){if(!e)return;const{fromAddress:t,toTokenAmount:n,isAuthConnector:r}=De.getParams();J.loadingTransaction=!0;const s=`Swapping ${J.sourceToken?.symbol} to ${dn.formatNumberToLocalString(n,3)} ${J.toToken?.symbol}`,i=`Swapped ${J.sourceToken?.symbol} to ${dn.formatNumberToLocalString(n,3)} ${J.toToken?.symbol}`;r?ne.pushTransactionStack({onSuccess(){ne.replace("Account"),it.showLoading(s),X8.resetState()}}):it.showLoading("Confirm transaction in your wallet");try{const o=[J.sourceToken?.address,J.toToken?.address].join(","),a=await ie.sendTransaction({address:t,to:e.to,data:e.data,value:e.value,chainNamespace:te.CHAIN.EVM});return J.loadingTransaction=!1,it.showSuccess(i),Ie.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:F.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:De.state.sourceToken?.symbol||"",swapToToken:De.state.toToken?.symbol||"",swapFromAmount:De.state.sourceTokenAmount||"",swapToAmount:De.state.toTokenAmount||"",isSmartAccount:Cr(te.CHAIN.EVM)===yi.ACCOUNT_TYPES.SMART_ACCOUNT}}),X8.resetState(),r||ne.replace("Account"),X8.getMyTokensWithBalance(o),a}catch(o){const a=o;J.transactionError=a?.displayMessage,J.loadingTransaction=!1,it.showError(a?.displayMessage||"Transaction error"),Ie.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:a?.displayMessage||a?.message||"Unknown",network:F.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:De.state.sourceToken?.symbol||"",swapToToken:De.state.toToken?.symbol||"",swapFromAmount:De.state.sourceTokenAmount||"",swapToAmount:De.state.toTokenAmount||"",isSmartAccount:Cr(te.CHAIN.EVM)===yi.ACCOUNT_TYPES.SMART_ACCOUNT}});return}},hasInsufficientToken(e,t){return dd.isInsufficientSourceTokenForSwap(e,t,J.myTokensWithBalance)},setTransactionDetails(){const{toTokenAddress:e,toTokenDecimals:t}=De.getParams();!e||!t||(J.gasPriceInUSD=dd.getGasPriceInUSD(J.networkPrice,BigInt(J.gasFee),BigInt(Mz)),J.priceImpact=dd.getPriceImpact({sourceTokenAmount:J.sourceTokenAmount,sourceTokenPriceInUSD:J.sourceTokenPriceInUSD,toTokenPriceInUSD:J.toTokenPriceInUSD,toTokenAmount:J.toTokenAmount}),J.maxSlippage=dd.getMaxSlippage(J.slippage,J.toTokenAmount),J.providerFee=dd.getProviderFee(J.sourceTokenAmount))}},De=Rs(X8),Bo=Et({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),H2=Rs({state:Bo,subscribe(e){return vn(Bo,()=>e(Bo))},subscribeKey(e,t){return En(Bo,e,t)},showTooltip({message:e,triggerRect:t,variant:n}){Bo.open=!0,Bo.message=e,Bo.triggerRect=t,Bo.variant=n},hide(){Bo.open=!1,Bo.message="",Bo.triggerRect={width:0,height:0,top:0,left:0}}}),Uz=2147483648,Nxe={convertEVMChainIdToCoinType(e){if(e>=Uz)throw new Error("Invalid chainId");return(Uz|e)>>>0}},Ki=Et({suggestions:[],loading:!1}),V2=Rs({state:Ki,subscribe(e){return vn(Ki,()=>e(Ki))},subscribeKey(e,t){return En(Ki,e,t)},async resolveName(e){try{return await Be.lookupEnsName(e)}catch(t){const n=t;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await Be.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{Ki.loading=!0,Ki.suggestions=[];const t=await Be.getEnsNameSuggestions(e);return Ki.suggestions=t.suggestions||[],Ki.suggestions}catch(t){const n=V2.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(n)}finally{Ki.loading=!1}},async getNamesForAddress(e){try{if(!F.state.activeCaipNetwork)return[];const n=ce.getEnsFromCacheForAddress(e);if(n)return n;const r=await Be.reverseLookupEnsName({address:e});return ce.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(t){const n=V2.parseEnsApiError(t,"Error fetching names for address");throw new Error(n)}},async registerName(e){const t=F.state.activeCaipNetwork,n=F.getAccountData(t?.chainNamespace)?.address,r=ae.getAuthConnector();if(!t)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");Ki.loading=!0;try{const s=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ne.pushTransactionStack({onCancel(){ne.replace("RegisterAccountName")}});const i=await ie.signMessage(s);Ki.loading=!1;const o=t.id;if(!o)throw new Error("Network not found");const a=Nxe.convertEVMChainIdToCoinType(Number(o));await Be.registerEnsName({coinType:a,address:n,signature:i,message:s}),F.setAccountProp("profileName",e,t.chainNamespace),ce.updateEnsCache({address:n,ens:[{name:e,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),ne.replace("RegisterAccountNameSuccess")}catch(s){const i=V2.parseEnsApiError(s,`Error registering name ${e}`);throw ne.replace("RegisterAccountName"),new Error(i)}finally{Ki.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){return e?.reasons?.[0]?.description||t}});Et({isLegalCheckboxChecked:!1});const Bxe={network:"eip155:8453",asset:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},kxe={network:"eip155:84532",asset:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}};Et({paymentAsset:null,amount:null,tokenAmount:0,priceLoading:!1,error:null,exchanges:[],isLoading:!1,currentPayment:void 0,isPaymentInProgress:!1,paymentId:"",assets:[]});const Lz=Aw;var Aa=Ca;const q2=Vxe().console||{},Rxe={mapHttpRequest:Q8,mapHttpResponse:Q8,wrapRequestSerializer:_A,wrapResponseSerializer:_A,wrapErrorSerializer:_A,req:Q8,res:Q8,err:Fxe};function Dxe(e,t){return Array.isArray(e)?e.filter(function(r){return r!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function Ca(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const n=e.browser.write||q2;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=Dxe(e.browser.serialize,r);let i=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),e.enabled===!1&&(e.level="silent");const a=e.level||"info",c=Object.create(n);c.log||(c.log=Z2),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:f,set:d});const l={transmit:t,serialize:s,asObject:e.browser.asObject,levels:o,timestamp:jxe(e)};c.levels=Ca.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Z2,c.serializers=r,c._serialize=s,c._stdErrSerialize=i,c.child=h,t&&(c._logEvent=IA());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function d(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,U1(l,c,"error","log"),U1(l,c,"fatal","error"),U1(l,c,"warn","error"),U1(l,c,"info","log"),U1(l,c,"debug","log"),U1(l,c,"trace","log")}function h(p,g){if(!p)throw new Error("missing bindings for child Pino");g=g||{},s&&p.serializers&&(g.serializers=p.serializers);const y=g.serializers;if(s&&y){var $=Object.assign({},r,y),_=e.browser.serialize===!0?Object.keys($):s;delete p.serializers,J8([p],_,$,this._stdErrSerialize)}function x(E){this._childLevel=(E._childLevel|0)+1,this.error=L1(E,p,"error"),this.fatal=L1(E,p,"fatal"),this.warn=L1(E,p,"warn"),this.info=L1(E,p,"info"),this.debug=L1(E,p,"debug"),this.trace=L1(E,p,"trace"),$&&(this.serializers=$,this._serialize=_),t&&(this._logEvent=IA([].concat(E._logEvent.bindings,p)))}return x.prototype=this,new x(this)}return c}Ca.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Ca.stdSerializers=Rxe,Ca.stdTimeFunctions=Object.assign({},{nullTime:Fz,epochTime:jz,unixTime:zxe,isoTime:Hxe});function U1(e,t,n,r){const s=Object.getPrototypeOf(t);t[n]=t.levelVal>t.levels.values[n]?Z2:s[n]?s[n]:q2[n]||q2[r]||Z2,Mxe(e,t,n)}function Mxe(e,t,n){!e.transmit&&t[n]===Z2||(t[n]=function(r){return function(){const i=e.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===q2?q2:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(e.serialize&&!e.asObject&&J8(o,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?r.call(a,Uxe(this,n,o,i)):r.apply(a,o),e.transmit){const l=e.transmit.level||t.level,u=Ca.levels.values[l],f=Ca.levels.values[n];if(f<u)return;Lxe(this,{ts:i,methodLevel:n,methodValue:f,transmitLevel:l,transmitValue:Ca.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},o)}}}(t[n]))}function Uxe(e,t,n,r){e._serialize&&J8(n,e._serialize,e.serializers,e._stdErrSerialize);const s=n.slice();let i=s[0];const o={};r&&(o.time=r),o.level=Ca.levels.values[t];let a=(e._childLevel|0)+1;if(a<1&&(a=1),i!==null&&typeof i=="object"){for(;a--&&typeof s[0]=="object";)Object.assign(o,s.shift());i=s.length?Lz(s.shift(),s):void 0}else typeof i=="string"&&(i=Lz(s.shift(),s));return i!==void 0&&(o.msg=i),o}function J8(e,t,n,r){for(const s in e)if(r&&e[s]instanceof Error)e[s]=Ca.stdSerializers.err(e[s]);else if(typeof e[s]=="object"&&!Array.isArray(e[s]))for(const i in e[s])t&&t.indexOf(i)>-1&&i in n&&(e[s][i]=n[i](e[s][i]))}function L1(e,t,n){return function(){const r=new Array(1+arguments.length);r[0]=t;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return e[n].apply(this,r)}}function Lxe(e,t,n){const r=t.send,s=t.ts,i=t.methodLevel,o=t.methodValue,a=t.val,c=e._logEvent.bindings;J8(n,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),e._logEvent.level.label=i,e._logEvent.level.value=o,r(i,e._logEvent,a),e._logEvent=IA(c)}function IA(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function Fxe(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)t[n]===void 0&&(t[n]=e[n]);return t}function jxe(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?Fz:jz}function Q8(){return{}}function _A(e){return e}function Z2(){}function Fz(){return!1}function jz(){return Date.now()}function zxe(){return Math.round(Date.now()/1e3)}function Hxe(){return new Date(Date.now()).toISOString()}function Vxe(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}const qxe={level:"info"},W2="custom_context",OA=1e3*1024;class Zxe{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class zz{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new Zxe(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}}class Hz{constructor(t,n=OA){this.level=t??"error",this.levelValue=Aa.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new zz(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===Aa.levels.values.error?console.error(t):n===Aa.levels.values.warn?console.warn(t):n===Aa.levels.values.debug?console.debug(t):n===Aa.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(ws({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new zz(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(ws({extraMetadata:t})),new Blob(n,{type:"application/json"})}}class Wxe{constructor(t,n=OA){this.baseChunkLogger=new Hz(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}}class Kxe{constructor(t,n=OA){this.baseChunkLogger=new Hz(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var Gxe=Object.defineProperty,Yxe=Object.defineProperties,Xxe=Object.getOwnPropertyDescriptors,Vz=Object.getOwnPropertySymbols,Jxe=Object.prototype.hasOwnProperty,Qxe=Object.prototype.propertyIsEnumerable,qz=(e,t,n)=>t in e?Gxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e4=(e,t)=>{for(var n in t||(t={}))Jxe.call(t,n)&&qz(e,n,t[n]);if(Vz)for(var n of Vz(t))Qxe.call(t,n)&&qz(e,n,t[n]);return e},t4=(e,t)=>Yxe(e,Xxe(t));function K2(e){return t4(e4({},e),{level:e?.level||qxe.level})}function e7e(e,t=W2){return e[t]||""}function t7e(e,t,n=W2){return e[n]=t,e}function Ls(e,t=W2){let n="";return typeof e.bindings>"u"?n=e7e(e,t):n=e.bindings().context||"",n}function n7e(e,t,n=W2){const r=Ls(e,n);return r.trim()?`${r}/${t}`:t}function ns(e,t,n=W2){const r=n7e(e,t,n),s=e.child({context:r});return t7e(s,r,n)}function r7e(e){var t,n;const r=new Wxe((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Aa(t4(e4({},e.opts),{level:"trace",browser:t4(e4({},(n=e.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function s7e(e){var t;const n=new Kxe((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Aa(t4(e4({},e.opts),{level:"trace"})),chunkLoggerController:n}}function Zz(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?r7e(e):s7e(e)}const Wz="2.36.0";let PA={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Wz}`};class G2 extends Error{constructor(t,n={}){const r=n.cause instanceof G2?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof G2&&n.cause.docsPath||n.docsPath,i=PA.getDocsUrl?.({...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...PA.version?[`Version: ${PA.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Wz}walk(t){return Kz(this,t)}}function Kz(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Kz(e.cause,t):t?null:e}class Gz extends G2{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function i7e(e,{dir:t,size:n=32}={}){return typeof e=="string"?o7e(e,{dir:t,size:n}):a7e(e,{dir:t,size:n})}function o7e(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Gz({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function a7e(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Gz({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}class c7e extends G2{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}function l7e(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new c7e({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?i7e(a,{size:r}):a}class u7e extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const d7e="0.1.1";function f7e(){return d7e}class rs extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof rs){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof rs&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${f7e()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return Yz(this,t)}}function Yz(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Yz(e.cause,t):t?null:e}function h7e(e,t){if(Qz(e)>t)throw new E7e({givenSize:Qz(e),maxSize:t})}const Ml={zero:48,nine:57,A:65,F:70,a:97,f:102};function Xz(e){if(e>=Ml.zero&&e<=Ml.nine)return e-Ml.zero;if(e>=Ml.A&&e<=Ml.F)return e-(Ml.A-10);if(e>=Ml.a&&e<=Ml.f)return e-(Ml.a-10)}function p7e(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new x7e({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function TA(e,t){if(BA(e)>t)throw new O7e({givenSize:BA(e),maxSize:t})}function Jz(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new P7e({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const g7e=new TextEncoder;function m7e(e){return e instanceof Uint8Array?e:typeof e=="string"?b7e(e):y7e(e)}function y7e(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function b7e(e,t={}){const{size:n}=t;let r=e;n&&(TA(e,n),r=NA(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const l=Xz(s.charCodeAt(c++)),u=Xz(s.charCodeAt(c++));if(l===void 0||u===void 0)throw new rs(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=l*16+u}return o}function w7e(e,t={}){const{size:n}=t,r=g7e.encode(e);return typeof n=="number"?(h7e(r,n),v7e(r,n)):r}function v7e(e,t){return p7e(e,{dir:"right",size:t})}function Qz(e){return e.length}class E7e extends rs{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class x7e extends rs{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}const $7e=new TextEncoder,A7e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function eH(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function C7e(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(TA(n,t.size),n4(n,t.size)):n}function tH(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=A7e[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(TA(r,t.size),NA(r,t.size)):r}function S7e(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof e=="bigint"?"n":"";throw new _7e({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${e}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?n4(c,r):c}function I7e(e,t={}){return tH($7e.encode(e),t)}function n4(e,t){return Jz(e,{dir:"left",size:t})}function NA(e,t){return Jz(e,{dir:"right",size:t})}function BA(e){return Math.ceil((e.length-2)/2)}class _7e extends rs{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class O7e extends rs{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class P7e extends rs{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}new u7e(128),l7e(0,{size:32});function T7e(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=lh(m7e(e));return n==="Bytes"?r:tH(r)}class N7e extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const kA={checksum:new N7e(8192)}.checksum,B7e=/^0x[a-fA-F0-9]{40}$/;function nH(e,t={}){const{strict:n=!0}=t;if(!B7e.test(e))throw new rH({address:e,cause:new R7e});if(n){if(e.toLowerCase()===e)return;if(k7e(e)!==e)throw new rH({address:e,cause:new D7e})}}function k7e(e){if(kA.has(e))return kA.get(e);nH(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=T7e(w7e(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return kA.set(e,s),s}class rH extends rs{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class R7e extends rs{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class D7e extends rs{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const M7e=/^(.*)\[([0-9]*)\]$/,U7e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,L7e=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function RA(e,t){if(e.length!==t.length)throw new j7e({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(RA.encode(s,i))}return eH(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return nH(c),n4(c.toLowerCase(),s?32:0)}if(n==="string")return I7e(r);if(n==="bytes")return r;if(n==="bool")return n4(C7e(r),s?32:1);const i=n.match(L7e);if(i){const[c,l,u="256"]=i,f=Number.parseInt(u,10)/8;return S7e(r,{size:s?32:f,signed:l==="int"})}const o=n.match(U7e);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new F7e({expectedSize:Number.parseInt(l,10),value:r});return NA(r,s?32:0)}const a=n.match(M7e);if(a&&Array.isArray(r)){const[c,l]=a,u=[];for(let f=0;f<r.length;f++)u.push(t(l,r[f],!0));return u.length===0?"0x":eH(...u)}throw new z7e(n)}e.encode=t})(RA||(RA={}));class F7e extends rs{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${BA(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class j7e extends rs{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class z7e extends rs{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}const DA=BigInt(0),MA=BigInt(1);function r4(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function af(e,t,n=""){const r=fo(e),s=e?.length,i=t!==void 0;if(!r||i&&s!==t){const o=n&&`"${n}" `,a=i?` of length ${t}`:"",c=r?`length=${s}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function s4(e){const t=e.toString(16);return t.length&1?"0"+t:t}function sH(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?DA:BigInt("0x"+e)}function i4(e){return sH(Nn(e))}function iH(e){return ps(e),sH(Nn(Uint8Array.from(e).reverse()))}function UA(e,t){return Oi(e.toString(16).padStart(t*2,"0"))}function oH(e,t){return UA(e,t).reverse()}function Fs(e,t,n){let r;if(typeof t=="string")try{r=Oi(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(fo(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const LA=e=>typeof e=="bigint"&&DA<=e;function H7e(e,t,n){return LA(e)&&LA(t)&&LA(n)&&t<=e&&e<n}function V7e(e,t,n,r){if(!H7e(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function aH(e){let t;for(t=0;e>DA;e>>=MA,t+=1);return t}const Y2=e=>(MA<<BigInt(e))-MA;function q7e(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(e),o=r(e),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...h)=>n(o,i,...h),u=(h=r(0))=>{o=l(s(0),h),i=l(),h.length!==0&&(o=l(s(1),h),i=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<t;){i=l();const g=i.slice();p.push(g),h+=i.length}return Qe(...p)};return(h,p)=>{c(),u(h);let g;for(;!(g=p(f()));)u();return c(),g}}function FA(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,i,o){const a=e[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(t).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function cH(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const js=BigInt(0),ss=BigInt(1),cf=BigInt(2),lH=BigInt(3),uH=BigInt(4),dH=BigInt(5),Z7e=BigInt(7),fH=BigInt(8),W7e=BigInt(9),hH=BigInt(16);function ko(e,t){const n=e%t;return n>=js?n:t+n}function Gi(e,t,n){let r=e;for(;t-- >js;)r*=r,r%=n;return r}function pH(e,t){if(e===js)throw new Error("invert: expected non-zero number");if(t<=js)throw new Error("invert: expected positive modulus, got "+t);let n=ko(e,t),r=t,s=js,i=ss;for(;n!==js;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==ss)throw new Error("invert: does not exist");return ko(s,t)}function jA(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function gH(e,t){const n=(e.ORDER+ss)/uH,r=e.pow(t,n);return jA(e,r,t),r}function K7e(e,t){const n=(e.ORDER-dH)/fH,r=e.mul(t,cf),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,cf),s),a=e.mul(i,e.sub(o,e.ONE));return jA(e,a,t),a}function G7e(e){const t=X2(e),n=mH(e),r=n(t,t.neg(t.ONE)),s=n(t,r),i=n(t,t.neg(r)),o=(e+Z7e)/hH;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,r);const f=a.mul(l,s),d=a.mul(l,i),h=a.eql(a.sqr(u),c),p=a.eql(a.sqr(f),c);l=a.cmov(l,u,h),u=a.cmov(d,f,p);const g=a.eql(a.sqr(u),c),y=a.cmov(l,u,g);return jA(a,y,c),y}}function mH(e){if(e<lH)throw new Error("sqrt is not defined for small field");let t=e-ss,n=0;for(;t%cf===js;)t/=cf,n++;let r=cf;const s=X2(e);for(;bH(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return gH;let i=s.pow(r,t);const o=(t+ss)/cf;return function(c,l){if(c.is0(l))return l;if(bH(c,l)!==1)throw new Error("Cannot find square root");let u=n,f=c.mul(c.ONE,i),d=c.pow(l,t),h=c.pow(l,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let p=1,g=c.sqr(d);for(;!c.eql(g,c.ONE);)if(p++,g=c.sqr(g),p===u)throw new Error("Cannot find square root");const y=ss<<BigInt(u-p-1),$=c.pow(f,y);u=p,f=c.sqr($),d=c.mul(d,f),h=c.mul(h,$)}return h}}function Y7e(e){return e%uH===lH?gH:e%fH===dH?K7e:e%hH===W7e?G7e(e):mH(e)}const X7e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function J7e(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=X7e.reduce((r,s)=>(r[s]="function",r),t);return FA(e,n),e}function Q7e(e,t,n){if(n<js)throw new Error("invalid exponent, negatives unsupported");if(n===js)return e.ONE;if(n===ss)return t;let r=e.ONE,s=t;for(;n>js;)n&ss&&(r=e.mul(r,s)),s=e.sqr(s),n>>=ss;return r}function yH(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function bH(e,t){const n=(e.ORDER-ss)/cf,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function wH(e,t){t!==void 0&&Xo(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function X2(e,t,n=!1,r={}){if(e<=js)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i,o=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(s=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),a=d.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:c,nByteLength:l}=wH(e,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:Y2(c),ZERO:js,ONE:ss,allowedLengths:a,create:d=>ko(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return js<=d&&d<e},is0:d=>d===js,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&ss)===ss,neg:d=>ko(-d,e),eql:(d,h)=>d===h,sqr:d=>ko(d*d,e),add:(d,h)=>ko(d+h,e),sub:(d,h)=>ko(d-h,e),mul:(d,h)=>ko(d*h,e),pow:(d,h)=>Q7e(f,d,h),div:(d,h)=>ko(d*pH(h,e),e),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>pH(d,e),sqrt:i||(d=>(u||(u=Y7e(e)),u(f,d))),toBytes:d=>n?oH(d,l):UA(d,l),fromBytes:(d,h=!0)=>{if(a){if(!a.includes(d.length)||d.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);const g=new Uint8Array(l);g.set(d,n?0:g.length-d.length),d=g}if(d.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+d.length);let p=n?iH(d):i4(d);if(o&&(p=ko(p,e)),!h&&!f.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:d=>yH(f,d),cmov:(d,h,p)=>p?h:d});return Object.freeze(f)}function vH(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function EH(e){const t=vH(e);return t+Math.ceil(t/2)}function e$e(e,t,n=!1){const r=e.length,s=vH(t),i=EH(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?iH(e):i4(e),a=ko(o,t-ss)+ss;return n?oH(a,s):UA(a,s)}const F1=BigInt(0),lf=BigInt(1);function o4(e,t){const n=t.negate();return e?n:t}function zA(e,t){const n=yH(e.Fp,t.map(r=>r.Z));return t.map((r,s)=>e.fromAffine(r.toAffine(n[s])))}function xH(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function HA(e,t){xH(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=Y2(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function $H(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=lf);const l=t*r,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function t$e(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function n$e(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const VA=new WeakMap,AH=new WeakMap;function qA(e){return AH.get(e)||1}function CH(e){if(e!==F1)throw new Error("invalid wNAF")}class r$e{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let s=t;for(;n>F1;)n&lf&&(r=r.add(s)),s=s.double(),n>>=lf;return r}precomputeWindow(t,n){const{windows:r,windowSize:s}=HA(n,this.bits),i=[];let o=t,a=o;for(let c=0;c<r;c++){a=o,i.push(a);for(let l=1;l<s;l++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=HA(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:d,offsetF:h}=$H(r,a,o);r=c,u?i=i.add(o4(d,n[h])):s=s.add(o4(f,n[l]))}return CH(r),{p:s,f:i}}wNAFUnsafe(t,n,r,s=this.ZERO){const i=HA(t,this.bits);for(let o=0;o<i.windows&&r!==F1;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=$H(r,o,i);if(r=a,!l){const f=n[c];s=s.add(u?f.negate():f)}}return CH(r),s}getPrecomputes(t,n,r){let s=VA.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(s=r(s)),VA.set(n,s))),s}cached(t,n,r){const s=qA(t);return this.wNAF(s,this.getPrecomputes(s,t,r),n)}unsafe(t,n,r,s){const i=qA(t);return i===1?this._unsafeLadder(t,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),n,s)}createCache(t,n){xH(n,this.bits),AH.set(t,n),VA.delete(t)}hasCache(t){return qA(t)!==1}}function s$e(e,t,n,r){let s=t,i=e.ZERO,o=e.ZERO;for(;n>F1||r>F1;)n&lf&&(i=i.add(s)),r&lf&&(o=o.add(s)),s=s.double(),n>>=lf,r>>=lf;return{p1:i,p2:o}}function i$e(e,t,n,r){t$e(n,e),n$e(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=aH(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Y2(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],$=Number(y>>BigInt(h)&l);u[$]=u[$].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(d=d.add(p),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function SH(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return J7e(t),t}else return X2(e,{isLE:n})}function o$e(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const l=t[c];if(!(typeof l=="bigint"&&l>F1))throw new Error(`CURVE.${c} must be positive bigint`)}const s=SH(t.p,n.Fp,r),i=SH(t.n,n.Fn,r),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const c of a)if(!s.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}const IH=(e,t)=>(e+(e>=0?t:-t)/_H)/t;function a$e(e,t,n){const[[r,s],[i,o]]=t,a=IH(o*e,n),c=IH(-s*e,n);let l=e-a*r-c*i,u=-a*s-c*o;const f=l<Ll,d=u<Ll;f&&(l=-l),d&&(u=-u);const h=Y2(Math.ceil(aH(n)/2))+j1;if(l<Ll||l>=h||u<Ll||u>=h)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}function ZA(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function WA(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return r4(n.lowS,"lowS"),r4(n.prehash,"prehash"),n.format!==void 0&&ZA(n.format),n}class c$e extends Error{constructor(t=""){super(t)}}const Ul={Err:c$e,_tlv:{encode:(e,t)=>{const{Err:n}=Ul;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=s4(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?s4(s.length/2|128):"";return s4(e)+i+s+t},decode(e,t){const{Err:n}=Ul;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Ul;if(e<Ll)throw new t("integer: negative integers are not allowed");let n=s4(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ul;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return i4(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ul,s=Fs("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Ul,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}},Ll=BigInt(0),j1=BigInt(1),_H=BigInt(2),a4=BigInt(3),l$e=BigInt(4);function z1(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let s=Fs("private key",t);try{r=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function u$e(e,t={}){const n=o$e("weierstrass",e,t),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o,n:a}=i;FA(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=PH(r,s);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(S,w,v){const{x:m,y:b}=w.toAffine(),A=r.toBytes(m);if(r4(v,"isCompressed"),v){u();const I=!r.isOdd(b);return Qe(OH(I),A)}else return Qe(Uint8Array.of(4),A,r.toBytes(b))}function d(S){af(S,void 0,"Point");const{publicKey:w,publicKeyUncompressed:v}=l,m=S.length,b=S[0],A=S.subarray(1);if(m===w&&(b===2||b===3)){const I=r.fromBytes(A);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const C=g(I);let O;try{O=r.sqrt(C)}catch(z){const j=z instanceof Error?": "+z.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}u();const B=r.isOdd(O);return(b&1)===1!==B&&(O=r.neg(O)),{x:I,y:O}}else if(m===v&&b===4){const I=r.BYTES,C=r.fromBytes(A.subarray(0,I)),O=r.fromBytes(A.subarray(I,I*2));if(!y(C,O))throw new Error("bad point: is not on curve");return{x:C,y:O}}else throw new Error(`bad point: got length ${m}, expected compressed=${w} or uncompressed=${v}`)}const h=t.toBytes||f,p=t.fromBytes||d;function g(S){const w=r.sqr(S),v=r.mul(w,S);return r.add(r.add(v,r.mul(S,i.a)),i.b)}function y(S,w){const v=r.sqr(w),m=g(S);return r.eql(v,m)}if(!y(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const $=r.mul(r.pow(i.a,a4),l$e),_=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add($,_)))throw new Error("bad curve params: a or b");function x(S,w,v=!1){if(!r.isValid(w)||v&&r.is0(w))throw new Error(`bad point coordinate ${S}`);return w}function E(S){if(!(S instanceof T))throw new Error("ProjectivePoint expected")}function P(S){if(!c||!c.basises)throw new Error("no endo");return a$e(S,c.basises,s.ORDER)}const N=cH((S,w)=>{const{X:v,Y:m,Z:b}=S;if(r.eql(b,r.ONE))return{x:v,y:m};const A=S.is0();w==null&&(w=A?r.ONE:r.inv(b));const I=r.mul(v,w),C=r.mul(m,w),O=r.mul(b,w);if(A)return{x:r.ZERO,y:r.ZERO};if(!r.eql(O,r.ONE))throw new Error("invZ was invalid");return{x:I,y:C}}),k=cH(S=>{if(S.is0()){if(t.allowInfinityPoint&&!r.is0(S.Y))return;throw new Error("bad point: ZERO")}const{x:w,y:v}=S.toAffine();if(!r.isValid(w)||!r.isValid(v))throw new Error("bad point: x or y not field elements");if(!y(w,v))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(S,w,v,m,b){return v=new T(r.mul(v.X,S),v.Y,v.Z),w=o4(m,w),v=o4(b,v),w.add(v)}class T{constructor(w,v,m){this.X=x("x",w),this.Y=x("y",v,!0),this.Z=x("z",m),Object.freeze(this)}static CURVE(){return i}static fromAffine(w){const{x:v,y:m}=w||{};if(!w||!r.isValid(v)||!r.isValid(m))throw new Error("invalid affine point");if(w instanceof T)throw new Error("projective point not allowed");return r.is0(v)&&r.is0(m)?T.ZERO:new T(v,m,r.ONE)}static fromBytes(w){const v=T.fromAffine(p(af(w,void 0,"point")));return v.assertValidity(),v}static fromHex(w){return T.fromBytes(Fs("pointHex",w))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(w=8,v=!0){return M.createCache(this,w),v||this.multiply(a4),this}assertValidity(){k(this)}hasEvenY(){const{y:w}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(w)}equals(w){E(w);const{X:v,Y:m,Z:b}=this,{X:A,Y:I,Z:C}=w,O=r.eql(r.mul(v,C),r.mul(A,b)),B=r.eql(r.mul(m,C),r.mul(I,b));return O&&B}negate(){return new T(this.X,r.neg(this.Y),this.Z)}double(){const{a:w,b:v}=i,m=r.mul(v,a4),{X:b,Y:A,Z:I}=this;let C=r.ZERO,O=r.ZERO,B=r.ZERO,D=r.mul(b,b),z=r.mul(A,A),j=r.mul(I,I),U=r.mul(b,A);return U=r.add(U,U),B=r.mul(b,I),B=r.add(B,B),C=r.mul(w,B),O=r.mul(m,j),O=r.add(C,O),C=r.sub(z,O),O=r.add(z,O),O=r.mul(C,O),C=r.mul(U,C),B=r.mul(m,B),j=r.mul(w,j),U=r.sub(D,j),U=r.mul(w,U),U=r.add(U,B),B=r.add(D,D),D=r.add(B,D),D=r.add(D,j),D=r.mul(D,U),O=r.add(O,D),j=r.mul(A,I),j=r.add(j,j),D=r.mul(j,U),C=r.sub(C,D),B=r.mul(j,z),B=r.add(B,B),B=r.add(B,B),new T(C,O,B)}add(w){E(w);const{X:v,Y:m,Z:b}=this,{X:A,Y:I,Z:C}=w;let O=r.ZERO,B=r.ZERO,D=r.ZERO;const z=i.a,j=r.mul(i.b,a4);let U=r.mul(v,A),V=r.mul(m,I),q=r.mul(b,C),X=r.add(v,m),Z=r.add(A,I);X=r.mul(X,Z),Z=r.add(U,V),X=r.sub(X,Z),Z=r.add(v,b);let Y=r.add(A,C);return Z=r.mul(Z,Y),Y=r.add(U,q),Z=r.sub(Z,Y),Y=r.add(m,b),O=r.add(I,C),Y=r.mul(Y,O),O=r.add(V,q),Y=r.sub(Y,O),D=r.mul(z,Z),O=r.mul(j,q),D=r.add(O,D),O=r.sub(V,D),D=r.add(V,D),B=r.mul(O,D),V=r.add(U,U),V=r.add(V,U),q=r.mul(z,q),Z=r.mul(j,Z),V=r.add(V,q),q=r.sub(U,q),q=r.mul(z,q),Z=r.add(Z,q),U=r.mul(V,Z),B=r.add(B,U),U=r.mul(Y,Z),O=r.mul(X,O),O=r.sub(O,U),U=r.mul(X,V),D=r.mul(Y,D),D=r.add(D,U),new T(O,B,D)}subtract(w){return this.add(w.negate())}is0(){return this.equals(T.ZERO)}multiply(w){const{endo:v}=t;if(!s.isValidNot0(w))throw new Error("invalid scalar: out of range");let m,b;const A=I=>M.cached(this,I,C=>zA(T,C));if(v){const{k1neg:I,k1:C,k2neg:O,k2:B}=P(w),{p:D,f:z}=A(C),{p:j,f:U}=A(B);b=z.add(U),m=R(v.beta,D,j,I,O)}else{const{p:I,f:C}=A(w);m=I,b=C}return zA(T,[m,b])[0]}multiplyUnsafe(w){const{endo:v}=t,m=this;if(!s.isValid(w))throw new Error("invalid scalar: out of range");if(w===Ll||m.is0())return T.ZERO;if(w===j1)return m;if(M.hasCache(this))return this.multiply(w);if(v){const{k1neg:b,k1:A,k2neg:I,k2:C}=P(w),{p1:O,p2:B}=s$e(T,m,A,C);return R(v.beta,O,B,b,I)}else return M.unsafe(m,w)}multiplyAndAddUnsafe(w,v,m){const b=this.multiplyUnsafe(v).add(w.multiplyUnsafe(m));return b.is0()?void 0:b}toAffine(w){return N(this,w)}isTorsionFree(){const{isTorsionFree:w}=t;return o===j1?!0:w?w(T,this):M.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:w}=t;return o===j1?this:w?w(T,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(w=!0){return r4(w,"isCompressed"),this.assertValidity(),h(T,this,w)}toHex(w=!0){return Nn(this.toBytes(w))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(w=!0){return this.toBytes(w)}_setWindowSize(w){this.precompute(w)}static normalizeZ(w){return zA(T,w)}static msm(w,v){return i$e(T,s,w,v)}static fromPrivateKey(w){return T.BASE.multiply(z1(s,w))}}T.BASE=new T(i.Gx,i.Gy,r.ONE),T.ZERO=new T(r.ZERO,r.ONE,r.ZERO),T.Fp=r,T.Fn=s;const L=s.BITS,M=new r$e(T,t.endo?Math.ceil(L/2):L);return T.BASE.precompute(8),T}function OH(e){return Uint8Array.of(e?2:3)}function PH(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function d$e(e,t={}){const{Fn:n}=e,r=t.randomBytes||ti,s=Object.assign(PH(e.Fp,n),{seed:EH(n.ORDER)});function i(h){try{return!!z1(n,h)}catch{return!1}}function o(h,p){const{publicKey:g,publicKeyUncompressed:y}=s;try{const $=h.length;return p===!0&&$!==g||p===!1&&$!==y?!1:!!e.fromBytes(h)}catch{return!1}}function a(h=r(s.seed)){return e$e(af(h,s.seed,"seed"),n.ORDER)}function c(h,p=!0){return e.BASE.multiply(z1(n,h)).toBytes(p)}function l(h){const p=a(h);return{secretKey:p,publicKey:c(p)}}function u(h){if(typeof h=="bigint")return!1;if(h instanceof e)return!0;const{secretKey:p,publicKey:g,publicKeyUncompressed:y}=s;if(n.allowedLengths||p===g)return;const $=Fs("key",h).length;return $===g||$===y}function f(h,p,g=!0){if(u(h)===!0)throw new Error("first arg must be private key");if(u(p)===!1)throw new Error("second arg must be public key");const y=z1(n,h);return e.fromHex(p).multiply(y).toBytes(g)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:e,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:h=>z1(n,h),precompute(h=8,p=e.BASE){return p.precompute(h,!1)}},lengths:s})}function f$e(e,t,n={}){_b(t),FA(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||ti,s=n.hmac||((v,...m)=>o0(t,v,Qe(...m))),{Fp:i,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:h}=d$e(e,n),p={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},g="compact";function y(v){const m=a>>j1;return v>m}function $(v,m){if(!o.isValidNot0(m))throw new Error(`invalid signature ${v}: out of range 1..Point.Fn.ORDER`);return m}function _(v,m){ZA(m);const b=h.signature,A=m==="compact"?b:m==="recovered"?b+1:void 0;return af(v,A,`${m} signature`)}class x{constructor(m,b,A){this.r=$("r",m),this.s=$("s",b),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(m,b=g){_(m,b);let A;if(b==="der"){const{r:B,s:D}=Ul.toSig(af(m));return new x(B,D)}b==="recovered"&&(A=m[0],b="compact",m=m.subarray(1));const I=o.BYTES,C=m.subarray(0,I),O=m.subarray(I,I*2);return new x(o.fromBytes(C),o.fromBytes(O),A)}static fromHex(m,b){return this.fromBytes(Oi(m),b)}addRecoveryBit(m){return new x(this.r,this.s,m)}recoverPublicKey(m){const b=i.ORDER,{r:A,s:I,recovery:C}=this;if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");if(a*_H<b&&C>1)throw new Error("recovery id is ambiguous for h>1 curve");const B=C===2||C===3?A+a:A;if(!i.isValid(B))throw new Error("recovery id 2 or 3 invalid");const D=i.toBytes(B),z=e.fromBytes(Qe(OH((C&1)===0),D)),j=o.inv(B),U=P(Fs("msgHash",m)),V=o.create(-U*j),q=o.create(I*j),X=e.BASE.multiplyUnsafe(V).add(z.multiplyUnsafe(q));if(X.is0())throw new Error("point at infinify");return X.assertValidity(),X}hasHighS(){return y(this.s)}toBytes(m=g){if(ZA(m),m==="der")return Oi(Ul.hexFromSig(this));const b=o.toBytes(this.r),A=o.toBytes(this.s);if(m==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Qe(Uint8Array.of(this.recovery),b,A)}return Qe(b,A)}toHex(m){return Nn(this.toBytes(m))}assertValidity(){}static fromCompact(m){return x.fromBytes(Fs("sig",m),"compact")}static fromDER(m){return x.fromBytes(Fs("sig",m),"der")}normalizeS(){return this.hasHighS()?new x(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Nn(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Nn(this.toBytes("compact"))}}const E=n.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const b=i4(m),A=m.length*8-c;return A>0?b>>BigInt(A):b},P=n.bits2int_modN||function(m){return o.create(E(m))},N=Y2(c);function k(v){return V7e("num < 2^"+c,v,Ll,N),o.toBytes(v)}function R(v,m){return af(v,void 0,"message"),m?af(t(v),void 0,"prehashed message"):v}function T(v,m,b){if(["recovered","canonical"].some(V=>V in b))throw new Error("sign() legacy options not supported");const{lowS:A,prehash:I,extraEntropy:C}=WA(b,p);v=R(v,I);const O=P(v),B=z1(o,m),D=[k(B),k(O)];if(C!=null&&C!==!1){const V=C===!0?r(h.secretKey):C;D.push(Fs("extraEntropy",V))}const z=Qe(...D),j=O;function U(V){const q=E(V);if(!o.isValidNot0(q))return;const X=o.inv(q),Z=e.BASE.multiply(q).toAffine(),Y=o.create(Z.x);if(Y===Ll)return;const fe=o.create(X*o.create(j+Y*B));if(fe===Ll)return;let me=(Z.x===Y?0:2)|Number(Z.y&j1),we=fe;return A&&y(fe)&&(we=o.neg(fe),me^=1),new x(Y,we,me)}return{seed:z,k2sig:U}}function L(v,m,b={}){v=Fs("message",v);const{seed:A,k2sig:I}=T(v,m,b);return q7e(t.outputLen,o.BYTES,s)(A,I)}function M(v){let m;const b=typeof v=="string"||fo(v),A=!b&&v!==null&&typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!b&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)m=new x(v.r,v.s);else if(b){try{m=x.fromBytes(Fs("sig",v),"der")}catch(I){if(!(I instanceof Ul.Err))throw I}if(!m)try{m=x.fromBytes(Fs("sig",v),"compact")}catch{return!1}}return m||!1}function S(v,m,b,A={}){const{lowS:I,prehash:C,format:O}=WA(A,p);if(b=Fs("publicKey",b),m=R(Fs("message",m),C),"strict"in A)throw new Error("options.strict was renamed to lowS");const B=O===void 0?M(v):x.fromBytes(Fs("sig",v),O);if(B===!1)return!1;try{const D=e.fromBytes(b);if(I&&B.hasHighS())return!1;const{r:z,s:j}=B,U=P(m),V=o.inv(j),q=o.create(U*V),X=o.create(z*V),Z=e.BASE.multiplyUnsafe(q).add(D.multiplyUnsafe(X));return Z.is0()?!1:o.create(Z.x)===z}catch{return!1}}function w(v,m,b={}){const{prehash:A}=WA(b,p);return m=R(m,A),x.fromBytes(v,"recovered").recoverPublicKey(m).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:h,Point:e,sign:L,verify:S,recoverPublicKey:w,Signature:x,hash:t})}function h$e(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=X2(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function p$e(e){const{CURVE:t,curveOpts:n}=h$e(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function g$e(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,wH(n.Fn.ORDER,n.Fn.BITS))})}function m$e(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:s}=p$e(e),i=u$e(t,n),o=f$e(i,r,s);return g$e(e,o)}function y$e(e,t){const n=r=>m$e({...e,hash:r});return{...n(t),create:n}}Zc("HashToScalar-");const KA={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},b$e={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},TH=BigInt(2);function w$e(e){const t=KA.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=Gi(u,n,t)*u%t,d=Gi(f,n,t)*u%t,h=Gi(d,TH,t)*l%t,p=Gi(h,s,t)*h%t,g=Gi(p,i,t)*p%t,y=Gi(g,a,t)*g%t,$=Gi(y,c,t)*y%t,_=Gi($,a,t)*g%t,x=Gi(_,n,t)*u%t,E=Gi(x,o,t)*p%t,P=Gi(E,r,t)*l%t,N=Gi(P,TH,t);if(!GA.eql(GA.sqr(N),e))throw new Error("Cannot find square root");return N}const GA=X2(KA.p,{sqrt:w$e});y$e({...KA,Fp:GA,lowS:!0,endo:b$e},Zn);const c4=BigInt(2**32-1),NH=BigInt(32);function BH(e,t=!1){return t?{h:Number(e&c4),l:Number(e>>NH&c4)}:{h:Number(e>>NH&c4)|0,l:Number(e&c4)|0}}function kH(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=BH(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const RH=(e,t,n)=>e>>>n,DH=(e,t,n)=>e<<32-n|t>>>n,fd=(e,t,n)=>e>>>n|t<<32-n,hd=(e,t,n)=>e<<32-n|t>>>n,J2=(e,t,n)=>e<<64-n|t>>>n-32,Q2=(e,t,n)=>e>>>n-32|t<<64-n,v$e=(e,t)=>t,E$e=(e,t)=>e,x$e=(e,t,n)=>e<<n|t>>>32-n,$$e=(e,t,n)=>t<<n|e>>>32-n,A$e=(e,t,n)=>t<<n-32|e>>>64-n,C$e=(e,t,n)=>e<<n-32|t>>>64-n;function Ro(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const YA=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),XA=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,S$e=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),I$e=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,_$e=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),O$e=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,H1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function l4(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function pd(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Do(e,...t){if(!l4(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function MH(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");pd(e.outputLen),pd(e.blockLen)}function gd(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function JA(e,t){Do(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function em(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Mo(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function QA(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Sa(e,t){return e<<32-t|e>>>t}const UH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function LH(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Fl=UH?e=>e:e=>LH(e);function P$e(e){for(let t=0;t<e.length;t++)e[t]=LH(e[t]);return e}const md=UH?e=>e:P$e,FH=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",T$e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function V1(e){if(Do(e),FH)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=T$e[e[n]];return t}const jl={_0:48,_9:57,A:65,F:70,a:97,f:102};function jH(e){if(e>=jl._0&&e<=jl._9)return e-jl._0;if(e>=jl.A&&e<=jl.F)return e-(jl.A-10);if(e>=jl.a&&e<=jl.f)return e-(jl.a-10)}function u4(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(FH)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=jH(e.charCodeAt(i)),a=jH(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function zH(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function zl(e){return typeof e=="string"&&(e=zH(e)),Do(e),e}function yd(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Do(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class d4{}function tm(e){const t=r=>e().update(zl(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function N$e(e){const t=(r,s)=>e(s).update(zl(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function eC(e=32){if(H1&&typeof H1.getRandomValues=="function")return H1.getRandomValues(new Uint8Array(e));if(H1&&typeof H1.randomBytes=="function")return Uint8Array.from(H1.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const B$e=BigInt(0),nm=BigInt(1),k$e=BigInt(2),R$e=BigInt(7),D$e=BigInt(256),M$e=BigInt(113),HH=[],VH=[],qH=[];for(let e=0,t=nm,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],HH.push(2*(5*r+n)),VH.push((e+1)*(e+2)/2%64);let s=B$e;for(let i=0;i<7;i++)t=(t<<nm^(t>>R$e)*M$e)%D$e,t&k$e&&(s^=nm<<(nm<<BigInt(i))-nm);qH.push(s)}const ZH=kH(qH,!0),U$e=ZH[0],L$e=ZH[1],WH=(e,t,n)=>n>32?A$e(e,t,n):x$e(e,t,n),KH=(e,t,n)=>n>32?C$e(e,t,n):$$e(e,t,n);function F$e(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],f=WH(l,u,1)^n[a],d=KH(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=f,e[o+h+1]^=d}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=VH[o],c=WH(s,i,a),l=KH(s,i,a),u=HH[o];s=e[u],i=e[u+1],e[u]=c,e[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=U$e[r],e[1]^=L$e[r]}Mo(n)}class tC extends d4{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,pd(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=em(this.state)}clone(){return this._cloneInto()}keccak(){md(this.state32),F$e(this.state32,this.rounds),md(this.state32),this.posOut=0,this.pos=0}update(t){gd(this),t=zl(t),Do(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){gd(this,!1),Do(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return pd(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(JA(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Mo(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new tC(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}((e,t,n)=>tm(()=>new tC(t,e,n)))(1,136,256/8);function j$e(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function z$e(e,t,n){return e&t^~e&n}function H$e(e,t,n){return e&t^e&n^t&n}class GH extends d4{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=QA(this.buffer)}update(t){gd(this),t=zl(t),Do(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=QA(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){gd(this),JA(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Mo(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;j$e(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=QA(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const bd=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ir=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),_r=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),V$e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wd=new Uint32Array(64);class q$e extends GH{constructor(t=32){super(64,t,8,!1),this.A=bd[0]|0,this.B=bd[1]|0,this.C=bd[2]|0,this.D=bd[3]|0,this.E=bd[4]|0,this.F=bd[5]|0,this.G=bd[6]|0,this.H=bd[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)wd[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=wd[f-15],h=wd[f-2],p=Sa(d,7)^Sa(d,18)^d>>>3,g=Sa(h,17)^Sa(h,19)^h>>>10;wd[f]=g+wd[f-7]+p+wd[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=Sa(a,6)^Sa(a,11)^Sa(a,25),h=u+d+z$e(a,c,l)+V$e[f]+wd[f]|0,p=(Sa(r,2)^Sa(r,13)^Sa(r,22))+H$e(r,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Mo(wd)}destroy(){this.set(0,0,0,0,0,0,0,0),Mo(this.buffer)}}const YH=kH(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Z$e=YH[0],W$e=YH[1],vd=new Uint32Array(80),Ed=new Uint32Array(80);class nC extends GH{constructor(t=64){super(128,t,16,!1),this.Ah=_r[0]|0,this.Al=_r[1]|0,this.Bh=_r[2]|0,this.Bl=_r[3]|0,this.Ch=_r[4]|0,this.Cl=_r[5]|0,this.Dh=_r[6]|0,this.Dl=_r[7]|0,this.Eh=_r[8]|0,this.El=_r[9]|0,this.Fh=_r[10]|0,this.Fl=_r[11]|0,this.Gh=_r[12]|0,this.Gl=_r[13]|0,this.Hh=_r[14]|0,this.Hl=_r[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:p,Hh:g,Hl:y}=this;return[t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y]}set(t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let x=0;x<16;x++,n+=4)vd[x]=t.getUint32(n),Ed[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const E=vd[x-15]|0,P=Ed[x-15]|0,N=fd(E,P,1)^fd(E,P,8)^RH(E,P,7),k=hd(E,P,1)^hd(E,P,8)^DH(E,P,7),R=vd[x-2]|0,T=Ed[x-2]|0,L=fd(R,T,19)^J2(R,T,61)^RH(R,T,6),M=hd(R,T,19)^Q2(R,T,61)^DH(R,T,6),S=S$e(k,M,Ed[x-7],Ed[x-16]),w=I$e(S,N,L,vd[x-7],vd[x-16]);vd[x]=w|0,Ed[x]=S|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:p,Gh:g,Gl:y,Hh:$,Hl:_}=this;for(let x=0;x<80;x++){const E=fd(f,d,14)^fd(f,d,18)^J2(f,d,41),P=hd(f,d,14)^hd(f,d,18)^Q2(f,d,41),N=f&h^~f&g,k=d&p^~d&y,R=_$e(_,P,k,W$e[x],Ed[x]),T=O$e(R,$,E,N,Z$e[x],vd[x]),L=R|0,M=fd(r,s,28)^J2(r,s,34)^J2(r,s,39),S=hd(r,s,28)^Q2(r,s,34)^Q2(r,s,39),w=r&i^r&a^i&a,v=s&o^s&c^o&c;$=g|0,_=y|0,g=h|0,y=p|0,h=f|0,p=d|0,{h:f,l:d}=Ro(l|0,u|0,T|0,L|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const m=YA(L,S,v);r=XA(m,T,M,w),s=m|0}({h:r,l:s}=Ro(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Ro(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ro(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Ro(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=Ro(this.Eh|0,this.El|0,f|0,d|0),{h,l:p}=Ro(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:y}=Ro(this.Gh|0,this.Gl|0,g|0,y|0),{h:$,l:_}=Ro(this.Hh|0,this.Hl|0,$|0,_|0),this.set(r,s,i,o,a,c,l,u,f,d,h,p,g,y,$,_)}roundClean(){Mo(vd,Ed)}destroy(){Mo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class K$e extends nC{constructor(){super(48),this.Ah=Ir[0]|0,this.Al=Ir[1]|0,this.Bh=Ir[2]|0,this.Bl=Ir[3]|0,this.Ch=Ir[4]|0,this.Cl=Ir[5]|0,this.Dh=Ir[6]|0,this.Dl=Ir[7]|0,this.Eh=Ir[8]|0,this.El=Ir[9]|0,this.Fh=Ir[10]|0,this.Fl=Ir[11]|0,this.Gh=Ir[12]|0,this.Gl=Ir[13]|0,this.Hh=Ir[14]|0,this.Hl=Ir[15]|0}}const Or=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class G$e extends nC{constructor(){super(32),this.Ah=Or[0]|0,this.Al=Or[1]|0,this.Bh=Or[2]|0,this.Bl=Or[3]|0,this.Ch=Or[4]|0,this.Cl=Or[5]|0,this.Dh=Or[6]|0,this.Dl=Or[7]|0,this.Eh=Or[8]|0,this.El=Or[9]|0,this.Fh=Or[10]|0,this.Fl=Or[11]|0,this.Gh=Or[12]|0,this.Gl=Or[13]|0,this.Hh=Or[14]|0,this.Hl=Or[15]|0}}const Y$e=tm(()=>new q$e),X$e=tm(()=>new nC),J$e=tm(()=>new K$e);tm(()=>new G$e);const Q$e=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Cn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ee=new Uint32Array(32);function xd(e,t,n,r,s,i){const o=s[i],a=s[i+1];let c=Ee[2*e],l=Ee[2*e+1],u=Ee[2*t],f=Ee[2*t+1],d=Ee[2*n],h=Ee[2*n+1],p=Ee[2*r],g=Ee[2*r+1],y=YA(c,u,o);l=XA(y,l,f,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:v$e(g,p),Dl:E$e(g)},{h,l:d}=Ro(h,d,g,p),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:fd(f,u,24),Bl:hd(f,u,24)},Ee[2*e]=c,Ee[2*e+1]=l,Ee[2*t]=u,Ee[2*t+1]=f,Ee[2*n]=d,Ee[2*n+1]=h,Ee[2*r]=p,Ee[2*r+1]=g}function $d(e,t,n,r,s,i){const o=s[i],a=s[i+1];let c=Ee[2*e],l=Ee[2*e+1],u=Ee[2*t],f=Ee[2*t+1],d=Ee[2*n],h=Ee[2*n+1],p=Ee[2*r],g=Ee[2*r+1],y=YA(c,u,o);l=XA(y,l,f,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:fd(g,p,16),Dl:hd(g,p,16)},{h,l:d}=Ro(h,d,g,p),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:J2(f,u,63),Bl:Q2(f,u,63)},Ee[2*e]=c,Ee[2*e+1]=l,Ee[2*t]=u,Ee[2*t+1]=f,Ee[2*n]=d,Ee[2*n+1]=h,Ee[2*r]=p,Ee[2*r+1]=g}function eAe(e,t={},n,r,s){if(pd(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=t;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class tAe extends d4{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,pd(t),pd(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=em(this.buffer)}update(t){gd(this),t=zl(t),Do(t);const{blockLen:n,buffer:r,buffer32:s}=this,i=t.length,o=t.byteOffset,a=t.buffer;for(let c=0;c<i;){this.pos===n&&(md(s),this.compress(s,0,!1),md(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const f=new Uint32Array(a,u,Math.floor((i-c)/4));md(f);for(let d=0;c+n<i;d+=s.length,c+=n)this.length+=n,this.compress(f,d,!1);md(f);continue}r.set(t.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(t){gd(this),JA(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,Mo(this.buffer.subarray(n)),md(r),this.compress(r,0,!0),md(r);const s=em(t);this.get().forEach((i,o)=>s[o]=Fl(i))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return t||(t=new this.constructor({dkLen:o})),t.set(...this.get()),t.buffer.set(n),t.destroyed=i,t.finished=s,t.length=r,t.pos=a,t.outputLen=o,t}clone(){return this._cloneInto()}}class nAe extends tAe{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=Cn[0]|0,this.v0h=Cn[1]|0,this.v1l=Cn[2]|0,this.v1h=Cn[3]|0,this.v2l=Cn[4]|0,this.v2h=Cn[5]|0,this.v3l=Cn[6]|0,this.v3h=Cn[7]|0,this.v4l=Cn[8]|0,this.v4h=Cn[9]|0,this.v5l=Cn[10]|0,this.v5h=Cn[11]|0,this.v6l=Cn[12]|0,this.v6h=Cn[13]|0,this.v7l=Cn[14]|0,this.v7h=Cn[15]|0,eAe(n,t,64,16,16);let{key:r,personalization:s,salt:i}=t,o=0;if(r!==void 0&&(r=zl(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=zl(i);const a=em(i);this.v4l^=Fl(a[0]),this.v4h^=Fl(a[1]),this.v5l^=Fl(a[2]),this.v5h^=Fl(a[3])}if(s!==void 0){s=zl(s);const a=em(s);this.v6l^=Fl(a[0]),this.v6h^=Fl(a[1]),this.v7l^=Fl(a[2]),this.v7h^=Fl(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:f,v5h:d,v6l:h,v6h:p,v7l:g,v7h:y}=this;return[t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y]}set(t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=d|0,this.v6l=h|0,this.v6h=p|0,this.v7l=g|0,this.v7h=y|0}compress(t,n,r){this.get().forEach((c,l)=>Ee[l]=c),Ee.set(Cn,16);let{h:s,l:i}=BH(BigInt(this.length));Ee[24]=Cn[8]^i,Ee[25]=Cn[9]^s,r&&(Ee[28]=~Ee[28],Ee[29]=~Ee[29]);let o=0;const a=Q$e;for(let c=0;c<12;c++)xd(0,4,8,12,t,n+2*a[o++]),$d(0,4,8,12,t,n+2*a[o++]),xd(1,5,9,13,t,n+2*a[o++]),$d(1,5,9,13,t,n+2*a[o++]),xd(2,6,10,14,t,n+2*a[o++]),$d(2,6,10,14,t,n+2*a[o++]),xd(3,7,11,15,t,n+2*a[o++]),$d(3,7,11,15,t,n+2*a[o++]),xd(0,5,10,15,t,n+2*a[o++]),$d(0,5,10,15,t,n+2*a[o++]),xd(1,6,11,12,t,n+2*a[o++]),$d(1,6,11,12,t,n+2*a[o++]),xd(2,7,8,13,t,n+2*a[o++]),$d(2,7,8,13,t,n+2*a[o++]),xd(3,4,9,14,t,n+2*a[o++]),$d(3,4,9,14,t,n+2*a[o++]);this.v0l^=Ee[0]^Ee[16],this.v0h^=Ee[1]^Ee[17],this.v1l^=Ee[2]^Ee[18],this.v1h^=Ee[3]^Ee[19],this.v2l^=Ee[4]^Ee[20],this.v2h^=Ee[5]^Ee[21],this.v3l^=Ee[6]^Ee[22],this.v3h^=Ee[7]^Ee[23],this.v4l^=Ee[8]^Ee[24],this.v4h^=Ee[9]^Ee[25],this.v5l^=Ee[10]^Ee[26],this.v5h^=Ee[11]^Ee[27],this.v6l^=Ee[12]^Ee[28],this.v6h^=Ee[13]^Ee[29],this.v7l^=Ee[14]^Ee[30],this.v7h^=Ee[15]^Ee[31],Mo(Ee)}destroy(){this.destroyed=!0,Mo(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}N$e(e=>new nAe(e));/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function XH(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function rC(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function sC(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function zs(e,...t){if(!XH(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function JH(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function rAe(e,t){zs(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ad(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function q1(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function sAe(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const iAe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function oAe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function iC(e){if(typeof e=="string")e=oAe(e);else if(XH(e))e=oC(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function aAe(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function cAe(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const lAe=(e,t)=>{function n(r,...s){if(zs(r),!iAe)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");e.varSizeNonce?zs(l):zs(l,e.nonceLength)}const i=e.tagLength;i&&s[1]!==void 0&&zs(s[1]);const o=t(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");zs(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,zs(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(zs(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,e),n};function QH(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!dAe(t))throw new Error("invalid output, must be aligned");return t}function eV(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function uAe(e,t,n){rC(n);const r=new Uint8Array(16),s=sAe(r);return eV(s,0,BigInt(t),n),eV(s,8,BigInt(e),n),r}function dAe(e){return e.byteOffset%4===0}function oC(e){return Uint8Array.from(e)}const tV=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),fAe=tV("expand 16-byte k"),hAe=tV("expand 32-byte k"),pAe=Ad(fAe),gAe=Ad(hAe);function ft(e,t){return e<<t|e>>>32-t}function aC(e){return e.byteOffset%4===0}const f4=64,mAe=16,nV=2**32-1,rV=new Uint32Array;function yAe(e,t,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(f4),u=Ad(l),f=aC(s)&&aC(i),d=f?Ad(s):rV,h=f?Ad(i):rV;for(let p=0;p<c;o++){if(e(t,n,r,u,o,a),o>=nV)throw new Error("arx: counter overflow");const g=Math.min(f4,c-p);if(f&&g===f4){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let $=0,_;$<mAe;$++)_=y+$,h[_]=d[_]^u[$];p+=f4;continue}for(let y=0,$;y<g;y++)$=p+y,i[$]=s[$]^l[y];p+=g}}function bAe(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=aAe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return sC(s),sC(o),rC(i),rC(n),(a,c,l,u,f=0)=>{zs(a),zs(c),zs(l);const d=l.length;if(u===void 0&&(u=new Uint8Array(d)),zs(u),sC(f),f<0||f>=nV)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let p=a.length,g,y;if(p===32)h.push(g=oC(a)),y=gAe;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=pAe,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);aC(c)||h.push(c=oC(c));const $=Ad(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,$,Ad(c.subarray(0,16)),$),c=c.subarray(16)}const _=16-s;if(_!==c.length)throw new Error(`arx: nonce must be ${_} or 16 bytes`);if(_!==12){const E=new Uint8Array(12);E.set(c,i?0:12-c.length),c=E,h.push(c)}const x=Ad(c);return yAe(e,y,$,x,l,u,f,o),q1(...h),u}}const ir=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class wAe{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=iC(t),zs(t,32);const n=ir(t,0),r=ir(t,2),s=ir(t,4),i=ir(t,6),o=ir(t,8),a=ir(t,10),c=ir(t,12),l=ir(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ir(t,16+2*u)}process(t,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],f=o[4],d=o[5],h=o[6],p=o[7],g=o[8],y=o[9],$=ir(t,n+0),_=ir(t,n+2),x=ir(t,n+4),E=ir(t,n+6),P=ir(t,n+8),N=ir(t,n+10),k=ir(t,n+12),R=ir(t,n+14);let T=i[0]+($&8191),L=i[1]+(($>>>13|_<<3)&8191),M=i[2]+((_>>>10|x<<6)&8191),S=i[3]+((x>>>7|E<<9)&8191),w=i[4]+((E>>>4|P<<12)&8191),v=i[5]+(P>>>1&8191),m=i[6]+((P>>>14|N<<2)&8191),b=i[7]+((N>>>11|k<<5)&8191),A=i[8]+((k>>>8|R<<8)&8191),I=i[9]+(R>>>5|s),C=0,O=C+T*a+L*(5*y)+M*(5*g)+S*(5*p)+w*(5*h);C=O>>>13,O&=8191,O+=v*(5*d)+m*(5*f)+b*(5*u)+A*(5*l)+I*(5*c),C+=O>>>13,O&=8191;let B=C+T*c+L*a+M*(5*y)+S*(5*g)+w*(5*p);C=B>>>13,B&=8191,B+=v*(5*h)+m*(5*d)+b*(5*f)+A*(5*u)+I*(5*l),C+=B>>>13,B&=8191;let D=C+T*l+L*c+M*a+S*(5*y)+w*(5*g);C=D>>>13,D&=8191,D+=v*(5*p)+m*(5*h)+b*(5*d)+A*(5*f)+I*(5*u),C+=D>>>13,D&=8191;let z=C+T*u+L*l+M*c+S*a+w*(5*y);C=z>>>13,z&=8191,z+=v*(5*g)+m*(5*p)+b*(5*h)+A*(5*d)+I*(5*f),C+=z>>>13,z&=8191;let j=C+T*f+L*u+M*l+S*c+w*a;C=j>>>13,j&=8191,j+=v*(5*y)+m*(5*g)+b*(5*p)+A*(5*h)+I*(5*d),C+=j>>>13,j&=8191;let U=C+T*d+L*f+M*u+S*l+w*c;C=U>>>13,U&=8191,U+=v*a+m*(5*y)+b*(5*g)+A*(5*p)+I*(5*h),C+=U>>>13,U&=8191;let V=C+T*h+L*d+M*f+S*u+w*l;C=V>>>13,V&=8191,V+=v*c+m*a+b*(5*y)+A*(5*g)+I*(5*p),C+=V>>>13,V&=8191;let q=C+T*p+L*h+M*d+S*f+w*u;C=q>>>13,q&=8191,q+=v*l+m*c+b*a+A*(5*y)+I*(5*g),C+=q>>>13,q&=8191;let X=C+T*g+L*p+M*h+S*d+w*f;C=X>>>13,X&=8191,X+=v*u+m*l+b*c+A*a+I*(5*y),C+=X>>>13,X&=8191;let Z=C+T*y+L*g+M*p+S*h+w*d;C=Z>>>13,Z&=8191,Z+=v*f+m*u+b*l+A*c+I*a,C+=Z>>>13,Z&=8191,C=(C<<2)+C|0,C=C+O|0,O=C&8191,C=C>>>13,B+=C,i[0]=O,i[1]=B,i[2]=D,i[3]=z,i[4]=j,i[5]=U,i[6]=V,i[7]=q,i[8]=X,i[9]=Z}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let s=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=s,s=t[a]>>>13,t[a]&=8191;t[0]+=s*5,s=t[0]>>>13,t[0]&=8191,t[1]+=s,s=t[1]>>>13,t[1]&=8191,t[2]+=s,r[0]=t[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)t[a]=t[a]&i|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let o=t[0]+n[0];t[0]=o&65535;for(let a=1;a<8;a++)o=(t[a]+n[a]|0)+(o>>>16)|0,t[a]=o&65535;q1(r)}update(t){JH(this),t=iC(t),zs(t);const{buffer:n,blockLen:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(t,i);continue}n.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){q1(this.h,this.r,this.buffer,this.pad)}digestInto(t){JH(this),rAe(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)t[i++]=r[o]>>>0,t[i++]=r[o]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function vAe(e){const t=(r,s)=>e(s).update(iC(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const EAe=vAe(e=>new wAe(e));function xAe(e,t,n,r,s,i=20){let o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],f=t[1],d=t[2],h=t[3],p=t[4],g=t[5],y=t[6],$=t[7],_=s,x=n[0],E=n[1],P=n[2],N=o,k=a,R=c,T=l,L=u,M=f,S=d,w=h,v=p,m=g,b=y,A=$,I=_,C=x,O=E,B=P;for(let z=0;z<i;z+=2)N=N+L|0,I=ft(I^N,16),v=v+I|0,L=ft(L^v,12),N=N+L|0,I=ft(I^N,8),v=v+I|0,L=ft(L^v,7),k=k+M|0,C=ft(C^k,16),m=m+C|0,M=ft(M^m,12),k=k+M|0,C=ft(C^k,8),m=m+C|0,M=ft(M^m,7),R=R+S|0,O=ft(O^R,16),b=b+O|0,S=ft(S^b,12),R=R+S|0,O=ft(O^R,8),b=b+O|0,S=ft(S^b,7),T=T+w|0,B=ft(B^T,16),A=A+B|0,w=ft(w^A,12),T=T+w|0,B=ft(B^T,8),A=A+B|0,w=ft(w^A,7),N=N+M|0,B=ft(B^N,16),b=b+B|0,M=ft(M^b,12),N=N+M|0,B=ft(B^N,8),b=b+B|0,M=ft(M^b,7),k=k+S|0,I=ft(I^k,16),A=A+I|0,S=ft(S^A,12),k=k+S|0,I=ft(I^k,8),A=A+I|0,S=ft(S^A,7),R=R+w|0,C=ft(C^R,16),v=v+C|0,w=ft(w^v,12),R=R+w|0,C=ft(C^R,8),v=v+C|0,w=ft(w^v,7),T=T+L|0,O=ft(O^T,16),m=m+O|0,L=ft(L^m,12),T=T+L|0,O=ft(O^T,8),m=m+O|0,L=ft(L^m,7);let D=0;r[D++]=o+N|0,r[D++]=a+k|0,r[D++]=c+R|0,r[D++]=l+T|0,r[D++]=u+L|0,r[D++]=f+M|0,r[D++]=d+S|0,r[D++]=h+w|0,r[D++]=p+v|0,r[D++]=g+m|0,r[D++]=y+b|0,r[D++]=$+A|0,r[D++]=_+I|0,r[D++]=x+C|0,r[D++]=E+O|0,r[D++]=P+B|0}const $Ae=bAe(xAe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),AAe=new Uint8Array(16),sV=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(AAe.subarray(n))},CAe=new Uint8Array(32);function iV(e,t,n,r,s){const i=e(t,n,CAe),o=EAe.create(i);s&&sV(o,s),sV(o,r);const a=uAe(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return q1(i,a),c}lAe({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,n,r)=>({encrypt(s,i){const o=s.length;i=QH(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);e(t,n,a,a,1);const c=iV(e,t,n,a,r);return i.set(c,o),q1(c),i},decrypt(s,i){i=QH(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=iV(e,t,n,o,r);if(!cAe(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),e(t,n,i,i,1),q1(c),i}}))($Ae));class oV extends d4{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,MH(t);const r=zl(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Mo(i)}update(t){return gd(this),this.iHash.update(t),this}digestInto(t){gd(this),Do(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const aV=(e,t,n)=>new oV(e,t).update(n).digest();aV.create=(e,t)=>new oV(e,t);const cC=BigInt(0),lC=BigInt(1);function h4(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function uf(e,t,n=""){const r=l4(e),s=e?.length,i=t!==void 0;if(!r||i&&s!==t){const o=n&&`"${n}" `,a=i?` of length ${t}`:"",c=r?`length=${s}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function p4(e){const t=e.toString(16);return t.length&1?"0"+t:t}function cV(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?cC:BigInt("0x"+e)}function g4(e){return cV(V1(e))}function m4(e){return Do(e),cV(V1(Uint8Array.from(e).reverse()))}function uC(e,t){return u4(e.toString(16).padStart(t*2,"0"))}function dC(e,t){return uC(e,t).reverse()}function Pr(e,t,n){let r;if(typeof t=="string")try{r=u4(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(l4(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const fC=e=>typeof e=="bigint"&&cC<=e;function SAe(e,t,n){return fC(e)&&fC(t)&&fC(n)&&t<=e&&e<n}function hC(e,t,n,r){if(!SAe(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function lV(e){let t;for(t=0;e>cC;e>>=lC,t+=1);return t}const rm=e=>(lC<<BigInt(e))-lC;function IAe(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=d=>new Uint8Array(d),s=d=>Uint8Array.of(d);let i=r(e),o=r(e),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...d)=>n(o,i,...d),u=(d=r(0))=>{o=l(s(0),d),i=l(),d.length!==0&&(o=l(s(1),d),i=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<t;){i=l();const p=i.slice();h.push(p),d+=i.length}return yd(...h)};return(d,h)=>{c(),u(d);let p;for(;!(p=h(f()));)u();return c(),p}}function y4(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,i,o){const a=e[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(t).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function uV(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const Hs=BigInt(0),is=BigInt(1),df=BigInt(2),dV=BigInt(3),fV=BigInt(4),hV=BigInt(5),_Ae=BigInt(7),pV=BigInt(8),OAe=BigInt(9),gV=BigInt(16);function vi(e,t){const n=e%t;return n>=Hs?n:t+n}function Uo(e,t,n){let r=e;for(;t-- >Hs;)r*=r,r%=n;return r}function mV(e,t){if(e===Hs)throw new Error("invert: expected non-zero number");if(t<=Hs)throw new Error("invert: expected positive modulus, got "+t);let n=vi(e,t),r=t,s=Hs,i=is;for(;n!==Hs;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==is)throw new Error("invert: does not exist");return vi(s,t)}function pC(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function yV(e,t){const n=(e.ORDER+is)/fV,r=e.pow(t,n);return pC(e,r,t),r}function PAe(e,t){const n=(e.ORDER-hV)/pV,r=e.mul(t,df),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,df),s),a=e.mul(i,e.sub(o,e.ONE));return pC(e,a,t),a}function TAe(e){const t=Cd(e),n=bV(e),r=n(t,t.neg(t.ONE)),s=n(t,r),i=n(t,t.neg(r)),o=(e+_Ae)/gV;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,r);const f=a.mul(l,s),d=a.mul(l,i),h=a.eql(a.sqr(u),c),p=a.eql(a.sqr(f),c);l=a.cmov(l,u,h),u=a.cmov(d,f,p);const g=a.eql(a.sqr(u),c),y=a.cmov(l,u,g);return pC(a,y,c),y}}function bV(e){if(e<dV)throw new Error("sqrt is not defined for small field");let t=e-is,n=0;for(;t%df===Hs;)t/=df,n++;let r=df;const s=Cd(e);for(;vV(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return yV;let i=s.pow(r,t);const o=(t+is)/df;return function(a,c){if(a.is0(c))return c;if(vV(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),f=a.pow(c,t),d=a.pow(c,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let h=1,p=a.sqr(f);for(;!a.eql(p,a.ONE);)if(h++,p=a.sqr(p),h===l)throw new Error("Cannot find square root");const g=is<<BigInt(l-h-1),y=a.pow(u,g);l=h,u=a.sqr(y),f=a.mul(f,u),d=a.mul(d,y)}return d}}function NAe(e){return e%fV===dV?yV:e%pV===hV?PAe:e%gV===OAe?TAe(e):bV(e)}const BAe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kAe(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=BAe.reduce((r,s)=>(r[s]="function",r),t);return y4(e,n),e}function RAe(e,t,n){if(n<Hs)throw new Error("invalid exponent, negatives unsupported");if(n===Hs)return e.ONE;if(n===is)return t;let r=e.ONE,s=t;for(;n>Hs;)n&is&&(r=e.mul(r,s)),s=e.sqr(s),n>>=is;return r}function wV(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function vV(e,t){const n=(e.ORDER-is)/df,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function EV(e,t){t!==void 0&&pd(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Cd(e,t,n=!1,r={}){if(e<=Hs)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i,o=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(s=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),a=d.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:c,nByteLength:l}=EV(e,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:rm(c),ZERO:Hs,ONE:is,allowedLengths:a,create:d=>vi(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Hs<=d&&d<e},is0:d=>d===Hs,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&is)===is,neg:d=>vi(-d,e),eql:(d,h)=>d===h,sqr:d=>vi(d*d,e),add:(d,h)=>vi(d+h,e),sub:(d,h)=>vi(d-h,e),mul:(d,h)=>vi(d*h,e),pow:(d,h)=>RAe(f,d,h),div:(d,h)=>vi(d*mV(h,e),e),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>mV(d,e),sqrt:i||(d=>(u||(u=NAe(e)),u(f,d))),toBytes:d=>n?dC(d,l):uC(d,l),fromBytes:(d,h=!0)=>{if(a){if(!a.includes(d.length)||d.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);const g=new Uint8Array(l);g.set(d,n?0:g.length-d.length),d=g}if(d.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+d.length);let p=n?m4(d):g4(d);if(o&&(p=vi(p,e)),!h&&!f.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:d=>wV(f,d),cmov:(d,h,p)=>p?h:d});return Object.freeze(f)}function xV(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function $V(e){const t=xV(e);return t+Math.ceil(t/2)}function DAe(e,t,n=!1){const r=e.length,s=xV(t),i=$V(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?m4(e):g4(e),a=vi(o,t-is)+is;return n?dC(a,s):uC(a,s)}const Z1=BigInt(0),ff=BigInt(1);function b4(e,t){const n=t.negate();return e?n:t}function gC(e,t){const n=wV(e.Fp,t.map(r=>r.Z));return t.map((r,s)=>e.fromAffine(r.toAffine(n[s])))}function AV(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function mC(e,t){AV(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=rm(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function CV(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=ff);const l=t*r,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function MAe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function UAe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const yC=new WeakMap,SV=new WeakMap;function bC(e){return SV.get(e)||1}function IV(e){if(e!==Z1)throw new Error("invalid wNAF")}class LAe{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let s=t;for(;n>Z1;)n&ff&&(r=r.add(s)),s=s.double(),n>>=ff;return r}precomputeWindow(t,n){const{windows:r,windowSize:s}=mC(n,this.bits),i=[];let o=t,a=o;for(let c=0;c<r;c++){a=o,i.push(a);for(let l=1;l<s;l++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=mC(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:d,offsetF:h}=CV(r,a,o);r=c,u?i=i.add(b4(d,n[h])):s=s.add(b4(f,n[l]))}return IV(r),{p:s,f:i}}wNAFUnsafe(t,n,r,s=this.ZERO){const i=mC(t,this.bits);for(let o=0;o<i.windows&&r!==Z1;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=CV(r,o,i);if(r=a,!l){const f=n[c];s=s.add(u?f.negate():f)}}return IV(r),s}getPrecomputes(t,n,r){let s=yC.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(s=r(s)),yC.set(n,s))),s}cached(t,n,r){const s=bC(t);return this.wNAF(s,this.getPrecomputes(s,t,r),n)}unsafe(t,n,r,s){const i=bC(t);return i===1?this._unsafeLadder(t,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),n,s)}createCache(t,n){AV(n,this.bits),SV.set(t,n),yC.delete(t)}hasCache(t){return bC(t)!==1}}function FAe(e,t,n,r){let s=t,i=e.ZERO,o=e.ZERO;for(;n>Z1||r>Z1;)n&ff&&(i=i.add(s)),r&ff&&(o=o.add(s)),s=s.double(),n>>=ff,r>>=ff;return{p1:i,p2:o}}function jAe(e,t,n,r){MAe(n,e),UAe(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=lV(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=rm(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],$=Number(y>>BigInt(h)&l);u[$]=u[$].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(d=d.add(p),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function _V(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return kAe(t),t}else return Cd(e,{isLE:n})}function zAe(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const a of["p","n","h"]){const c=t[a];if(!(typeof c=="bigint"&&c>Z1))throw new Error(`CURVE.${a} must be positive bigint`)}const s=_V(t.p,n.Fp,r),i=_V(t.n,n.Fn,r),o=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const a of o)if(!s.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),zH("HashToScalar-");const sm=BigInt(0),W1=BigInt(1),w4=BigInt(2);function HAe(e){return y4(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function VAe(e){const t=HAe(e),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=t,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||eC,l=a?255:448,u=a?32:56,f=BigInt(a?9:5),d=BigInt(a?121665:39081),h=a?w4**BigInt(254):w4**BigInt(447),p=a?BigInt(8)*w4**BigInt(251)-W1:BigInt(4)*w4**BigInt(445)-W1,g=h+p+W1,y=S=>vi(S,n),$=_(f);function _(S){return dC(y(S),u)}function x(S){const w=Pr("u coordinate",S,u);return a&&(w[31]&=127),y(m4(w))}function E(S){return m4(s(Pr("scalar",S,u)))}function P(S,w){const v=R(x(w),E(S));if(v===sm)throw new Error("invalid private or public key received");return _(v)}function N(S){return P(S,$)}function k(S,w,v){const m=y(S*(w-v));return w=y(w-m),v=y(v+m),{x_2:w,x_3:v}}function R(S,w){hC("u",S,sm,n),hC("scalar",w,h,g);const v=w,m=S;let b=W1,A=sm,I=S,C=W1,O=sm;for(let D=BigInt(l-1);D>=sm;D--){const z=v>>D&W1;O^=z,{x_2:b,x_3:I}=k(O,b,I),{x_2:A,x_3:C}=k(O,A,C),O=z;const j=b+A,U=y(j*j),V=b-A,q=y(V*V),X=U-q,Z=I+C,Y=I-C,fe=y(Y*j),me=y(Z*V),we=fe+me,Re=fe-me;I=y(we*we),C=y(m*y(Re*Re)),b=y(U*q),A=y(X*(U+y(d*X)))}({x_2:b,x_3:I}=k(O,b,I)),{x_2:A,x_3:C}=k(O,A,C);const B=i(A);return y(b*B)}const T={secretKey:u,publicKey:u,seed:u},L=(S=c(u))=>(Do(S,T.seed),S);function M(S){const w=L(S);return{secretKey:w,publicKey:N(w)}}return{keygen:M,getSharedSecret:(S,w)=>P(S,w),getPublicKey:S=>N(S),scalarMult:P,scalarMultBase:N,utils:{randomSecretKey:L,randomPrivateKey:L},GuBytes:$.slice(),lengths:T}}const qAe=BigInt(1),OV=BigInt(2),ZAe=BigInt(3),WAe=BigInt(5),KAe=BigInt(8),PV=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),GAe={p:PV,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:KAe,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function YAe(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=PV,o=e*e%i*e%i,a=Uo(o,OV,i)*o%i,c=Uo(a,qAe,i)*e%i,l=Uo(c,WAe,i)*c%i,u=Uo(l,t,i)*l%i,f=Uo(u,n,i)*u%i,d=Uo(f,r,i)*f%i,h=Uo(d,s,i)*d%i,p=Uo(h,s,i)*d%i,g=Uo(p,t,i)*l%i;return{pow_p_5_8:Uo(g,OV,i)*e%i,b2:o}}function XAe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const JAe=Cd(GAe.p,{isLE:!0});(()=>{const e=JAe.ORDER;return VAe({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=YAe(t);return vi(Uo(n,ZAe,e)*r,e)},adjustScalarBytes:XAe})})();const TV=(e,t)=>(e+(e>=0?t:-t)/NV)/t;function QAe(e,t,n){const[[r,s],[i,o]]=t,a=TV(o*e,n),c=TV(-s*e,n);let l=e-a*r-c*i,u=-a*s-c*o;const f=l<Vl,d=u<Vl;f&&(l=-l),d&&(u=-u);const h=rm(Math.ceil(lV(n)/2))+K1;if(l<Vl||l>=h||u<Vl||u>=h)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}function wC(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function vC(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return h4(n.lowS,"lowS"),h4(n.prehash,"prehash"),n.format!==void 0&&wC(n.format),n}class eCe extends Error{constructor(t=""){super(t)}}const Hl={Err:eCe,_tlv:{encode:(e,t)=>{const{Err:n}=Hl;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=p4(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?p4(s.length/2|128):"";return p4(e)+i+s+t},decode(e,t){const{Err:n}=Hl;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Hl;if(e<Vl)throw new t("integer: negative integers are not allowed");let n=p4(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Hl;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return g4(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Hl,s=Pr("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Hl,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}},Vl=BigInt(0),K1=BigInt(1),NV=BigInt(2),v4=BigInt(3),tCe=BigInt(4);function G1(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let s=Pr("private key",t);try{r=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function nCe(e,t={}){const n=zAe("weierstrass",e,t),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o,n:a}=i;y4(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=kV(r,s);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(S,w,v){const{x:m,y:b}=w.toAffine(),A=r.toBytes(m);if(h4(v,"isCompressed"),v){u();const I=!r.isOdd(b);return yd(BV(I),A)}else return yd(Uint8Array.of(4),A,r.toBytes(b))}function d(S){uf(S,void 0,"Point");const{publicKey:w,publicKeyUncompressed:v}=l,m=S.length,b=S[0],A=S.subarray(1);if(m===w&&(b===2||b===3)){const I=r.fromBytes(A);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const C=g(I);let O;try{O=r.sqrt(C)}catch(D){const z=D instanceof Error?": "+D.message:"";throw new Error("bad point: is not on curve, sqrt error"+z)}u();const B=r.isOdd(O);return(b&1)===1!==B&&(O=r.neg(O)),{x:I,y:O}}else if(m===v&&b===4){const I=r.BYTES,C=r.fromBytes(A.subarray(0,I)),O=r.fromBytes(A.subarray(I,I*2));if(!y(C,O))throw new Error("bad point: is not on curve");return{x:C,y:O}}else throw new Error(`bad point: got length ${m}, expected compressed=${w} or uncompressed=${v}`)}const h=t.toBytes||f,p=t.fromBytes||d;function g(S){const w=r.sqr(S),v=r.mul(w,S);return r.add(r.add(v,r.mul(S,i.a)),i.b)}function y(S,w){const v=r.sqr(w),m=g(S);return r.eql(v,m)}if(!y(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const $=r.mul(r.pow(i.a,v4),tCe),_=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add($,_)))throw new Error("bad curve params: a or b");function x(S,w,v=!1){if(!r.isValid(w)||v&&r.is0(w))throw new Error(`bad point coordinate ${S}`);return w}function E(S){if(!(S instanceof T))throw new Error("ProjectivePoint expected")}function P(S){if(!c||!c.basises)throw new Error("no endo");return QAe(S,c.basises,s.ORDER)}const N=uV((S,w)=>{const{X:v,Y:m,Z:b}=S;if(r.eql(b,r.ONE))return{x:v,y:m};const A=S.is0();w==null&&(w=A?r.ONE:r.inv(b));const I=r.mul(v,w),C=r.mul(m,w),O=r.mul(b,w);if(A)return{x:r.ZERO,y:r.ZERO};if(!r.eql(O,r.ONE))throw new Error("invZ was invalid");return{x:I,y:C}}),k=uV(S=>{if(S.is0()){if(t.allowInfinityPoint&&!r.is0(S.Y))return;throw new Error("bad point: ZERO")}const{x:w,y:v}=S.toAffine();if(!r.isValid(w)||!r.isValid(v))throw new Error("bad point: x or y not field elements");if(!y(w,v))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(S,w,v,m,b){return v=new T(r.mul(v.X,S),v.Y,v.Z),w=b4(m,w),v=b4(b,v),w.add(v)}class T{constructor(w,v,m){this.X=x("x",w),this.Y=x("y",v,!0),this.Z=x("z",m),Object.freeze(this)}static CURVE(){return i}static fromAffine(w){const{x:v,y:m}=w||{};if(!w||!r.isValid(v)||!r.isValid(m))throw new Error("invalid affine point");if(w instanceof T)throw new Error("projective point not allowed");return r.is0(v)&&r.is0(m)?T.ZERO:new T(v,m,r.ONE)}static fromBytes(w){const v=T.fromAffine(p(uf(w,void 0,"point")));return v.assertValidity(),v}static fromHex(w){return T.fromBytes(Pr("pointHex",w))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(w=8,v=!0){return M.createCache(this,w),v||this.multiply(v4),this}assertValidity(){k(this)}hasEvenY(){const{y:w}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(w)}equals(w){E(w);const{X:v,Y:m,Z:b}=this,{X:A,Y:I,Z:C}=w,O=r.eql(r.mul(v,C),r.mul(A,b)),B=r.eql(r.mul(m,C),r.mul(I,b));return O&&B}negate(){return new T(this.X,r.neg(this.Y),this.Z)}double(){const{a:w,b:v}=i,m=r.mul(v,v4),{X:b,Y:A,Z:I}=this;let C=r.ZERO,O=r.ZERO,B=r.ZERO,D=r.mul(b,b),z=r.mul(A,A),j=r.mul(I,I),U=r.mul(b,A);return U=r.add(U,U),B=r.mul(b,I),B=r.add(B,B),C=r.mul(w,B),O=r.mul(m,j),O=r.add(C,O),C=r.sub(z,O),O=r.add(z,O),O=r.mul(C,O),C=r.mul(U,C),B=r.mul(m,B),j=r.mul(w,j),U=r.sub(D,j),U=r.mul(w,U),U=r.add(U,B),B=r.add(D,D),D=r.add(B,D),D=r.add(D,j),D=r.mul(D,U),O=r.add(O,D),j=r.mul(A,I),j=r.add(j,j),D=r.mul(j,U),C=r.sub(C,D),B=r.mul(j,z),B=r.add(B,B),B=r.add(B,B),new T(C,O,B)}add(w){E(w);const{X:v,Y:m,Z:b}=this,{X:A,Y:I,Z:C}=w;let O=r.ZERO,B=r.ZERO,D=r.ZERO;const z=i.a,j=r.mul(i.b,v4);let U=r.mul(v,A),V=r.mul(m,I),q=r.mul(b,C),X=r.add(v,m),Z=r.add(A,I);X=r.mul(X,Z),Z=r.add(U,V),X=r.sub(X,Z),Z=r.add(v,b);let Y=r.add(A,C);return Z=r.mul(Z,Y),Y=r.add(U,q),Z=r.sub(Z,Y),Y=r.add(m,b),O=r.add(I,C),Y=r.mul(Y,O),O=r.add(V,q),Y=r.sub(Y,O),D=r.mul(z,Z),O=r.mul(j,q),D=r.add(O,D),O=r.sub(V,D),D=r.add(V,D),B=r.mul(O,D),V=r.add(U,U),V=r.add(V,U),q=r.mul(z,q),Z=r.mul(j,Z),V=r.add(V,q),q=r.sub(U,q),q=r.mul(z,q),Z=r.add(Z,q),U=r.mul(V,Z),B=r.add(B,U),U=r.mul(Y,Z),O=r.mul(X,O),O=r.sub(O,U),U=r.mul(X,V),D=r.mul(Y,D),D=r.add(D,U),new T(O,B,D)}subtract(w){return this.add(w.negate())}is0(){return this.equals(T.ZERO)}multiply(w){const{endo:v}=t;if(!s.isValidNot0(w))throw new Error("invalid scalar: out of range");let m,b;const A=I=>M.cached(this,I,C=>gC(T,C));if(v){const{k1neg:I,k1:C,k2neg:O,k2:B}=P(w),{p:D,f:z}=A(C),{p:j,f:U}=A(B);b=z.add(U),m=R(v.beta,D,j,I,O)}else{const{p:I,f:C}=A(w);m=I,b=C}return gC(T,[m,b])[0]}multiplyUnsafe(w){const{endo:v}=t,m=this;if(!s.isValid(w))throw new Error("invalid scalar: out of range");if(w===Vl||m.is0())return T.ZERO;if(w===K1)return m;if(M.hasCache(this))return this.multiply(w);if(v){const{k1neg:b,k1:A,k2neg:I,k2:C}=P(w),{p1:O,p2:B}=FAe(T,m,A,C);return R(v.beta,O,B,b,I)}else return M.unsafe(m,w)}multiplyAndAddUnsafe(w,v,m){const b=this.multiplyUnsafe(v).add(w.multiplyUnsafe(m));return b.is0()?void 0:b}toAffine(w){return N(this,w)}isTorsionFree(){const{isTorsionFree:w}=t;return o===K1?!0:w?w(T,this):M.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:w}=t;return o===K1?this:w?w(T,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(w=!0){return h4(w,"isCompressed"),this.assertValidity(),h(T,this,w)}toHex(w=!0){return V1(this.toBytes(w))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(w=!0){return this.toBytes(w)}_setWindowSize(w){this.precompute(w)}static normalizeZ(w){return gC(T,w)}static msm(w,v){return jAe(T,s,w,v)}static fromPrivateKey(w){return T.BASE.multiply(G1(s,w))}}T.BASE=new T(i.Gx,i.Gy,r.ONE),T.ZERO=new T(r.ZERO,r.ONE,r.ZERO),T.Fp=r,T.Fn=s;const L=s.BITS,M=new LAe(T,t.endo?Math.ceil(L/2):L);return T.BASE.precompute(8),T}function BV(e){return Uint8Array.of(e?2:3)}function kV(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function rCe(e,t={}){const{Fn:n}=e,r=t.randomBytes||eC,s=Object.assign(kV(e.Fp,n),{seed:$V(n.ORDER)});function i(d){try{return!!G1(n,d)}catch{return!1}}function o(d,h){const{publicKey:p,publicKeyUncompressed:g}=s;try{const y=d.length;return h===!0&&y!==p||h===!1&&y!==g?!1:!!e.fromBytes(d)}catch{return!1}}function a(d=r(s.seed)){return DAe(uf(d,s.seed,"seed"),n.ORDER)}function c(d,h=!0){return e.BASE.multiply(G1(n,d)).toBytes(h)}function l(d){const h=a(d);return{secretKey:h,publicKey:c(h)}}function u(d){if(typeof d=="bigint")return!1;if(d instanceof e)return!0;const{secretKey:h,publicKey:p,publicKeyUncompressed:g}=s;if(n.allowedLengths||h===p)return;const y=Pr("key",d).length;return y===p||y===g}function f(d,h,p=!0){if(u(d)===!0)throw new Error("first arg must be private key");if(u(h)===!1)throw new Error("second arg must be public key");const g=G1(n,d);return e.fromHex(h).multiply(g).toBytes(p)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:e,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:d=>G1(n,d),precompute(d=8,h=e.BASE){return h.precompute(d,!1)}},lengths:s})}function sCe(e,t,n={}){MH(t),y4(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||eC,s=n.hmac||((v,...m)=>aV(t,v,yd(...m))),{Fp:i,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:h}=rCe(e,n),p={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},g="compact";function y(v){const m=a>>K1;return v>m}function $(v,m){if(!o.isValidNot0(m))throw new Error(`invalid signature ${v}: out of range 1..Point.Fn.ORDER`);return m}function _(v,m){wC(m);const b=h.signature,A=m==="compact"?b:m==="recovered"?b+1:void 0;return uf(v,A,`${m} signature`)}class x{constructor(m,b,A){this.r=$("r",m),this.s=$("s",b),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(m,b=g){_(m,b);let A;if(b==="der"){const{r:B,s:D}=Hl.toSig(uf(m));return new x(B,D)}b==="recovered"&&(A=m[0],b="compact",m=m.subarray(1));const I=o.BYTES,C=m.subarray(0,I),O=m.subarray(I,I*2);return new x(o.fromBytes(C),o.fromBytes(O),A)}static fromHex(m,b){return this.fromBytes(u4(m),b)}addRecoveryBit(m){return new x(this.r,this.s,m)}recoverPublicKey(m){const b=i.ORDER,{r:A,s:I,recovery:C}=this;if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");if(a*NV<b&&C>1)throw new Error("recovery id is ambiguous for h>1 curve");const O=C===2||C===3?A+a:A;if(!i.isValid(O))throw new Error("recovery id 2 or 3 invalid");const B=i.toBytes(O),D=e.fromBytes(yd(BV((C&1)===0),B)),z=o.inv(O),j=P(Pr("msgHash",m)),U=o.create(-j*z),V=o.create(I*z),q=e.BASE.multiplyUnsafe(U).add(D.multiplyUnsafe(V));if(q.is0())throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return y(this.s)}toBytes(m=g){if(wC(m),m==="der")return u4(Hl.hexFromSig(this));const b=o.toBytes(this.r),A=o.toBytes(this.s);if(m==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return yd(Uint8Array.of(this.recovery),b,A)}return yd(b,A)}toHex(m){return V1(this.toBytes(m))}assertValidity(){}static fromCompact(m){return x.fromBytes(Pr("sig",m),"compact")}static fromDER(m){return x.fromBytes(Pr("sig",m),"der")}normalizeS(){return this.hasHighS()?new x(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return V1(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return V1(this.toBytes("compact"))}}const E=n.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const m=g4(v),b=v.length*8-c;return b>0?m>>BigInt(b):m},P=n.bits2int_modN||function(v){return o.create(E(v))},N=rm(c);function k(v){return hC("num < 2^"+c,v,Vl,N),o.toBytes(v)}function R(v,m){return uf(v,void 0,"message"),m?uf(t(v),void 0,"prehashed message"):v}function T(v,m,b){if(["recovered","canonical"].some(V=>V in b))throw new Error("sign() legacy options not supported");const{lowS:A,prehash:I,extraEntropy:C}=vC(b,p);v=R(v,I);const O=P(v),B=G1(o,m),D=[k(B),k(O)];if(C!=null&&C!==!1){const V=C===!0?r(h.secretKey):C;D.push(Pr("extraEntropy",V))}const z=yd(...D),j=O;function U(V){const q=E(V);if(!o.isValidNot0(q))return;const X=o.inv(q),Z=e.BASE.multiply(q).toAffine(),Y=o.create(Z.x);if(Y===Vl)return;const fe=o.create(X*o.create(j+Y*B));if(fe===Vl)return;let me=(Z.x===Y?0:2)|Number(Z.y&K1),we=fe;return A&&y(fe)&&(we=o.neg(fe),me^=1),new x(Y,we,me)}return{seed:z,k2sig:U}}function L(v,m,b={}){v=Pr("message",v);const{seed:A,k2sig:I}=T(v,m,b);return IAe(t.outputLen,o.BYTES,s)(A,I)}function M(v){let m;const b=typeof v=="string"||l4(v),A=!b&&v!==null&&typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!b&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)m=new x(v.r,v.s);else if(b){try{m=x.fromBytes(Pr("sig",v),"der")}catch(I){if(!(I instanceof Hl.Err))throw I}if(!m)try{m=x.fromBytes(Pr("sig",v),"compact")}catch{return!1}}return m||!1}function S(v,m,b,A={}){const{lowS:I,prehash:C,format:O}=vC(A,p);if(b=Pr("publicKey",b),m=R(Pr("message",m),C),"strict"in A)throw new Error("options.strict was renamed to lowS");const B=O===void 0?M(v):x.fromBytes(Pr("sig",v),O);if(B===!1)return!1;try{const D=e.fromBytes(b);if(I&&B.hasHighS())return!1;const{r:z,s:j}=B,U=P(m),V=o.inv(j),q=o.create(U*V),X=o.create(z*V),Z=e.BASE.multiplyUnsafe(q).add(D.multiplyUnsafe(X));return Z.is0()?!1:o.create(Z.x)===z}catch{return!1}}function w(v,m,b={}){const{prehash:A}=vC(b,p);return m=R(m,A),x.fromBytes(v,"recovered").recoverPublicKey(m).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:h,Point:e,sign:L,verify:S,recoverPublicKey:w,Signature:x,hash:t})}function iCe(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=Cd(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function oCe(e){const{CURVE:t,curveOpts:n}=iCe(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function aCe(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,EV(n.Fn.ORDER,n.Fn.BITS))})}function cCe(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:s}=oCe(e),i=nCe(t,n),o=sCe(i,r,s);return aCe(e,o)}function EC(e,t){const n=r=>cCe({...e,hash:r});return{...n(t),create:n}}const RV={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},DV={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},MV={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},lCe=Cd(RV.p),uCe=Cd(DV.p),dCe=Cd(MV.p);EC({...RV,Fp:lCe,lowS:!1},Y$e),EC({...DV,Fp:uCe,lowS:!1},J$e),EC({...MV,Fp:dCe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},X$e);function fCe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,$=0,_=p.length;$!==_&&p[$]===0;)$++,g++;for(var x=(_-$)*u+1>>>0,E=new Uint8Array(x);$!==_;){for(var P=p[$],N=0,k=x-1;(P!==0||N<y)&&k!==-1;k--,N++)P+=256*E[k]>>>0,E[k]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");y=N,$++}for(var R=x-y;R!==x&&E[R]===0;)R++;for(var T=c.repeat(g);R<x;++R)T+=e.charAt(E[R]);return T}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,$=0;p[g]===c;)y++,g++;for(var _=(p.length-g)*l+1>>>0,x=new Uint8Array(_);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var P=0,N=_-1;(E!==0||P<$)&&N!==-1;N--,P++)E+=a*x[N]>>>0,x[N]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");$=P,g++}if(p[g]!==" "){for(var k=_-$;k!==_&&x[k]===0;)k++;for(var R=new Uint8Array(y+(_-k)),T=y;k!==_;)R[T++]=x[k++];return R}}}function h(p){var g=d(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var hCe=fCe,pCe=hCe;const UV=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},gCe=e=>new TextEncoder().encode(e),mCe=e=>new TextDecoder().decode(e);class yCe{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class bCe{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return LV(this,t)}}class wCe{constructor(t){this.decoders=t}or(t){return LV(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const LV=(e,t)=>new wCe({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class vCe{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new yCe(t,n,r),this.decoder=new bCe(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const E4=({name:e,prefix:t,encode:n,decode:r})=>new vCe(e,t,n,r),im=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=pCe(n,t);return E4({prefix:e,name:t,encode:r,decode:i=>UV(s(i))})},ECe=(e,t,n,r)=>{const s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let i=e.length;for(;e[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},xCe=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,i+=t[s&a>>o];if(o&&(i+=t[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},or=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>E4({prefix:t,name:e,encode(s){return xCe(s,r,n)},decode(s){return ECe(s,r,n,e)}}),$Ce=E4({prefix:"\0",name:"identity",encode:e=>mCe(e),decode:e=>gCe(e)});var ACe=Object.freeze({__proto__:null,identity:$Ce});const CCe=or({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var SCe=Object.freeze({__proto__:null,base2:CCe});const ICe=or({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var _Ce=Object.freeze({__proto__:null,base8:ICe});const OCe=im({prefix:"9",name:"base10",alphabet:"0123456789"});var PCe=Object.freeze({__proto__:null,base10:OCe});const TCe=or({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),NCe=or({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var BCe=Object.freeze({__proto__:null,base16:TCe,base16upper:NCe});const kCe=or({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),RCe=or({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),DCe=or({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),MCe=or({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),UCe=or({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),LCe=or({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),FCe=or({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),jCe=or({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zCe=or({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var HCe=Object.freeze({__proto__:null,base32:kCe,base32upper:RCe,base32pad:DCe,base32padupper:MCe,base32hex:UCe,base32hexupper:LCe,base32hexpad:FCe,base32hexpadupper:jCe,base32z:zCe});const VCe=im({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),qCe=im({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ZCe=Object.freeze({__proto__:null,base36:VCe,base36upper:qCe});const WCe=im({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),KCe=im({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var GCe=Object.freeze({__proto__:null,base58btc:WCe,base58flickr:KCe});const YCe=or({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),XCe=or({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),JCe=or({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),QCe=or({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var eSe=Object.freeze({__proto__:null,base64:YCe,base64pad:XCe,base64url:JCe,base64urlpad:QCe});const FV=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),tSe=FV.reduce((e,t,n)=>(e[n]=t,e),[]),nSe=FV.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function rSe(e){return e.reduce((t,n)=>(t+=tSe[n],t),"")}function sSe(e){const t=[];for(const n of e){const r=nSe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const iSe=E4({prefix:"\u{1F680}",name:"base256emoji",encode:rSe,decode:sSe});var oSe=Object.freeze({__proto__:null,base256emoji:iSe}),aSe=zV,jV=128,cSe=127,lSe=~cSe,uSe=Math.pow(2,31);function zV(e,t,n){t=t||[],n=n||0;for(var r=n;e>=uSe;)t[n++]=e&255|jV,e/=128;for(;e&lSe;)t[n++]=e&255|jV,e>>>=7;return t[n]=e|0,zV.bytes=n-r+1,t}var dSe=xC,fSe=128,HV=127;function xC(e,r){var n=0,r=r||0,s=0,i=r,o,a=e.length;do{if(i>=a)throw xC.bytes=0,new RangeError("Could not decode varint");o=e[i++],n+=s<28?(o&HV)<<s:(o&HV)*Math.pow(2,s),s+=7}while(o>=fSe);return xC.bytes=i-r,n}var hSe=Math.pow(2,7),pSe=Math.pow(2,14),gSe=Math.pow(2,21),mSe=Math.pow(2,28),ySe=Math.pow(2,35),bSe=Math.pow(2,42),wSe=Math.pow(2,49),vSe=Math.pow(2,56),ESe=Math.pow(2,63),xSe=function(e){return e<hSe?1:e<pSe?2:e<gSe?3:e<mSe?4:e<ySe?5:e<bSe?6:e<wSe?7:e<vSe?8:e<ESe?9:10},$Se={encode:aSe,decode:dSe,encodingLength:xSe},VV=$Se;const qV=(e,t,n=0)=>(VV.encode(e,t,n),t),ZV=e=>VV.encodingLength(e),$C=(e,t)=>{const n=t.byteLength,r=ZV(e),s=r+ZV(n),i=new Uint8Array(s+n);return qV(e,i,0),qV(n,i,r),i.set(t,s),new ASe(e,n,t,i)};class ASe{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}}const WV=({name:e,code:t,encode:n})=>new CSe(e,t,n);class CSe{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?$C(this.code,n):n.then(r=>$C(this.code,r))}else throw Error("Unknown type, must be binary type")}}const KV=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),SSe=WV({name:"sha2-256",code:18,encode:KV("SHA-256")}),ISe=WV({name:"sha2-512",code:19,encode:KV("SHA-512")});var _Se=Object.freeze({__proto__:null,sha256:SSe,sha512:ISe});const GV=0,OSe="identity",YV=UV;var PSe=Object.freeze({__proto__:null,identity:{code:GV,name:OSe,encode:YV,digest:e=>$C(GV,YV(e))}});new TextEncoder,new TextDecoder,{...ACe,...SCe,..._Ce,...PCe,...BCe,...HCe,...ZCe,...GCe,...eSe,...oSe},{..._Se,...PSe};let hf=null;const Vs={getSIWX(){return ee.state.siwx},async initializeIfEnabled(e=F.getActiveCaipAddress()){const t=ee.state.siwx;if(!(t&&e))return;const[n,r,s]=e.split(":");if(F.checkIfSupportedNetwork(n,`${n}:${r}`))try{if(ee.state.remoteFeatures?.emailCapture){const o=F.getAccountData(n)?.user;await Fe.open({view:"DataCapture",data:{email:o?.email??void 0}});return}if(hf&&await hf,(await t.getSessions(`${n}:${r}`,s)).length)return;await Fe.open({view:"SIWXSignMessage"})}catch(i){console.error("SIWXUtil:initializeIfEnabled",i),Ie.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(i)}),await ie._getClient()?.disconnect().catch(console.error),ne.reset("Connect"),it.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const e=ee.state.siwx,t=oe.getPlainAddress(F.getActiveCaipAddress()),n=j2(),r=ie._getClient();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await e.createMessage({chainId:n.caipNetworkId,accountAddress:t}),i=s.toString();ae.getConnectorId(n.chainNamespace)===te.CONNECTOR_ID.AUTH&&ne.pushTransactionStack({});const a=await r.signMessage(i);await e.addSession({data:s,message:i,signature:a}),F.setLastConnectedSIWECaipNetwork(n),Fe.close(),Ie.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){(!Fe.state.open||ne.state.view==="ApproveTransaction")&&await Fe.open({view:"SIWXSignMessage"}),it.showError("Error signing message"),Ie.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(s)}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){try{const e=this.getSIWX();if(e?.getRequired?.()){const n=F.getLastConnectedSIWECaipNetwork();if(n){const r=await e?.getSessions(n?.caipNetworkId,oe.getPlainAddress(F.getActiveCaipAddress())||"");r&&r.length>0?await F.switchActiveNetwork(n):await ie.disconnect()}else await ie.disconnect()}else Fe.close();Fe.close(),Ie.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const e=this.getSIWX(),t=F.getAllRequestedCaipNetworks(),n=[];return await Promise.all(t.map(async r=>{const s=await e?.getSessions(r.caipNetworkId,oe.getPlainAddress(F.getActiveCaipAddress())||"");s&&n.push(...s)})),n},async getSessions(e){const t=ee.state.siwx;let n=e?.address;if(!n){const s=F.getActiveCaipAddress();n=oe.getPlainAddress(s)}let r=e?.caipNetworkId;return r||(r=F.getActiveCaipNetwork()?.caipNetworkId),t&&n&&r?t.getSessions(r,n):[]},async isSIWXCloseDisabled(){const e=this.getSIWX();if(e){const t=ne.state.view==="ApproveTransaction",n=ne.state.view==="SIWXSignMessage";if(t||n)return e.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:n,preferredAccountType:r,chainNamespace:s}){const i=Vs.getSIWX(),o=j2();if(!i||!s.includes(te.CHAIN.EVM)||ee.state.remoteFeatures?.emailCapture){const f=await e.connect({chainId:t,socialUri:n,preferredAccountType:r});return{address:f.address,chainId:f.chainId,accounts:f.accounts}}const a=`${s}:${t}`,c=await i.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await e.connect({chainId:t,socialUri:n,siwxMessage:l,preferredAccountType:r});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await Vs.addEmbeddedWalletSession(l,u.message,u.signature),F.setLastConnectedSIWECaipNetwork(o),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(e,t,n){if(hf)return hf;const r=Vs.getSIWX();return r?(hf=r.addSession({data:e,message:t,signature:n}).finally(()=>{hf=null}),hf):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:n}){const r=Vs.getSIWX(),s=j2(),i=new Set(t.map(l=>l.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const o=await r.createMessage({chainId:j2()?.caipNetworkId||"",accountAddress:""}),a=await e.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:n,chains:[o.chainId,...t.filter(l=>l!==o.chainId)]});it.showLoading("Authenticating...",{autoClose:!1});const c={...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"};if(F.setAccountProp("connectedWalletInfo",c,Array.from(i)[0]),a?.auths?.length){const l=a.auths.map(u=>{const f=e.client.formatAuthMessage({request:u.p,iss:u.p.iss});return{data:{...u.p,accountAddress:u.p.iss.split(":").slice(-1).join(""),chainId:u.p.iss.split(":").slice(2,4).join(":"),uri:u.p.aud,version:u.p.version||o.version,expirationTime:u.p.exp,issuedAt:u.p.iat,notBefore:u.p.nbf},message:f,signature:u.s.s,cacao:u}});try{await r.setSessions(l),s&&F.setLastConnectedSIWECaipNetwork(s),Ie.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Vs.getSIWXEventProperties()})}catch(u){throw console.error("SIWX:universalProviderAuth - failed to set sessions",u),Ie.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Vs.getSIWXEventProperties(u)}),await e.disconnect().catch(console.error),u}finally{it.hide()}}return!0},getSIWXEventProperties(e){const t=F.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:F.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Cr(t)===yi.ACCOUNT_TYPES.SMART_ACCOUNT,message:e?oe.parseError(e):void 0}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}},XV={isUnsupportedChainView(){return ne.state.view==="UnsupportedChain"||ne.state.view==="SwitchNetwork"&&ne.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){Fe.shake();return}if(await Vs.isSIWXCloseDisabled()){Fe.shake();return}(ne.state.view==="DataCapture"||ne.state.view==="DataCaptureOtpConfirm")&&ie.disconnect(),Fe.close()}};var TSe=Object.defineProperty,NSe=(e,t,n)=>t in e?TSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JV=(e,t,n)=>NSe(e,typeof t!="symbol"?t+"":t,n);class BSe extends ai{constructor(t){super(),this.opts=t,JV(this,"protocol","wc"),JV(this,"version",2)}}var kSe=Object.defineProperty,RSe=(e,t,n)=>t in e?kSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DSe=(e,t,n)=>RSe(e,typeof t!="symbol"?t+"":t,n);class MSe extends ai{constructor(t,n){super(),this.core=t,this.logger=n,DSe(this,"records",new Map)}}class USe{constructor(t,n){this.logger=t,this.core=n}}class LSe extends ai{constructor(t,n){super(),this.relayer=t,this.logger=n}}class FSe extends ai{constructor(t){super()}}class jSe{constructor(t,n,r,s){this.core=t,this.logger=n,this.name=r}}class zSe extends ai{constructor(t,n){super(),this.relayer=t,this.logger=n}}class HSe extends ai{constructor(t,n){super(),this.core=t,this.logger=n}}class VSe{constructor(t,n,r){this.core=t,this.logger=n,this.store=r}}class qSe{constructor(t,n){this.projectId=t,this.logger=n}}class ZSe{constructor(t,n,r){this.core=t,this.logger=n,this.telemetryEnabled=r}}var WSe=Object.defineProperty,KSe=(e,t,n)=>t in e?WSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QV=(e,t,n)=>KSe(e,typeof t!="symbol"?t+"":t,n);class GSe{constructor(t){this.opts=t,QV(this,"protocol","wc"),QV(this,"version",2)}}class YSe{constructor(t){this.client=t}}function om(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function AC(e){return om(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const eq="2.36.0";let CC={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${eq}`};class pf extends Error{constructor(t,n={}){const r=n.cause instanceof pf?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof pf&&n.cause.docsPath||n.docsPath,i=CC.getDocsUrl?.({...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...CC.version?[`Version: ${CC.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=eq}walk(t){return tq(this,t)}}function tq(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?tq(e.cause,t):t?null:e}class nq extends pf{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Y1(e,{dir:t,size:n=32}={}){return typeof e=="string"?XSe(e,{dir:t,size:n}):JSe(e,{dir:t,size:n})}function XSe(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new nq({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function JSe(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new nq({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}class QSe extends pf{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class eIe extends pf{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function X1(e,{size:t}){if(AC(e)>t)throw new eIe({givenSize:AC(e),maxSize:t})}function SC(e,t={}){const{signed:n}=t;t.size&&X1(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function tIe(e,t={}){return Number(SC(e,t))}const nIe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function IC(e,t={}){return typeof e=="number"||typeof e=="bigint"?_C(e,t):typeof e=="string"?iIe(e,t):typeof e=="boolean"?rIe(e,t):rq(e,t)}function rIe(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(X1(n,{size:t.size}),Y1(n,{size:t.size})):n}function rq(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=nIe[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(X1(r,{size:t.size}),Y1(r,{dir:"right",size:t.size})):r}function _C(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new QSe({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Y1(a,{size:r}):a}const sIe=new TextEncoder;function iIe(e,t={}){const n=sIe.encode(e);return rq(n,t)}const oIe=new TextEncoder;function aIe(e,t={}){return typeof e=="number"||typeof e=="bigint"?lIe(e,t):typeof e=="boolean"?cIe(e,t):om(e)?iq(e,t):oq(e,t)}function cIe(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(X1(n,{size:t.size}),Y1(n,{size:t.size})):n}const ql={zero:48,nine:57,A:65,F:70,a:97,f:102};function sq(e){if(e>=ql.zero&&e<=ql.nine)return e-ql.zero;if(e>=ql.A&&e<=ql.F)return e-(ql.A-10);if(e>=ql.a&&e<=ql.f)return e-(ql.a-10)}function iq(e,t={}){let n=e;t.size&&(X1(n,{size:t.size}),n=Y1(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=sq(r.charCodeAt(a++)),l=sq(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new pf(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function lIe(e,t){const n=_C(e,t);return iq(n)}function oq(e,t={}){const n=oIe.encode(e);return typeof t.size=="number"?(X1(n,{size:t.size}),Y1(n,{dir:"right",size:t.size})):n}function aq(e,t){const n=t||"hex",r=lh(om(e,{strict:!1})?aIe(e):e);return n==="bytes"?r:IC(r)}class cq extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const OC=new cq(8192);function uIe(e,t){if(OC.has(`${e}.${t}`))return OC.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=aq(oq(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return OC.set(`${e}.${t}`,i),i}function dIe(e){const t=aq(`0x${e.substring(4)}`).substring(26);return uIe(`0x${t}`)}async function fIe({hash:e,signature:t}){const n=om(e)?e:IC(e),{secp256k1:r}=await Promise.resolve().then(function(){return k_e});return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:l,s:u,v:f,yParity:d}=t,h=Number(d??f),p=lq(h);return new r.Signature(SC(l),SC(u)).addRecoveryBit(p)}const o=om(t)?t:IC(t);if(AC(o)!==65)throw new Error("invalid signature length");const a=tIe(`0x${o.slice(130)}`),c=lq(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function lq(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function hIe({hash:e,signature:t}){return dIe(await fIe({hash:e,signature:t}))}const pIe="0.1.1";function gIe(){return pIe}class os extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof os){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof os&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${gIe()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return uq(this,t)}}function uq(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?uq(e.cause,t):t?null:e}function mIe(e,t){if(hq(e)>t)throw new AIe({givenSize:hq(e),maxSize:t})}const Zl={zero:48,nine:57,A:65,F:70,a:97,f:102};function dq(e){if(e>=Zl.zero&&e<=Zl.nine)return e-Zl.zero;if(e>=Zl.A&&e<=Zl.F)return e-(Zl.A-10);if(e>=Zl.a&&e<=Zl.f)return e-(Zl.a-10)}function yIe(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new CIe({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function PC(e,t){if(NC(e)>t)throw new NIe({givenSize:NC(e),maxSize:t})}function fq(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new BIe({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const bIe=new TextEncoder;function wIe(e){return e instanceof Uint8Array?e:typeof e=="string"?EIe(e):vIe(e)}function vIe(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function EIe(e,t={}){const{size:n}=t;let r=e;n&&(PC(e,n),r=TC(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const l=dq(s.charCodeAt(c++)),u=dq(s.charCodeAt(c++));if(l===void 0||u===void 0)throw new os(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=l*16+u}return o}function xIe(e,t={}){const{size:n}=t,r=bIe.encode(e);return typeof n=="number"?(mIe(r,n),$Ie(r,n)):r}function $Ie(e,t){return yIe(e,{dir:"right",size:t})}function hq(e){return e.length}class AIe extends os{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class CIe extends os{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}const SIe=new TextEncoder,IIe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function pq(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function _Ie(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(PC(n,t.size),x4(n,t.size)):n}function gq(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=IIe[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(PC(r,t.size),TC(r,t.size)):r}function OIe(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof e=="bigint"?"n":"";throw new TIe({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${e}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?x4(c,r):c}function PIe(e,t={}){return gq(SIe.encode(e),t)}function x4(e,t){return fq(e,{dir:"left",size:t})}function TC(e,t){return fq(e,{dir:"right",size:t})}function NC(e){return Math.ceil((e.length-2)/2)}class TIe extends os{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class NIe extends os{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class BIe extends os{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}new cq(128),_C(0,{size:32});function kIe(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=lh(wIe(e));return n==="Bytes"?r:gq(r)}class RIe extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const BC={checksum:new RIe(8192)}.checksum,DIe=/^0x[a-fA-F0-9]{40}$/;function mq(e,t={}){const{strict:n=!0}=t;if(!DIe.test(e))throw new yq({address:e,cause:new UIe});if(n){if(e.toLowerCase()===e)return;if(MIe(e)!==e)throw new yq({address:e,cause:new LIe})}}function MIe(e){if(BC.has(e))return BC.get(e);mq(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=kIe(xIe(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return BC.set(e,s),s}class yq extends os{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class UIe extends os{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class LIe extends os{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const FIe=/^(.*)\[([0-9]*)\]$/,jIe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,zIe=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function kC(e,t){if(e.length!==t.length)throw new VIe({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(kC.encode(s,i))}return pq(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return mq(c),x4(c.toLowerCase(),s?32:0)}if(n==="string")return PIe(r);if(n==="bytes")return r;if(n==="bool")return x4(_Ie(r),s?32:1);const i=n.match(zIe);if(i){const[c,l,u="256"]=i,f=Number.parseInt(u,10)/8;return OIe(r,{size:s?32:f,signed:l==="int"})}const o=n.match(jIe);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new HIe({expectedSize:Number.parseInt(l,10),value:r});return TC(r,s?32:0)}const a=n.match(FIe);if(a&&Array.isArray(r)){const[c,l]=a,u=[];for(let f=0;f<r.length;f++)u.push(t(l,r[f],!0));return u.length===0?"0x":pq(...u)}throw new qIe(n)}e.encode=t})(kC||(kC={}));class HIe extends os{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${NC(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class VIe extends os{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class qIe extends os{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}const RC=BigInt(0),DC=BigInt(1);function $4(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function gf(e,t,n=""){const r=fo(e),s=e?.length,i=t!==void 0;if(!r||i&&s!==t){const o=n&&`"${n}" `,a=i?` of length ${t}`:"",c=r?`length=${s}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function A4(e){const t=e.toString(16);return t.length&1?"0"+t:t}function bq(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?RC:BigInt("0x"+e)}function mf(e){return bq(Nn(e))}function wq(e){return ps(e),bq(Nn(Uint8Array.from(e).reverse()))}function C4(e,t){return Oi(e.toString(16).padStart(t*2,"0"))}function vq(e,t){return C4(e,t).reverse()}function Sn(e,t,n){let r;if(typeof t=="string")try{r=Oi(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(fo(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const MC=e=>typeof e=="bigint"&&RC<=e;function UC(e,t,n){return MC(e)&&MC(t)&&MC(n)&&t<=e&&e<n}function ZIe(e,t,n,r){if(!UC(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Eq(e){let t;for(t=0;e>RC;e>>=DC,t+=1);return t}const am=e=>(DC<<BigInt(e))-DC;function WIe(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(e),o=r(e),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...h)=>n(o,i,...h),u=(h=r(0))=>{o=l(s(0),h),i=l(),h.length!==0&&(o=l(s(1),h),i=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<t;){i=l();const g=i.slice();p.push(g),h+=i.length}return Qe(...p)};return(h,p)=>{c(),u(h);let g;for(;!(g=p(f()));)u();return c(),g}}function KIe(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function S4(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,i,o){const a=e[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(t).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function xq(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const qs=BigInt(0),as=BigInt(1),yf=BigInt(2),$q=BigInt(3),Aq=BigInt(4),Cq=BigInt(5),GIe=BigInt(7),Sq=BigInt(8),YIe=BigInt(9),Iq=BigInt(16);function Ei(e,t){const n=e%t;return n>=qs?n:t+n}function Yi(e,t,n){let r=e;for(;t-- >qs;)r*=r,r%=n;return r}function _q(e,t){if(e===qs)throw new Error("invert: expected non-zero number");if(t<=qs)throw new Error("invert: expected positive modulus, got "+t);let n=Ei(e,t),r=t,s=qs,i=as;for(;n!==qs;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==as)throw new Error("invert: does not exist");return Ei(s,t)}function LC(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function Oq(e,t){const n=(e.ORDER+as)/Aq,r=e.pow(t,n);return LC(e,r,t),r}function XIe(e,t){const n=(e.ORDER-Cq)/Sq,r=e.mul(t,yf),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,yf),s),a=e.mul(i,e.sub(o,e.ONE));return LC(e,a,t),a}function JIe(e){const t=cm(e),n=Pq(e),r=n(t,t.neg(t.ONE)),s=n(t,r),i=n(t,t.neg(r)),o=(e+GIe)/Iq;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,r);const f=a.mul(l,s),d=a.mul(l,i),h=a.eql(a.sqr(u),c),p=a.eql(a.sqr(f),c);l=a.cmov(l,u,h),u=a.cmov(d,f,p);const g=a.eql(a.sqr(u),c),y=a.cmov(l,u,g);return LC(a,y,c),y}}function Pq(e){if(e<$q)throw new Error("sqrt is not defined for small field");let t=e-as,n=0;for(;t%yf===qs;)t/=yf,n++;let r=yf;const s=cm(e);for(;Nq(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Oq;let i=s.pow(r,t);const o=(t+as)/yf;return function(c,l){if(c.is0(l))return l;if(Nq(c,l)!==1)throw new Error("Cannot find square root");let u=n,f=c.mul(c.ONE,i),d=c.pow(l,t),h=c.pow(l,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let p=1,g=c.sqr(d);for(;!c.eql(g,c.ONE);)if(p++,g=c.sqr(g),p===u)throw new Error("Cannot find square root");const y=as<<BigInt(u-p-1),$=c.pow(f,y);u=p,f=c.sqr($),d=c.mul(d,f),h=c.mul(h,$)}return h}}function QIe(e){return e%Aq===$q?Oq:e%Sq===Cq?XIe:e%Iq===YIe?JIe(e):Pq(e)}const e_e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Tq(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=e_e.reduce((r,s)=>(r[s]="function",r),t);return S4(e,n),e}function t_e(e,t,n){if(n<qs)throw new Error("invalid exponent, negatives unsupported");if(n===qs)return e.ONE;if(n===as)return t;let r=e.ONE,s=t;for(;n>qs;)n&as&&(r=e.mul(r,s)),s=e.sqr(s),n>>=as;return r}function I4(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function Nq(e,t){const n=(e.ORDER-as)/yf,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Bq(e,t){t!==void 0&&Xo(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function cm(e,t,n=!1,r={}){if(e<=qs)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i,o=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(s=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),a=d.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:c,nByteLength:l}=Bq(e,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:am(c),ZERO:qs,ONE:as,allowedLengths:a,create:d=>Ei(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return qs<=d&&d<e},is0:d=>d===qs,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&as)===as,neg:d=>Ei(-d,e),eql:(d,h)=>d===h,sqr:d=>Ei(d*d,e),add:(d,h)=>Ei(d+h,e),sub:(d,h)=>Ei(d-h,e),mul:(d,h)=>Ei(d*h,e),pow:(d,h)=>t_e(f,d,h),div:(d,h)=>Ei(d*_q(h,e),e),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>_q(d,e),sqrt:i||(d=>(u||(u=QIe(e)),u(f,d))),toBytes:d=>n?vq(d,l):C4(d,l),fromBytes:(d,h=!0)=>{if(a){if(!a.includes(d.length)||d.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);const g=new Uint8Array(l);g.set(d,n?0:g.length-d.length),d=g}if(d.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+d.length);let p=n?wq(d):mf(d);if(o&&(p=Ei(p,e)),!h&&!f.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:d=>I4(f,d),cmov:(d,h,p)=>p?h:d});return Object.freeze(f)}function kq(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Rq(e){const t=kq(e);return t+Math.ceil(t/2)}function Dq(e,t,n=!1){const r=e.length,s=kq(t),i=Rq(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?wq(e):mf(e),a=Ei(o,t-as)+as;return n?vq(a,s):C4(a,s)}const J1=BigInt(0),bf=BigInt(1);function _4(e,t){const n=t.negate();return e?n:t}function FC(e,t){const n=I4(e.Fp,t.map(r=>r.Z));return t.map((r,s)=>e.fromAffine(r.toAffine(n[s])))}function Mq(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function jC(e,t){Mq(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=am(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function Uq(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=bf);const l=t*r,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function n_e(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function r_e(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const zC=new WeakMap,Lq=new WeakMap;function HC(e){return Lq.get(e)||1}function Fq(e){if(e!==J1)throw new Error("invalid wNAF")}class s_e{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let s=t;for(;n>J1;)n&bf&&(r=r.add(s)),s=s.double(),n>>=bf;return r}precomputeWindow(t,n){const{windows:r,windowSize:s}=jC(n,this.bits),i=[];let o=t,a=o;for(let c=0;c<r;c++){a=o,i.push(a);for(let l=1;l<s;l++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=jC(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:d,offsetF:h}=Uq(r,a,o);r=c,u?i=i.add(_4(d,n[h])):s=s.add(_4(f,n[l]))}return Fq(r),{p:s,f:i}}wNAFUnsafe(t,n,r,s=this.ZERO){const i=jC(t,this.bits);for(let o=0;o<i.windows&&r!==J1;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=Uq(r,o,i);if(r=a,!l){const f=n[c];s=s.add(u?f.negate():f)}}return Fq(r),s}getPrecomputes(t,n,r){let s=zC.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(s=r(s)),zC.set(n,s))),s}cached(t,n,r){const s=HC(t);return this.wNAF(s,this.getPrecomputes(s,t,r),n)}unsafe(t,n,r,s){const i=HC(t);return i===1?this._unsafeLadder(t,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),n,s)}createCache(t,n){Mq(n,this.bits),Lq.set(t,n),zC.delete(t)}hasCache(t){return HC(t)!==1}}function i_e(e,t,n,r){let s=t,i=e.ZERO,o=e.ZERO;for(;n>J1||r>J1;)n&bf&&(i=i.add(s)),r&bf&&(o=o.add(s)),s=s.double(),n>>=bf,r>>=bf;return{p1:i,p2:o}}function o_e(e,t,n,r){n_e(n,e),r_e(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Eq(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=am(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],$=Number(y>>BigInt(h)&l);u[$]=u[$].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(d=d.add(p),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function jq(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Tq(t),t}else return cm(e,{isLE:n})}function a_e(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const l=t[c];if(!(typeof l=="bigint"&&l>J1))throw new Error(`CURVE.${c} must be positive bigint`)}const s=jq(t.p,n.Fp,r),i=jq(t.n,n.Fn,r),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const c of a)if(!s.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}const zq=(e,t)=>(e+(e>=0?t:-t)/Ia)/t;function c_e(e,t,n){const[[r,s],[i,o]]=t,a=zq(o*e,n),c=zq(-s*e,n);let l=e-a*r-c*i,u=-a*s-c*o;const f=l<Lo,d=u<Lo;f&&(l=-l),d&&(u=-u);const h=am(Math.ceil(Eq(n)/2))+Tr;if(l<Lo||l>=h||u<Lo||u>=h)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}function VC(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function qC(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return $4(n.lowS,"lowS"),$4(n.prehash,"prehash"),n.format!==void 0&&VC(n.format),n}class l_e extends Error{constructor(t=""){super(t)}}const Wl={Err:l_e,_tlv:{encode:(e,t)=>{const{Err:n}=Wl;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=A4(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?A4(s.length/2|128):"";return A4(e)+i+s+t},decode(e,t){const{Err:n}=Wl;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Wl;if(e<Lo)throw new t("integer: negative integers are not allowed");let n=A4(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Wl;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return mf(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Wl,s=Sn("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Wl,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}},Lo=BigInt(0),Tr=BigInt(1),Ia=BigInt(2),Q1=BigInt(3),ZC=BigInt(4);function wf(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let s=Sn("private key",t);try{r=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function u_e(e,t={}){const n=a_e("weierstrass",e,t),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o,n:a}=i;S4(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=Vq(r,s);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(S,w,v){const{x:m,y:b}=w.toAffine(),A=r.toBytes(m);if($4(v,"isCompressed"),v){u();const I=!r.isOdd(b);return Qe(Hq(I),A)}else return Qe(Uint8Array.of(4),A,r.toBytes(b))}function d(S){gf(S,void 0,"Point");const{publicKey:w,publicKeyUncompressed:v}=l,m=S.length,b=S[0],A=S.subarray(1);if(m===w&&(b===2||b===3)){const I=r.fromBytes(A);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const C=g(I);let O;try{O=r.sqrt(C)}catch(z){const j=z instanceof Error?": "+z.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}u();const B=r.isOdd(O);return(b&1)===1!==B&&(O=r.neg(O)),{x:I,y:O}}else if(m===v&&b===4){const I=r.BYTES,C=r.fromBytes(A.subarray(0,I)),O=r.fromBytes(A.subarray(I,I*2));if(!y(C,O))throw new Error("bad point: is not on curve");return{x:C,y:O}}else throw new Error(`bad point: got length ${m}, expected compressed=${w} or uncompressed=${v}`)}const h=t.toBytes||f,p=t.fromBytes||d;function g(S){const w=r.sqr(S),v=r.mul(w,S);return r.add(r.add(v,r.mul(S,i.a)),i.b)}function y(S,w){const v=r.sqr(w),m=g(S);return r.eql(v,m)}if(!y(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const $=r.mul(r.pow(i.a,Q1),ZC),_=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add($,_)))throw new Error("bad curve params: a or b");function x(S,w,v=!1){if(!r.isValid(w)||v&&r.is0(w))throw new Error(`bad point coordinate ${S}`);return w}function E(S){if(!(S instanceof T))throw new Error("ProjectivePoint expected")}function P(S){if(!c||!c.basises)throw new Error("no endo");return c_e(S,c.basises,s.ORDER)}const N=xq((S,w)=>{const{X:v,Y:m,Z:b}=S;if(r.eql(b,r.ONE))return{x:v,y:m};const A=S.is0();w==null&&(w=A?r.ONE:r.inv(b));const I=r.mul(v,w),C=r.mul(m,w),O=r.mul(b,w);if(A)return{x:r.ZERO,y:r.ZERO};if(!r.eql(O,r.ONE))throw new Error("invZ was invalid");return{x:I,y:C}}),k=xq(S=>{if(S.is0()){if(t.allowInfinityPoint&&!r.is0(S.Y))return;throw new Error("bad point: ZERO")}const{x:w,y:v}=S.toAffine();if(!r.isValid(w)||!r.isValid(v))throw new Error("bad point: x or y not field elements");if(!y(w,v))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(S,w,v,m,b){return v=new T(r.mul(v.X,S),v.Y,v.Z),w=_4(m,w),v=_4(b,v),w.add(v)}class T{constructor(w,v,m){this.X=x("x",w),this.Y=x("y",v,!0),this.Z=x("z",m),Object.freeze(this)}static CURVE(){return i}static fromAffine(w){const{x:v,y:m}=w||{};if(!w||!r.isValid(v)||!r.isValid(m))throw new Error("invalid affine point");if(w instanceof T)throw new Error("projective point not allowed");return r.is0(v)&&r.is0(m)?T.ZERO:new T(v,m,r.ONE)}static fromBytes(w){const v=T.fromAffine(p(gf(w,void 0,"point")));return v.assertValidity(),v}static fromHex(w){return T.fromBytes(Sn("pointHex",w))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(w=8,v=!0){return M.createCache(this,w),v||this.multiply(Q1),this}assertValidity(){k(this)}hasEvenY(){const{y:w}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(w)}equals(w){E(w);const{X:v,Y:m,Z:b}=this,{X:A,Y:I,Z:C}=w,O=r.eql(r.mul(v,C),r.mul(A,b)),B=r.eql(r.mul(m,C),r.mul(I,b));return O&&B}negate(){return new T(this.X,r.neg(this.Y),this.Z)}double(){const{a:w,b:v}=i,m=r.mul(v,Q1),{X:b,Y:A,Z:I}=this;let C=r.ZERO,O=r.ZERO,B=r.ZERO,D=r.mul(b,b),z=r.mul(A,A),j=r.mul(I,I),U=r.mul(b,A);return U=r.add(U,U),B=r.mul(b,I),B=r.add(B,B),C=r.mul(w,B),O=r.mul(m,j),O=r.add(C,O),C=r.sub(z,O),O=r.add(z,O),O=r.mul(C,O),C=r.mul(U,C),B=r.mul(m,B),j=r.mul(w,j),U=r.sub(D,j),U=r.mul(w,U),U=r.add(U,B),B=r.add(D,D),D=r.add(B,D),D=r.add(D,j),D=r.mul(D,U),O=r.add(O,D),j=r.mul(A,I),j=r.add(j,j),D=r.mul(j,U),C=r.sub(C,D),B=r.mul(j,z),B=r.add(B,B),B=r.add(B,B),new T(C,O,B)}add(w){E(w);const{X:v,Y:m,Z:b}=this,{X:A,Y:I,Z:C}=w;let O=r.ZERO,B=r.ZERO,D=r.ZERO;const z=i.a,j=r.mul(i.b,Q1);let U=r.mul(v,A),V=r.mul(m,I),q=r.mul(b,C),X=r.add(v,m),Z=r.add(A,I);X=r.mul(X,Z),Z=r.add(U,V),X=r.sub(X,Z),Z=r.add(v,b);let Y=r.add(A,C);return Z=r.mul(Z,Y),Y=r.add(U,q),Z=r.sub(Z,Y),Y=r.add(m,b),O=r.add(I,C),Y=r.mul(Y,O),O=r.add(V,q),Y=r.sub(Y,O),D=r.mul(z,Z),O=r.mul(j,q),D=r.add(O,D),O=r.sub(V,D),D=r.add(V,D),B=r.mul(O,D),V=r.add(U,U),V=r.add(V,U),q=r.mul(z,q),Z=r.mul(j,Z),V=r.add(V,q),q=r.sub(U,q),q=r.mul(z,q),Z=r.add(Z,q),U=r.mul(V,Z),B=r.add(B,U),U=r.mul(Y,Z),O=r.mul(X,O),O=r.sub(O,U),U=r.mul(X,V),D=r.mul(Y,D),D=r.add(D,U),new T(O,B,D)}subtract(w){return this.add(w.negate())}is0(){return this.equals(T.ZERO)}multiply(w){const{endo:v}=t;if(!s.isValidNot0(w))throw new Error("invalid scalar: out of range");let m,b;const A=I=>M.cached(this,I,C=>FC(T,C));if(v){const{k1neg:I,k1:C,k2neg:O,k2:B}=P(w),{p:D,f:z}=A(C),{p:j,f:U}=A(B);b=z.add(U),m=R(v.beta,D,j,I,O)}else{const{p:I,f:C}=A(w);m=I,b=C}return FC(T,[m,b])[0]}multiplyUnsafe(w){const{endo:v}=t,m=this;if(!s.isValid(w))throw new Error("invalid scalar: out of range");if(w===Lo||m.is0())return T.ZERO;if(w===Tr)return m;if(M.hasCache(this))return this.multiply(w);if(v){const{k1neg:b,k1:A,k2neg:I,k2:C}=P(w),{p1:O,p2:B}=i_e(T,m,A,C);return R(v.beta,O,B,b,I)}else return M.unsafe(m,w)}multiplyAndAddUnsafe(w,v,m){const b=this.multiplyUnsafe(v).add(w.multiplyUnsafe(m));return b.is0()?void 0:b}toAffine(w){return N(this,w)}isTorsionFree(){const{isTorsionFree:w}=t;return o===Tr?!0:w?w(T,this):M.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:w}=t;return o===Tr?this:w?w(T,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(w=!0){return $4(w,"isCompressed"),this.assertValidity(),h(T,this,w)}toHex(w=!0){return Nn(this.toBytes(w))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(w=!0){return this.toBytes(w)}_setWindowSize(w){this.precompute(w)}static normalizeZ(w){return FC(T,w)}static msm(w,v){return o_e(T,s,w,v)}static fromPrivateKey(w){return T.BASE.multiply(wf(s,w))}}T.BASE=new T(i.Gx,i.Gy,r.ONE),T.ZERO=new T(r.ZERO,r.ONE,r.ZERO),T.Fp=r,T.Fn=s;const L=s.BITS,M=new s_e(T,t.endo?Math.ceil(L/2):L);return T.BASE.precompute(8),T}function Hq(e){return Uint8Array.of(e?2:3)}function d_e(e,t){const n=e.ORDER;let r=Lo;for(let p=n-Tr;p%Ia===Lo;p/=Ia)r+=Tr;const s=r,i=Ia<<s-Tr-Tr,o=i*Ia,a=(n-Tr)/o,c=(a-Tr)/Ia,l=o-Tr,u=i,f=e.pow(t,a),d=e.pow(t,(a+Tr)/Ia);let h=(p,g)=>{let y=f,$=e.pow(g,l),_=e.sqr($);_=e.mul(_,g);let x=e.mul(p,_);x=e.pow(x,c),x=e.mul(x,$),$=e.mul(x,g),_=e.mul(x,p);let E=e.mul(_,$);x=e.pow(E,u);let P=e.eql(x,e.ONE);$=e.mul(_,d),x=e.mul(E,y),_=e.cmov($,_,P),E=e.cmov(x,E,P);for(let N=s;N>Tr;N--){let k=N-Ia;k=Ia<<k-Tr;let R=e.pow(E,k);const T=e.eql(R,e.ONE);$=e.mul(_,y),y=e.mul(y,y),R=e.mul(E,y),_=e.cmov($,_,T),E=e.cmov(R,E,T)}return{isValid:P,value:_}};if(e.ORDER%ZC===Q1){const p=(e.ORDER-Q1)/ZC,g=e.sqrt(e.neg(t));h=(y,$)=>{let _=e.sqr($);const x=e.mul(y,$);_=e.mul(_,x);let E=e.pow(_,p);E=e.mul(E,x);const P=e.mul(E,g),N=e.mul(e.sqr(E),$),k=e.eql(N,y);let R=e.cmov(P,E,k);return{isValid:k,value:R}}}return h}function f_e(e,t){Tq(e);const{A:n,B:r,Z:s}=t;if(!e.isValid(n)||!e.isValid(r)||!e.isValid(s))throw new Error("mapToCurveSimpleSWU: invalid opts");const i=d_e(e,s);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return o=>{let a,c,l,u,f,d,h,p;a=e.sqr(o),a=e.mul(a,s),c=e.sqr(a),c=e.add(c,a),l=e.add(c,e.ONE),l=e.mul(l,r),u=e.cmov(s,e.neg(c),!e.eql(c,e.ZERO)),u=e.mul(u,n),c=e.sqr(l),d=e.sqr(u),f=e.mul(d,n),c=e.add(c,f),c=e.mul(c,l),d=e.mul(d,u),f=e.mul(d,r),c=e.add(c,f),h=e.mul(a,l);const{isValid:g,value:y}=i(c,d);p=e.mul(a,o),p=e.mul(p,y),h=e.cmov(h,l,g),p=e.cmov(p,y,g);const $=e.isOdd(o)===e.isOdd(p);p=e.cmov(e.neg(p),p,$);const _=I4(e,[u],!0)[0];return h=e.mul(h,_),{x:h,y:p}}}function Vq(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function h_e(e,t={}){const{Fn:n}=e,r=t.randomBytes||ti,s=Object.assign(Vq(e.Fp,n),{seed:Rq(n.ORDER)});function i(h){try{return!!wf(n,h)}catch{return!1}}function o(h,p){const{publicKey:g,publicKeyUncompressed:y}=s;try{const $=h.length;return p===!0&&$!==g||p===!1&&$!==y?!1:!!e.fromBytes(h)}catch{return!1}}function a(h=r(s.seed)){return Dq(gf(h,s.seed,"seed"),n.ORDER)}function c(h,p=!0){return e.BASE.multiply(wf(n,h)).toBytes(p)}function l(h){const p=a(h);return{secretKey:p,publicKey:c(p)}}function u(h){if(typeof h=="bigint")return!1;if(h instanceof e)return!0;const{secretKey:p,publicKey:g,publicKeyUncompressed:y}=s;if(n.allowedLengths||p===g)return;const $=Sn("key",h).length;return $===g||$===y}function f(h,p,g=!0){if(u(h)===!0)throw new Error("first arg must be private key");if(u(p)===!1)throw new Error("second arg must be public key");const y=wf(n,h);return e.fromHex(p).multiply(y).toBytes(g)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:e,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:h=>wf(n,h),precompute(h=8,p=e.BASE){return p.precompute(h,!1)}},lengths:s})}function p_e(e,t,n={}){_b(t),S4(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||ti,s=n.hmac||((v,...m)=>o0(t,v,Qe(...m))),{Fp:i,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:h}=h_e(e,n),p={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},g="compact";function y(v){const m=a>>Tr;return v>m}function $(v,m){if(!o.isValidNot0(m))throw new Error(`invalid signature ${v}: out of range 1..Point.Fn.ORDER`);return m}function _(v,m){VC(m);const b=h.signature,A=m==="compact"?b:m==="recovered"?b+1:void 0;return gf(v,A,`${m} signature`)}class x{constructor(m,b,A){this.r=$("r",m),this.s=$("s",b),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(m,b=g){_(m,b);let A;if(b==="der"){const{r:B,s:D}=Wl.toSig(gf(m));return new x(B,D)}b==="recovered"&&(A=m[0],b="compact",m=m.subarray(1));const I=o.BYTES,C=m.subarray(0,I),O=m.subarray(I,I*2);return new x(o.fromBytes(C),o.fromBytes(O),A)}static fromHex(m,b){return this.fromBytes(Oi(m),b)}addRecoveryBit(m){return new x(this.r,this.s,m)}recoverPublicKey(m){const b=i.ORDER,{r:A,s:I,recovery:C}=this;if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");if(a*Ia<b&&C>1)throw new Error("recovery id is ambiguous for h>1 curve");const B=C===2||C===3?A+a:A;if(!i.isValid(B))throw new Error("recovery id 2 or 3 invalid");const D=i.toBytes(B),z=e.fromBytes(Qe(Hq((C&1)===0),D)),j=o.inv(B),U=P(Sn("msgHash",m)),V=o.create(-U*j),q=o.create(I*j),X=e.BASE.multiplyUnsafe(V).add(z.multiplyUnsafe(q));if(X.is0())throw new Error("point at infinify");return X.assertValidity(),X}hasHighS(){return y(this.s)}toBytes(m=g){if(VC(m),m==="der")return Oi(Wl.hexFromSig(this));const b=o.toBytes(this.r),A=o.toBytes(this.s);if(m==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Qe(Uint8Array.of(this.recovery),b,A)}return Qe(b,A)}toHex(m){return Nn(this.toBytes(m))}assertValidity(){}static fromCompact(m){return x.fromBytes(Sn("sig",m),"compact")}static fromDER(m){return x.fromBytes(Sn("sig",m),"der")}normalizeS(){return this.hasHighS()?new x(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Nn(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Nn(this.toBytes("compact"))}}const E=n.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const b=mf(m),A=m.length*8-c;return A>0?b>>BigInt(A):b},P=n.bits2int_modN||function(m){return o.create(E(m))},N=am(c);function k(v){return ZIe("num < 2^"+c,v,Lo,N),o.toBytes(v)}function R(v,m){return gf(v,void 0,"message"),m?gf(t(v),void 0,"prehashed message"):v}function T(v,m,b){if(["recovered","canonical"].some(V=>V in b))throw new Error("sign() legacy options not supported");const{lowS:A,prehash:I,extraEntropy:C}=qC(b,p);v=R(v,I);const O=P(v),B=wf(o,m),D=[k(B),k(O)];if(C!=null&&C!==!1){const V=C===!0?r(h.secretKey):C;D.push(Sn("extraEntropy",V))}const z=Qe(...D),j=O;function U(V){const q=E(V);if(!o.isValidNot0(q))return;const X=o.inv(q),Z=e.BASE.multiply(q).toAffine(),Y=o.create(Z.x);if(Y===Lo)return;const fe=o.create(X*o.create(j+Y*B));if(fe===Lo)return;let me=(Z.x===Y?0:2)|Number(Z.y&Tr),we=fe;return A&&y(fe)&&(we=o.neg(fe),me^=1),new x(Y,we,me)}return{seed:z,k2sig:U}}function L(v,m,b={}){v=Sn("message",v);const{seed:A,k2sig:I}=T(v,m,b);return WIe(t.outputLen,o.BYTES,s)(A,I)}function M(v){let m;const b=typeof v=="string"||fo(v),A=!b&&v!==null&&typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!b&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)m=new x(v.r,v.s);else if(b){try{m=x.fromBytes(Sn("sig",v),"der")}catch(I){if(!(I instanceof Wl.Err))throw I}if(!m)try{m=x.fromBytes(Sn("sig",v),"compact")}catch{return!1}}return m||!1}function S(v,m,b,A={}){const{lowS:I,prehash:C,format:O}=qC(A,p);if(b=Sn("publicKey",b),m=R(Sn("message",m),C),"strict"in A)throw new Error("options.strict was renamed to lowS");const B=O===void 0?M(v):x.fromBytes(Sn("sig",v),O);if(B===!1)return!1;try{const D=e.fromBytes(b);if(I&&B.hasHighS())return!1;const{r:z,s:j}=B,U=P(m),V=o.inv(j),q=o.create(U*V),X=o.create(z*V),Z=e.BASE.multiplyUnsafe(q).add(D.multiplyUnsafe(X));return Z.is0()?!1:o.create(Z.x)===z}catch{return!1}}function w(v,m,b={}){const{prehash:A}=qC(b,p);return m=R(m,A),x.fromBytes(v,"recovered").recoverPublicKey(m).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:h,Point:e,sign:L,verify:S,recoverPublicKey:w,Signature:x,hash:t})}function g_e(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=cm(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function m_e(e){const{CURVE:t,curveOpts:n}=g_e(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function y_e(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,Bq(n.Fn.ORDER,n.Fn.BITS))})}function b_e(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:s}=m_e(e),i=u_e(t,n),o=p_e(i,r,s);return y_e(e,o)}function w_e(e,t){const n=r=>b_e({...e,hash:r});return{...n(t),create:n}}const v_e=mf;function Sd(e,t){if(lm(e),lm(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function E_e(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function lm(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function qq(e){if(!fo(e)&&typeof e!="string")throw new Error("DST must be Uint8Array or string");return typeof e=="string"?Zc(e):e}function x_e(e,t,n,r){ps(e),lm(n),t=qq(t),t.length>255&&(t=r(Qe(Zc("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:i}=r,o=Math.ceil(n/s);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=Qe(t,Sd(t.length,1)),c=Sd(0,i),l=Sd(n,2),u=new Array(o),f=r(Qe(c,e,l,Sd(0,1),a));u[0]=r(Qe(f,Sd(1,1),a));for(let h=1;h<=o;h++){const p=[E_e(f,u[h-1]),Sd(h+1,1),a];u[h]=r(Qe(...p))}return Qe(...u).slice(0,n)}function $_e(e,t,n,r,s){if(ps(e),lm(n),t=qq(t),t.length>255){const i=Math.ceil(2*r/8);t=s.create({dkLen:i}).update(Zc("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:n}).update(e).update(Sd(n,2)).update(t).update(Sd(t.length,1)).digest()}function WC(e,t,n){S4(n,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:r,k:s,m:i,hash:o,expand:a,DST:c}=n;if(!KIe(n.hash))throw new Error("expected valid hash");ps(e),lm(t);const l=r.toString(2).length,u=Math.ceil((l+s)/8),f=t*i*u;let d;if(a==="xmd")d=x_e(e,c,f,o);else if(a==="xof")d=$_e(e,c,f,s,o);else if(a==="_internal_pass")d=e;else throw new Error('expand must be "xmd" or "xof"');const h=new Array(t);for(let p=0;p<t;p++){const g=new Array(i);for(let y=0;y<i;y++){const $=u*(y+p*i),_=d.subarray($,$+u);g[y]=Ei(v_e(_),r)}h[p]=g}return h}function A_e(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,s)=>{const[i,o,a,c]=n.map(f=>f.reduce((d,h)=>e.add(e.mul(d,r),h))),[l,u]=I4(e,[o,c],!0);return r=e.mul(i,l),s=e.mul(s,e.mul(a,u)),{x:r,y:s}}}const C_e=Zc("HashToScalar-");function S_e(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function r(i){return e.fromAffine(t(i))}function s(i){const o=i.clearCofactor();return o.equals(e.ZERO)?e.ZERO:(o.assertValidity(),o)}return{defaults:n,hashToCurve(i,o){const a=Object.assign({},n,o),c=WC(i,2,a),l=r(c[0]),u=r(c[1]);return s(l.add(u))},encodeToCurve(i,o){const a=n.encodeDST?{DST:n.encodeDST}:{},c=Object.assign({},n,a,o),l=WC(i,1,c),u=r(l[0]);return s(u)},mapToCurve(i){if(!Array.isArray(i))throw new Error("expected array of bigints");for(const o of i)if(typeof o!="bigint")throw new Error("expected array of bigints");return s(r(i))},hashToScalar(i,o){const a=e.Fn.ORDER,c=Object.assign({},n,{p:a,m:1,DST:C_e},o);return WC(i,1,c)[0][0]}}}const ep={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},I_e={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},__e=BigInt(0),Zq=BigInt(1),KC=BigInt(2);function O_e(e){const t=ep.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=Yi(u,n,t)*u%t,d=Yi(f,n,t)*u%t,h=Yi(d,KC,t)*l%t,p=Yi(h,s,t)*h%t,g=Yi(p,i,t)*p%t,y=Yi(g,a,t)*g%t,$=Yi(y,c,t)*y%t,_=Yi($,a,t)*g%t,x=Yi(_,n,t)*u%t,E=Yi(x,o,t)*p%t,P=Yi(E,r,t)*l%t,N=Yi(P,KC,t);if(!Kl.eql(Kl.sqr(N),e))throw new Error("Cannot find square root");return N}const Kl=cm(ep.p,{sqrt:O_e}),O4=w_e({...ep,Fp:Kl,lowS:!0,endo:I_e},Zn),Wq={};function P4(e,...t){let n=Wq[e];if(n===void 0){const r=Zn(Zc(e));n=Qe(r,r),Wq[e]=n}return Zn(Qe(n,...t))}const GC=e=>e.toBytes(!0).slice(1),tp=O4.Point,YC=e=>e%KC===__e;function XC(e){const{Fn:t,BASE:n}=tp,r=wf(t,e),s=n.multiply(r);return{scalar:YC(s.y)?r:t.neg(r),bytes:GC(s)}}function Kq(e){const t=Kl;if(!t.isValidNot0(e))throw new Error("invalid x: Fail if x \u2265 p");const n=t.create(e*e),r=t.create(n*e+BigInt(7));let s=t.sqrt(r);YC(s)||(s=t.neg(s));const i=tp.fromAffine({x:e,y:s});return i.assertValidity(),i}const um=mf;function Gq(...e){return tp.Fn.create(um(P4("BIP0340/challenge",...e)))}function Yq(e){return XC(e).bytes}function P_e(e,t,n=ti(32)){const{Fn:r}=tp,s=Sn("message",e),{bytes:i,scalar:o}=XC(t),a=Sn("auxRand",n,32),c=r.toBytes(o^um(P4("BIP0340/aux",a))),l=P4("BIP0340/nonce",c,i,s),{bytes:u,scalar:f}=XC(l),d=Gq(u,i,s),h=new Uint8Array(64);if(h.set(u,0),h.set(r.toBytes(r.create(f+d*o)),32),!Xq(h,s,i))throw new Error("sign: Invalid signature produced");return h}function Xq(e,t,n){const{Fn:r,BASE:s}=tp,i=Sn("signature",e,64),o=Sn("message",t),a=Sn("publicKey",n,32);try{const c=Kq(um(a)),l=um(i.subarray(0,32));if(!UC(l,Zq,ep.p))return!1;const u=um(i.subarray(32,64));if(!UC(u,Zq,ep.n))return!1;const f=Gq(r.toBytes(l),GC(c),o),d=s.multiplyUnsafe(u).add(c.multiplyUnsafe(r.neg(f))),{x:h,y:p}=d.toAffine();return!(d.is0()||!YC(p)||h!==l)}catch{return!1}}const T_e=(()=>{const n=(s=ti(48))=>Dq(s,ep.n);O4.utils.randomSecretKey;function r(s){const i=n(s);return{secretKey:i,publicKey:Yq(i)}}return{keygen:r,getPublicKey:Yq,sign:P_e,verify:Xq,Point:tp,utils:{randomSecretKey:n,randomPrivateKey:n,taggedHash:P4,lift_x:Kq,pointToBytes:GC,numberToBytesBE:C4,bytesToNumberBE:mf,mod:Ei},lengths:{secretKey:32,publicKey:32,publicKeyHasPrefix:!1,signature:32*2,seed:48}}})(),N_e=A_e(Kl,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),B_e=f_e(Kl,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Kl.create(BigInt("-11"))}),JC=S_e(O4.Point,e=>{const{x:t,y:n}=B_e(Kl.create(e[0]));return N_e(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Kl.ORDER,m:1,k:128,expand:"xmd",hash:Zn});var k_e=Object.freeze({__proto__:null,secp256k1:O4,schnorr:T_e,secp256k1_hasher:JC,hashToCurve:JC.hashToCurve,encodeToCurve:JC.encodeToCurve});const R_e=":";function Gl(e){const[t,n]=e.split(R_e);return{namespace:t,reference:n}}function Jq(e,t){return e.includes(":")?[e]:t.chains||[]}var D_e=Object.defineProperty,M_e=Object.defineProperties,U_e=Object.getOwnPropertyDescriptors,Qq=Object.getOwnPropertySymbols,L_e=Object.prototype.hasOwnProperty,F_e=Object.prototype.propertyIsEnumerable,QC=(e,t,n)=>t in e?D_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eZ=(e,t)=>{for(var n in t||(t={}))L_e.call(t,n)&&QC(e,n,t[n]);if(Qq)for(var n of Qq(t))F_e.call(t,n)&&QC(e,n,t[n]);return e},j_e=(e,t)=>M_e(e,U_e(t)),tZ=(e,t,n)=>QC(e,typeof t!="symbol"?t+"":t,n);const z_e="ReactNative",xi={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},H_e="js";function T4(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Id(){return!ei()&&!!qp()&&navigator.product===z_e}function V_e(){return Id()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function q_e(){return Id()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function np(){return!T4()&&!!qp()&&!!ei()}function dm(){return Id()?xi.reactNative:T4()?xi.node:np()?xi.browser:xi.unknown}function nZ(){var e;try{return Id()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function Z_e(e,t){const n=new URLSearchParams(e);return Object.entries(t).sort(([r],[s])=>r.localeCompare(s)).forEach(([r,s])=>{s!=null&&n.set(r,String(s))}),n.toString()}function W_e(e){var t,n;const r=rZ();try{return e!=null&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),(t=e?.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(s=>s!=="")),j_e(eZ(eZ({},r),e),{url:e?.url||r.url,name:e?.name||r.name,description:e?.description||r.description,icons:(n=e?.icons)!=null&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),e||r}}function rZ(){return k5()||{name:"",description:"",url:"",icons:[""]}}function K_e(){if(dm()===xi.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const e=B_();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function G_e(){var e;const t=dm();return t===xi.browser?[t,((e=N5())==null?void 0:e.host)||"unknown"].join(":"):t}function sZ(e,t,n){const r=K_e(),s=G_e();return[[e,t].join("-"),[H_e,n].join("-"),r,s].join("/")}function Y_e({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=sZ(e,t,r),f={auth:s,ua:u,projectId:i,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},d=Z_e(l[1]||"",f);return l[0]+"?"+d}function vf(e,t){return e.filter(n=>t.includes(n)).length===e.length}function eS(e){return Object.fromEntries(e.entries())}function tS(e){return new Map(Object.entries(e))}function Ef(e=Q.FIVE_MINUTES,t){const n=Q.toMiliseconds(e||Q.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(t);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function _a(e,t,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),t);try{const o=await e;r(o)}catch(o){s(o)}clearTimeout(i)})}function iZ(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function X_e(e){return iZ("topic",e)}function J_e(e){return iZ("id",e)}function oZ(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if(t==="topic"&&typeof n=="string")r.topic=n;else if(t==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function fn(e,t){return Q.fromMiliseconds((t||Date.now())+Q.toMiliseconds(e))}function Oa(e){return Date.now()>=Q.toMiliseconds(e)}function yt(e,t){return`${e}${t?`:${t}`:""}`}function Pa(e=[],t=[]){return[...new Set([...e,...t])]}async function Q_e({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s?.href;if(typeof i!="string")return;const o=eOe(i,e,t),a=dm();if(a===xi.browser){if(!((r=ei())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}tOe(o)}else a===xi.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function eOe(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let s=`${e}`;if(e.startsWith("https://t.me")){const i=e.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${iOe(r,!0)}`}else s=`${s}/wc?${r}`;return s}function tOe(e){let t="_self";sOe()?t="_top":(rOe()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function nOe(e,t){let n="";try{if(np()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(r){console.error(r)}return n}function aZ(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function cZ(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function nS(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function rOe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function sOe(){try{return window.self!==window.top}catch{return!1}}function iOe(e,t=!1){const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}function lZ(e){return Buffer.from(e,"base64").toString("utf-8")}function oOe(e){return new Promise(t=>setTimeout(t,e))}class aOe{constructor({limit:t}){tZ(this,"limit"),tZ(this,"set"),this.limit=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}}const N4=BigInt(2**32-1),uZ=BigInt(32);function dZ(e,t=!1){return t?{h:Number(e&N4),l:Number(e>>uZ&N4)}:{h:Number(e>>uZ&N4)|0,l:Number(e&N4)|0}}function fZ(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=dZ(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const hZ=(e,t,n)=>e>>>n,pZ=(e,t,n)=>e<<32-n|t>>>n,_d=(e,t,n)=>e>>>n|t<<32-n,Od=(e,t,n)=>e<<32-n|t>>>n,fm=(e,t,n)=>e<<64-n|t>>>n-32,hm=(e,t,n)=>e>>>n-32|t<<64-n,cOe=(e,t)=>t,lOe=(e,t)=>e,uOe=(e,t,n)=>e<<n|t>>>32-n,dOe=(e,t,n)=>t<<n|e>>>32-n,fOe=(e,t,n)=>t<<n-32|e>>>64-n,hOe=(e,t,n)=>e<<n-32|t>>>64-n;function Fo(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const rS=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),sS=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,pOe=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),gOe=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,mOe=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),yOe=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,rp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function B4(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Yl(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function jo(e,...t){if(!B4(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function k4(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Yl(e.outputLen),Yl(e.blockLen)}function Pd(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function iS(e,t){jo(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function pm(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Xi(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function oS(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ta(e,t){return e<<32-t|e>>>t}const gZ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function mZ(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Xl=gZ?e=>e:e=>mZ(e);function bOe(e){for(let t=0;t<e.length;t++)e[t]=mZ(e[t]);return e}const Td=gZ?e=>e:bOe,yZ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",wOe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function sp(e){if(jo(e),yZ)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=wOe[e[n]];return t}const Jl={_0:48,_9:57,A:65,F:70,a:97,f:102};function bZ(e){if(e>=Jl._0&&e<=Jl._9)return e-Jl._0;if(e>=Jl.A&&e<=Jl.F)return e-(Jl.A-10);if(e>=Jl.a&&e<=Jl.f)return e-(Jl.a-10)}function R4(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(yZ)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=bZ(e.charCodeAt(i)),a=bZ(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function wZ(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function zo(e){return typeof e=="string"&&(e=wZ(e)),jo(e),e}function Nd(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];jo(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class D4{}function gm(e){const t=r=>e().update(zo(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function vOe(e){const t=(r,s)=>e(s).update(zo(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function xf(e=32){if(rp&&typeof rp.getRandomValues=="function")return rp.getRandomValues(new Uint8Array(e));if(rp&&typeof rp.randomBytes=="function")return Uint8Array.from(rp.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const EOe=BigInt(0),mm=BigInt(1),xOe=BigInt(2),$Oe=BigInt(7),AOe=BigInt(256),COe=BigInt(113),vZ=[],EZ=[],xZ=[];for(let e=0,t=mm,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],vZ.push(2*(5*r+n)),EZ.push((e+1)*(e+2)/2%64);let s=EOe;for(let i=0;i<7;i++)t=(t<<mm^(t>>$Oe)*COe)%AOe,t&xOe&&(s^=mm<<(mm<<BigInt(i))-mm);xZ.push(s)}const $Z=fZ(xZ,!0),SOe=$Z[0],IOe=$Z[1],AZ=(e,t,n)=>n>32?fOe(e,t,n):uOe(e,t,n),CZ=(e,t,n)=>n>32?hOe(e,t,n):dOe(e,t,n);function _Oe(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],f=AZ(l,u,1)^n[a],d=CZ(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=f,e[o+h+1]^=d}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=EZ[o],c=AZ(s,i,a),l=CZ(s,i,a),u=vZ[o];s=e[u],i=e[u+1],e[u]=c,e[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=SOe[r],e[1]^=IOe[r]}Xi(n)}class aS extends D4{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Yl(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=pm(this.state)}clone(){return this._cloneInto()}keccak(){Td(this.state32),_Oe(this.state32,this.rounds),Td(this.state32),this.posOut=0,this.pos=0}update(t){Pd(this),t=zo(t),jo(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Pd(this,!1),jo(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Yl(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(iS(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Xi(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new aS(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const OOe=(e,t,n)=>gm(()=>new aS(t,e,n)),POe=OOe(1,136,256/8);function TOe(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function NOe(e,t,n){return e&t^~e&n}function BOe(e,t,n){return e&t^e&n^t&n}class SZ extends D4{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=oS(this.buffer)}update(t){Pd(this),t=zo(t),jo(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=oS(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Pd(this),iS(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Xi(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;TOe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=oS(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Bd=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Nr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Br=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),kOe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kd=new Uint32Array(64);class ROe extends SZ{constructor(t=32){super(64,t,8,!1),this.A=Bd[0]|0,this.B=Bd[1]|0,this.C=Bd[2]|0,this.D=Bd[3]|0,this.E=Bd[4]|0,this.F=Bd[5]|0,this.G=Bd[6]|0,this.H=Bd[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)kd[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=kd[f-15],h=kd[f-2],p=Ta(d,7)^Ta(d,18)^d>>>3,g=Ta(h,17)^Ta(h,19)^h>>>10;kd[f]=g+kd[f-7]+p+kd[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=Ta(a,6)^Ta(a,11)^Ta(a,25),h=u+d+NOe(a,c,l)+kOe[f]+kd[f]|0,p=(Ta(r,2)^Ta(r,13)^Ta(r,22))+BOe(r,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Xi(kd)}destroy(){this.set(0,0,0,0,0,0,0,0),Xi(this.buffer)}}const IZ=fZ(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),DOe=IZ[0],MOe=IZ[1],Rd=new Uint32Array(80),Dd=new Uint32Array(80);class cS extends SZ{constructor(t=64){super(128,t,16,!1),this.Ah=Br[0]|0,this.Al=Br[1]|0,this.Bh=Br[2]|0,this.Bl=Br[3]|0,this.Ch=Br[4]|0,this.Cl=Br[5]|0,this.Dh=Br[6]|0,this.Dl=Br[7]|0,this.Eh=Br[8]|0,this.El=Br[9]|0,this.Fh=Br[10]|0,this.Fl=Br[11]|0,this.Gh=Br[12]|0,this.Gl=Br[13]|0,this.Hh=Br[14]|0,this.Hl=Br[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:p,Hh:g,Hl:y}=this;return[t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y]}set(t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let x=0;x<16;x++,n+=4)Rd[x]=t.getUint32(n),Dd[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const E=Rd[x-15]|0,P=Dd[x-15]|0,N=_d(E,P,1)^_d(E,P,8)^hZ(E,P,7),k=Od(E,P,1)^Od(E,P,8)^pZ(E,P,7),R=Rd[x-2]|0,T=Dd[x-2]|0,L=_d(R,T,19)^fm(R,T,61)^hZ(R,T,6),M=Od(R,T,19)^hm(R,T,61)^pZ(R,T,6),S=pOe(k,M,Dd[x-7],Dd[x-16]),w=gOe(S,N,L,Rd[x-7],Rd[x-16]);Rd[x]=w|0,Dd[x]=S|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:p,Gh:g,Gl:y,Hh:$,Hl:_}=this;for(let x=0;x<80;x++){const E=_d(f,d,14)^_d(f,d,18)^fm(f,d,41),P=Od(f,d,14)^Od(f,d,18)^hm(f,d,41),N=f&h^~f&g,k=d&p^~d&y,R=mOe(_,P,k,MOe[x],Dd[x]),T=yOe(R,$,E,N,DOe[x],Rd[x]),L=R|0,M=_d(r,s,28)^fm(r,s,34)^fm(r,s,39),S=Od(r,s,28)^hm(r,s,34)^hm(r,s,39),w=r&i^r&a^i&a,v=s&o^s&c^o&c;$=g|0,_=y|0,g=h|0,y=p|0,h=f|0,p=d|0,{h:f,l:d}=Fo(l|0,u|0,T|0,L|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const m=rS(L,S,v);r=sS(m,T,M,w),s=m|0}({h:r,l:s}=Fo(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Fo(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Fo(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Fo(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=Fo(this.Eh|0,this.El|0,f|0,d|0),{h,l:p}=Fo(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:y}=Fo(this.Gh|0,this.Gl|0,g|0,y|0),{h:$,l:_}=Fo(this.Hh|0,this.Hl|0,$|0,_|0),this.set(r,s,i,o,a,c,l,u,f,d,h,p,g,y,$,_)}roundClean(){Xi(Rd,Dd)}destroy(){Xi(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class UOe extends cS{constructor(){super(48),this.Ah=Nr[0]|0,this.Al=Nr[1]|0,this.Bh=Nr[2]|0,this.Bl=Nr[3]|0,this.Ch=Nr[4]|0,this.Cl=Nr[5]|0,this.Dh=Nr[6]|0,this.Dl=Nr[7]|0,this.Eh=Nr[8]|0,this.El=Nr[9]|0,this.Fh=Nr[10]|0,this.Fl=Nr[11]|0,this.Gh=Nr[12]|0,this.Gl=Nr[13]|0,this.Hh=Nr[14]|0,this.Hl=Nr[15]|0}}const kr=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class LOe extends cS{constructor(){super(32),this.Ah=kr[0]|0,this.Al=kr[1]|0,this.Bh=kr[2]|0,this.Bl=kr[3]|0,this.Ch=kr[4]|0,this.Cl=kr[5]|0,this.Dh=kr[6]|0,this.Dl=kr[7]|0,this.Eh=kr[8]|0,this.El=kr[9]|0,this.Fh=kr[10]|0,this.Fl=kr[11]|0,this.Gh=kr[12]|0,this.Gl=kr[13]|0,this.Hh=kr[14]|0,this.Hl=kr[15]|0}}const M4=gm(()=>new ROe),FOe=gm(()=>new cS),jOe=gm(()=>new UOe),zOe=gm(()=>new LOe),HOe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),In=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),xe=new Uint32Array(32);function Md(e,t,n,r,s,i){const o=s[i],a=s[i+1];let c=xe[2*e],l=xe[2*e+1],u=xe[2*t],f=xe[2*t+1],d=xe[2*n],h=xe[2*n+1],p=xe[2*r],g=xe[2*r+1],y=rS(c,u,o);l=sS(y,l,f,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:cOe(g,p),Dl:lOe(g)},{h,l:d}=Fo(h,d,g,p),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:_d(f,u,24),Bl:Od(f,u,24)},xe[2*e]=c,xe[2*e+1]=l,xe[2*t]=u,xe[2*t+1]=f,xe[2*n]=d,xe[2*n+1]=h,xe[2*r]=p,xe[2*r+1]=g}function Ud(e,t,n,r,s,i){const o=s[i],a=s[i+1];let c=xe[2*e],l=xe[2*e+1],u=xe[2*t],f=xe[2*t+1],d=xe[2*n],h=xe[2*n+1],p=xe[2*r],g=xe[2*r+1],y=rS(c,u,o);l=sS(y,l,f,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:_d(g,p,16),Dl:Od(g,p,16)},{h,l:d}=Fo(h,d,g,p),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:fm(f,u,63),Bl:hm(f,u,63)},xe[2*e]=c,xe[2*e+1]=l,xe[2*t]=u,xe[2*t+1]=f,xe[2*n]=d,xe[2*n+1]=h,xe[2*r]=p,xe[2*r+1]=g}function VOe(e,t={},n,r,s){if(Yl(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=t;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class qOe extends D4{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Yl(t),Yl(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=pm(this.buffer)}update(t){Pd(this),t=zo(t),jo(t);const{blockLen:n,buffer:r,buffer32:s}=this,i=t.length,o=t.byteOffset,a=t.buffer;for(let c=0;c<i;){this.pos===n&&(Td(s),this.compress(s,0,!1),Td(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const f=new Uint32Array(a,u,Math.floor((i-c)/4));Td(f);for(let d=0;c+n<i;d+=s.length,c+=n)this.length+=n,this.compress(f,d,!1);Td(f);continue}r.set(t.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(t){Pd(this),iS(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,Xi(this.buffer.subarray(n)),Td(r),this.compress(r,0,!0),Td(r);const s=pm(t);this.get().forEach((i,o)=>s[o]=Xl(i))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return t||(t=new this.constructor({dkLen:o})),t.set(...this.get()),t.buffer.set(n),t.destroyed=i,t.finished=s,t.length=r,t.pos=a,t.outputLen=o,t}clone(){return this._cloneInto()}}class ZOe extends qOe{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=In[0]|0,this.v0h=In[1]|0,this.v1l=In[2]|0,this.v1h=In[3]|0,this.v2l=In[4]|0,this.v2h=In[5]|0,this.v3l=In[6]|0,this.v3h=In[7]|0,this.v4l=In[8]|0,this.v4h=In[9]|0,this.v5l=In[10]|0,this.v5h=In[11]|0,this.v6l=In[12]|0,this.v6h=In[13]|0,this.v7l=In[14]|0,this.v7h=In[15]|0,VOe(n,t,64,16,16);let{key:r,personalization:s,salt:i}=t,o=0;if(r!==void 0&&(r=zo(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=zo(i);const a=pm(i);this.v4l^=Xl(a[0]),this.v4h^=Xl(a[1]),this.v5l^=Xl(a[2]),this.v5h^=Xl(a[3])}if(s!==void 0){s=zo(s);const a=pm(s);this.v6l^=Xl(a[0]),this.v6h^=Xl(a[1]),this.v7l^=Xl(a[2]),this.v7h^=Xl(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:f,v5h:d,v6l:h,v6h:p,v7l:g,v7h:y}=this;return[t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y]}set(t,n,r,s,i,o,a,c,l,u,f,d,h,p,g,y){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=d|0,this.v6l=h|0,this.v6h=p|0,this.v7l=g|0,this.v7h=y|0}compress(t,n,r){this.get().forEach((c,l)=>xe[l]=c),xe.set(In,16);let{h:s,l:i}=dZ(BigInt(this.length));xe[24]=In[8]^i,xe[25]=In[9]^s,r&&(xe[28]=~xe[28],xe[29]=~xe[29]);let o=0;const a=HOe;for(let c=0;c<12;c++)Md(0,4,8,12,t,n+2*a[o++]),Ud(0,4,8,12,t,n+2*a[o++]),Md(1,5,9,13,t,n+2*a[o++]),Ud(1,5,9,13,t,n+2*a[o++]),Md(2,6,10,14,t,n+2*a[o++]),Ud(2,6,10,14,t,n+2*a[o++]),Md(3,7,11,15,t,n+2*a[o++]),Ud(3,7,11,15,t,n+2*a[o++]),Md(0,5,10,15,t,n+2*a[o++]),Ud(0,5,10,15,t,n+2*a[o++]),Md(1,6,11,12,t,n+2*a[o++]),Ud(1,6,11,12,t,n+2*a[o++]),Md(2,7,8,13,t,n+2*a[o++]),Ud(2,7,8,13,t,n+2*a[o++]),Md(3,4,9,14,t,n+2*a[o++]),Ud(3,4,9,14,t,n+2*a[o++]);this.v0l^=xe[0]^xe[16],this.v0h^=xe[1]^xe[17],this.v1l^=xe[2]^xe[18],this.v1h^=xe[3]^xe[19],this.v2l^=xe[4]^xe[20],this.v2h^=xe[5]^xe[21],this.v3l^=xe[6]^xe[22],this.v3h^=xe[7]^xe[23],this.v4l^=xe[8]^xe[24],this.v4h^=xe[9]^xe[25],this.v5l^=xe[10]^xe[26],this.v5h^=xe[11]^xe[27],this.v6l^=xe[12]^xe[28],this.v6h^=xe[13]^xe[29],this.v7l^=xe[14]^xe[30],this.v7h^=xe[15]^xe[31],Xi(xe)}destroy(){this.destroyed=!0,Xi(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const WOe=vOe(e=>new ZOe(e)),KOe="https://rpc.walletconnect.org/v1";function _Z(e){const t=`Ethereum Signed Message:
${e.length}`,n=new TextEncoder().encode(t+e);return"0x"+Buffer.from(POe(n)).toString("hex")}async function GOe(e,t,n,r,s,i){switch(n.t){case"eip191":return await YOe(e,t,n.s);case"eip1271":return await XOe(e,t,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function YOe(e,t,n){return(await hIe({hash:_Z(t),signature:n})).toLowerCase()===e.toLowerCase()}async function XOe(e,t,n,r,s,i){const o=Gl(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),f=(t.startsWith("0x")?t:_Z(t)).substring(2),d=a+f+c+u+l,h=await fetch(`${i||KOe}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:JOe(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:d},"latest"]})}),{result:p}=await h.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function JOe(){return Date.now()+Math.floor(Math.random()*1e3)}function QOe(e){const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(e,"base64").slice(1,65);return mo.encode(i)}function ePe(e){const t=new Uint8Array(Buffer.from(e,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const s=WOe(r,{dkLen:32});return mo.encode(s)}function OZ(e){const t=new Uint8Array(M4(tPe(e)));return mo.encode(t)}function tPe(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="object"&&e!=null&&e.data)return new Uint8Array(Object.values(e.data));if(typeof e=="object"&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function PZ(e){const t=Buffer.from(e,"base64"),n=cT(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=iT(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=zOe(i);return zP.encode(o).replace(/=+$/,"")}function lS(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Buffer.from(t)}function nPe(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),n=Buffer.from(e.signed.authInfoBytes,"base64"),r=Buffer.from(e.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(lS(t.length)),s.push(t),s.push(Buffer.from([18])),s.push(lS(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(lS(r.length)),s.push(r);const i=Buffer.concat(s),o=M4(i);return Buffer.from(o).toString("hex").toUpperCase()}function rPe(e){var t,n;const r=[];try{if(typeof e=="string")return r.push(e),r;if(typeof e!="object")return r;e!=null&&e.id&&r.push(e.id);const s=(n=(t=e?.capabilities)==null?void 0:t.caip345)==null?void 0:n.transactionHashes;s&&r.push(...s)}catch(s){console.warn("getWalletSendCallsHashes failed: ",s)}return r}var sPe=Object.defineProperty,iPe=Object.defineProperties,oPe=Object.getOwnPropertyDescriptors,TZ=Object.getOwnPropertySymbols,aPe=Object.prototype.hasOwnProperty,cPe=Object.prototype.propertyIsEnumerable,NZ=(e,t,n)=>t in e?sPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lPe=(e,t)=>{for(var n in t||(t={}))aPe.call(t,n)&&NZ(e,n,t[n]);if(TZ)for(var n of TZ(t))cPe.call(t,n)&&NZ(e,n,t[n]);return e},uPe=(e,t)=>iPe(e,oPe(t));const dPe="did:pkh:",uS=e=>e?.split(":"),fPe=e=>{const t=e&&uS(e);if(t)return e.includes(dPe)?t[3]:t[1]},dS=e=>{const t=e&&uS(e);if(t)return t[2]+":"+t[3]},U4=e=>{const t=e&&uS(e);if(t)return t.pop()};async function BZ(e){const{cacao:t,projectId:n}=e,{s:r,p:s}=t,i=kZ(s,s.iss),o=U4(s.iss);return await GOe(o,i,r,dS(s.iss),n)}const kZ=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=U4(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=e.statement||void 0;const i=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${fPe(t)}`,c=`Nonce: ${e.nonce}`,l=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,f=e.nbf?`Not Before: ${e.nbf}`:void 0,d=e.requestId?`Request ID: ${e.requestId}`:void 0,h=e.resources?`Resources:${e.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=L4(e.resources);if(p){const g=ym(p);s=EPe(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,f,d,h].filter(g=>g!=null).join(`
`)};function hPe(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function pPe(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function $f(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(n=>{const r=e.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function gPe(e,t,n,r={}){return n?.sort((s,i)=>s.localeCompare(i)),{att:{[e]:mPe(t,n,r)}}}function mPe(e,t,n={}){t=t?.sort((s,i)=>s.localeCompare(i));const r=t.map(s=>({[`${e}/${s}`]:[n]}));return Object.assign({},...r)}function RZ(e){return $f(e),`urn:recap:${hPe(e).replace(/=/g,"")}`}function ym(e){const t=pPe(e.replace("urn:recap:",""));return $f(t),t}function yPe(e,t,n){const r=gPe(e,t,n);return RZ(r)}function bPe(e){return e&&e.includes("urn:recap:")}function wPe(e,t){const n=ym(e),r=ym(t),s=vPe(n,r);return RZ(s)}function vPe(e,t){$f(e),$f(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=e.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=t.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=uPe(lPe({},r.att[s]),{[a]:((c=e.att[s])==null?void 0:c[a])||((l=t.att[s])==null?void 0:l[a])})})}),r}function EPe(e="",t){$f(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let s=0;Object.keys(t.att).forEach(a=>{const c=Object.keys(t.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));const l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const u=Object.keys(l).map(f=>(s++,`(${s}) '${f}': '${l[f].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${e?e+" ":""}${o}`}function DZ(e){var t;const n=ym(e);$f(n);const r=(t=n.att)==null?void 0:t.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function MZ(e){const t=ym(e);$f(t);const n=[];return Object.values(t.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s?.[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function L4(e){if(!e)return;const t=e?.[e.length-1];return bPe(t)?t:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function UZ(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function fS(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function hS(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Zs(e,...t){if(!UZ(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function LZ(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function xPe(e,t){Zs(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ld(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ip(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function $Pe(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const APe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function CPe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function pS(e){if(typeof e=="string")e=CPe(e);else if(UZ(e))e=gS(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function SPe(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function IPe(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const _Pe=(e,t)=>{function n(r,...s){if(Zs(r),!APe)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");e.varSizeNonce?Zs(l):Zs(l,e.nonceLength)}const i=e.tagLength;i&&s[1]!==void 0&&Zs(s[1]);const o=t(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Zs(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Zs(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Zs(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,e),n};function FZ(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!PPe(t))throw new Error("invalid output, must be aligned");return t}function jZ(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function OPe(e,t,n){fS(n);const r=new Uint8Array(16),s=$Pe(r);return jZ(s,0,BigInt(t),n),jZ(s,8,BigInt(e),n),r}function PPe(e){return e.byteOffset%4===0}function gS(e){return Uint8Array.from(e)}const zZ=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),TPe=zZ("expand 16-byte k"),NPe=zZ("expand 32-byte k"),BPe=Ld(TPe),kPe=Ld(NPe);function ht(e,t){return e<<t|e>>>32-t}function mS(e){return e.byteOffset%4===0}const F4=64,RPe=16,HZ=2**32-1,VZ=new Uint32Array;function DPe(e,t,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(F4),u=Ld(l),f=mS(s)&&mS(i),d=f?Ld(s):VZ,h=f?Ld(i):VZ;for(let p=0;p<c;o++){if(e(t,n,r,u,o,a),o>=HZ)throw new Error("arx: counter overflow");const g=Math.min(F4,c-p);if(f&&g===F4){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let $=0,_;$<RPe;$++)_=y+$,h[_]=d[_]^u[$];p+=F4;continue}for(let y=0,$;y<g;y++)$=p+y,i[$]=s[$]^l[y];p+=g}}function MPe(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=SPe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return hS(s),hS(o),fS(i),fS(n),(a,c,l,u,f=0)=>{Zs(a),Zs(c),Zs(l);const d=l.length;if(u===void 0&&(u=new Uint8Array(d)),Zs(u),hS(f),f<0||f>=HZ)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let p=a.length,g,y;if(p===32)h.push(g=gS(a)),y=kPe;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=BPe,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);mS(c)||h.push(c=gS(c));const $=Ld(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,$,Ld(c.subarray(0,16)),$),c=c.subarray(16)}const _=16-s;if(_!==c.length)throw new Error(`arx: nonce must be ${_} or 16 bytes`);if(_!==12){const E=new Uint8Array(12);E.set(c,i?0:12-c.length),c=E,h.push(c)}const x=Ld(c);return DPe(e,y,$,x,l,u,f,o),ip(...h),u}}const ar=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class UPe{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=pS(t),Zs(t,32);const n=ar(t,0),r=ar(t,2),s=ar(t,4),i=ar(t,6),o=ar(t,8),a=ar(t,10),c=ar(t,12),l=ar(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ar(t,16+2*u)}process(t,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],f=o[4],d=o[5],h=o[6],p=o[7],g=o[8],y=o[9],$=ar(t,n+0),_=ar(t,n+2),x=ar(t,n+4),E=ar(t,n+6),P=ar(t,n+8),N=ar(t,n+10),k=ar(t,n+12),R=ar(t,n+14);let T=i[0]+($&8191),L=i[1]+(($>>>13|_<<3)&8191),M=i[2]+((_>>>10|x<<6)&8191),S=i[3]+((x>>>7|E<<9)&8191),w=i[4]+((E>>>4|P<<12)&8191),v=i[5]+(P>>>1&8191),m=i[6]+((P>>>14|N<<2)&8191),b=i[7]+((N>>>11|k<<5)&8191),A=i[8]+((k>>>8|R<<8)&8191),I=i[9]+(R>>>5|s),C=0,O=C+T*a+L*(5*y)+M*(5*g)+S*(5*p)+w*(5*h);C=O>>>13,O&=8191,O+=v*(5*d)+m*(5*f)+b*(5*u)+A*(5*l)+I*(5*c),C+=O>>>13,O&=8191;let B=C+T*c+L*a+M*(5*y)+S*(5*g)+w*(5*p);C=B>>>13,B&=8191,B+=v*(5*h)+m*(5*d)+b*(5*f)+A*(5*u)+I*(5*l),C+=B>>>13,B&=8191;let D=C+T*l+L*c+M*a+S*(5*y)+w*(5*g);C=D>>>13,D&=8191,D+=v*(5*p)+m*(5*h)+b*(5*d)+A*(5*f)+I*(5*u),C+=D>>>13,D&=8191;let z=C+T*u+L*l+M*c+S*a+w*(5*y);C=z>>>13,z&=8191,z+=v*(5*g)+m*(5*p)+b*(5*h)+A*(5*d)+I*(5*f),C+=z>>>13,z&=8191;let j=C+T*f+L*u+M*l+S*c+w*a;C=j>>>13,j&=8191,j+=v*(5*y)+m*(5*g)+b*(5*p)+A*(5*h)+I*(5*d),C+=j>>>13,j&=8191;let U=C+T*d+L*f+M*u+S*l+w*c;C=U>>>13,U&=8191,U+=v*a+m*(5*y)+b*(5*g)+A*(5*p)+I*(5*h),C+=U>>>13,U&=8191;let V=C+T*h+L*d+M*f+S*u+w*l;C=V>>>13,V&=8191,V+=v*c+m*a+b*(5*y)+A*(5*g)+I*(5*p),C+=V>>>13,V&=8191;let q=C+T*p+L*h+M*d+S*f+w*u;C=q>>>13,q&=8191,q+=v*l+m*c+b*a+A*(5*y)+I*(5*g),C+=q>>>13,q&=8191;let X=C+T*g+L*p+M*h+S*d+w*f;C=X>>>13,X&=8191,X+=v*u+m*l+b*c+A*a+I*(5*y),C+=X>>>13,X&=8191;let Z=C+T*y+L*g+M*p+S*h+w*d;C=Z>>>13,Z&=8191,Z+=v*f+m*u+b*l+A*c+I*a,C+=Z>>>13,Z&=8191,C=(C<<2)+C|0,C=C+O|0,O=C&8191,C=C>>>13,B+=C,i[0]=O,i[1]=B,i[2]=D,i[3]=z,i[4]=j,i[5]=U,i[6]=V,i[7]=q,i[8]=X,i[9]=Z}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let s=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=s,s=t[a]>>>13,t[a]&=8191;t[0]+=s*5,s=t[0]>>>13,t[0]&=8191,t[1]+=s,s=t[1]>>>13,t[1]&=8191,t[2]+=s,r[0]=t[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)t[a]=t[a]&i|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let o=t[0]+n[0];t[0]=o&65535;for(let a=1;a<8;a++)o=(t[a]+n[a]|0)+(o>>>16)|0,t[a]=o&65535;ip(r)}update(t){LZ(this),t=pS(t),Zs(t);const{buffer:n,blockLen:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(t,i);continue}n.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){ip(this.h,this.r,this.buffer,this.pad)}digestInto(t){LZ(this),xPe(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)t[i++]=r[o]>>>0,t[i++]=r[o]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function LPe(e){const t=(r,s)=>e(s).update(pS(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const FPe=LPe(e=>new UPe(e));function jPe(e,t,n,r,s,i=20){let o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],f=t[1],d=t[2],h=t[3],p=t[4],g=t[5],y=t[6],$=t[7],_=s,x=n[0],E=n[1],P=n[2],N=o,k=a,R=c,T=l,L=u,M=f,S=d,w=h,v=p,m=g,b=y,A=$,I=_,C=x,O=E,B=P;for(let z=0;z<i;z+=2)N=N+L|0,I=ht(I^N,16),v=v+I|0,L=ht(L^v,12),N=N+L|0,I=ht(I^N,8),v=v+I|0,L=ht(L^v,7),k=k+M|0,C=ht(C^k,16),m=m+C|0,M=ht(M^m,12),k=k+M|0,C=ht(C^k,8),m=m+C|0,M=ht(M^m,7),R=R+S|0,O=ht(O^R,16),b=b+O|0,S=ht(S^b,12),R=R+S|0,O=ht(O^R,8),b=b+O|0,S=ht(S^b,7),T=T+w|0,B=ht(B^T,16),A=A+B|0,w=ht(w^A,12),T=T+w|0,B=ht(B^T,8),A=A+B|0,w=ht(w^A,7),N=N+M|0,B=ht(B^N,16),b=b+B|0,M=ht(M^b,12),N=N+M|0,B=ht(B^N,8),b=b+B|0,M=ht(M^b,7),k=k+S|0,I=ht(I^k,16),A=A+I|0,S=ht(S^A,12),k=k+S|0,I=ht(I^k,8),A=A+I|0,S=ht(S^A,7),R=R+w|0,C=ht(C^R,16),v=v+C|0,w=ht(w^v,12),R=R+w|0,C=ht(C^R,8),v=v+C|0,w=ht(w^v,7),T=T+L|0,O=ht(O^T,16),m=m+O|0,L=ht(L^m,12),T=T+L|0,O=ht(O^T,8),m=m+O|0,L=ht(L^m,7);let D=0;r[D++]=o+N|0,r[D++]=a+k|0,r[D++]=c+R|0,r[D++]=l+T|0,r[D++]=u+L|0,r[D++]=f+M|0,r[D++]=d+S|0,r[D++]=h+w|0,r[D++]=p+v|0,r[D++]=g+m|0,r[D++]=y+b|0,r[D++]=$+A|0,r[D++]=_+I|0,r[D++]=x+C|0,r[D++]=E+O|0,r[D++]=P+B|0}const zPe=MPe(jPe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),HPe=new Uint8Array(16),qZ=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(HPe.subarray(n))},VPe=new Uint8Array(32);function ZZ(e,t,n,r,s){const i=e(t,n,VPe),o=FPe.create(i);s&&qZ(o,s),qZ(o,r);const a=OPe(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return ip(i,a),c}const qPe=e=>(t,n,r)=>({encrypt(s,i){const o=s.length;i=FZ(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);e(t,n,a,a,1);const c=ZZ(e,t,n,a,r);return i.set(c,o),ip(c),i},decrypt(s,i){i=FZ(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=ZZ(e,t,n,o,r);if(!IPe(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),e(t,n,i,i,1),ip(c),i}}),WZ=_Pe({blockSize:64,nonceLength:12,tagLength:16},qPe(zPe));class KZ extends D4{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,k4(t);const r=zo(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Xi(i)}update(t){return Pd(this),this.iHash.update(t),this}digestInto(t){Pd(this),jo(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const j4=(e,t,n)=>new KZ(e,t).update(n).digest();j4.create=(e,t)=>new KZ(e,t);function ZPe(e,t,n){return k4(e),n===void 0&&(n=new Uint8Array(e.outputLen)),j4(e,zo(n),zo(t))}const yS=Uint8Array.from([0]),GZ=Uint8Array.of();function WPe(e,t,n,r=32){k4(e),Yl(r);const s=e.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=GZ);const o=new Uint8Array(i*s),a=j4.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)yS[0]=u+1,c.update(u===0?GZ:l).update(n).update(yS).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),Xi(l,yS),o.slice(0,r)}const KPe=(e,t,n,r,s)=>WPe(e,ZPe(e,t,n),r,s),z4=M4,bS=BigInt(0),wS=BigInt(1);function H4(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function Af(e,t,n=""){const r=B4(e),s=e?.length,i=t!==void 0;if(!r||i&&s!==t){const o=n&&`"${n}" `,a=i?` of length ${t}`:"",c=r?`length=${s}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function V4(e){const t=e.toString(16);return t.length&1?"0"+t:t}function YZ(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?bS:BigInt("0x"+e)}function q4(e){return YZ(sp(e))}function Z4(e){return jo(e),YZ(sp(Uint8Array.from(e).reverse()))}function vS(e,t){return R4(e.toString(16).padStart(t*2,"0"))}function ES(e,t){return vS(e,t).reverse()}function Rr(e,t,n){let r;if(typeof t=="string")try{r=R4(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(B4(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const xS=e=>typeof e=="bigint"&&bS<=e;function GPe(e,t,n){return xS(e)&&xS(t)&&xS(n)&&t<=e&&e<n}function $S(e,t,n,r){if(!GPe(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function XZ(e){let t;for(t=0;e>bS;e>>=wS,t+=1);return t}const bm=e=>(wS<<BigInt(e))-wS;function YPe(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=d=>new Uint8Array(d),s=d=>Uint8Array.of(d);let i=r(e),o=r(e),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...d)=>n(o,i,...d),u=(d=r(0))=>{o=l(s(0),d),i=l(),d.length!==0&&(o=l(s(1),d),i=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<t;){i=l();const p=i.slice();h.push(p),d+=i.length}return Nd(...h)};return(d,h)=>{c(),u(d);let p;for(;!(p=h(f()));)u();return c(),p}}function W4(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,i,o){const a=e[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(t).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function JZ(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const Ws=BigInt(0),cs=BigInt(1),Cf=BigInt(2),QZ=BigInt(3),eW=BigInt(4),tW=BigInt(5),XPe=BigInt(7),nW=BigInt(8),JPe=BigInt(9),rW=BigInt(16);function $i(e,t){const n=e%t;return n>=Ws?n:t+n}function Ho(e,t,n){let r=e;for(;t-- >Ws;)r*=r,r%=n;return r}function sW(e,t){if(e===Ws)throw new Error("invert: expected non-zero number");if(t<=Ws)throw new Error("invert: expected positive modulus, got "+t);let n=$i(e,t),r=t,s=Ws,i=cs;for(;n!==Ws;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==cs)throw new Error("invert: does not exist");return $i(s,t)}function AS(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function iW(e,t){const n=(e.ORDER+cs)/eW,r=e.pow(t,n);return AS(e,r,t),r}function QPe(e,t){const n=(e.ORDER-tW)/nW,r=e.mul(t,Cf),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,Cf),s),a=e.mul(i,e.sub(o,e.ONE));return AS(e,a,t),a}function eTe(e){const t=Fd(e),n=oW(e),r=n(t,t.neg(t.ONE)),s=n(t,r),i=n(t,t.neg(r)),o=(e+XPe)/rW;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,r);const f=a.mul(l,s),d=a.mul(l,i),h=a.eql(a.sqr(u),c),p=a.eql(a.sqr(f),c);l=a.cmov(l,u,h),u=a.cmov(d,f,p);const g=a.eql(a.sqr(u),c),y=a.cmov(l,u,g);return AS(a,y,c),y}}function oW(e){if(e<QZ)throw new Error("sqrt is not defined for small field");let t=e-cs,n=0;for(;t%Cf===Ws;)t/=Cf,n++;let r=Cf;const s=Fd(e);for(;cW(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return iW;let i=s.pow(r,t);const o=(t+cs)/Cf;return function(a,c){if(a.is0(c))return c;if(cW(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),f=a.pow(c,t),d=a.pow(c,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let h=1,p=a.sqr(f);for(;!a.eql(p,a.ONE);)if(h++,p=a.sqr(p),h===l)throw new Error("Cannot find square root");const g=cs<<BigInt(l-h-1),y=a.pow(u,g);l=h,u=a.sqr(y),f=a.mul(f,u),d=a.mul(d,y)}return d}}function tTe(e){return e%eW===QZ?iW:e%nW===tW?QPe:e%rW===JPe?eTe(e):oW(e)}const nTe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rTe(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=nTe.reduce((r,s)=>(r[s]="function",r),t);return W4(e,n),e}function sTe(e,t,n){if(n<Ws)throw new Error("invalid exponent, negatives unsupported");if(n===Ws)return e.ONE;if(n===cs)return t;let r=e.ONE,s=t;for(;n>Ws;)n&cs&&(r=e.mul(r,s)),s=e.sqr(s),n>>=cs;return r}function aW(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function cW(e,t){const n=(e.ORDER-cs)/Cf,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function lW(e,t){t!==void 0&&Yl(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Fd(e,t,n=!1,r={}){if(e<=Ws)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i,o=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(s=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),a=d.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:c,nByteLength:l}=lW(e,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:bm(c),ZERO:Ws,ONE:cs,allowedLengths:a,create:d=>$i(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Ws<=d&&d<e},is0:d=>d===Ws,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&cs)===cs,neg:d=>$i(-d,e),eql:(d,h)=>d===h,sqr:d=>$i(d*d,e),add:(d,h)=>$i(d+h,e),sub:(d,h)=>$i(d-h,e),mul:(d,h)=>$i(d*h,e),pow:(d,h)=>sTe(f,d,h),div:(d,h)=>$i(d*sW(h,e),e),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>sW(d,e),sqrt:i||(d=>(u||(u=tTe(e)),u(f,d))),toBytes:d=>n?ES(d,l):vS(d,l),fromBytes:(d,h=!0)=>{if(a){if(!a.includes(d.length)||d.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);const g=new Uint8Array(l);g.set(d,n?0:g.length-d.length),d=g}if(d.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+d.length);let p=n?Z4(d):q4(d);if(o&&(p=$i(p,e)),!h&&!f.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:d=>aW(f,d),cmov:(d,h,p)=>p?h:d});return Object.freeze(f)}function uW(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function dW(e){const t=uW(e);return t+Math.ceil(t/2)}function iTe(e,t,n=!1){const r=e.length,s=uW(t),i=dW(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Z4(e):q4(e),a=$i(o,t-cs)+cs;return n?ES(a,s):vS(a,s)}const op=BigInt(0),Sf=BigInt(1);function K4(e,t){const n=t.negate();return e?n:t}function CS(e,t){const n=aW(e.Fp,t.map(r=>r.Z));return t.map((r,s)=>e.fromAffine(r.toAffine(n[s])))}function fW(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function SS(e,t){fW(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=bm(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function hW(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=Sf);const l=t*r,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function oTe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function aTe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const IS=new WeakMap,pW=new WeakMap;function _S(e){return pW.get(e)||1}function gW(e){if(e!==op)throw new Error("invalid wNAF")}class cTe{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let s=t;for(;n>op;)n&Sf&&(r=r.add(s)),s=s.double(),n>>=Sf;return r}precomputeWindow(t,n){const{windows:r,windowSize:s}=SS(n,this.bits),i=[];let o=t,a=o;for(let c=0;c<r;c++){a=o,i.push(a);for(let l=1;l<s;l++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=SS(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:d,offsetF:h}=hW(r,a,o);r=c,u?i=i.add(K4(d,n[h])):s=s.add(K4(f,n[l]))}return gW(r),{p:s,f:i}}wNAFUnsafe(t,n,r,s=this.ZERO){const i=SS(t,this.bits);for(let o=0;o<i.windows&&r!==op;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=hW(r,o,i);if(r=a,!l){const f=n[c];s=s.add(u?f.negate():f)}}return gW(r),s}getPrecomputes(t,n,r){let s=IS.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(s=r(s)),IS.set(n,s))),s}cached(t,n,r){const s=_S(t);return this.wNAF(s,this.getPrecomputes(s,t,r),n)}unsafe(t,n,r,s){const i=_S(t);return i===1?this._unsafeLadder(t,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),n,s)}createCache(t,n){fW(n,this.bits),pW.set(t,n),IS.delete(t)}hasCache(t){return _S(t)!==1}}function lTe(e,t,n,r){let s=t,i=e.ZERO,o=e.ZERO;for(;n>op||r>op;)n&Sf&&(i=i.add(s)),r&Sf&&(o=o.add(s)),s=s.double(),n>>=Sf,r>>=Sf;return{p1:i,p2:o}}function uTe(e,t,n,r){oTe(n,e),aTe(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=XZ(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=bm(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],$=Number(y>>BigInt(h)&l);u[$]=u[$].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(d=d.add(p),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function mW(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return rTe(t),t}else return Fd(e,{isLE:n})}function dTe(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const a of["p","n","h"]){const c=t[a];if(!(typeof c=="bigint"&&c>op))throw new Error(`CURVE.${a} must be positive bigint`)}const s=mW(t.p,n.Fp,r),i=mW(t.n,n.Fn,r),o=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const a of o)if(!s.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),wZ("HashToScalar-");const wm=BigInt(0),ap=BigInt(1),G4=BigInt(2);function fTe(e){return W4(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function hTe(e){const t=fTe(e),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=t,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||xf,l=a?255:448,u=a?32:56,f=BigInt(a?9:5),d=BigInt(a?121665:39081),h=a?G4**BigInt(254):G4**BigInt(447),p=a?BigInt(8)*G4**BigInt(251)-ap:BigInt(4)*G4**BigInt(445)-ap,g=h+p+ap,y=S=>$i(S,n),$=_(f);function _(S){return ES(y(S),u)}function x(S){const w=Rr("u coordinate",S,u);return a&&(w[31]&=127),y(Z4(w))}function E(S){return Z4(s(Rr("scalar",S,u)))}function P(S,w){const v=R(x(w),E(S));if(v===wm)throw new Error("invalid private or public key received");return _(v)}function N(S){return P(S,$)}function k(S,w,v){const m=y(S*(w-v));return w=y(w-m),v=y(v+m),{x_2:w,x_3:v}}function R(S,w){$S("u",S,wm,n),$S("scalar",w,h,g);const v=w,m=S;let b=ap,A=wm,I=S,C=ap,O=wm;for(let D=BigInt(l-1);D>=wm;D--){const z=v>>D&ap;O^=z,{x_2:b,x_3:I}=k(O,b,I),{x_2:A,x_3:C}=k(O,A,C),O=z;const j=b+A,U=y(j*j),V=b-A,q=y(V*V),X=U-q,Z=I+C,Y=I-C,fe=y(Y*j),me=y(Z*V),we=fe+me,Re=fe-me;I=y(we*we),C=y(m*y(Re*Re)),b=y(U*q),A=y(X*(U+y(d*X)))}({x_2:b,x_3:I}=k(O,b,I)),{x_2:A,x_3:C}=k(O,A,C);const B=i(A);return y(b*B)}const T={secretKey:u,publicKey:u,seed:u},L=(S=c(u))=>(jo(S,T.seed),S);function M(S){const w=L(S);return{secretKey:w,publicKey:N(w)}}return{keygen:M,getSharedSecret:(S,w)=>P(S,w),getPublicKey:S=>N(S),scalarMult:P,scalarMultBase:N,utils:{randomSecretKey:L,randomPrivateKey:L},GuBytes:$.slice(),lengths:T}}const pTe=BigInt(1),yW=BigInt(2),gTe=BigInt(3),mTe=BigInt(5),yTe=BigInt(8),bW=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),bTe={p:bW,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:yTe,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function wTe(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=bW,o=e*e%i*e%i,a=Ho(o,yW,i)*o%i,c=Ho(a,pTe,i)*e%i,l=Ho(c,mTe,i)*c%i,u=Ho(l,t,i)*l%i,f=Ho(u,n,i)*u%i,d=Ho(f,r,i)*f%i,h=Ho(d,s,i)*d%i,p=Ho(h,s,i)*d%i,g=Ho(p,t,i)*l%i;return{pow_p_5_8:Ho(g,yW,i)*e%i,b2:o}}function vTe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const ETe=Fd(bTe.p,{isLE:!0}),OS=(()=>{const e=ETe.ORDER;return hTe({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=wTe(t);return $i(Ho(n,gTe,e)*r,e)},adjustScalarBytes:vTe})})(),wW=(e,t)=>(e+(e>=0?t:-t)/vW)/t;function xTe(e,t,n){const[[r,s],[i,o]]=t,a=wW(o*e,n),c=wW(-s*e,n);let l=e-a*r-c*i,u=-a*s-c*o;const f=l<eu,d=u<eu;f&&(l=-l),d&&(u=-u);const h=bm(Math.ceil(XZ(n)/2))+cp;if(l<eu||l>=h||u<eu||u>=h)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}function PS(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function TS(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return H4(n.lowS,"lowS"),H4(n.prehash,"prehash"),n.format!==void 0&&PS(n.format),n}class $Te extends Error{constructor(t=""){super(t)}}const Ql={Err:$Te,_tlv:{encode:(e,t)=>{const{Err:n}=Ql;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=V4(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?V4(s.length/2|128):"";return V4(e)+i+s+t},decode(e,t){const{Err:n}=Ql;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Ql;if(e<eu)throw new t("integer: negative integers are not allowed");let n=V4(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ql;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return q4(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ql,s=Rr("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Ql,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}},eu=BigInt(0),cp=BigInt(1),vW=BigInt(2),Y4=BigInt(3),ATe=BigInt(4);function lp(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let s=Rr("private key",t);try{r=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function CTe(e,t={}){const n=dTe("weierstrass",e,t),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o,n:a}=i;W4(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=xW(r,s);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(S,w,v){const{x:m,y:b}=w.toAffine(),A=r.toBytes(m);if(H4(v,"isCompressed"),v){u();const I=!r.isOdd(b);return Nd(EW(I),A)}else return Nd(Uint8Array.of(4),A,r.toBytes(b))}function d(S){Af(S,void 0,"Point");const{publicKey:w,publicKeyUncompressed:v}=l,m=S.length,b=S[0],A=S.subarray(1);if(m===w&&(b===2||b===3)){const I=r.fromBytes(A);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const C=g(I);let O;try{O=r.sqrt(C)}catch(D){const z=D instanceof Error?": "+D.message:"";throw new Error("bad point: is not on curve, sqrt error"+z)}u();const B=r.isOdd(O);return(b&1)===1!==B&&(O=r.neg(O)),{x:I,y:O}}else if(m===v&&b===4){const I=r.BYTES,C=r.fromBytes(A.subarray(0,I)),O=r.fromBytes(A.subarray(I,I*2));if(!y(C,O))throw new Error("bad point: is not on curve");return{x:C,y:O}}else throw new Error(`bad point: got length ${m}, expected compressed=${w} or uncompressed=${v}`)}const h=t.toBytes||f,p=t.fromBytes||d;function g(S){const w=r.sqr(S),v=r.mul(w,S);return r.add(r.add(v,r.mul(S,i.a)),i.b)}function y(S,w){const v=r.sqr(w),m=g(S);return r.eql(v,m)}if(!y(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const $=r.mul(r.pow(i.a,Y4),ATe),_=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add($,_)))throw new Error("bad curve params: a or b");function x(S,w,v=!1){if(!r.isValid(w)||v&&r.is0(w))throw new Error(`bad point coordinate ${S}`);return w}function E(S){if(!(S instanceof T))throw new Error("ProjectivePoint expected")}function P(S){if(!c||!c.basises)throw new Error("no endo");return xTe(S,c.basises,s.ORDER)}const N=JZ((S,w)=>{const{X:v,Y:m,Z:b}=S;if(r.eql(b,r.ONE))return{x:v,y:m};const A=S.is0();w==null&&(w=A?r.ONE:r.inv(b));const I=r.mul(v,w),C=r.mul(m,w),O=r.mul(b,w);if(A)return{x:r.ZERO,y:r.ZERO};if(!r.eql(O,r.ONE))throw new Error("invZ was invalid");return{x:I,y:C}}),k=JZ(S=>{if(S.is0()){if(t.allowInfinityPoint&&!r.is0(S.Y))return;throw new Error("bad point: ZERO")}const{x:w,y:v}=S.toAffine();if(!r.isValid(w)||!r.isValid(v))throw new Error("bad point: x or y not field elements");if(!y(w,v))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(S,w,v,m,b){return v=new T(r.mul(v.X,S),v.Y,v.Z),w=K4(m,w),v=K4(b,v),w.add(v)}class T{constructor(w,v,m){this.X=x("x",w),this.Y=x("y",v,!0),this.Z=x("z",m),Object.freeze(this)}static CURVE(){return i}static fromAffine(w){const{x:v,y:m}=w||{};if(!w||!r.isValid(v)||!r.isValid(m))throw new Error("invalid affine point");if(w instanceof T)throw new Error("projective point not allowed");return r.is0(v)&&r.is0(m)?T.ZERO:new T(v,m,r.ONE)}static fromBytes(w){const v=T.fromAffine(p(Af(w,void 0,"point")));return v.assertValidity(),v}static fromHex(w){return T.fromBytes(Rr("pointHex",w))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(w=8,v=!0){return M.createCache(this,w),v||this.multiply(Y4),this}assertValidity(){k(this)}hasEvenY(){const{y:w}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(w)}equals(w){E(w);const{X:v,Y:m,Z:b}=this,{X:A,Y:I,Z:C}=w,O=r.eql(r.mul(v,C),r.mul(A,b)),B=r.eql(r.mul(m,C),r.mul(I,b));return O&&B}negate(){return new T(this.X,r.neg(this.Y),this.Z)}double(){const{a:w,b:v}=i,m=r.mul(v,Y4),{X:b,Y:A,Z:I}=this;let C=r.ZERO,O=r.ZERO,B=r.ZERO,D=r.mul(b,b),z=r.mul(A,A),j=r.mul(I,I),U=r.mul(b,A);return U=r.add(U,U),B=r.mul(b,I),B=r.add(B,B),C=r.mul(w,B),O=r.mul(m,j),O=r.add(C,O),C=r.sub(z,O),O=r.add(z,O),O=r.mul(C,O),C=r.mul(U,C),B=r.mul(m,B),j=r.mul(w,j),U=r.sub(D,j),U=r.mul(w,U),U=r.add(U,B),B=r.add(D,D),D=r.add(B,D),D=r.add(D,j),D=r.mul(D,U),O=r.add(O,D),j=r.mul(A,I),j=r.add(j,j),D=r.mul(j,U),C=r.sub(C,D),B=r.mul(j,z),B=r.add(B,B),B=r.add(B,B),new T(C,O,B)}add(w){E(w);const{X:v,Y:m,Z:b}=this,{X:A,Y:I,Z:C}=w;let O=r.ZERO,B=r.ZERO,D=r.ZERO;const z=i.a,j=r.mul(i.b,Y4);let U=r.mul(v,A),V=r.mul(m,I),q=r.mul(b,C),X=r.add(v,m),Z=r.add(A,I);X=r.mul(X,Z),Z=r.add(U,V),X=r.sub(X,Z),Z=r.add(v,b);let Y=r.add(A,C);return Z=r.mul(Z,Y),Y=r.add(U,q),Z=r.sub(Z,Y),Y=r.add(m,b),O=r.add(I,C),Y=r.mul(Y,O),O=r.add(V,q),Y=r.sub(Y,O),D=r.mul(z,Z),O=r.mul(j,q),D=r.add(O,D),O=r.sub(V,D),D=r.add(V,D),B=r.mul(O,D),V=r.add(U,U),V=r.add(V,U),q=r.mul(z,q),Z=r.mul(j,Z),V=r.add(V,q),q=r.sub(U,q),q=r.mul(z,q),Z=r.add(Z,q),U=r.mul(V,Z),B=r.add(B,U),U=r.mul(Y,Z),O=r.mul(X,O),O=r.sub(O,U),U=r.mul(X,V),D=r.mul(Y,D),D=r.add(D,U),new T(O,B,D)}subtract(w){return this.add(w.negate())}is0(){return this.equals(T.ZERO)}multiply(w){const{endo:v}=t;if(!s.isValidNot0(w))throw new Error("invalid scalar: out of range");let m,b;const A=I=>M.cached(this,I,C=>CS(T,C));if(v){const{k1neg:I,k1:C,k2neg:O,k2:B}=P(w),{p:D,f:z}=A(C),{p:j,f:U}=A(B);b=z.add(U),m=R(v.beta,D,j,I,O)}else{const{p:I,f:C}=A(w);m=I,b=C}return CS(T,[m,b])[0]}multiplyUnsafe(w){const{endo:v}=t,m=this;if(!s.isValid(w))throw new Error("invalid scalar: out of range");if(w===eu||m.is0())return T.ZERO;if(w===cp)return m;if(M.hasCache(this))return this.multiply(w);if(v){const{k1neg:b,k1:A,k2neg:I,k2:C}=P(w),{p1:O,p2:B}=lTe(T,m,A,C);return R(v.beta,O,B,b,I)}else return M.unsafe(m,w)}multiplyAndAddUnsafe(w,v,m){const b=this.multiplyUnsafe(v).add(w.multiplyUnsafe(m));return b.is0()?void 0:b}toAffine(w){return N(this,w)}isTorsionFree(){const{isTorsionFree:w}=t;return o===cp?!0:w?w(T,this):M.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:w}=t;return o===cp?this:w?w(T,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(w=!0){return H4(w,"isCompressed"),this.assertValidity(),h(T,this,w)}toHex(w=!0){return sp(this.toBytes(w))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(w=!0){return this.toBytes(w)}_setWindowSize(w){this.precompute(w)}static normalizeZ(w){return CS(T,w)}static msm(w,v){return uTe(T,s,w,v)}static fromPrivateKey(w){return T.BASE.multiply(lp(s,w))}}T.BASE=new T(i.Gx,i.Gy,r.ONE),T.ZERO=new T(r.ZERO,r.ONE,r.ZERO),T.Fp=r,T.Fn=s;const L=s.BITS,M=new cTe(T,t.endo?Math.ceil(L/2):L);return T.BASE.precompute(8),T}function EW(e){return Uint8Array.of(e?2:3)}function xW(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function STe(e,t={}){const{Fn:n}=e,r=t.randomBytes||xf,s=Object.assign(xW(e.Fp,n),{seed:dW(n.ORDER)});function i(d){try{return!!lp(n,d)}catch{return!1}}function o(d,h){const{publicKey:p,publicKeyUncompressed:g}=s;try{const y=d.length;return h===!0&&y!==p||h===!1&&y!==g?!1:!!e.fromBytes(d)}catch{return!1}}function a(d=r(s.seed)){return iTe(Af(d,s.seed,"seed"),n.ORDER)}function c(d,h=!0){return e.BASE.multiply(lp(n,d)).toBytes(h)}function l(d){const h=a(d);return{secretKey:h,publicKey:c(h)}}function u(d){if(typeof d=="bigint")return!1;if(d instanceof e)return!0;const{secretKey:h,publicKey:p,publicKeyUncompressed:g}=s;if(n.allowedLengths||h===p)return;const y=Rr("key",d).length;return y===p||y===g}function f(d,h,p=!0){if(u(d)===!0)throw new Error("first arg must be private key");if(u(h)===!1)throw new Error("second arg must be public key");const g=lp(n,d);return e.fromHex(h).multiply(g).toBytes(p)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:e,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:d=>lp(n,d),precompute(d=8,h=e.BASE){return h.precompute(d,!1)}},lengths:s})}function ITe(e,t,n={}){k4(t),W4(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||xf,s=n.hmac||((v,...m)=>j4(t,v,Nd(...m))),{Fp:i,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:h}=STe(e,n),p={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},g="compact";function y(v){const m=a>>cp;return v>m}function $(v,m){if(!o.isValidNot0(m))throw new Error(`invalid signature ${v}: out of range 1..Point.Fn.ORDER`);return m}function _(v,m){PS(m);const b=h.signature,A=m==="compact"?b:m==="recovered"?b+1:void 0;return Af(v,A,`${m} signature`)}class x{constructor(m,b,A){this.r=$("r",m),this.s=$("s",b),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(m,b=g){_(m,b);let A;if(b==="der"){const{r:B,s:D}=Ql.toSig(Af(m));return new x(B,D)}b==="recovered"&&(A=m[0],b="compact",m=m.subarray(1));const I=o.BYTES,C=m.subarray(0,I),O=m.subarray(I,I*2);return new x(o.fromBytes(C),o.fromBytes(O),A)}static fromHex(m,b){return this.fromBytes(R4(m),b)}addRecoveryBit(m){return new x(this.r,this.s,m)}recoverPublicKey(m){const b=i.ORDER,{r:A,s:I,recovery:C}=this;if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");if(a*vW<b&&C>1)throw new Error("recovery id is ambiguous for h>1 curve");const O=C===2||C===3?A+a:A;if(!i.isValid(O))throw new Error("recovery id 2 or 3 invalid");const B=i.toBytes(O),D=e.fromBytes(Nd(EW((C&1)===0),B)),z=o.inv(O),j=P(Rr("msgHash",m)),U=o.create(-j*z),V=o.create(I*z),q=e.BASE.multiplyUnsafe(U).add(D.multiplyUnsafe(V));if(q.is0())throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return y(this.s)}toBytes(m=g){if(PS(m),m==="der")return R4(Ql.hexFromSig(this));const b=o.toBytes(this.r),A=o.toBytes(this.s);if(m==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Nd(Uint8Array.of(this.recovery),b,A)}return Nd(b,A)}toHex(m){return sp(this.toBytes(m))}assertValidity(){}static fromCompact(m){return x.fromBytes(Rr("sig",m),"compact")}static fromDER(m){return x.fromBytes(Rr("sig",m),"der")}normalizeS(){return this.hasHighS()?new x(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return sp(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return sp(this.toBytes("compact"))}}const E=n.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const m=q4(v),b=v.length*8-c;return b>0?m>>BigInt(b):m},P=n.bits2int_modN||function(v){return o.create(E(v))},N=bm(c);function k(v){return $S("num < 2^"+c,v,eu,N),o.toBytes(v)}function R(v,m){return Af(v,void 0,"message"),m?Af(t(v),void 0,"prehashed message"):v}function T(v,m,b){if(["recovered","canonical"].some(V=>V in b))throw new Error("sign() legacy options not supported");const{lowS:A,prehash:I,extraEntropy:C}=TS(b,p);v=R(v,I);const O=P(v),B=lp(o,m),D=[k(B),k(O)];if(C!=null&&C!==!1){const V=C===!0?r(h.secretKey):C;D.push(Rr("extraEntropy",V))}const z=Nd(...D),j=O;function U(V){const q=E(V);if(!o.isValidNot0(q))return;const X=o.inv(q),Z=e.BASE.multiply(q).toAffine(),Y=o.create(Z.x);if(Y===eu)return;const fe=o.create(X*o.create(j+Y*B));if(fe===eu)return;let me=(Z.x===Y?0:2)|Number(Z.y&cp),we=fe;return A&&y(fe)&&(we=o.neg(fe),me^=1),new x(Y,we,me)}return{seed:z,k2sig:U}}function L(v,m,b={}){v=Rr("message",v);const{seed:A,k2sig:I}=T(v,m,b);return YPe(t.outputLen,o.BYTES,s)(A,I)}function M(v){let m;const b=typeof v=="string"||B4(v),A=!b&&v!==null&&typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!b&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)m=new x(v.r,v.s);else if(b){try{m=x.fromBytes(Rr("sig",v),"der")}catch(I){if(!(I instanceof Ql.Err))throw I}if(!m)try{m=x.fromBytes(Rr("sig",v),"compact")}catch{return!1}}return m||!1}function S(v,m,b,A={}){const{lowS:I,prehash:C,format:O}=TS(A,p);if(b=Rr("publicKey",b),m=R(Rr("message",m),C),"strict"in A)throw new Error("options.strict was renamed to lowS");const B=O===void 0?M(v):x.fromBytes(Rr("sig",v),O);if(B===!1)return!1;try{const D=e.fromBytes(b);if(I&&B.hasHighS())return!1;const{r:z,s:j}=B,U=P(m),V=o.inv(j),q=o.create(U*V),X=o.create(z*V),Z=e.BASE.multiplyUnsafe(q).add(D.multiplyUnsafe(X));return Z.is0()?!1:o.create(Z.x)===z}catch{return!1}}function w(v,m,b={}){const{prehash:A}=TS(b,p);return m=R(m,A),x.fromBytes(v,"recovered").recoverPublicKey(m).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:h,Point:e,sign:L,verify:S,recoverPublicKey:w,Signature:x,hash:t})}function _Te(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=Fd(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function OTe(e){const{CURVE:t,curveOpts:n}=_Te(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function PTe(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,lW(n.Fn.ORDER,n.Fn.BITS))})}function TTe(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:s}=OTe(e),i=CTe(t,n),o=ITe(i,r,s);return PTe(e,o)}function NS(e,t){const n=r=>TTe({...e,hash:r});return{...n(t),create:n}}const $W={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},AW={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},CW={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},NTe=Fd($W.p),BTe=Fd(AW.p),kTe=Fd(CW.p),RTe=NS({...$W,Fp:NTe,lowS:!1},M4);NS({...AW,Fp:BTe,lowS:!1},jOe),NS({...CW,Fp:kTe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},FOe);const DTe=RTe,SW="base10",ls="base16",Ks="base64pad",jd="base64url",vm="utf8",IW=0,tu=1,Em=2,MTe=0,_W=1,xm=12,BS=32;function UTe(){const e=OS.utils.randomPrivateKey(),t=OS.getPublicKey(e);return{privateKey:St(e,ls),publicKey:St(t,ls)}}function kS(){const e=xf(BS);return St(e,ls)}function LTe(e,t){const n=OS.getSharedSecret(Ht(e,ls),Ht(t,ls)),r=KPe(z4,n,void 0,void 0,BS);return St(r,ls)}function X4(e){const t=z4(Ht(e,ls));return St(t,ls)}function Ji(e){const t=z4(Ht(e,vm));return St(t,ls)}function OW(e){return Ht(`${e}`,SW)}function If(e){return Number(St(e,SW))}function PW(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function TW(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function FTe(e){const t=OW(typeof e.type<"u"?e.type:IW);if(If(t)===tu&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?Ht(e.senderPublicKey,ls):void 0,r=typeof e.iv<"u"?Ht(e.iv,ls):xf(xm),s=Ht(e.symKey,ls),i=WZ(s,r).encrypt(Ht(e.message,vm)),o=NW({type:t,sealed:i,iv:r,senderPublicKey:n});return e.encoding===jd?PW(o):o}function jTe(e){const t=Ht(e.symKey,ls),{sealed:n,iv:r}=$m({encoded:e.encoded,encoding:e.encoding}),s=WZ(t,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return St(s,vm)}function zTe(e,t){const n=OW(Em),r=xf(xm),s=Ht(e,vm),i=NW({type:n,sealed:s,iv:r});return t===jd?PW(i):i}function HTe(e,t){const{sealed:n}=$m({encoded:e,encoding:t});return St(n,vm)}function NW(e){if(If(e.type)===Em)return St(na([e.type,e.sealed]),Ks);if(If(e.type)===tu){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return St(na([e.type,e.senderPublicKey,e.iv,e.sealed]),Ks)}return St(na([e.type,e.iv,e.sealed]),Ks)}function $m(e){const t=(e.encoding||Ks)===jd?TW(e.encoded):e.encoded,n=Ht(t,Ks),r=n.slice(MTe,_W),s=_W;if(If(r)===tu){const c=s+BS,l=c+xm,u=n.slice(s,c),f=n.slice(c,l),d=n.slice(l);return{type:r,sealed:d,iv:f,senderPublicKey:u}}if(If(r)===Em){const c=n.slice(s),l=xf(xm);return{type:r,sealed:c,iv:l}}const i=s+xm,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function VTe(e,t){const n=$m({encoded:e,encoding:t?.encoding});return BW({type:If(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?St(n.senderPublicKey,ls):void 0,receiverPublicKey:t?.receiverPublicKey})}function BW(e){const t=e?.type||IW;if(t===tu){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function kW(e){return e.type===tu&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function RW(e){return e.type===Em}function qTe(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return na([new Uint8Array([4]),t,n])}function ZTe(e,t){const[n,r,s]=e.split("."),i=Buffer.from(TW(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=z4(c),u=qTe(t);if(!DTe.verify(na([o,a]),l,u))throw new Error("Invalid signature");return vh(e).payload}const WTe="irn";function J4(e){return e?.relay||{protocol:WTe}}function up(e){const t=vN[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var KTe=Object.defineProperty,GTe=Object.defineProperties,YTe=Object.getOwnPropertyDescriptors,DW=Object.getOwnPropertySymbols,XTe=Object.prototype.hasOwnProperty,JTe=Object.prototype.propertyIsEnumerable,MW=(e,t,n)=>t in e?KTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RS=(e,t)=>{for(var n in t||(t={}))XTe.call(t,n)&&MW(e,n,t[n]);if(DW)for(var n of DW(t))JTe.call(t,n)&&MW(e,n,t[n]);return e},QTe=(e,t)=>GTe(e,YTe(t));function eNe(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=e[s];n[i]=o}}),n}function UW(e){if(!e.includes("wc:")){const l=lZ(e);l!=null&&l.includes("wc:")&&(e=l)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),s=e.substring(t+1,n).split("@"),i=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(i),a=Object.fromEntries(o.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:tNe(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:eNe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function tNe(e){return e.startsWith("//")?e.substring(2):e}function nNe(e,t="-"){const n="relay",r={};return Object.keys(e).forEach(s=>{const i=s,o=n+t+i;e[i]&&(r[o]=e[i])}),r}function LW(e){const t=new URLSearchParams,n=RS(RS(QTe(RS({},nNe(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(n).sort(([r],[s])=>r.localeCompare(s)).forEach(([r,s])=>{s!==void 0&&t.append(r,String(s))}),`${e.protocol}:${e.topic}@${e.version}?${t}`}function Q4(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var rNe=Object.defineProperty,sNe=Object.defineProperties,iNe=Object.getOwnPropertyDescriptors,FW=Object.getOwnPropertySymbols,oNe=Object.prototype.hasOwnProperty,aNe=Object.prototype.propertyIsEnumerable,jW=(e,t,n)=>t in e?rNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cNe=(e,t)=>{for(var n in t||(t={}))oNe.call(t,n)&&jW(e,n,t[n]);if(FW)for(var n of FW(t))aNe.call(t,n)&&jW(e,n,t[n]);return e},lNe=(e,t)=>sNe(e,iNe(t));function dp(e){const t=[];return e.forEach(n=>{const[r,s]=n.split(":");t.push(`${r}:${s}`)}),t}function uNe(e){const t=[];return Object.values(e).forEach(n=>{t.push(...dp(n.accounts))}),t}function dNe(e,t){const n=[];return Object.values(e).forEach(r=>{dp(r.accounts).includes(t)&&n.push(...r.methods)}),n}function fNe(e,t){const n=[];return Object.values(e).forEach(r=>{dp(r.accounts).includes(t)&&n.push(...r.events)}),n}function e3(e){return e.includes(":")}function fp(e){return e3(e)?e.split(":")[0]:e}function zW(e){var t,n,r;const s={};if(!Na(e))return s;for(const[i,o]of Object.entries(e)){const a=e3(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=fp(i);s[u]=lNe(cNe({},s[u]),{chains:Pa(a,(t=s[u])==null?void 0:t.chains),methods:Pa(c,(n=s[u])==null?void 0:n.methods),events:Pa(l,(r=s[u])==null?void 0:r.events)})}return s}function hNe(e){const t={};return e?.forEach(n=>{var r;const[s,i]=n.split(":");t[s]||(t[s]={accounts:[],chains:[],events:[],methods:[]}),t[s].accounts.push(n),(r=t[s].chains)==null||r.push(`${s}:${i}`)}),t}function HW(e,t){t=t.map(r=>r.replace("did:pkh:",""));const n=hNe(t);for(const[r,s]of Object.entries(n))s.methods?s.methods=Pa(s.methods,e):s.methods=e,s.events=["chainChanged","accountsChanged"];return n}function pNe(e,t){var n,r,s,i,o,a;const c=zW(e),l=zW(t),u={},f=Object.keys(c).concat(Object.keys(l));for(const d of f)u[d]={chains:Pa((n=c[d])==null?void 0:n.chains,(r=l[d])==null?void 0:r.chains),methods:Pa((s=c[d])==null?void 0:s.methods,(i=l[d])==null?void 0:i.methods),events:Pa((o=c[d])==null?void 0:o.events,(a=l[d])==null?void 0:a.events)};return u}const gNe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},mNe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ge(e,t){const{message:n,code:r}=mNe[e];return{message:t?`${n} ${t}`:n,code:r}}function Zt(e,t){const{message:n,code:r}=gNe[e];return{message:t?`${n} ${t}`:n,code:r}}function nu(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function Na(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function _n(e){return typeof e>"u"}function hn(e,t){return t&&_n(e)?!0:typeof e=="string"&&!!e.trim().length}function DS(e,t){return t&&_n(e)?!0:typeof e=="number"&&!isNaN(e)}function yNe(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),s=Object.keys(n);let i=!0;return vf(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=e.namespaces[o],u=dp(a),f=n[o];(!vf(Jq(o,f),u)||!vf(f.methods,c)||!vf(f.events,l))&&(i=!1)}),i):!1}function t3(e){return hn(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function bNe(e){if(hn(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const n=t[0]+":"+t[1];return!!t[2]&&t3(n)}}return!1}function wNe(e){function t(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(hn(e,!1)){if(t(e))return!0;const n=lZ(e);return t(n)}}catch{}return!1}function vNe(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function ENe(e){return e?.topic}function xNe(e,t){let n=null;return hn(e?.publicKey,!1)||(n=ge("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function VW(e){let t=!0;return nu(e)?e.length&&(t=e.every(n=>hn(n,!1))):t=!1,t}function $Ne(e,t,n){let r=null;return nu(t)&&t.length?t.forEach(s=>{r||t3(s)||(r=Zt("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):t3(e)||(r=Zt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function ANe(e,t,n){let r=null;return Object.entries(e).forEach(([s,i])=>{if(r)return;const o=$Ne(s,Jq(s,i),`${t} ${n}`);o&&(r=o)}),r}function CNe(e,t){let n=null;return nu(e)?e.forEach(r=>{n||bNe(r)||(n=Zt("UNSUPPORTED_ACCOUNTS",`${t}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Zt("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function SNe(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const s=CNe(r?.accounts,`${t} namespace`);s&&(n=s)}),n}function INe(e,t){let n=null;return VW(e?.methods)?VW(e?.events)||(n=Zt("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=Zt("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}function qW(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const s=INe(r,`${t}, namespace`);s&&(n=s)}),n}function _Ne(e,t,n){let r=null;if(e&&Na(e)){const s=qW(e,t);s&&(r=s);const i=ANe(e,t,n);i&&(r=i)}else r=ge("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function MS(e,t){let n=null;if(e&&Na(e)){const r=qW(e,t);r&&(n=r);const s=SNe(e,t);s&&(n=s)}else n=ge("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function ZW(e){return hn(e.protocol,!0)}function ONe(e,t){let n=!1;return t&&!e?n=!0:e&&nu(e)&&e.length&&e.forEach(r=>{n=ZW(r)}),n}function PNe(e){return typeof e=="number"}function Gs(e){return typeof e<"u"&&typeof e!==null}function TNe(e){return!(!e||typeof e!="object"||!e.code||!DS(e.code,!1)||!e.message||!hn(e.message,!1))}function NNe(e){return!(_n(e)||!hn(e.method,!1))}function BNe(e){return!(_n(e)||_n(e.result)&&_n(e.error)||!DS(e.id,!1)||!hn(e.jsonrpc,!1))}function kNe(e){return!(_n(e)||!hn(e.name,!1))}function WW(e,t){return!(!t3(t)||!uNe(e).includes(t))}function RNe(e,t,n){return hn(n,!1)?dNe(e,t).includes(n):!1}function DNe(e,t,n){return hn(n,!1)?fNe(e,t).includes(n):!1}function KW(e,t,n){let r=null;const s=MNe(e),i=UNe(t),o=Object.keys(s),a=Object.keys(i),c=GW(Object.keys(e)),l=GW(Object.keys(t)),u=c.filter(f=>!l.includes(f));return u.length&&(r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(t).toString()}`)),vf(o,a)||(r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(f=>{if(!f.includes(":")||r)return;const d=dp(t[f].accounts);d.includes(f)||(r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{r||(vf(s[f].methods,i[f].methods)?vf(s[f].events,i[f].events)||(r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function MNe(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(s=>{t[s]={methods:e[n].methods,events:e[n].events}})}),t}function GW(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function UNe(e){const t={};return Object.keys(e).forEach(n=>{n.includes(":")?t[n]=e[n]:dp(e[n].accounts)?.forEach(s=>{t[s]={accounts:e[n].accounts.filter(i=>i.includes(`${s}:`)),methods:e[n].methods,events:e[n].events}})}),t}function LNe(e,t){return DS(e,!1)&&e<=t.max&&e>=t.min}function YW(){const e=dm();return new Promise(t=>{switch(e){case xi.browser:t(FNe());break;case xi.reactNative:t(jNe());break;case xi.node:t(zNe());break;default:t(!0)}})}function FNe(){return np()&&navigator?.onLine}async function jNe(){return Id()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function zNe(){return!0}function HNe(e){switch(dm()){case xi.browser:VNe(e);break;case xi.reactNative:qNe(e);break}}function VNe(e){!Id()&&np()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function qNe(e){Id()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}function ZNe(){var e;return np()&&ei()?((e=ei())==null?void 0:e.visibilityState)==="visible":!0}const US={};class Am{static get(t){return US[t]}static set(t,n){US[t]=n}static delete(t){delete US[t]}}function WNe(e){const t=mo.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}function KNe({publicKey:e,signature:t,payload:n}){var r;const s=LS(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=XNe(n.address),a=n.era==="00"?new Uint8Array([0]):LS(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${YNe(n.tip)}`),f=QNe(u),d=new Uint8Array([0,...e,o,...t,...a,...l,...f,...s]),h=JNe(d.length+1);return new Uint8Array([...h,i,...d])}function GNe(e){const t=LS(e),n=RN.blake2b(t,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function LS(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16)))}function YNe(e){return e.startsWith("0x")?e.slice(2):e}function XNe(e){const t=mo.decode(e)[0];return t===42?0:t===60?2:1}function JNe(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([t&255,t>>8&255])}else if(e<1<<30){const t=e<<2|2;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function QNe(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}else if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function eBe(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),n=WNe(e.transaction.address),r=KNe({publicKey:n,signature:t,payload:e.transaction}),s=Buffer.from(r).toString("hex");return GNe(s)}const XW="wc",JW=2,n3="core",Ba=`${XW}@2:${n3}:`,tBe={name:n3,logger:"error"},nBe={database:":memory:"},rBe="crypto",QW="client_ed25519_seed",sBe=Q.ONE_DAY,iBe="keychain",oBe="0.3",aBe="messages",cBe="0.3",lBe=Q.SIX_HOURS,uBe="publisher",eK="irn",dBe="error",tK="wss://relay.walletconnect.org",fBe="relayer",on={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},hBe="_subscription",Qi={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},pBe=.1,FS="2.21.9",zt={link_mode:"link_mode",relay:"relay"},r3={inbound:"inbound",outbound:"outbound"},gBe="0.3",mBe="WALLETCONNECT_CLIENT_ID",nK="WALLETCONNECT_LINK_MODE_APPS",Ai={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},yBe="subscription",bBe="0.3",wBe="pairing",vBe="0.3",Cm={wc_pairingDelete:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Q.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Q.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:0},res:{ttl:Q.ONE_DAY,prompt:!1,tag:0}}},_f={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Vo={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},EBe="history",xBe="0.3",$Be="expirer",eo={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},ABe="0.3",CBe="verify-api",SBe="https://verify.walletconnect.com",rK="https://verify.walletconnect.org",Sm=rK,IBe=`${Sm}/v3`,_Be=[SBe,rK],OBe="echo",PBe="https://echo.walletconnect.com",ka={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ru={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},zd={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Im={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Of={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},_m={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},TBe=.1,NBe="event-client",BBe=86400,kBe="https://pulse.walletconnect.org/batch";function RBe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,$=0,_=p.length;$!==_&&p[$]===0;)$++,g++;for(var x=(_-$)*u+1>>>0,E=new Uint8Array(x);$!==_;){for(var P=p[$],N=0,k=x-1;(P!==0||N<y)&&k!==-1;k--,N++)P+=256*E[k]>>>0,E[k]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");y=N,$++}for(var R=x-y;R!==x&&E[R]===0;)R++;for(var T=c.repeat(g);R<x;++R)T+=e.charAt(E[R]);return T}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,$=0;p[g]===c;)y++,g++;for(var _=(p.length-g)*l+1>>>0,x=new Uint8Array(_);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var P=0,N=_-1;(E!==0||P<$)&&N!==-1;N--,P++)E+=a*x[N]>>>0,x[N]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");$=P,g++}if(p[g]!==" "){for(var k=_-$;k!==_&&x[k]===0;)k++;for(var R=new Uint8Array(y+(_-k)),T=y;k!==_;)R[T++]=x[k++];return R}}}function h(p){var g=d(p);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var DBe=RBe,MBe=DBe;const sK=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},UBe=e=>new TextEncoder().encode(e),LBe=e=>new TextDecoder().decode(e);class FBe{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class jBe{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return iK(this,t)}}class zBe{constructor(t){this.decoders=t}or(t){return iK(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const iK=(e,t)=>new zBe({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class HBe{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new FBe(t,n,r),this.decoder=new jBe(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const s3=({name:e,prefix:t,encode:n,decode:r})=>new HBe(e,t,n,r),Om=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=MBe(n,t);return s3({prefix:e,name:t,encode:r,decode:i=>sK(s(i))})},VBe=(e,t,n,r)=>{const s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let i=e.length;for(;e[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},qBe=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,i+=t[s&a>>o];if(o&&(i+=t[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},cr=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>s3({prefix:t,name:e,encode(s){return qBe(s,r,n)},decode(s){return VBe(s,r,n,e)}}),ZBe=s3({prefix:"\0",name:"identity",encode:e=>LBe(e),decode:e=>UBe(e)});var WBe=Object.freeze({__proto__:null,identity:ZBe});const KBe=cr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var GBe=Object.freeze({__proto__:null,base2:KBe});const YBe=cr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var XBe=Object.freeze({__proto__:null,base8:YBe});const JBe=Om({prefix:"9",name:"base10",alphabet:"0123456789"});var QBe=Object.freeze({__proto__:null,base10:JBe});const eke=cr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tke=cr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var nke=Object.freeze({__proto__:null,base16:eke,base16upper:tke});const rke=cr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ske=cr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ike=cr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oke=cr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ake=cr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),cke=cr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lke=cr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),uke=cr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dke=cr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var fke=Object.freeze({__proto__:null,base32:rke,base32upper:ske,base32pad:ike,base32padupper:oke,base32hex:ake,base32hexupper:cke,base32hexpad:lke,base32hexpadupper:uke,base32z:dke});const hke=Om({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pke=Om({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var gke=Object.freeze({__proto__:null,base36:hke,base36upper:pke});const mke=Om({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yke=Om({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var bke=Object.freeze({__proto__:null,base58btc:mke,base58flickr:yke});const wke=cr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),vke=cr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Eke=cr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xke=cr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var $ke=Object.freeze({__proto__:null,base64:wke,base64pad:vke,base64url:Eke,base64urlpad:xke});const oK=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Ake=oK.reduce((e,t,n)=>(e[n]=t,e),[]),Cke=oK.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function Ske(e){return e.reduce((t,n)=>(t+=Ake[n],t),"")}function Ike(e){const t=[];for(const n of e){const r=Cke[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const _ke=s3({prefix:"\u{1F680}",name:"base256emoji",encode:Ske,decode:Ike});var Oke=Object.freeze({__proto__:null,base256emoji:_ke}),Pke=cK,aK=128,Tke=127,Nke=~Tke,Bke=Math.pow(2,31);function cK(e,t,n){t=t||[],n=n||0;for(var r=n;e>=Bke;)t[n++]=e&255|aK,e/=128;for(;e&Nke;)t[n++]=e&255|aK,e>>>=7;return t[n]=e|0,cK.bytes=n-r+1,t}var kke=jS,Rke=128,lK=127;function jS(e,r){var n=0,r=r||0,s=0,i=r,o,a=e.length;do{if(i>=a)throw jS.bytes=0,new RangeError("Could not decode varint");o=e[i++],n+=s<28?(o&lK)<<s:(o&lK)*Math.pow(2,s),s+=7}while(o>=Rke);return jS.bytes=i-r,n}var Dke=Math.pow(2,7),Mke=Math.pow(2,14),Uke=Math.pow(2,21),Lke=Math.pow(2,28),Fke=Math.pow(2,35),jke=Math.pow(2,42),zke=Math.pow(2,49),Hke=Math.pow(2,56),Vke=Math.pow(2,63),qke=function(e){return e<Dke?1:e<Mke?2:e<Uke?3:e<Lke?4:e<Fke?5:e<jke?6:e<zke?7:e<Hke?8:e<Vke?9:10},Zke={encode:Pke,decode:kke,encodingLength:qke},uK=Zke;const dK=(e,t,n=0)=>(uK.encode(e,t,n),t),fK=e=>uK.encodingLength(e),zS=(e,t)=>{const n=t.byteLength,r=fK(e),s=r+fK(n),i=new Uint8Array(s+n);return dK(e,i,0),dK(n,i,r),i.set(t,s),new Wke(e,n,t,i)};class Wke{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}}const hK=({name:e,code:t,encode:n})=>new Kke(e,t,n);class Kke{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?zS(this.code,n):n.then(r=>zS(this.code,r))}else throw Error("Unknown type, must be binary type")}}const pK=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Gke=hK({name:"sha2-256",code:18,encode:pK("SHA-256")}),Yke=hK({name:"sha2-512",code:19,encode:pK("SHA-512")});var Xke=Object.freeze({__proto__:null,sha256:Gke,sha512:Yke});const gK=0,Jke="identity",mK=sK;var Qke=Object.freeze({__proto__:null,identity:{code:gK,name:Jke,encode:mK,digest:e=>zS(gK,mK(e))}});new TextEncoder,new TextDecoder;const yK={...WBe,...GBe,...XBe,...QBe,...nke,...fke,...gke,...bke,...$ke,...Oke};({...Xke,...Qke});function bK(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function eRe(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?bK(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function wK(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const vK=wK("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),HS=wK("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=eRe(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),tRe={utf8:vK,"utf-8":vK,hex:yK.base16,latin1:HS,ascii:HS,binary:HS,...yK};function nRe(e,t="utf8"){const n=tRe[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?bK(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}var rRe=Object.defineProperty,sRe=(e,t,n)=>t in e?rRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ra=(e,t,n)=>sRe(e,typeof t!="symbol"?t+"":t,n);class iRe{constructor(t,n){this.core=t,this.logger=n,Ra(this,"keychain",new Map),Ra(this,"name",iBe),Ra(this,"version",oBe),Ra(this,"initialized",!1),Ra(this,"storagePrefix",Ba),Ra(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Ra(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Ra(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),Ra(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=ge("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),Ra(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=t,this.logger=ns(n,this.name)}get context(){return Ls(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,eS(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?tS(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}var oRe=Object.defineProperty,aRe=(e,t,n)=>t in e?oRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lr=(e,t,n)=>aRe(e,typeof t!="symbol"?t+"":t,n);class cRe{constructor(t,n,r){this.core=t,this.logger=n,lr(this,"name",rBe),lr(this,"keychain"),lr(this,"randomSessionIdentifier",kS()),lr(this,"initialized",!1),lr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),lr(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),lr(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=bw(s);return lE(i.publicKey)}),lr(this,"generateKeyPair",()=>{this.isInitialized();const s=UTe();return this.setPrivateKey(s.publicKey,s.privateKey)}),lr(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=bw(i),a=this.randomSessionIdentifier;return await tN(a,s,sBe,o)}),lr(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=LTe(a,i);return this.setSymKey(c,o)}),lr(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||X4(s);return await this.keychain.set(o,s),o}),lr(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),lr(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),lr(this,"encode",async(s,i,o)=>{this.isInitialized();const a=BW(o),c=ws(i);if(RW(a))return zTe(c,o?.encoding);if(kW(a)){const d=a.senderPublicKey,h=a.receiverPublicKey;s=await this.generateSharedKey(d,h)}const l=this.getSymKey(s),{type:u,senderPublicKey:f}=a;return FTe({type:u,symKey:l,message:c,senderPublicKey:f,encoding:o?.encoding})}),lr(this,"decode",async(s,i,o)=>{this.isInitialized();const a=VTe(i,o);if(RW(a)){const c=HTe(i,o?.encoding);return sl(c)}if(kW(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=jTe({symKey:c,encoded:i,encoding:o?.encoding});return sl(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),lr(this,"getPayloadType",(s,i=Ks)=>{const o=$m({encoded:s,encoding:i});return If(o.type)}),lr(this,"getPayloadSenderPublicKey",(s,i=Ks)=>{const o=$m({encoded:s,encoding:i});return o.senderPublicKey?St(o.senderPublicKey,ls):void 0}),this.core=t,this.logger=ns(n,this.name),this.keychain=r||new iRe(this.core,this.logger)}get context(){return Ls(this.logger)}async setPrivateKey(t,n){return await this.keychain.set(t,n),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(QW)}catch{t=kS(),await this.keychain.set(QW,t)}return nRe(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}var lRe=Object.defineProperty,uRe=Object.defineProperties,dRe=Object.getOwnPropertyDescriptors,EK=Object.getOwnPropertySymbols,fRe=Object.prototype.hasOwnProperty,hRe=Object.prototype.propertyIsEnumerable,VS=(e,t,n)=>t in e?lRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pRe=(e,t)=>{for(var n in t||(t={}))fRe.call(t,n)&&VS(e,n,t[n]);if(EK)for(var n of EK(t))hRe.call(t,n)&&VS(e,n,t[n]);return e},gRe=(e,t)=>uRe(e,dRe(t)),Ci=(e,t,n)=>VS(e,typeof t!="symbol"?t+"":t,n);class mRe extends USe{constructor(t,n){super(t,n),this.logger=t,this.core=n,Ci(this,"messages",new Map),Ci(this,"messagesWithoutClientAck",new Map),Ci(this,"name",aBe),Ci(this,"version",cBe),Ci(this,"initialized",!1),Ci(this,"storagePrefix",Ba),Ci(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Ci(this,"set",async(r,s,i)=>{this.isInitialized();const o=Ji(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===r3.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,gRe(pRe({},c),{[o]:s}))}return await this.persist(),o}),Ci(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),Ci(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Ci(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=Ji(s);return typeof i[o]<"u"}),Ci(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=Ji(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),Ci(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=ns(t,this.name),this.core=n}get context(){return Ls(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,eS(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,eS(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?tS(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?tS(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}var yRe=Object.defineProperty,bRe=Object.defineProperties,wRe=Object.getOwnPropertyDescriptors,xK=Object.getOwnPropertySymbols,vRe=Object.prototype.hasOwnProperty,ERe=Object.prototype.propertyIsEnumerable,qS=(e,t,n)=>t in e?yRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hp=(e,t)=>{for(var n in t||(t={}))vRe.call(t,n)&&qS(e,n,t[n]);if(xK)for(var n of xK(t))ERe.call(t,n)&&qS(e,n,t[n]);return e},$K=(e,t)=>bRe(e,wRe(t)),to=(e,t,n)=>qS(e,typeof t!="symbol"?t+"":t,n);class xRe extends LSe{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,to(this,"events",new Ot.exports.EventEmitter),to(this,"name",uBe),to(this,"queue",new Map),to(this,"publishTimeout",Q.toMiliseconds(Q.ONE_MINUTE)),to(this,"initialPublishTimeout",Q.toMiliseconds(Q.ONE_SECOND*15)),to(this,"needsTransportRestart",!1),to(this,"publish",async(r,s,i)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const f=i?.ttl||lBe,d=i?.prompt||!1,h=i?.tag||0,p=i?.id||Wr().toString(),g=up(J4().protocol),y={id:p,method:i?.publishMethod||g.publish,params:hp({topic:r,message:s,ttl:f,prompt:d,tag:h,attestation:i?.attestation},i?.tvf)},$=`Failed to publish payload, please try again. id:${p} tag:${h}`;try{_n((o=y.params)==null?void 0:o.prompt)&&((a=y.params)==null||delete a.prompt),_n((c=y.params)==null?void 0:c.tag)&&((l=y.params)==null||delete l.tag);const _=new Promise(async x=>{const E=({id:N})=>{var k;((k=y.id)==null?void 0:k.toString())===N.toString()&&(this.removeRequestFromQueue(N),this.relayer.events.removeListener(on.publish,E),x())};this.relayer.events.on(on.publish,E);const P=_a(new Promise((N,k)=>{this.rpcPublish(y,i).then(N).catch(R=>{this.logger.warn(R,R?.message),k(R)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${p} tag:${h}`);try{await P,this.events.removeListener(on.publish,E)}catch(N){this.queue.set(p,{request:y,opts:i,attempt:1}),this.logger.warn(N,N?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,topic:r,message:s,opts:i}}),await _a(_,this.publishTimeout,$)}catch(_){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(_),(u=i?.internal)!=null&&u.throwOnFailedPublish)throw _}finally{this.queue.delete(p)}}),to(this,"publishCustom",async r=>{var s,i,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:l,opts:u={}}=r,{attestation:f,tvf:d,publishMethod:h,prompt:p,tag:g,ttl:y=Q.FIVE_MINUTES}=u,$=u.id||Wr().toString(),_=up(J4().protocol),x=h||_.publish,E={id:$,method:x,params:hp($K(hp({},l),{ttl:y,prompt:p,tag:g,attestation:f}),d)},P=`Failed to publish custom payload, please try again. id:${$} tag:${g}`;try{_n((s=E.params)==null?void 0:s.prompt)&&((i=E.params)==null||delete i.prompt),_n((o=E.params)==null?void 0:o.tag)&&((a=E.params)==null||delete a.tag);const N=new Promise(async k=>{const R=({id:L})=>{var M;((M=E.id)==null?void 0:M.toString())===L.toString()&&(this.removeRequestFromQueue(L),this.relayer.events.removeListener(on.publish,R),k())};this.relayer.events.on(on.publish,R);const T=_a(new Promise((L,M)=>{this.rpcPublish(E,u).then(L).catch(S=>{this.logger.warn(S,S?.message),M(S)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${x} id:${$} tag:${g}`);try{await T,this.events.removeListener(on.publish,R)}catch(L){this.queue.set($,{request:E,opts:u,attempt:1}),this.logger.warn(L,L?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:$,payload:l,opts:u}}),await _a(N,this.publishTimeout,P)}catch(N){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(N),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw N}finally{this.queue.delete($)}}),to(this,"on",(r,s)=>{this.events.on(r,s)}),to(this,"once",(r,s)=>{this.events.once(r,s)}),to(this,"off",(r,s)=>{this.events.off(r,s)}),to(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=t,this.logger=ns(n,this.name),this.registerEventListeners()}get context(){return Ls(this.logger)}async rpcPublish(t,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:t});const r=await this.relayer.request(t);return this.relayer.events.emit(on.publish,hp(hp({},t),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,n)=>{var r;const s=t.attempt+1;this.queue.set(n,$K(hp({},t),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${t.request.id}, tag: ${(r=t.request.params)==null?void 0:r.tag}, attempt: ${s}`),await this.rpcPublish(t.request,t.opts),this.logger.warn({},`Publisher: queue->published: ${t.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(ci.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(on.connection_stalled);return}this.checkQueue()}),this.relayer.on(on.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}var $Re=Object.defineProperty,ARe=(e,t,n)=>t in e?$Re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pp=(e,t,n)=>ARe(e,typeof t!="symbol"?t+"":t,n);class CRe{constructor(){pp(this,"map",new Map),pp(this,"set",(t,n)=>{const r=this.get(t);this.exists(t,n)||this.map.set(t,[...r,n])}),pp(this,"get",t=>this.map.get(t)||[]),pp(this,"exists",(t,n)=>this.get(t).includes(n)),pp(this,"delete",(t,n)=>{if(typeof n>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(t);return}this.map.set(t,s)}),pp(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var SRe=Object.defineProperty,IRe=Object.defineProperties,_Re=Object.getOwnPropertyDescriptors,AK=Object.getOwnPropertySymbols,ORe=Object.prototype.hasOwnProperty,PRe=Object.prototype.propertyIsEnumerable,ZS=(e,t,n)=>t in e?SRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pm=(e,t)=>{for(var n in t||(t={}))ORe.call(t,n)&&ZS(e,n,t[n]);if(AK)for(var n of AK(t))PRe.call(t,n)&&ZS(e,n,t[n]);return e},WS=(e,t)=>IRe(e,_Re(t)),Bt=(e,t,n)=>ZS(e,typeof t!="symbol"?t+"":t,n);class TRe extends zSe{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,Bt(this,"subscriptions",new Map),Bt(this,"topicMap",new CRe),Bt(this,"events",new Ot.exports.EventEmitter),Bt(this,"name",yBe),Bt(this,"version",bBe),Bt(this,"pending",new Map),Bt(this,"cached",[]),Bt(this,"initialized",!1),Bt(this,"storagePrefix",Ba),Bt(this,"subscribeTimeout",Q.toMiliseconds(Q.ONE_MINUTE)),Bt(this,"initialSubscribeTimeout",Q.toMiliseconds(Q.ONE_SECOND*15)),Bt(this,"clientId"),Bt(this,"batchSubscribeTopicsLimit",500),Bt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Bt(this,"subscribe",async(r,s)=>{var i;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const o=J4(s),a={topic:r,relay:o,transportType:s?.transportType};(i=s?.internal)!=null&&i.skipSubscribe||this.pending.set(r,a);const c=await this.rpcSubscribe(r,o,s);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),Bt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),Bt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),Bt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),Bt(this,"on",(r,s)=>{this.events.on(r,s)}),Bt(this,"once",(r,s)=>{this.events.once(r,s)}),Bt(this,"off",(r,s)=>{this.events.off(r,s)}),Bt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),Bt(this,"start",async()=>{await this.onConnect()}),Bt(this,"stop",async()=>{await this.onDisconnect()}),Bt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Bt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),Bt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(ci.pulse,async()=>{await this.checkPending()}),this.events.on(Ai.created,async r=>{const s=Ai.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(Ai.deleted,async r=>{const s=Ai.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=t,this.logger=ns(n,this.name),this.clientId=""}get context(){return Ls(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,n){let r=!1;try{r=this.getSubscription(t).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,n){const r=this.topicMap.get(t);await Promise.all(r.map(async s=>await this.unsubscribeById(t,s,n)))}async unsubscribeById(t,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}});try{const s=J4(r);await this.restartToComplete({topic:t,id:n,relay:s}),await this.rpcUnsubscribe(t,n,s);const i=Zt("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(t,n,r){var s,i;const o=await this.getSubscriptionId(t);if((s=r?.internal)!=null&&s.skipSubscribe)return o;(!r||r?.transportType===zt.relay)&&await this.restartToComplete({topic:t,id:t,relay:n});const a={method:up(n.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(i=r?.internal)==null?void 0:i.throwOnFailedPublish;try{if(r?.transportType===zt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(f=>this.logger.warn(f))},Q.toMiliseconds(Q.ONE_SECOND)),o;const l=new Promise(async f=>{const d=h=>{h.topic===t&&(this.events.removeListener(Ai.created,d),f(h.id))};this.events.on(Ai.created,d);try{const h=await _a(new Promise((p,g)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y?.message),g(y)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(Ai.created,d),f(h)}catch{}}),u=await _a(l,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${t} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(on.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(t){if(!t.length)return;const n=t[0].relay,r={method:up(n.protocol).batchSubscribe,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await _a(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(on.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const n=t[0].relay,r={method:up(n.protocol).batchFetchMessages,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await _a(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(on.connection_stalled)}return s}rpcUnsubscribe(t,n,r){const s={method:up(r.protocol).unsubscribe,params:{topic:t,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(t,n){this.setSubscription(t,WS(Pm({},n),{id:t})),this.pending.delete(n.topic)}onBatchSubscribe(t){t.length&&t.forEach(n=>{this.setSubscription(n.id,Pm({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(t,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:n}),this.addSubscription(t,n)}addSubscription(t,n){this.subscriptions.set(t,Pm({},n)),this.topicMap.set(n.topic,t),this.events.emit(Ai.created,n)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const n=this.subscriptions.get(t);if(!n){const{message:r}=ge("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}deleteSubscription(t,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:n});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(Ai.deleted,WS(Pm({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ai.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Ai.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size&&!t.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async n=>WS(Pm({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const n=await this.rpcBatchFetchMessages(t);n&&n.messages&&(await oOe(Q.toMiliseconds(Q.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return Ji(t+await this.getClientId())}}var NRe=Object.defineProperty,CK=Object.getOwnPropertySymbols,BRe=Object.prototype.hasOwnProperty,kRe=Object.prototype.propertyIsEnumerable,KS=(e,t,n)=>t in e?NRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SK=(e,t)=>{for(var n in t||(t={}))BRe.call(t,n)&&KS(e,n,t[n]);if(CK)for(var n of CK(t))kRe.call(t,n)&&KS(e,n,t[n]);return e},pt=(e,t,n)=>KS(e,typeof t!="symbol"?t+"":t,n);class RRe extends FSe{constructor(t){super(t),pt(this,"protocol","wc"),pt(this,"version",2),pt(this,"core"),pt(this,"logger"),pt(this,"events",new Ot.exports.EventEmitter),pt(this,"provider"),pt(this,"messages"),pt(this,"subscriber"),pt(this,"publisher"),pt(this,"name",fBe),pt(this,"transportExplicitlyClosed",!1),pt(this,"initialized",!1),pt(this,"connectionAttemptInProgress",!1),pt(this,"relayUrl"),pt(this,"projectId"),pt(this,"packageName"),pt(this,"bundleId"),pt(this,"hasExperiencedNetworkDisruption",!1),pt(this,"pingTimeout"),pt(this,"heartBeatTimeout",Q.toMiliseconds(Q.THIRTY_SECONDS+Q.FIVE_SECONDS)),pt(this,"reconnectTimeout"),pt(this,"connectPromise"),pt(this,"reconnectInProgress",!1),pt(this,"requestsInFlight",[]),pt(this,"connectTimeout",Q.toMiliseconds(Q.ONE_SECOND*15)),pt(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||Wr().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),pt(this,"resetPingTimeout",()=>{T4()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),pt(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),pt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(on.connect)}),pt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect()}),pt(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(on.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),pt(this,"registerProviderListeners",()=>{this.provider.on(Qi.payload,this.onPayloadHandler),this.provider.on(Qi.connect,this.onConnectHandler),this.provider.on(Qi.disconnect,this.onDisconnectHandler),this.provider.on(Qi.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?ns(t.logger,this.name):Aa(K2({level:t.logger||dBe})),this.messages=new mRe(this.logger,t.core),this.subscriber=new TRe(this,this.logger),this.publisher=new xRe(this,this.logger),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||tK,V_e()?this.packageName=nZ():q_e()&&(this.bundleId=nZ()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(t=>this.logger.warn(t,t?.message))}get context(){return Ls(this.logger)}get connected(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,n,r){this.isInitialized(),await this.publisher.publish(t,n,r),await this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now(),transportType:zt.relay},r3.outbound)}async publishCustom(t){this.isInitialized(),await this.publisher.publishCustom(t)}async subscribe(t,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n?.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(t))==null?void 0:i[0])||"",c;const l=u=>{u.topic===t&&(this.subscriber.off(Ai.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Ai.created,l)}),new Promise(async(u,f)=>{a=await this.subscriber.subscribe(t,SK({internal:{throwOnFailedPublish:o}},n)).catch(d=>{o&&f(d)})||a,u()})]),a}async unsubscribe(t,n){this.isInitialized(),await this.subscriber.unsubscribe(t,n)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await _a(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(t).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await YW())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(t?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=t.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+s?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(t,n){const{topic:r}=t;if(!n.sessionExists){const s=fn(Q.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(on.message,t),await this.recordMessageEvent(t,r3.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(Qi.disconnect,i),await _a(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(Qi.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Qi.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Qi.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Q.toMiliseconds(n*1))),n++}}startPingTimeout(){var t,n,r,s,i;if(T4())try{(n=(t=this.provider)==null?void 0:t.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Mh(new CR(Y_e({sdkVersion:FS,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,n){const{topic:r,message:s}=t;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(t){const{topic:n,message:r}=t;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Dh(t)){if(!t.method.endsWith(hBe))return;const n=t.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:zt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(SK({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else A0(t)&&this.events.emit(on.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,r3.inbound),this.events.emit(on.message,t))}async acknowledgePayload(t){const n=ua(t.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Qi.payload,this.onPayloadHandler),this.provider.off(Qi.connect,this.onConnectHandler),this.provider.off(Qi.disconnect,this.onDisconnectHandler),this.provider.off(Qi.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await YW();HNe(async n=>{t!==n&&(t=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(ci.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&ZNe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(on.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Q.toMiliseconds(pBe)))))}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function DRe(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function IK(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function _K(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const MRe="[object RegExp]",URe="[object String]",LRe="[object Number]",FRe="[object Boolean]",OK="[object Arguments]",jRe="[object Symbol]",zRe="[object Date]",HRe="[object Map]",VRe="[object Set]",qRe="[object Array]",ZRe="[object Function]",WRe="[object ArrayBuffer]",GS="[object Object]",KRe="[object Error]",GRe="[object DataView]",YRe="[object Uint8Array]",XRe="[object Uint8ClampedArray]",JRe="[object Uint16Array]",QRe="[object Uint32Array]",eDe="[object BigUint64Array]",tDe="[object Int8Array]",nDe="[object Int16Array]",rDe="[object Int32Array]",sDe="[object BigInt64Array]",iDe="[object Float32Array]",oDe="[object Float64Array]";function aDe(){}function PK(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function cDe(e,t,n){return Tm(e,t,void 0,void 0,void 0,void 0,n)}function Tm(e,t,n,r,s,i,o){const a=o(e,t,n,r,s,i);if(a!==void 0)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return Nm(e,t,i,o)}return Nm(e,t,i,o)}function Nm(e,t,n,r){if(Object.is(e,t))return!0;let s=_K(e),i=_K(t);if(s===OK&&(s=GS),i===OK&&(i=GS),s!==i)return!1;switch(s){case URe:return e.toString()===t.toString();case LRe:{const c=e.valueOf(),l=t.valueOf();return DRe(c,l)}case FRe:case zRe:case jRe:return Object.is(e.valueOf(),t.valueOf());case MRe:return e.source===t.source&&e.flags===t.flags;case ZRe:return e===t}n=n??new Map;const o=n.get(e),a=n.get(t);if(o!=null&&a!=null)return o===t;n.set(e,t),n.set(t,e);try{switch(s){case HRe:{if(e.size!==t.size)return!1;for(const[c,l]of e.entries())if(!t.has(c)||!Tm(l,t.get(c),c,e,t,n,r))return!1;return!0}case VRe:{if(e.size!==t.size)return!1;const c=Array.from(e.values()),l=Array.from(t.values());for(let u=0;u<c.length;u++){const f=c[u],d=l.findIndex(h=>Tm(f,h,void 0,e,t,n,r));if(d===-1)return!1;l.splice(d,1)}return!0}case qRe:case YRe:case XRe:case JRe:case QRe:case eDe:case tDe:case nDe:case rDe:case sDe:case iDe:case oDe:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!Tm(e[c],t[c],c,e,t,n,r))return!1;return!0}case WRe:return e.byteLength!==t.byteLength?!1:Nm(new Uint8Array(e),new Uint8Array(t),n,r);case GRe:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:Nm(new Uint8Array(e),new Uint8Array(t),n,r);case KRe:return e.name===t.name&&e.message===t.message;case GS:{if(!(Nm(e.constructor,t.constructor,n,r)||PK(e)&&PK(t)))return!1;const c=[...Object.keys(e),...IK(e)],l=[...Object.keys(t),...IK(t)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const f=c[u],d=e[f];if(!Object.hasOwn(t,f))return!1;const h=t[f];if(!Tm(d,h,f,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function lDe(e,t){return cDe(e,t,aDe)}var uDe=Object.defineProperty,TK=Object.getOwnPropertySymbols,dDe=Object.prototype.hasOwnProperty,fDe=Object.prototype.propertyIsEnumerable,YS=(e,t,n)=>t in e?uDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NK=(e,t)=>{for(var n in t||(t={}))dDe.call(t,n)&&YS(e,n,t[n]);if(TK)for(var n of TK(t))fDe.call(t,n)&&YS(e,n,t[n]);return e},Ys=(e,t,n)=>YS(e,typeof t!="symbol"?t+"":t,n);class Pf extends jSe{constructor(t,n,r,s=Ba,i=void 0){super(t,n,r,s),this.core=t,this.logger=n,this.name=r,Ys(this,"map",new Map),Ys(this,"version",gBe),Ys(this,"cached",[]),Ys(this,"initialized",!1),Ys(this,"getKey"),Ys(this,"storagePrefix",Ba),Ys(this,"recentlyDeleted",[]),Ys(this,"recentlyDeletedLimit",200),Ys(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!_n(o)?this.map.set(this.getKey(o),o):vNe(o)?this.map.set(o.id,o):ENe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Ys(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Ys(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Ys(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>lDe(a[c],o[c]))):this.values)),Ys(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=NK(NK({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Ys(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ns(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Ls(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const n=this.map.get(t);if(!n){if(this.recentlyDeleted.includes(t)){const{message:s}=ge("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(s),new Error(s)}const{message:r}=ge("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:n}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}var hDe=Object.defineProperty,pDe=(e,t,n)=>t in e?hDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nt=(e,t,n)=>pDe(e,typeof t!="symbol"?t+"":t,n);class gDe{constructor(t,n){this.core=t,this.logger=n,nt(this,"name",wBe),nt(this,"version",vBe),nt(this,"events",new Ot.exports),nt(this,"pairings"),nt(this,"initialized",!1),nt(this,"storagePrefix",Ba),nt(this,"ignoredPayloadTypes",[tu]),nt(this,"registeredMethods",[]),nt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),nt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),nt(this,"create",async r=>{this.isInitialized();const s=kS(),i=await this.core.crypto.setSymKey(s),o=fn(Q.FIVE_MINUTES),a={protocol:eK},c={topic:i,expiry:o,relay:a,active:!1,methods:r?.methods},l=LW({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(_f.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r?.transportType,internal:r?.internal}),{topic:i,uri:l}}),nt(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[ka.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=UW(r.uri);s.props.properties.topic=i,s.addTrace(ka.pairing_uri_validation_success),s.addTrace(ka.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(ka.existing_pairing),u.active)throw s.setError(ru.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(ka.pairing_not_expired)}const f=c||fn(Q.FIVE_MINUTES),d={topic:i,relay:a,expiry:f,active:!1,methods:l};this.core.expirer.set(i,f),await this.pairings.set(i,d),s.addTrace(ka.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(_f.create,d),s.addTrace(ka.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(ka.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(ru.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(h){throw s.setError(ru.subscribe_pairing_topic_failure),h}return s.addTrace(ka.subscribe_pairing_topic_success),d}),nt(this,"activate",async({topic:r})=>{this.isInitialized();const s=fn(Q.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),nt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Ef();this.events.once(yt("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),nt(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),nt(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),nt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),nt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Zt("USER_DISCONNECTED")),await this.deletePairing(s))}),nt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return LW({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),nt(this,"sendRequest",async(r,s,i)=>{const o=rn(s,i),a=await this.core.crypto.encode(r,o),c=Cm[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),nt(this,"sendResult",async(r,s,i)=>{const o=ua(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Cm[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),nt(this,"sendError",async(r,s,i)=>{const o=Rh(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Cm[c]?Cm[c].res:Cm.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),nt(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Zt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),nt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>Oa(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),nt(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),nt(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),nt(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(_f.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),nt(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{wn(s)?this.events.emit(yt("pairing_ping",i),{}):Xt(s)&&this.events.emit(yt("pairing_ping",i),{error:s.error})},500)}),nt(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(_f.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),nt(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=Zt("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),nt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Zt("WC_METHOD_UNSUPPORTED",r))}),nt(this,"isValidPair",(r,s)=>{var i;if(!Gs(r)){const{message:a}=ge("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(ru.malformed_pairing_uri),new Error(a)}if(!wNe(r.uri)){const{message:a}=ge("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(ru.malformed_pairing_uri),new Error(a)}const o=UW(r?.uri);if(!((i=o?.relay)!=null&&i.protocol)){const{message:a}=ge("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(ru.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ge("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(ru.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Q.toMiliseconds(o?.expiryTimestamp)<Date.now()){s.setError(ru.pairing_expired);const{message:a}=ge("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),nt(this,"isValidPing",async r=>{if(!Gs(r)){const{message:i}=ge("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),nt(this,"isValidDisconnect",async r=>{if(!Gs(r)){const{message:i}=ge("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),nt(this,"isValidPairingTopic",async r=>{if(!hn(r,!1)){const{message:s}=ge("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=ge("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(Oa(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=ge("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=t,this.logger=ns(n,this.name),this.pairings=new Pf(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ls(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(on.message,async t=>{const{topic:n,message:r,transportType:s}=t;if(this.pairings.keys.includes(n)&&s!==zt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);Dh(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):A0(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(eo.expired,async t=>{const{topic:n}=oZ(t.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(_f.expire,{topic:n}))})}}var mDe=Object.defineProperty,yDe=(e,t,n)=>t in e?mDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ur=(e,t,n)=>yDe(e,typeof t!="symbol"?t+"":t,n);class bDe extends MSe{constructor(t,n){super(t,n),this.core=t,this.logger=n,ur(this,"records",new Map),ur(this,"events",new Ot.exports.EventEmitter),ur(this,"name",EBe),ur(this,"version",xBe),ur(this,"cached",[]),ur(this,"initialized",!1),ur(this,"storagePrefix",Ba),ur(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ur(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:fn(Q.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Vo.created,o)}),ur(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=Xt(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(Vo.updated,s))}),ur(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),ur(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Vo.deleted,i)}}),this.persist()}),ur(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),ur(this,"on",(r,s)=>{this.events.on(r,s)}),ur(this,"once",(r,s)=>{this.events.once(r,s)}),ur(this,"off",(r,s)=>{this.events.off(r,s)}),ur(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=ns(n,this.name)}get context(){return Ls(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:rn(n.request.method,n.request.params,n.id),chainId:n.chainId};return t.push(r)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const n=this.records.get(t);if(!n){const{message:r}=ge("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Vo.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:n}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(Vo.created,t=>{const n=Vo.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(Vo.updated,t=>{const n=Vo.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(Vo.deleted,t=>{const n=Vo.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.core.heartbeat.on(ci.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(n=>{Q.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Vo.deleted,n,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}var wDe=Object.defineProperty,vDe=(e,t,n)=>t in e?wDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dr=(e,t,n)=>vDe(e,typeof t!="symbol"?t+"":t,n);class EDe extends HSe{constructor(t,n){super(t,n),this.core=t,this.logger=n,Dr(this,"expirations",new Map),Dr(this,"events",new Ot.exports.EventEmitter),Dr(this,"name",$Be),Dr(this,"version",ABe),Dr(this,"cached",[]),Dr(this,"initialized",!1),Dr(this,"storagePrefix",Ba),Dr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Dr(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Dr(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(eo.created,{target:i,expiration:o})}),Dr(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Dr(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(eo.deleted,{target:s,expiration:i})}}),Dr(this,"on",(r,s)=>{this.events.on(r,s)}),Dr(this,"once",(r,s)=>{this.events.once(r,s)}),Dr(this,"off",(r,s)=>{this.events.off(r,s)}),Dr(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=ns(n,this.name)}get context(){return Ls(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return X_e(t);if(typeof t=="number")return J_e(t);const{message:n}=ge("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(n)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(eo.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:n}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const n=this.expirations.get(t);if(!n){const{message:r}=ge("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(t,n){const{expiry:r}=n;Q.toMiliseconds(r)-Date.now()<=0&&this.expire(t,n)}expire(t,n){this.expirations.delete(t),this.events.emit(eo.expired,{target:t,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,n)=>this.checkExpiry(n,t))}registerEventListeners(){this.core.heartbeat.on(ci.pulse,()=>this.checkExpirations()),this.events.on(eo.created,t=>{const n=eo.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(eo.expired,t=>{const n=eo.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(eo.deleted,t=>{const n=eo.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}}var xDe=Object.defineProperty,$De=(e,t,n)=>t in e?xDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pn=(e,t,n)=>$De(e,typeof t!="symbol"?t+"":t,n);class ADe extends VSe{constructor(t,n,r){super(t,n,r),this.core=t,this.logger=n,this.store=r,pn(this,"name",CBe),pn(this,"abortController"),pn(this,"isDevEnv"),pn(this,"verifyUrlV3",IBe),pn(this,"storagePrefix",Ba),pn(this,"version",JW),pn(this,"publicKey"),pn(this,"fetchPromise"),pn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Q.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),pn(this,"register",async s=>{if(!np()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=ei(),u=this.startAbortTimer(Q.ONE_SECOND*5),f=await new Promise((d,h)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const y=$=>{if($.data&&typeof $.data=="string")try{const _=JSON.parse($.data);if(_.type==="verify_attestation"){if(vh(_.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),d(_.attestation===null?"":_.attestation)}}catch(_){this.logger.warn(_)}};l.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""}),pn(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(vh(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),pn(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(Q.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),pn(this,"getVerifyUrl",s=>{let i=s||Sm;return _Be.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Sm}`),i=Sm),i}),pn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(Q.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),pn(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),pn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),pn(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),pn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),pn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),pn(this,"validateAttestation",(s,i)=>{const o=ZTe(s,i.publicKey),a={hasExpired:Q.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ns(n,this.name),this.abortController=new AbortController,this.isDevEnv=nS(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ls(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Q.toMiliseconds(t))}}var CDe=Object.defineProperty,SDe=(e,t,n)=>t in e?CDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BK=(e,t,n)=>SDe(e,typeof t!="symbol"?t+"":t,n);class IDe extends qSe{constructor(t,n){super(t,n),this.projectId=t,this.logger=n,BK(this,"context",OBe),BK(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${PBe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=ns(n,this.context)}}var _De=Object.defineProperty,kK=Object.getOwnPropertySymbols,ODe=Object.prototype.hasOwnProperty,PDe=Object.prototype.propertyIsEnumerable,XS=(e,t,n)=>t in e?_De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bm=(e,t)=>{for(var n in t||(t={}))ODe.call(t,n)&&XS(e,n,t[n]);if(kK)for(var n of kK(t))PDe.call(t,n)&&XS(e,n,t[n]);return e},Hn=(e,t,n)=>XS(e,typeof t!="symbol"?t+"":t,n);class TDe extends ZSe{constructor(t,n,r=!0){super(t,n,r),this.core=t,this.logger=n,Hn(this,"context",NBe),Hn(this,"storagePrefix",Ba),Hn(this,"storageVersion",TBe),Hn(this,"events",new Map),Hn(this,"shouldPersist",!1),Hn(this,"init",async()=>{if(!nS())try{const s={eventId:cZ(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:sZ(this.core.relayer.protocol,this.core.relayer.version,FS)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Hn(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=cZ(),u=this.core.projectId||"",f=Date.now(),d=Bm({eventId:l,timestamp:f,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,d),this.shouldPersist=!0),d}),Hn(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Bm(Bm({},a),this.setMethods(a.eventId))}),Hn(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),Hn(this,"setEventListeners",()=>{this.core.heartbeat.on(ci.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{Q.fromMiliseconds(Date.now())-Q.fromMiliseconds(s.timestamp)>BBe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Hn(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),Hn(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),Hn(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),Hn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Hn(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,Bm(Bm({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),Hn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),Hn(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${kBe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${FS}${i}`,{method:"POST",body:JSON.stringify(s)})}),Hn(this,"getAppDomain",()=>rZ().url),this.logger=ns(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var NDe=Object.defineProperty,RK=Object.getOwnPropertySymbols,BDe=Object.prototype.hasOwnProperty,kDe=Object.prototype.propertyIsEnumerable,JS=(e,t,n)=>t in e?NDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DK=(e,t)=>{for(var n in t||(t={}))BDe.call(t,n)&&JS(e,n,t[n]);if(RK)for(var n of RK(t))kDe.call(t,n)&&JS(e,n,t[n]);return e},Dt=(e,t,n)=>JS(e,typeof t!="symbol"?t+"":t,n);class QS extends BSe{constructor(t){var n;super(t),Dt(this,"protocol",XW),Dt(this,"version",JW),Dt(this,"name",n3),Dt(this,"relayUrl"),Dt(this,"projectId"),Dt(this,"customStoragePrefix"),Dt(this,"events",new Ot.exports.EventEmitter),Dt(this,"logger"),Dt(this,"heartbeat"),Dt(this,"relayer"),Dt(this,"crypto"),Dt(this,"storage"),Dt(this,"history"),Dt(this,"expirer"),Dt(this,"pairing"),Dt(this,"verify"),Dt(this,"echoClient"),Dt(this,"linkModeSupportedApps"),Dt(this,"eventClient"),Dt(this,"initialized",!1),Dt(this,"logChunkController"),Dt(this,"on",(a,c)=>this.events.on(a,c)),Dt(this,"once",(a,c)=>this.events.once(a,c)),Dt(this,"off",(a,c)=>this.events.off(a,c)),Dt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Dt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:zt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(t?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||tK,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const s=K2({level:typeof t?.logger=="string"&&t.logger?t.logger:tBe.logger,name:n3}),{logger:i,chunkLoggerController:o}=Zz({opts:s,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ns(i,this.name),this.heartbeat=new Jw,this.crypto=new cRe(this,this.logger,t?.keychain),this.history=new bDe(this,this.logger),this.expirer=new EDe(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new Qk(DK(DK({},nBe),t?.storageOptions)),this.relayer=new RRe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new gDe(this,this.logger),this.verify=new ADe(this,this.logger,this.storage),this.echoClient=new IDe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new TDe(this,this.logger,t?.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const n=new QS(t);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(mBe,r),n}get context(){return Ls(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(nK,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(nK)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${t}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(t){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=t.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=t}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const RDe=QS,MK="wc",UK=2,LK="client",eI=`${MK}@${UK}:${LK}:`,tI={name:LK,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},FK="WALLETCONNECT_DEEPLINK_CHOICE",DDe="proposal",jK="Proposal expired",MDe="session",gp=Q.SEVEN_DAYS,UDe="engine",dr={wc_sessionPropose:{req:{ttl:Q.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Q.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Q.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Q.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Q.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Q.FIVE_MINUTES,prompt:!1,tag:1119}}},nI={min:Q.FIVE_MINUTES,max:Q.SEVEN_DAYS},Da={idle:"IDLE",active:"ACTIVE"},LDe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},FDe="request",jDe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],zDe="wc",HDe="auth",VDe="authKeys",qDe="pairingTopics",ZDe="requests",i3=`${zDe}@${1.5}:${HDe}:`,o3=`${i3}:PUB_KEY`;var WDe=Object.defineProperty,KDe=Object.defineProperties,GDe=Object.getOwnPropertyDescriptors,zK=Object.getOwnPropertySymbols,YDe=Object.prototype.hasOwnProperty,XDe=Object.prototype.propertyIsEnumerable,rI=(e,t,n)=>t in e?WDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xt=(e,t)=>{for(var n in t||(t={}))YDe.call(t,n)&&rI(e,n,t[n]);if(zK)for(var n of zK(t))XDe.call(t,n)&&rI(e,n,t[n]);return e},Mr=(e,t)=>KDe(e,GDe(t)),ue=(e,t,n)=>rI(e,typeof t!="symbol"?t+"":t,n);class JDe extends YSe{constructor(t){super(t),ue(this,"name",UDe),ue(this,"events",new Ot.exports),ue(this,"initialized",!1),ue(this,"requestQueue",{state:Da.idle,queue:[]}),ue(this,"sessionRequestQueue",{state:Da.idle,queue:[]}),ue(this,"emittedSessionRequests",new aOe({limit:500})),ue(this,"requestQueueDelay",Q.ONE_SECOND),ue(this,"expectedPairingMethodMap",new Map),ue(this,"recentlyDeletedMap",new Map),ue(this,"recentlyDeletedLimit",200),ue(this,"relayMessageCache",[]),ue(this,"pendingSessions",new Map),ue(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(dr)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Q.toMiliseconds(this.requestQueueDelay)))}),ue(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Mr(xt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=pNe(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,f,d=!1;try{if(u){const N=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=N.active}}catch(N){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),N}if(!u||!d){const{topic:N,uri:k}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=N,f=k}if(!u){const{message:N}=ge("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(N)}const h=await this.client.core.crypto.generateKeyPair(),p=dr.wc_sessionPropose.req.ttl||Q.FIVE_MINUTES,g=fn(p),y=Mr(xt(xt({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:eK}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Dn()}),$=yt("session_connect",y.id),{reject:_,resolve:x,done:E}=Ef(p,jK),P=({id:N})=>{N===y.id&&(this.client.events.off("proposal_expire",P),this.pendingSessions.delete(y.id),this.events.emit($,{error:{message:jK,code:0}}))};return this.client.events.on("proposal_expire",P),this.events.once($,({error:N,session:k})=>{this.client.events.off("proposal_expire",P),N?_(N):k&&x(k)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:f,approval:E}}),ue(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ue(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[zd.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(T){throw o.setError(Im.no_internet_connection),T}try{await this.isValidProposalId(n?.id)}catch(T){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(Im.proposal_not_found),T}try{await this.isValidApprove(n)}catch(T){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Im.session_approve_namespace_validation_failure),T}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=n,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:y,optionalNamespaces:$}=h;let _=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});_||(_=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:zd.session_approve_started,properties:{topic:p,trace:[zd.session_approve_started,zd.session_namespaces_validation_success]}}));const x=await this.client.core.crypto.generateKeyPair(),E=g.publicKey,P=await this.client.core.crypto.generateSharedKey(x,E),N=xt(xt(xt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:x,metadata:this.client.metadata},expiry:fn(gp)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),k=zt.relay;_.addTrace(zd.subscribing_session_topic);try{await this.client.core.relayer.subscribe(P,{transportType:k,internal:{skipSubscribe:!0}})}catch(T){throw _.setError(Im.subscribe_session_topic_failure),T}_.addTrace(zd.subscribe_session_topic_success);const R=Mr(xt({},N),{topic:P,requiredNamespaces:y,optionalNamespaces:$,pairingTopic:p,acknowledged:!1,self:N.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:x,transportType:zt.relay});await this.client.session.set(P,R),_.addTrace(zd.store_session);try{await this.sendApproveSession({sessionTopic:P,proposal:h,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:x},sessionSettleRequest:N,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),_.addTrace(zd.session_approve_publish_success)}catch(T){throw this.client.logger.error(T),this.client.session.delete(P,Zt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(P),T}return this.client.core.eventClient.deleteEvent({eventId:_.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(P,fn(gp)),{topic:P,acknowledged:()=>Promise.resolve(this.client.session.get(P))}}),ue(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:dr.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ue(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=Ef(),c=Dn(),l=Wr().toString(),u=this.client.session.get(r).namespaces;return this.events.once(yt("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(r,{namespaces:u}),a(f)}),{acknowledged:i}}),ue(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=Dn(),{done:i,resolve:o,reject:a}=Ef();return this.events.once(yt("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,fn(gp)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),ue(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:s,topic:i,expiry:o=dr.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);a?.transportType===zt.relay&&await this.confirmOnlineStateOrThrow();const c=Dn(),l=Wr().toString(),{done:u,resolve:f,reject:d}=Ef(o,"Request expired. Please try again.");this.events.once(yt("session_request",c),({error:y,result:$})=>{y?d(y):f($)});const h="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:{request:Mr(xt({},s),{expiryTimestamp:fn(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>d(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:Mr(xt({},s),{expiryTimestamp:fn(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch($=>d($)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),y()}),new Promise(async y=>{var $;if(!(($=a.sessionConfig)!=null&&$.disableDeepLink)){const _=await nOe(this.client.core.storage,FK);await Q_e({id:c,topic:i,wcDeepLink:_})}y()}),u()]).then(y=>y[2])}),ue(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===zt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);wn(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):Xt(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),ue(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=Dn(),i=Wr().toString(),{done:o,resolve:a,reject:c}=Ef();this.events.once(yt("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ue(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=Wr().toString(),a=Dn();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ue(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Zt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=ge("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),ue(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>yNe(r,n)))),ue(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ue(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?zt.link_mode:zt.relay;o===zt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:f,type:d,exp:h,nbf:p,methods:g=[],expiry:y}=n,$=[...n.resources||[]],{topic:_,uri:x}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:_,uri:x}});const E=await this.client.core.crypto.generateKeyPair(),P=X4(E);if(await Promise.all([this.client.auth.authKeys.set(o3,{responseTopic:P,publicKey:E}),this.client.auth.pairingTopics.set(P,{topic:P,pairingTopic:_})]),await this.client.core.relayer.subscribe(P,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${_}`),g.length>0){const{namespace:C}=Gl(a[0]);let O=yPe(C,"request",g);L4($)&&(O=wPe(O,$.pop())),$.push(O)}const N=y&&y>dr.wc_sessionAuthenticate.req.ttl?y:dr.wc_sessionAuthenticate.req.ttl,k={authPayload:{type:d??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:h,nbf:p,resources:$},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:fn(N)},R={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},T={requiredNamespaces:{},optionalNamespaces:R,relays:[{protocol:"irn"}],pairingTopic:_,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:fn(dr.wc_sessionPropose.req.ttl),id:Dn()},{done:L,resolve:M,reject:S}=Ef(N,"Request expired"),w=Dn(),v=yt("session_connect",T.id),m=yt("session_request",w),b=async({error:C,session:O})=>{this.events.off(m,A),C?S(C):O&&M({session:O})},A=async C=>{var O,B,D;if(await this.deletePendingAuthRequest(w,{message:"fulfilled",code:0}),C.error){const Z=Zt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return C.error.code===Z.code?void 0:(this.events.off(v,b),S(C.error.message))}await this.deleteProposal(T.id),this.events.off(v,b);const{cacaos:z,responder:j}=C.result,U=[],V=[];for(const Z of z){await BZ({cacao:Z,projectId:this.client.core.projectId})||(this.client.logger.error(Z,"Signature verification failed"),S(Zt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Y}=Z,fe=L4(Y.resources),me=[dS(Y.iss)],we=U4(Y.iss);if(fe){const Re=DZ(fe),We=MZ(fe);U.push(...Re),me.push(...We)}for(const Re of me)V.push(`${Re}:${we}`)}const q=await this.client.core.crypto.generateSharedKey(E,j.publicKey);let X;U.length>0&&(X={topic:q,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:j,controller:j.publicKey,expiry:fn(gp),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:_,namespaces:HW([...new Set(U)],[...new Set(V)]),transportType:o},await this.client.core.relayer.subscribe(q,{transportType:o}),await this.client.session.set(q,X),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:j.metadata}),X=this.client.session.get(q)),(O=this.client.metadata.redirect)!=null&&O.linkMode&&(B=j.metadata.redirect)!=null&&B.linkMode&&(D=j.metadata.redirect)!=null&&D.universal&&r&&(this.client.core.addLinkModeSupportedApp(j.metadata.redirect.universal),this.client.session.update(q,{transportType:zt.link_mode})),M({auths:z,session:X})};this.events.once(v,b),this.events.once(m,A);let I;try{if(i){const C=rn("wc_sessionAuthenticate",k,w);this.client.core.history.set(_,C);const O=await this.client.core.crypto.encode("",C,{type:Em,encoding:jd});I=Q4(r,_,O)}else await Promise.all([this.sendRequest({topic:_,method:"wc_sessionAuthenticate",params:k,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:w}),this.sendRequest({topic:_,method:"wc_sessionPropose",params:T,expiry:dr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:T.id})])}catch(C){throw this.events.off(v,b),this.events.off(m,A),C}return await this.setProposal(T.id,T),await this.setAuthRequest(w,{request:Mr(xt({},k),{verifyContext:{}}),pairingTopic:_,transportType:o}),{uri:I??x,response:L}}),ue(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Of.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(_m.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(_m.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||zt.relay;a===zt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=X4(c),f={type:tu,receiverPublicKey:c,senderPublicKey:l},d=[],h=[];for(const y of s){if(!await BZ({cacao:y,projectId:this.client.core.projectId})){i.setError(_m.invalid_cacao);const P=Zt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:P,encodeOpts:f}),new Error(P.message)}i.addTrace(Of.cacaos_verified);const{p:$}=y,_=L4($.resources),x=[dS($.iss)],E=U4($.iss);if(_){const P=DZ(_),N=MZ(_);d.push(...P),x.push(...N)}for(const P of x)h.push(`${P}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(Of.create_authenticated_session_topic);let g;if(d?.length>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:fn(gp),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:HW([...new Set(d)],[...new Set(h)]),transportType:a},i.addTrace(Of.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw i.setError(_m.subscribe_authenticated_session_topic_failure),y}i.addTrace(Of.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(Of.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(Of.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw i.setError(_m.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),ue(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===zt.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=X4(o),l={type:tu,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:dr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ue(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return kZ(r,s)}),ue(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ue(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ue(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Zt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(FK).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,Zt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Da.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),ue(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:s.pairingTopic})?.setError(Im.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Zt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ue(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=Da.idle,this.client.events.emit("session_request_expire",{id:n}))}),ue(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),ue(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ue(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,fn(dr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ue(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=zt.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),ue(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||fn(dr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),ue(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:f,publishOpts:d={}}=n,h=rn(s,i,c);let p;const g=!!u;try{const _=g?jd:Ks;p=await this.client.core.crypto.encode(r,h,{encoding:_})}catch(_){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),_}let y;if(jDe.includes(s)){const _=Ji(JSON.stringify(h)),x=Ji(p);y=await this.client.core.verify.register({id:x,decryptedId:_})}const $=xt(xt({},dr[s].req),d);if($.attestation=y,o&&($.ttl=o),a&&($.id=a),this.client.core.history.set(r,h),g){const _=Q4(u,r,p);await global.Linking.openURL(_,this.client.name)}else $.tvf=Mr(xt({},f),{correlationId:h.id}),l?($.internal=Mr(xt({},$.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,p,$)):this.client.core.relayer.publish(r,p,$).catch(_=>this.client.logger.error(_));return h.id}),ue(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:s}=n,i=rn("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,i);const o=await this.client.core.crypto.encode(r.pairingTopic,i,{encoding:Ks}),a=Ji(JSON.stringify(i)),c=Ji(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:Mr(xt({},s),{publishMethod:"wc_proposeSession",attestation:l})})}),ue(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:s,proposal:i,sessionSettleRequest:o,publishOpts:a}=n,c=ua(i.id,s),l=await this.client.core.crypto.encode(i.pairingTopic,c,{encoding:Ks}),u=rn("wc_sessionSettle",o,a?.id),f=await this.client.core.crypto.encode(r,u,{encoding:Ks});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:i.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:f},opts:Mr(xt({},a),{publishMethod:"wc_approveSession"})})}),ue(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=ua(r,i);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=f?jd:Ks;u=await this.client.core.crypto.encode(s,l,Mr(xt({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let d,h;try{d=await this.client.core.history.get(s,r);const p=d.request;try{h=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(f){const p=Q4(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=d.request.method,g=dr[p].res;g.tvf=Mr(xt({},h),{correlationId:r}),o?(g.internal=Mr(xt({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),ue(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Rh(r,i);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=f?jd:Ks;u=await this.client.core.crypto.encode(s,l,Mr(xt({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),h}let d;try{d=await this.client.core.history.get(s,r)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),h}if(f){const h=Q4(c,s,u);await global.Linking.openURL(h,this.client.name)}else{const h=d.request.method,p=a||dr[h].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),ue(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;Oa(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Oa(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),ue(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ue(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ue(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Da.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Da.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Da.idle}),ue(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ue(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ue(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=ge("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),ue(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ue(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(ru.proposal_listener_not_found)),this.isValidConnect(xt({},s.params));const u=a.expiryTimestamp||fn(dr.wc_sessionPropose.req.ttl),f=xt({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,f);const d=await this.getVerifyContext({attestationId:i,hash:Ji(JSON.stringify(s)),encryptedId:o,metadata:f.proposer.metadata});l?.addTrace(ka.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:dr.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ue(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(wn(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const f=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:n})}else if(Xt(r)){await this.deleteProposal(i);const o=yt("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),ue(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=r.params,h=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!h)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(h.proposalId),g=Mr(xt(xt(xt({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:zt.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(yt("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ue(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;wn(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(yt("session_approve",s),{})):Xt(r)&&(await this.client.session.delete(n,Zt("USER_DISCONNECTED")),this.events.emit(yt("session_approve",s),{error:r.error}))}),ue(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=Am.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:Zt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(xt({topic:n},s));try{Am.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw Am.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ue(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ue(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=yt("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);wn(r)?this.events.emit(yt("session_update",s),{}):Xt(r)&&this.events.emit(yt("session_update",s),{error:r.error})}),ue(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,fn(gp)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),ue(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=yt("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);wn(r)?this.events.emit(yt("session_extend",s),{}):Xt(r)&&this.events.emit(yt("session_extend",s),{error:r.error})}),ue(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),ue(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=yt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);wn(r)?this.events.emit(yt("session_ping",s),{}):Xt(r)&&this.events.emit(yt("session_ping",s),{error:r.error})},500)}),ue(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(on.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Zt("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),ue(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:f,params:d}=a;try{await this.isValidRequest(xt({topic:o},d));const h=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:Ji(JSON.stringify(rn("wc_sessionRequest",d,f))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:f,topic:o,params:d,verifyContext:p};await this.setPendingSessionRequest(g),u===zt.link_mode&&(r=h.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=h.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:f,topic:o,error:h}),this.client.logger.error(h)}}),ue(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=yt("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);wn(r)?this.events.emit(yt("session_request",s),{result:r.result}):Xt(r)&&this.events.emit(yt("session_request",s),{error:r.error})}),ue(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=Am.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(xt({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),Am.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ue(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),wn(r)?this.events.emit(yt("session_request",s),{result:r.result}):Xt(r)&&this.events.emit(yt("session_request",s),{error:r.error})}),ue(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:f}=i.params,d=await this.getVerifyContext({attestationId:o,hash:Ji(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(i.id,{request:h,pairingTopic:s,transportType:c}),c===zt.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:d})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(i.params.requester.metadata,c),h={type:tu,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:h,rpcOpts:dr.wc_sessionAuthenticate.autoReject,appLink:d})}}),ue(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ue(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Da.idle,this.processSessionRequestQueue()},Q.toMiliseconds(this.requestQueueDelay))}),ue(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=yt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(yt("session_request",i.request.id),{error:r})})}),ue(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Da.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ue(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Da.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),ue(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:rn("wc_sessionPropose",Mr(xt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ue(this,"isValidConnect",async n=>{if(!Gs(n)){const{message:l}=ge("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(_n(r)||await this.isValidPairingTopic(r),!ONe(c,!0)){const{message:l}=ge("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!_n(s)&&Na(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!_n(i)&&Na(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),_n(o)||this.validateSessionProps(o,"sessionProperties"),!_n(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ue(this,"validateNamespaces",(n,r)=>{const s=_Ne(n,"connect()",r);if(s)throw new Error(s.message)}),ue(this,"isValidApprove",async n=>{if(!Gs(n))throw new Error(ge("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=MS(s,"approve()");if(l)throw new Error(l.message);const u=KW(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!hn(i,!0)){const{message:f}=ge("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(f)}if(_n(o)||this.validateSessionProps(o,"sessionProperties"),!_n(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(s));if(!Object.keys(a).every(d=>f.has(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),ue(this,"isValidReject",async n=>{if(!Gs(n)){const{message:i}=ge("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!TNe(s)){const{message:i}=ge("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),ue(this,"isValidSessionSettleRequest",n=>{if(!Gs(n)){const{message:l}=ge("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!ZW(r)){const{message:l}=ge("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=xNe(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=MS(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Oa(o)){const{message:l}=ge("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ue(this,"isValidUpdate",async n=>{if(!Gs(n)){const{message:c}=ge("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=MS(s,"update()");if(o)throw new Error(o.message);const a=KW(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),ue(this,"isValidExtend",async n=>{if(!Gs(n)){const{message:s}=ge("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ue(this,"isValidRequest",async n=>{if(!Gs(n)){const{message:c}=ge("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!WW(a,i)){const{message:c}=ge("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!NNe(s)){const{message:c}=ge("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!RNe(a,i,s.method)){const{message:c}=ge("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!LNe(o,nI)){const{message:c}=ge("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${nI.min} and ${nI.max}`);throw new Error(c)}}),ue(this,"isValidRespond",async n=>{var r;if(!Gs(n)){const{message:o}=ge("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!BNe(i)){const{message:o}=ge("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),ue(this,"isValidPing",async n=>{if(!Gs(n)){const{message:s}=ge("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ue(this,"isValidEmit",async n=>{if(!Gs(n)){const{message:a}=ge("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!WW(o,i)){const{message:a}=ge("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!kNe(s)){const{message:a}=ge("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!DNe(o,i,s.name)){const{message:a}=ge("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),ue(this,"isValidDisconnect",async n=>{if(!Gs(n)){const{message:s}=ge("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ue(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!hn(s,!1))throw new Error("uri is required parameter");if(!hn(i,!1))throw new Error("domain is required parameter");if(!hn(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Gl(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Gl(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ue(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||Sm,validation:"UNKNOWN",origin:o.url||""}};try{if(a===zt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ue(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=ge("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),ue(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ue(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),ue(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=ge("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),ue(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,f,d;return!n||r!==zt.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n?.redirect)==null?void 0:u.universal)!==void 0&&((f=n?.redirect)==null?void 0:f.universal)!==""&&((d=n?.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ue(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n?.redirect)==null?void 0:s.universal:void 0}),ue(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=aZ(n,"topic")||"",s=decodeURIComponent(aZ(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:zt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),ue(this,"registerLinkModeListeners",async()=>{var n;if(nS()||Id()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),ue(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),ue(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=n?.data||((r=n?.[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),ue(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=LDe[i];if(i==="sui_signTransaction")return[ePe(r.transactionBytes)];if(i==="near_signTransaction")return[OZ(r)];if(i==="near_signTransactions")return r.map(c=>OZ(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[eBe({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return nu(r)?r.map(c=>PZ(c)):[PZ(r)];if(i==="cosmos_signDirect")return[nPe(r)];if(i==="wallet_sendCalls")return rPe(r);if(typeof r=="string")return[r];const a=r[o.key];if(nu(a))return i==="solana_signAllTransactions"?a.map(c=>QOe(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(t){this.client.logger.warn("processPendingMessageEvents failed",t)}}isInitialized(){if(!this.initialized){const{message:t}=ge("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(on.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:n,message:r,attestation:s,transportType:i}=t,{publicKey:o}=this.client.auth.authKeys.keys.includes(o3)?this.client.auth.authKeys.get(o3):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===zt.link_mode?jd:Ks});Dh(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:Ji(r)})):A0(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(eo.expired,async t=>{const{topic:n,id:r}=oZ(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ge("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ge("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(_f.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(_f.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!hn(t,!1)){const{message:n}=ge("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:n}=ge("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(n)}if(Oa(this.client.core.pairing.pairings.get(t).expiry)){const{message:n}=ge("EXPIRED",`pairing topic: ${t}`);throw new Error(n)}}async isValidSessionTopic(t){if(!hn(t,!1)){const{message:n}=ge("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(n)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:n}=ge("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(n)}if(Oa(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:n}=ge("EXPIRED",`session topic: ${t}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(t)){const{message:n}=ge("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(n)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(hn(t,!1)){const{message:n}=ge("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(n)}else{const{message:n}=ge("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(n)}}async isValidProposalId(t){if(!PNe(t)){const{message:n}=ge("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(n)}if(!this.client.proposal.keys.includes(t)){const{message:n}=ge("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(n)}if(Oa(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:n}=ge("EXPIRED",`proposal id: ${t}`);throw new Error(n)}}}class QDe extends Pf{constructor(t,n){super(t,n,DDe,eI),this.core=t,this.logger=n}}class eMe extends Pf{constructor(t,n){super(t,n,MDe,eI),this.core=t,this.logger=n}}class tMe extends Pf{constructor(t,n){super(t,n,FDe,eI,r=>r.id),this.core=t,this.logger=n}}class nMe extends Pf{constructor(t,n){super(t,n,VDe,i3,()=>o3),this.core=t,this.logger=n}}class rMe extends Pf{constructor(t,n){super(t,n,qDe,i3),this.core=t,this.logger=n}}class sMe extends Pf{constructor(t,n){super(t,n,ZDe,i3,r=>r.id),this.core=t,this.logger=n}}var iMe=Object.defineProperty,oMe=(e,t,n)=>t in e?iMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sI=(e,t,n)=>oMe(e,typeof t!="symbol"?t+"":t,n);class aMe{constructor(t,n){this.core=t,this.logger=n,sI(this,"authKeys"),sI(this,"pairingTopics"),sI(this,"requests"),this.authKeys=new nMe(this.core,this.logger),this.pairingTopics=new rMe(this.core,this.logger),this.requests=new sMe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var cMe=Object.defineProperty,lMe=(e,t,n)=>t in e?cMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rt=(e,t,n)=>lMe(e,typeof t!="symbol"?t+"":t,n);class iI extends GSe{constructor(t){super(t),rt(this,"protocol",MK),rt(this,"version",UK),rt(this,"name",tI.name),rt(this,"metadata"),rt(this,"core"),rt(this,"logger"),rt(this,"events",new Ot.exports.EventEmitter),rt(this,"engine"),rt(this,"session"),rt(this,"proposal"),rt(this,"pendingRequest"),rt(this,"auth"),rt(this,"signConfig"),rt(this,"on",(r,s)=>this.events.on(r,s)),rt(this,"once",(r,s)=>this.events.once(r,s)),rt(this,"off",(r,s)=>this.events.off(r,s)),rt(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),rt(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),rt(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),rt(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=t?.name||tI.name,this.metadata=W_e(t?.metadata),this.signConfig=t?.signConfig;const n=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:Aa(K2({level:t?.logger||tI.logger}));this.core=t?.core||new RDe(t),this.logger=ns(n,this.name),this.session=new eMe(this.core,this.logger),this.proposal=new QDe(this.core,this.logger),this.pendingRequest=new tMe(this.core,this.logger),this.engine=new JDe(this),this.auth=new aMe(this.core,this.logger)}static async init(t){const n=new iI(t);return await n.initialize(),n}get context(){return Ls(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}const HK="error",uMe="wss://relay.walletconnect.org",dMe="wc",fMe="universal_provider",a3=`${dMe}@2:${fMe}:`,VK="https://rpc.walletconnect.org/v1/",qK="generic",hMe=`${VK}bundler`,mp="call_status",pMe=86400,oI={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function aI(e){return e==null||typeof e!="object"&&typeof e!="function"}function ZK(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function WK(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const gMe="[object RegExp]",KK="[object String]",GK="[object Number]",YK="[object Boolean]",XK="[object Arguments]",mMe="[object Symbol]",yMe="[object Date]",bMe="[object Map]",wMe="[object Set]",vMe="[object Array]",EMe="[object ArrayBuffer]",xMe="[object Object]",$Me="[object DataView]",AMe="[object Uint8Array]",CMe="[object Uint8ClampedArray]",SMe="[object Uint16Array]",IMe="[object Uint32Array]",_Me="[object Int8Array]",OMe="[object Int16Array]",PMe="[object Int32Array]",TMe="[object Float32Array]",NMe="[object Float64Array]";function cI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function BMe(e,t){return yp(e,void 0,e,new Map,t)}function yp(e,t,n,r=new Map,s=void 0){const i=s?.(e,t,n,r);if(i!=null)return i;if(aI(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const o=new Array(e.length);r.set(e,o);for(let a=0;a<e.length;a++)o[a]=yp(e[a],a,n,r,s);return Object.hasOwn(e,"index")&&(o.index=e.index),Object.hasOwn(e,"input")&&(o.input=e.input),o}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const o=new RegExp(e.source,e.flags);return o.lastIndex=e.lastIndex,o}if(e instanceof Map){const o=new Map;r.set(e,o);for(const[a,c]of e)o.set(a,yp(c,a,n,r,s));return o}if(e instanceof Set){const o=new Set;r.set(e,o);for(const a of e)o.add(yp(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(cI(e)){const o=new(Object.getPrototypeOf(e)).constructor(e.length);r.set(e,o);for(let a=0;a<e.length;a++)o[a]=yp(e[a],a,n,r,s);return o}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const o=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,o),Tf(o,e,n,r,s),o}if(typeof File<"u"&&e instanceof File){const o=new File([e],e.name,{type:e.type});return r.set(e,o),Tf(o,e,n,r,s),o}if(e instanceof Blob){const o=new Blob([e],{type:e.type});return r.set(e,o),Tf(o,e,n,r,s),o}if(e instanceof Error){const o=new e.constructor;return r.set(e,o),o.message=e.message,o.name=e.name,o.stack=e.stack,o.cause=e.cause,Tf(o,e,n,r,s),o}if(typeof e=="object"&&kMe(e)){const o=Object.create(Object.getPrototypeOf(e));return r.set(e,o),Tf(o,e,n,r,s),o}return e}function Tf(e,t,n=e,r,s){const i=[...Object.keys(t),...ZK(t)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(e,a);(c==null||c.writable)&&(e[a]=yp(t[a],a,n,r,s))}}function kMe(e){switch(WK(e)){case XK:case vMe:case EMe:case $Me:case YK:case yMe:case TMe:case NMe:case _Me:case OMe:case PMe:case bMe:case GK:case xMe:case gMe:case wMe:case KK:case mMe:case AMe:case CMe:case SMe:case IMe:return!0;default:return!1}}function RMe(e,t){return BMe(e,(n,r,s,i)=>{const o=t?.(n,r,s,i);if(o!=null)return o;if(typeof e=="object")switch(Object.prototype.toString.call(e)){case GK:case KK:case YK:{const a=new e.constructor(e?.valueOf());return Tf(a,e),a}case XK:{const a={};return Tf(a,e),a.length=e.length,a[Symbol.iterator]=e[Symbol.iterator],a}default:return}})}function JK(e){return RMe(e)}function QK(e){return e!==null&&typeof e=="object"&&WK(e)==="[object Arguments]"}function eG(e){return typeof e=="object"&&e!==null}function DMe(){}function MMe(e){return cI(e)}function UMe(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const n=e[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${n}]`}let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function LMe(e){if(aI(e))return e;if(Array.isArray(e)||cI(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const r=new n(e);return r.lastIndex=e.lastIndex,r}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const r=new n(e.message);return r.stack=e.stack,r.name=e.name,r.cause=e.cause,r}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){const r=Object.create(t);return Object.assign(r,e)}return e}function FMe(e,...t){const n=t.slice(0,-1),r=t[t.length-1];let s=e;for(let i=0;i<n.length;i++){const o=n[i];s=lI(s,o,r,new Map)}return s}function lI(e,t,n,r){if(aI(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(r.has(t))return LMe(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let i=0;i<t.length;i++)t[i]=t[i]??void 0}const s=[...Object.keys(t),...ZK(t)];for(let i=0;i<s.length;i++){const o=s[i];let a=t[o],c=e[o];if(QK(a)&&(a={...a}),QK(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=JK(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],f=Reflect.ownKeys(c);for(let d=0;d<f.length;d++){const h=f[d];u[h]=c[h]}c=u}else c=[];const l=n(c,a,o,e,t,r);l!=null?e[o]=l:Array.isArray(a)||eG(c)&&eG(a)?e[o]=lI(c,a,n,r):c==null&&UMe(a)?e[o]=lI({},a,n,r):c==null&&MMe(a)?e[o]=JK(a):(c===void 0||a!==void 0)&&(e[o]=a)}return e}function jMe(e,...t){return FMe(e,...t,DMe)}var zMe=Object.defineProperty,HMe=Object.defineProperties,VMe=Object.getOwnPropertyDescriptors,tG=Object.getOwnPropertySymbols,qMe=Object.prototype.hasOwnProperty,ZMe=Object.prototype.propertyIsEnumerable,nG=(e,t,n)=>t in e?zMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c3=(e,t)=>{for(var n in t||(t={}))qMe.call(t,n)&&nG(e,n,t[n]);if(tG)for(var n of tG(t))ZMe.call(t,n)&&nG(e,n,t[n]);return e},WMe=(e,t)=>HMe(e,VMe(t));function rG(e,t,n){var r;const s=Gl(e);return((r=t.rpcMap)==null?void 0:r[s.reference])||`${VK}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function KMe(e){return e.includes(":")?e.split(":")[1]:e}function sG(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function GMe(e,t){const n=Object.keys(t.namespaces).filter(s=>s.includes(e));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=t.namespaces[s].accounts;r.push(...i)}),r}function iG(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>{var r,s;return((r=n?.chains)==null?void 0:r.length)&&((s=n?.chains)==null?void 0:s.length)>0}))}function l3(e={},t={}){const n=iG(oG(e)),r=iG(oG(t));return jMe(n,r)}function oG(e){var t,n,r,s,i;const o={};if(!Na(e))return o;for(const[a,c]of Object.entries(e)){const l=e3(a)?[a]:c.chains,u=c.methods||[],f=c.events||[],d=c.rpcMap||{},h=fp(a);o[h]=WMe(c3(c3({},o[h]),c),{chains:Pa(l,(t=o[h])==null?void 0:t.chains),methods:Pa(u,(n=o[h])==null?void 0:n.methods),events:Pa(f,(r=o[h])==null?void 0:r.events)}),(Na(d)||Na(((s=o[h])==null?void 0:s.rpcMap)||{}))&&(o[h].rpcMap=c3(c3({},d),(i=o[h])==null?void 0:i.rpcMap))}return o}function aG(e){return e.includes(":")?e.split(":")[2]:e}function cG(e){const t={};for(const[n,r]of Object.entries(e)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=e3(n)?[n]:r.chains?r.chains:sG(r.accounts);t[n]={chains:a,methods:s,events:i,accounts:o}}return t}function uI(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}function YMe(e){try{const t=JSON.parse(e);return typeof t=="object"&&t!==null&&!Array.isArray(t)}catch{return!1}}const lG={},bp=e=>lG[e],dI=(e,t)=>{lG[e]=t};var XMe=Object.defineProperty,uG=Object.getOwnPropertySymbols,JMe=Object.prototype.hasOwnProperty,QMe=Object.prototype.propertyIsEnumerable,dG=(e,t,n)=>t in e?XMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fG=(e,t)=>{for(var n in t||(t={}))JMe.call(t,n)&&dG(e,n,t[n]);if(uG)for(var n of uG(t))QMe.call(t,n)&&dG(e,n,t[n]);return e};const hG="eip155",eUe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],tUe=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,fI=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,pG=e=>Object.keys(e).filter(t=>eUe.includes(t)).reduce((t,n)=>(t[n]=nUe(e[n]),t),{}),nUe=e=>typeof e=="string"&&YMe(e)?JSON.parse(e):e,rUe=(e,t,n)=>{const{sessionProperties:r={},scopedProperties:s={}}=e,i={};if(!Na(s)&&!Na(r))return;const o=pG(r);for(const a of n){const c=tUe(a);if(!c)continue;i[fI(c)]=o;const l=s?.[`${hG}:${c}`];if(l){const u=l?.[`${hG}:${c}:${t}`];i[fI(c)]=fG(fG({},i[fI(c)]),pG(u||l))}}for(const[a,c]of Object.entries(i))Object.keys(c).length===0&&delete i[a];return Object.keys(i).length>0?i:void 0};var sUe=Object.defineProperty,iUe=(e,t,n)=>t in e?sUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oUe=(e,t,n)=>iUe(e,typeof t!="symbol"?t+"":t,n);let hI;class pI{constructor(t){oUe(this,"storage"),this.storage=t}async getItem(t){return await this.storage.getItem(t)}async setItem(t,n){return await this.storage.setItem(t,n)}async removeItem(t){return await this.storage.removeItem(t)}static getStorage(t){return hI||(hI=new pI(t)),hI}}var aUe=Object.defineProperty,cUe=Object.defineProperties,lUe=Object.getOwnPropertyDescriptors,gG=Object.getOwnPropertySymbols,uUe=Object.prototype.hasOwnProperty,dUe=Object.prototype.propertyIsEnumerable,mG=(e,t,n)=>t in e?aUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fUe=(e,t)=>{for(var n in t||(t={}))uUe.call(t,n)&&mG(e,n,t[n]);if(gG)for(var n of gG(t))dUe.call(t,n)&&mG(e,n,t[n]);return e},hUe=(e,t)=>cUe(e,lUe(t));async function pUe(e,t){const n=Gl(e.result.capabilities.caip345.caip2),r=e.result.capabilities.caip345.transactionHashes,s=await Promise.allSettled(r.map(f=>gUe(n.reference,f,t))),i=s.filter(f=>f.status==="fulfilled").map(f=>f.value).filter(f=>f);s.filter(f=>f.status==="rejected").forEach(f=>console.warn("Failed to fetch transaction receipt:",f.reason));const o=!i.length||i.some(f=>!f),a=i.every(f=>f?.status==="0x1"),c=i.every(f=>f?.status==="0x0"),l=i.some(f=>f?.status==="0x0");let u;return o?u=100:a?u=200:c?u=500:l&&(u=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:i,status:u}}async function gUe(e,t,n){return await n(parseInt(e)).request(rn("eth_getTransactionReceipt",[t]))}async function mUe({sendCalls:e,storage:t}){const n=await t.getItem(mp);await t.setItem(mp,hUe(fUe({},n),{[e.result.id]:{request:e.request,result:e.result,expiry:fn(pMe)}}))}async function yUe({resultId:e,storage:t}){const n=await t.getItem(mp);if(n){delete n[e],await t.setItem(mp,n);for(const r in n)Oa(n[r].expiry)&&delete n[r];await t.setItem(mp,n)}}async function bUe({resultId:e,storage:t}){const n=await t.getItem(mp),r=n?.[e];if(r&&!Oa(r.expiry))return r;await yUe({resultId:e,storage:t})}var wUe=Object.defineProperty,vUe=Object.defineProperties,EUe=Object.getOwnPropertyDescriptors,yG=Object.getOwnPropertySymbols,xUe=Object.prototype.hasOwnProperty,$Ue=Object.prototype.propertyIsEnumerable,gI=(e,t,n)=>t in e?wUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mI=(e,t)=>{for(var n in t||(t={}))xUe.call(t,n)&&gI(e,n,t[n]);if(yG)for(var n of yG(t))$Ue.call(t,n)&&gI(e,n,t[n]);return e},yI=(e,t)=>vUe(e,EUe(t)),Nf=(e,t,n)=>gI(e,typeof t!="symbol"?t+"":t,n);class AUe{constructor(t){Nf(this,"name","eip155"),Nf(this,"client"),Nf(this,"chainId"),Nf(this,"namespace"),Nf(this,"httpProviders"),Nf(this,"events"),Nf(this,"storage"),this.namespace=t.namespace,this.events=bp("events"),this.client=bp("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=pI.getStorage(this.client.core.storage)}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t);case"wallet_sendCalls":return await this.sendCalls(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(parseInt(t),n);const r=this.chainId;this.chainId=parseInt(t),this.events.emit(oI.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${t}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,n){const r=n||rG(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Mh(new p6(r,bp("disableProviderPing")))}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(KMe(n));t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(t){const n=t||this.chainId;return this.httpProviders[n]||(this.httpProviders=yI(mI({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(t){var n,r;let s=t.request.params?(n=t.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var n,r,s,i,o;const a=(r=(n=t.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=t.request)==null?void 0:s.params)==null?void 0:i[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(t.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},f=`${a}${c.join(",")}`,d=u?.[f];if(d)return d;let h;try{h=rUe(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;const p=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:yI(mI({},l.sessionProperties||{}),{capabilities:yI(mI({},u||{}),{[f]:p})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return p}async getCallStatus(t){var n,r,s;const i=this.client.session.get(t.topic),o=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(o){const l=this.getBundlerUrl(t.chainId,o);try{return await this.getUserOperationReceipt(l,t)}catch(u){console.warn("Failed to fetch call status from bundler",u,l)}}const a=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,t)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,a)}const c=await bUe({resultId:(s=t.request.params)==null?void 0:s[0],storage:this.storage});if(c)try{return await pUe(c,this.getHttpProvider.bind(this))}catch(l){console.warn("Failed to fetch call status from stored send calls",l,c)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,n){var r;const s=new URL(t),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(rn("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(t,n){return`${hMe}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${n}`}async sendCalls(t){var n,r,s;const i=await this.client.request(t),o=(n=t.request.params)==null?void 0:n[0],a=i?.id,c=i?.capabilities||{},l=(r=c?.caip345)==null?void 0:r.caip2,u=(s=c?.caip345)==null?void 0:s.transactionHashes;return!a||!l||!(u!=null&&u.length)||await mUe({sendCalls:{request:o,result:i},storage:this.storage}),i}}var CUe=Object.defineProperty,SUe=(e,t,n)=>t in e?CUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wp=(e,t,n)=>SUe(e,typeof t!="symbol"?t+"":t,n);class IUe{constructor(t){wp(this,"name",qK),wp(this,"client"),wp(this,"httpProviders"),wp(this,"events"),wp(this,"namespace"),wp(this,"chainId"),this.namespace=t.namespace,this.events=bp("events"),this.client=bp("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n);const r=this.chainId;this.chainId=t,this.events.emit(oI.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${t}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getNamespaceName(){const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return Gl(t).namespace}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var t,n;const r={};return(n=(t=this.namespace)==null?void 0:t.accounts)==null||n.forEach(s=>{var i,o;const a=Gl(s),c=(o=(i=this.namespace)==null?void 0:i.rpcMap)==null?void 0:o[`${a.namespace}:${a.reference}`];r[a.reference]=this.createHttpProvider(s,c)}),r}getHttpProvider(t){const n=Gl(t).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||rG(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Mh(new p6(r,bp("disableProviderPing")))}}var _Ue=Object.defineProperty,OUe=Object.defineProperties,PUe=Object.getOwnPropertyDescriptors,bG=Object.getOwnPropertySymbols,TUe=Object.prototype.hasOwnProperty,NUe=Object.prototype.propertyIsEnumerable,bI=(e,t,n)=>t in e?_Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,km=(e,t)=>{for(var n in t||(t={}))TUe.call(t,n)&&bI(e,n,t[n]);if(bG)for(var n of bG(t))NUe.call(t,n)&&bI(e,n,t[n]);return e},u3=(e,t)=>OUe(e,PUe(t)),no=(e,t,n)=>bI(e,typeof t!="symbol"?t+"":t,n);class wI{constructor(t){no(this,"client"),no(this,"namespaces"),no(this,"optionalNamespaces"),no(this,"sessionProperties"),no(this,"scopedProperties"),no(this,"events",new Ot.exports),no(this,"rpcProviders",{}),no(this,"session"),no(this,"providerOpts"),no(this,"logger"),no(this,"uri"),no(this,"disableProviderPing",!1),this.providerOpts=t,this.logger=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:Aa(K2({level:t?.logger||HK})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const n=new wI(t);return await n.initialize(),n}async request(t,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:km({},t),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(t,n,r,s){const i=new Date().getTime();this.request(t,r,s).then(o=>n(null,ua(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Zt("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(t,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=cG(this.session.namespaces);this.namespaces=l3(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}removeListener(t,n){this.events.removeListener(t,n)}off(t,n){this.events.off(t,n)}get isWalletConnect(){return!0}async pair(t){const{uri:n,approval:r}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=cG(s.namespaces);return this.namespaces=l3(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,n){try{if(!this.session)return;const[r,s]=this.validateChain(t);this.getProvider(r).setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(t={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!nu(n))return;for(const r of n)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,n;if(this.client=this.providerOpts.client||await iI.init({core:this.providerOpts.core,logger:this.providerOpts.logger||HK,relayUrl:this.providerOpts.relayUrl||uMe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(n=>fp(n)))];dI("client",this.client),dI("events",this.events),dI("disableProviderPing",this.disableProviderPing),t.forEach(n=>{if(!this.session)return;const r=GMe(n,this.session);if(r?.length===0)return;const s=sG(r),i=l3(this.namespaces,this.optionalNamespaces),o=u3(km({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new AUe({namespace:o});break;default:this.rpcProviders[n]=new IUe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var n;const{topic:r}=t;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var n;const{params:r,topic:s}=t;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&nu(o)&&this.events.emit("accountsChanged",o.map(aG))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=fp(o),l=uI(o)!==uI(a)?`${c}:${uI(a)}`:o;this.onChainChanged({currentCaipChainId:l})}else this.events.emit(i.name,i.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:n})=>{var r,s;if(t!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(t);this.session=u3(km({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",async t=>{var n;t.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",u3(km({},Zt("USER_DISCONNECTED")),{data:t.topic})))}),this.on(oI.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(u3(km({},t),{internal:!0}))})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[qK]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var n;this.getProvider(t).updateNamespace((n=this.session)==null?void 0:n.namespaces[t])})}setNamespaces(t){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=t;this.optionalNamespaces=l3(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(t){const[n,r]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>fp(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=fp(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged({currentCaipChainId:t,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[s,i]=this.validateChain(t);i&&(this.updateNamespaceChain(s,i),r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:s,currentCaipChainId:t,previousCaipChainId:n})):this.getProvider(s).setDefaultChain(i),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:t,currentCaipChainId:n,previousCaipChainId:r}){var s,i;try{if(r===n)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[t])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(aG);if(!nu(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(t,n){if(!this.namespaces)return;const r=this.namespaces[t]?t:`${t}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${a3}/${t}${s}`,n)}async getFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${a3}/${t}${r}`)}async deleteFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${a3}/${t}${r}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(a3)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}}const Wt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:te.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH",getSDKVersionWarningMessage(e,t){return`
     @@@@@@@           @@@@@@@@@@@@@@@@@@      
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
      @@@@@            @@@@@@@@@@@@@@@@@@  
      
AppKit SDK version ${e} is outdated. Latest version is ${t}. Please update to the latest version for bug fixes and new features.
            
Changelog: https://github.com/reown-com/appkit/releases
NPM Registry: https://www.npmjs.com/package/@reown/appkit`}},Rm={ConnectorExplorerIds:{[te.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[te.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[te.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[te.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[te.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Wt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Wt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Wt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Wt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Wt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Wt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Wt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Wt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Wt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Wt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Wt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[Wt.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[te.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[te.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[te.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[te.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[te.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[te.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[te.CONNECTOR_ID.INJECTED]:"Browser Wallet",[te.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[te.CONNECTOR_ID.COINBASE]:"Coinbase",[te.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[te.CONNECTOR_ID.LEDGER]:"Ledger",[te.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[te.CONNECTOR_ID.INJECTED]:"INJECTED",[te.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[te.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[te.CONNECTOR_ID.AUTH]:"AUTH",[Wt.CONNECTOR_TYPE_AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},Vn={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach(([n,r])=>{t[`${Wt.EIP155}:${n}`]=r}),t},isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const e=F.state.activeChain;return te.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>ae.getConnectorId(t)===te.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:n}){let r=0;return new Promise(s=>{async function i(){return r+=1,await e()?s(!0):r>=n?s(!1):(setTimeout(i,t),null)}i()})},userChainIdToChainNamespace(e){if(typeof e=="number")return te.CHAIN.EVM;const[t]=e.split(":");return t},getOtherAuthNamespaces(e){return e?te.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(r=>r!==e):[]},getConnectorStorageInfo(e,t){const r=ce.getConnections()[t]??[];return{hasDisconnected:ce.isConnectorDisconnected(e,t),hasConnected:r.some(s=>Vn.isLowerCaseMatch(s.connectorId,e))}}},BUe={extractVersion(e){if(!e||typeof e!="string")return null;const t=/(?:[~^>=<]+\s*)?(?<version>\d+(?:\.\d+){0,2})(?:-[a-zA-Z]+\.\d+)?/u;return e.match(t)?.groups?.version||null},checkSDKVersion(e){const t=this.extractVersion(e),n=te.IS_DEVELOPMENT;if(!t||!n)return;const r=ce.getLatestAppKitVersion();if(this.isValidVersion(r)&&this.isOlder(t,r)){console.warn(Wt.getSDKVersionWarningMessage(t,r));return}try{fetch("https://registry.npmjs.org/@reown/appkit/latest").then(s=>s.json()).then(s=>{const i=s.version;this.isOlder(t,i)&&(ce.updateLatestAppKitVersion({timestamp:Date.now(),version:i}),console.warn(Wt.getSDKVersionWarningMessage(t,i)))})}catch{}},isValidVersion(e){return typeof e=="string"&&/^\d+\.\d+\.\d+$/u.test(e)},isOlder(e,t){const n=this.extractVersion(e),r=this.extractVersion(t);if(!n||!r)return!1;function s(a){const c=a.split(".").map(Number);for(;c.length<3;)c.push(0);return c}const i=s(n),o=s(r);for(let a=0;a<Math.max(i.length,o.length);a+=1){const c=i[a]||0,l=o[a]||0;if(c<l)return!0;if(c>l)return!1}return!1}},ro={EmbeddedWalletAbortController:new AbortController,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Gg()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your system\u2019s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>`Unable to fetch App Configuration. ${e}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:e=>`[Reown Config Notice] ${e}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(e,t)=>`An error occurred while connecting an inactive namespace ${e}: "${t}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},wG={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:Bxe.asset,84532:kxe.asset}},getTokenSymbolByAddress(e){if(!e)return;const[t]=Object.entries(wG.TOKEN_ADDRESSES_BY_SYMBOL).find(([n,r])=>Object.values(r).includes(e))??[];return t}},kUe={createLogger(e,t="error"){const n=K2({level:t}),{logger:r}=Zz({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){e(i,...s);return}e(void 0,...s)},r}},RUe="rpc.walletconnect.org";function vG(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}const vI=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Bf={extendRpcUrlWithProjectId(e,t){let n=!1;try{n=new URL(e).host===RUe}catch{n=!1}if(n){const r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:te.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${te.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,n){const r=e.rpcUrls?.default?.http?.[0];return vI.includes(t)?vG(t,n):r||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){const s=this.getChainNamespace(e),i=this.getCaipNetworkId(e),o=e.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(e,i,n),c=e?.rpcUrls?.chainDefault?.http?.[0]||o,l=r?.[i]?.map(d=>d.url)||[],u=[...l,...a?[a]:[]],f=[...l];return c&&!f.includes(c)&&f.push(c),{...e,chainNamespace:s,caipNetworkId:i,assets:{imageId:Rm.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:u},chainDefault:{http:f}}}},extendCaipNetworks(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){return e.map(s=>Bf.extendCaipNetwork(s,{customNetworkImageUrls:t,customRpcUrls:r,projectId:n}))},getViemTransport(e,t,n){const r=[];return n?.forEach(s=>{r.push(M2(s.url,s.config))}),vI.includes(e.caipNetworkId)&&r.push(M2(vG(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach(s=>{r.push(M2(s))}),pA(r)},extendWagmiTransports(e,t,n){if(vI.includes(e.caipNetworkId)){const r=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return pA([n,M2(r)])}return n},getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:te.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(e){const t=ce.getActiveCaipNetworkId(),n=F.getAllRequestedCaipNetworks(),r=Array.from(F.state.chains?.keys()||[]),s=t?.split(":")[0],i=s?r.includes(s):!1,o=n?.find(c=>c.caipNetworkId===t);return i&&!o&&t?this.getUnsupportedNetwork(t):o||e||n?.[0]}};var EG;(function(e){e.Google="google",e.Github="github",e.Apple="apple",e.Facebook="facebook",e.X="x",e.Discord="discord",e.Farcaster="farcaster"})(EG||(EG={}));const Hd={ACCOUNT_TABS:[{label:"Tokens"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},Vd={filterOutDuplicatesByRDNS(e){const t=ee.state.enableEIP6963?ae.state.connectors:[],n=ce.getRecentWallets(),r=t.map(a=>a.info?.rdns).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&oe.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return e.filter(a=>!(a?.rdns&&i.includes(String(a.rdns))||!a?.rdns&&t.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(e){const t=ae.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=ce.getRecentWallets(),r=t.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return e.filter(a=>!i.includes(a?.id))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=ae.state,{featuredWalletIds:n}=ee.state,r=t.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return e.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n?.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(e,t){const n=e?.connectMethodsOrder||ee.state.features?.connectMethodsOrder,r=t||ae.state.connectors;if(n)return n;const{injected:s,announced:i}=qo.getConnectorsByType(r,he.state.recommended,he.state.featured),o=s.filter(qo.showConnector),a=i.filter(qo.showConnector);return o.length||a.length?["wallet","email","social"]:Hd.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){const t=!!e.rdns&&he.state.excludedWallets.some(r=>r.rdns===e.rdns),n=!!e.name&&he.state.excludedWallets.some(r=>Vn.isLowerCaseMatch(r.name,e.name));return t||n},markWalletsWithDisplayIndex(e){return e.map((t,n)=>({...t,display_index:n}))}},qo={getConnectorsByType(e,t,n){const{customWallets:r}=ee.state,s=ce.getRecentWallets(),i=Vd.filterOutDuplicateWallets(t),o=Vd.filterOutDuplicateWallets(n),a=e.filter(f=>f.type==="MULTI_CHAIN"),c=e.filter(f=>f.type==="ANNOUNCED"),l=e.filter(f=>f.type==="INJECTED"),u=e.filter(f=>f.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(e){const t=e.info?.rdns,n=!!t&&he.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===t),r=!!e.name&&he.state.excludedWallets.some(s=>Vn.isLowerCaseMatch(s.name,e.name));return!(e.type==="INJECTED"&&(e.name==="Browser Wallet"&&(!oe.isMobile()||oe.isMobile()&&!t&&!ie.checkInstalled())||n||r)||(e.type==="ANNOUNCED"||e.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(F.state.chains.values()).some(n=>ae.getConnectorId(n.namespace)===te.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:e,featured:t,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=ee.state.features?.connectorTypeOrder??[]}){const u=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:e.length>0}].filter(p=>p.isEnabled),f=new Set(u.map(p=>p.type)),d=c.filter(p=>f.has(p)).map(p=>({type:p,isEnabled:!0})),h=u.filter(({type:p})=>!d.some(({type:y})=>y===p));return Array.from(new Set([...d,...h].map(({type:p})=>p)))},sortConnectorsByExplorerWallet(e){return[...e].sort((t,n)=>t.explorerWallet&&n.explorerWallet?(t.explorerWallet.order??0)-(n.explorerWallet.order??0):t.explorerWallet?-1:n.explorerWallet?1:0)},getAuthName({email:e,socialUsername:t,socialProvider:n}){return t?n&&n==="discord"&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e},async fetchProviderData(e){try{if(e.name==="Browser Wallet"&&!oe.isMobile())return{accounts:[],chainId:void 0};if(e.id===te.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[t,n]=await Promise.all([e.provider?.request({method:"eth_accounts"}),e.provider?.request({method:"eth_chainId"}).then(r=>Number(r))]);return{accounts:t,chainId:n}}catch(t){return console.warn(`Failed to fetch provider data for ${e.name}`,t),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(e){const t=ce.getRecentWallets(),n=ae.state.connectors.map(o=>o.info?.rdns).filter(Boolean),r=t.map(o=>o.rdns).filter(Boolean),s=n.concat(r);if(s.includes("io.metamask.mobile")&&oe.isMobile()){const o=s.indexOf("io.metamask.mobile");s[o]="io.metamask"}return e.filter(o=>!s.includes(String(o?.rdns)))},hasWalletConnector(e){return ae.state.connectors.some(t=>t.id===e.id||t.name===e.name)},isWalletCompatibleWithCurrentChain(e){const t=F.state.activeChain;return t&&e.chains?e.chains.some(n=>{const r=n.split(":")[0];return t===r}):!0},getFilteredRecentWallets(){return ce.getRecentWallets().filter(n=>!Vd.isExcluded(n)).filter(n=>!this.hasWalletConnector(n)).filter(n=>this.isWalletCompatibleWithCurrentChain(n))},getCappedRecommendedWallets(e){const{connectors:t}=ae.state,{customWallets:n,featuredWalletIds:r}=ee.state,s=t.find(_=>_.id==="walletConnect"),i=t.filter(_=>_.type==="INJECTED"||_.type==="ANNOUNCED"||_.type==="MULTI_CHAIN");if(!s&&!i.length&&!n?.length)return[];const o=yA.isEmailEnabled(),a=yA.isSocialsEnabled(),c=i.filter(_=>_.name!=="Browser Wallet"),l=r?.length||0,u=n?.length||0,f=c.length||0,d=o?1:0,h=a?1:0,p=l+u+f+d+h,y=Math.max(0,4-p);return y<=0?[]:Vd.filterOutDuplicateWallets(e).slice(0,y)}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const d3=globalThis,EI=d3.ShadowRoot&&(d3.ShadyCSS===void 0||d3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,xI=Symbol(),xG=new WeakMap;class $G{constructor(t,n,r){if(this._$cssResult$=!0,r!==xI)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(EI&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=xG.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&xG.set(n,t))}return t}toString(){return this.cssText}}const Zo=e=>new $G(typeof e=="string"?e:e+"",void 0,xI),us=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[i+1],e[0]);return new $G(n,e,xI)},DUe=(e,t)=>{if(EI)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),s=d3.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,e.appendChild(r)}},AG=EI?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return Zo(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:MUe,defineProperty:UUe,getOwnPropertyDescriptor:LUe,getOwnPropertyNames:FUe,getOwnPropertySymbols:jUe,getPrototypeOf:zUe}=Object,f3=globalThis,CG=f3.trustedTypes,HUe=CG?CG.emptyScript:"",VUe=f3.reactiveElementPolyfillSupport,Dm=(e,t)=>e,h3={toAttribute(e,t){switch(t){case Boolean:e=e?HUe:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},$I=(e,t)=>!MUe(e,t),SG={attribute:!0,type:String,converter:h3,reflect:!1,useDefault:!1,hasChanged:$I};Symbol.metadata??=Symbol("metadata"),f3.litPropertyMetadata??=new WeakMap;class vp extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=SG){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,n);s!==void 0&&UUe(this.prototype,t,s)}}static getPropertyDescriptor(t,n,r){const{get:s,set:i}=LUe(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s?.call(this);i?.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??SG}static _$Ei(){if(this.hasOwnProperty(Dm("elementProperties")))return;const t=zUe(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Dm("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Dm("properties"))){const n=this.properties,r=[...FUe(n),...jUe(n)];for(const s of r)this.createProperty(s,n[s])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)n.unshift(AG(s))}else t!==void 0&&n.push(AG(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return DUe(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$ET(t,n){const r=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,r);if(s!==void 0&&r.reflect===!0){const i=(r.converter?.toAttribute!==void 0?r.converter:h3).toAttribute(n,r.type);this._$Em=t,i==null?this.removeAttribute(s):this.setAttribute(s,i),this._$Em=null}}_$AK(t,n){const r=this.constructor,s=r._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const i=r.getPropertyOptions(s),o=typeof i.converter=="function"?{fromAttribute:i.converter}:i.converter?.fromAttribute!==void 0?i.converter:h3;this._$Em=s;const a=o.fromAttribute(n,i.type);this[s]=a??this._$Ej?.get(s)??a,this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){const s=this.constructor,i=this[t];if(r??=s.getPropertyOptions(t),!((r.hasChanged??$I)(i,n)||r.useDefault&&r.reflect&&i===this._$Ej?.get(t)&&!this.hasAttribute(s._$Eu(t,r))))return;this.C(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,o??n??this[t]),i!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(n=void 0),this._$AL.set(t,n)),s===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,i]of this._$Ep)this[s]=i;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[s,i]of r){const{wrapped:o}=i,a=this[s];o!==!0||this._$AL.has(s)||a===void 0||this.C(s,void 0,i,a)}}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(n)):this._$EM()}catch(r){throw t=!1,this._$EM(),r}t&&this._$AE(n)}willUpdate(t){}_$AE(t){this._$EO?.forEach(n=>n.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(n=>this._$ET(n,this[n])),this._$EM()}updated(t){}firstUpdated(t){}}vp.elementStyles=[],vp.shadowRootOptions={mode:"open"},vp[Dm("elementProperties")]=new Map,vp[Dm("finalized")]=new Map,VUe?.({ReactiveElement:vp}),(f3.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const AI=globalThis,p3=AI.trustedTypes,IG=p3?p3.createPolicy("lit-html",{createHTML:e=>e}):void 0,_G="$lit$",qd=`lit$${Math.random().toFixed(9).slice(2)}$`,OG="?"+qd,qUe=`<${OG}>`,kf=document,Mm=()=>kf.createComment(""),Um=e=>e===null||typeof e!="object"&&typeof e!="function",CI=Array.isArray,ZUe=e=>CI(e)||typeof e?.[Symbol.iterator]=="function",SI=`[ 	
\f\r]`,Lm=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,PG=/-->/g,TG=/>/g,Rf=RegExp(`>|${SI}(?:([^\\s"'>=/]+)(${SI}*=${SI}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),NG=/'/g,BG=/"/g,kG=/^(?:script|style|textarea|title)$/i,RG=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),W=RG(1),$t=RG(2),Df=Symbol.for("lit-noChange"),an=Symbol.for("lit-nothing"),DG=new WeakMap,Mf=kf.createTreeWalker(kf,129);function MG(e,t){if(!CI(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return IG!==void 0?IG.createHTML(t):t}const WUe=(e,t)=>{const n=e.length-1,r=[];let s,i=t===2?"<svg>":t===3?"<math>":"",o=Lm;for(let a=0;a<n;a++){const c=e[a];let l,u,f=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===Lm?u[1]==="!--"?o=PG:u[1]!==void 0?o=TG:u[2]!==void 0?(kG.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=Rf):u[3]!==void 0&&(o=Rf):o===Rf?u[0]===">"?(o=s??Lm,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Rf:u[3]==='"'?BG:NG):o===BG||o===NG?o=Rf:o===PG||o===TG?o=Lm:(o=Rf,s=void 0);const h=o===Rf&&e[a+1].startsWith("/>")?" ":"";i+=o===Lm?c+qUe:f>=0?(r.push(l),c.slice(0,f)+_G+c.slice(f)+qd+h):c+qd+(f===-2?a:h)}return[MG(e,i+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};class Fm{constructor({strings:t,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=t.length-1,c=this.parts,[l,u]=WUe(t,n);if(this.el=Fm.createElement(l,r),Mf.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(s=Mf.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const f of s.getAttributeNames())if(f.endsWith(_G)){const d=u[o++],h=s.getAttribute(f).split(qd),p=/([.?@])?(.*)/.exec(d);c.push({type:1,index:i,name:p[2],strings:h,ctor:p[1]==="."?GUe:p[1]==="?"?YUe:p[1]==="@"?XUe:g3}),s.removeAttribute(f)}else f.startsWith(qd)&&(c.push({type:6,index:i}),s.removeAttribute(f));if(kG.test(s.tagName)){const f=s.textContent.split(qd),d=f.length-1;if(d>0){s.textContent=p3?p3.emptyScript:"";for(let h=0;h<d;h++)s.append(f[h],Mm()),Mf.nextNode(),c.push({type:2,index:++i});s.append(f[d],Mm())}}}else if(s.nodeType===8)if(s.data===OG)c.push({type:2,index:i});else{let f=-1;for(;(f=s.data.indexOf(qd,f+1))!==-1;)c.push({type:7,index:i}),f+=qd.length-1}i++}}static createElement(t,n){const r=kf.createElement("template");return r.innerHTML=t,r}}function Ep(e,t,n=e,r){if(t===Df)return t;let s=r!==void 0?n._$Co?.[r]:n._$Cl;const i=Um(t)?void 0:t._$litDirective$;return s?.constructor!==i&&(s?._$AO?.(!1),i===void 0?s=void 0:(s=new i(e),s._$AT(e,n,r)),r!==void 0?(n._$Co??=[])[r]=s:n._$Cl=s),s!==void 0&&(t=Ep(e,s._$AS(e,t.values),s,r)),t}class KUe{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,s=(t?.creationScope??kf).importNode(n,!0);Mf.currentNode=s;let i=Mf.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new jm(i,i.nextSibling,this,t):c.type===1?l=new c.ctor(i,c.name,c.strings,this,t):c.type===6&&(l=new JUe(i,this,t)),this._$AV.push(l),c=r[++a]}o!==c?.index&&(i=Mf.nextNode(),o++)}return Mf.currentNode=kf,s}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}class jm{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,n,r,s){this.type=2,this._$AH=an,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=Ep(this,t,n),Um(t)?t===an||t==null||t===""?(this._$AH!==an&&this._$AR(),this._$AH=an):t!==this._$AH&&t!==Df&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):ZUe(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==an&&Um(this._$AH)?this._$AA.nextSibling.data=t:this.T(kf.createTextNode(t)),this._$AH=t}$(t){const{values:n,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=Fm.createElement(MG(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===s)this._$AH.p(n);else{const i=new KUe(s,this),o=i.u(this.options);i.p(n),this.T(o),this._$AH=i}}_$AC(t){let n=DG.get(t.strings);return n===void 0&&DG.set(t.strings,n=new Fm(t)),n}k(t){CI(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of t)s===n.length?n.push(r=new jm(this.O(Mm()),this.O(Mm()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(t=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}class g3{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,s,i){this.type=1,this._$AH=an,this._$AN=void 0,this.element=t,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=an}_$AI(t,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)t=Ep(this,t,n,0),o=!Um(t)||t!==this._$AH&&t!==Df,o&&(this._$AH=t);else{const a=t;let c,l;for(t=i[0],c=0;c<i.length-1;c++)l=Ep(this,a[r+c],n,c),l===Df&&(l=this._$AH[c]),o||=!Um(l)||l!==this._$AH[c],l===an?t=an:t!==an&&(t+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(t)}j(t){t===an?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class GUe extends g3{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===an?void 0:t}}class YUe extends g3{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==an)}}class XUe extends g3{constructor(t,n,r,s,i){super(t,n,r,s,i),this.type=5}_$AI(t,n=this){if((t=Ep(this,t,n,0)??an)===Df)return;const r=this._$AH,s=t===an&&r!==an||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,i=t!==an&&(r===an||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class JUe{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Ep(this,t)}}const QUe=AI.litHtmlPolyfillSupport;QUe?.(Fm,jm),(AI.litHtmlVersions??=[]).push("3.3.1");const eLe=(e,t,n)=>{const r=n?.renderBefore??t;let s=r._$litPart$;if(s===void 0){const i=n?.renderBefore??null;r._$litPart$=s=new jm(t.insertBefore(Mm(),i),i,void 0,n??{})}return s._$AI(e),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const II=globalThis;class Te extends vp{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=eLe(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Df}}Te._$litElement$=!0,Te.finalized=!0,II.litElementHydrateSupport?.({LitElement:Te});const tLe=II.litElementPolyfillSupport;tLe?.({LitElement:Te}),(II.litElementVersions??=[]).push("4.2.1");const nLe={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},m3={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},rLe={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},sLe={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},iLe={regular:"KHTeka",mono:"KHTekaMono"},oLe={regular:"400",medium:"500"},aLe={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},cLe={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},lLe={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},uLe={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},_I={colors:nLe,fontFamily:iLe,fontWeight:oLe,textSize:aLe,typography:cLe,tokens:{core:m3.core,theme:m3.dark},borderRadius:rLe,spacing:sLe,durations:uLe,easings:lLe},UG="--apkt",su={createCSSVariables(e){const t={},n={};function r(i,o,a=""){for(const[c,l]of Object.entries(i)){const u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},r(l,o[c],u)):typeof l=="string"&&(o[c]=`${UG}-${u}`)}}function s(i,o){for(const[a,c]of Object.entries(i))c&&typeof c=="object"?(o[a]={},s(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return r(e,t),s(t,n),{cssVariables:t,cssVariablesVarPrefix:n}},assignCSSVariables(e,t){const n={};function r(s,i,o){for(const[a,c]of Object.entries(s)){const l=o?`${o}-${a}`:a,u=i[a];c&&typeof c=="object"?r(c,u,l):typeof u=="string"&&(n[`${UG}-${l}`]=u)}}return r(e,t),n},createRootStyles(e,t){const n={..._I,tokens:{..._I.tokens,theme:e==="light"?m3.light:m3.dark}},{cssVariables:r}=su.createCSSVariables(n),s=su.assignCSSVariables(r,n),i=su.generateW3MVariables(t),o=su.generateW3MOverrides(t),a=su.generateScaledVariables(t),c=su.generateBaseVariables(s),l={...s,...c,...i,...o,...a},u=su.applyColorMixToVariables(t,l),f={...l,...u};return`:root {${Object.entries(f).map(([h,p])=>`${h}:${p.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(e){if(!e)return{};const t={};return t["--w3m-font-family"]=e["--w3m-font-family"]||"KHTeka",t["--w3m-accent"]=e["--w3m-accent"]||"#0988F0",t["--w3m-color-mix"]=e["--w3m-color-mix"]||"#000",t["--w3m-color-mix-strength"]=`${e["--w3m-color-mix-strength"]||0}%`,t["--w3m-font-size-master"]=e["--w3m-font-size-master"]||"10px",t["--w3m-border-radius-master"]=e["--w3m-border-radius-master"]||"4px",t},generateW3MOverrides(e){if(!e)return{};const t={};if(e["--w3m-accent"]){const n=e["--w3m-accent"];t["--apkt-tokens-core-iconAccentPrimary"]=n,t["--apkt-tokens-core-borderAccentPrimary"]=n,t["--apkt-tokens-core-textAccentPrimary"]=n,t["--apkt-tokens-core-backgroundAccentPrimary"]=n}return e["--w3m-font-family"]&&(t["--apkt-fontFamily-regular"]=e["--w3m-font-family"]),e["--w3m-z-index"]&&(t["--apkt-tokens-core-zIndex"]=`${e["--w3m-z-index"]}`),t},generateScaledVariables(e){if(!e)return{};const t={};if(e["--w3m-font-size-master"]){const n=parseFloat(e["--w3m-font-size-master"].replace("px",""));t["--apkt-textSize-h1"]=`${Number(n)*5}px`,t["--apkt-textSize-h2"]=`${Number(n)*4.4}px`,t["--apkt-textSize-h3"]=`${Number(n)*3.8}px`,t["--apkt-textSize-h4"]=`${Number(n)*3.2}px`,t["--apkt-textSize-h5"]=`${Number(n)*2.6}px`,t["--apkt-textSize-h6"]=`${Number(n)*2}px`,t["--apkt-textSize-large"]=`${Number(n)*1.6}px`,t["--apkt-textSize-medium"]=`${Number(n)*1.4}px`,t["--apkt-textSize-small"]=`${Number(n)*1.2}px`}if(e["--w3m-border-radius-master"]){const n=parseFloat(e["--w3m-border-radius-master"].replace("px",""));t["--apkt-borderRadius-1"]=`${Number(n)}px`,t["--apkt-borderRadius-2"]=`${Number(n)*2}px`,t["--apkt-borderRadius-3"]=`${Number(n)*3}px`,t["--apkt-borderRadius-4"]=`${Number(n)*4}px`,t["--apkt-borderRadius-5"]=`${Number(n)*5}px`,t["--apkt-borderRadius-6"]=`${Number(n)*6}px`,t["--apkt-borderRadius-8"]=`${Number(n)*8}px`,t["--apkt-borderRadius-16"]=`${Number(n)*16}px`,t["--apkt-borderRadius-20"]=`${Number(n)*20}px`,t["--apkt-borderRadius-32"]=`${Number(n)*32}px`,t["--apkt-borderRadius-64"]=`${Number(n)*64}px`,t["--apkt-borderRadius-128"]=`${Number(n)*128}px`}return t},generateColorMixCSS(e,t){if(!e?.["--w3m-color-mix"]||!e["--w3m-color-mix-strength"])return"";const n=e["--w3m-color-mix"],r=e["--w3m-color-mix-strength"];if(!r||r===0)return"";const s=Object.keys(t||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${s.map(o=>{const a=t?.[o]||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${n} ${r}%, ${a});`:`${o}: color-mix(in srgb, ${n} ${r}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(e){const t={},n=e["--apkt-tokens-theme-backgroundPrimary"];n&&(t["--apkt-tokens-theme-backgroundPrimary-base"]=n);const r=e["--apkt-tokens-core-backgroundAccentPrimary"];return r&&(t["--apkt-tokens-core-backgroundAccentPrimary-base"]=r),t},applyColorMixToVariables(e,t){const n={};if(t?.["--apkt-tokens-theme-backgroundPrimary"]&&(n["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),t?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(n["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!e?.["--w3m-color-mix"]||!e["--w3m-color-mix-strength"])return n;const r=e["--w3m-color-mix"],s=e["--w3m-color-mix-strength"];if(!s||s===0)return n;const i=Object.keys(t||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon")||o.includes("-tokens-theme-overlay"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return i.length===0||i.forEach(o=>{const a=t?.[o]||"";o.endsWith("-base")||(o==="--apkt-tokens-theme-backgroundPrimary"||o==="--apkt-tokens-core-backgroundAccentPrimary"?n[o]=`color-mix(in srgb, ${r} ${s}%, var(${o}-base))`:a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?n[o]=`color-mix(in srgb, ${r} ${s}%, ${a})`:n[o]=`color-mix(in srgb, ${r} ${s}%, var(${o}-base, ${a}))`)}),n}},{cssVariablesVarPrefix:Mt}=su.createCSSVariables(_I);function qe(e,...t){return us(e,...t.map(n=>Zo(typeof n=="function"?n(Mt):n)))}let Uf,Lf,Ma,Wo,y3;const iu={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function b3(e,t="dark"){Uf&&document.head.removeChild(Uf),Uf=document.createElement("style"),Uf.textContent=su.createRootStyles(t,e),document.head.appendChild(Uf)}function dLe(e,t="dark"){if(y3=e,Lf=document.createElement("style"),Ma=document.createElement("style"),Wo=document.createElement("style"),Lf.textContent=xp(e).core.cssText,Ma.textContent=xp(e).dark.cssText,Wo.textContent=xp(e).light.cssText,document.head.appendChild(Lf),document.head.appendChild(Ma),document.head.appendChild(Wo),b3(e,t),OI(t),!e?.["--w3m-font-family"])for(const[n,r]of Object.entries(iu)){const s=document.createElement("link");s.rel="preload",s.href=r,s.as="font",s.type=n.includes("woff2")?"font/woff2":"font/woff",s.crossOrigin="anonymous",document.head.appendChild(s)}OI(t)}function OI(e="dark"){Ma&&Wo&&Uf&&(e==="light"?(b3(y3,e),Ma.removeAttribute("media"),Wo.media="enabled"):(b3(y3,e),Wo.removeAttribute("media"),Ma.media="enabled"))}function fLe(e){if(y3=e,Lf&&Ma&&Wo&&(Lf.textContent=xp(e).core.cssText,Ma.textContent=xp(e).dark.cssText,Wo.textContent=xp(e).light.cssText,e?.["--w3m-font-family"])){const t=e["--w3m-font-family"];Lf.textContent=Lf.textContent?.replace("font-family: KHTeka",`font-family: ${t}`),Ma.textContent=Ma.textContent?.replace("font-family: KHTeka",`font-family: ${t}`),Wo.textContent=Wo.textContent?.replace("font-family: KHTeka",`font-family: ${t}`)}if(Uf){const t=Wo?.media==="enabled"?"light":"dark";b3(e,t)}}function xp(e){const t=!!e?.["--w3m-font-family"];return{core:us`
      ${t?us``:us`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Zo(iu["KHTeka-400-woff2"])}) format('woff2'),
                url(${Zo(iu["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Zo(iu["KHTeka-300-woff2"])}) format('woff2'),
                url(${Zo(iu["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${Zo(iu["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${Zo(iu["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Zo(iu["KHTeka-400-woff2"])}) format('woff2'),
                url(${Zo(iu["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:us`
      :root {
      }
    `,light:us`
      :root {
      }
    `}}const bt=us`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,ds=us`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,w3=".",On={getSpacingStyles(e,t){if(Array.isArray(e))return e[t]?`var(--apkt-spacing-${e[t]})`:void 0;if(typeof e=="string")return`var(--apkt-spacing-${e})`},getFormattedDate(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e)},formatCurrency(e=0,t={}){const n=Number(e);return isNaN(n)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2,...t}).format(n)},getHostName(e){try{return new URL(e).hostname}catch{return""}},getTruncateString({string:e,charsStart:t,charsEnd:n,truncate:r}){return e.length<=t+n?e:r==="end"?`${e.substring(0,t)}...`:r==="start"?`...${e.substring(e.length-n)}`:`${e.substring(0,Math.floor(t))}...${e.substring(e.length-Math.floor(n))}`},generateAvatarColors(e){const n=e.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),r=this.hexToRgb(n),s=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(s?.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){const u=this.tintColor(r,.15*l);c.push(`rgb(${u[0]}, ${u[1]}, ${u[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(e){const t=parseInt(e,16),n=t>>16&255,r=t>>8&255,s=t&255;return[n,r,s]},tintColor(e,t){const[n,r,s]=e,i=Math.round(n+(255-n)*t),o=Math.round(r+(255-r)*t),a=Math.round(s+(255-s)*t);return[i,o,a]},isNumber(e){return{number:/^[0-9]+$/u}.number.test(e)},getColorTheme(e){return e||(typeof window<"u"&&window.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark")},splitBalance(e){const t=e.split(".");return t.length===2?[t[0],t[1]]:["0","00"]},roundNumber(e,t,n){return e.toString().length>=t?Number(e).toFixed(n):e},cssDurationToNumber(e){return e.endsWith("s")?Number(e.replace("s",""))*1e3:e.endsWith("ms")?Number(e.replace("ms","")):0},maskInput({value:e,decimals:t,integers:n}){if(e=e.replace(",","."),e===w3)return`0${w3}`;const[r="",s]=e.split(w3).map(u=>u.replace(/[^0-9]/gu,"")),i=n?r.substring(0,n):r,o=i.length===2?String(Number(i)):i,a=typeof t=="number"?s?.substring(0,t):s,c=typeof t!="number"||t>0;return(typeof a=="string"&&c?[o,a].join(w3):o)??""},capitalize(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}};function hLe(e,t){const{kind:n,elements:r}=t;return{kind:n,elements:r,finisher(s){customElements.get(e)||customElements.define(e,s)}}}function pLe(e,t){return customElements.get(e)||customElements.define(e,t),t}function Oe(e){return function(n){return typeof n=="function"?pLe(e,n):hLe(e,n)}}const v3={hexStringToNumber(e){const t=e.startsWith("0x")?e.slice(2):e;return parseInt(t,16)},numberToHexString(e){return`0x${e.toString(16)}`},async getUserInfo(e){const[t,n]=await Promise.all([v3.getAddresses(e),v3.getChainId(e)]);return{chainId:n,addresses:t}},async getChainId(e){const t=await e.request({method:"eth_chainId"});return Number(t)},async getAddress(e){const[t]=await e.request({method:"eth_accounts"});return t},async getAddresses(e){return await e.request({method:"eth_accounts"})},async addEthereumChain(e,t){const n=t.rpcUrls.chainDefault?.http||[];await e.request({method:"wallet_addEthereumChain",params:[{chainId:v3.numberToHexString(t.id),rpcUrls:[...n],chainName:t.name,nativeCurrency:{name:t.nativeCurrency.name,decimals:t.nativeCurrency.decimals,symbol:t.nativeCurrency.symbol},blockExplorerUrls:[t.blockExplorers?.default.url],iconUrls:[Rm.NetworkImageIds[t.id]]}]})}},$p={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}},LG={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},gLe={block:h7({format(e){return{transactions:e.transactions?.map(n=>{if(typeof n=="string")return n;const r=A1(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?ze(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:e.stateRoot}}}),transaction:f7({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?ze(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:tF({format(e){return{l1GasPrice:e.l1GasPrice?ze(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?ze(e.l1GasUsed):null,l1Fee:e.l1Fee?ze(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function FG(e,t){return bLe(e)?yLe(e):i$(e,t)}const mLe={transaction:FG};function yLe(e){wLe(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:a,value:c}=e,l=[t,r,a??"0x",o?jt(o):"0x",c?jt(c):"0x",s?jt(s):"0x",i?"0x1":"0x",n??"0x"];return Ar(["0x7e",gi(l)])}function bLe(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function wLe(e){const{from:t,to:n}=e;if(t&&!Vt(t))throw new $n({address:t});if(n&&!Vt(n))throw new $n({address:n})}const de={blockTime:2e3,contracts:LG,formatters:gLe,serializers:mLe},E3=1;({...de,contracts:{...de.contracts,l2OutputOracle:E3+"",portal:E3+"",l1StandardBridge:E3+""}});const x3=11155111;({...de,contracts:{...de.contracts,l2OutputOracle:x3+"",portal:x3+"",l1StandardBridge:x3+""}});const zm=1;({...Se({...de,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...de.contracts,disputeGameFactory:{[zm]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[zm]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[zm]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[zm]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:zm})});const $3=5;({...de,contracts:{...de.contracts,l2OutputOracle:$3+"",portal:$3+"",l1StandardBridge:$3+""}});const Hm=11155111;({...Se({...de,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...de.contracts,disputeGameFactory:{[Hm]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[Hm]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[Hm]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[Hm]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:Hm})},Se({id:53456,name:"BirdLayer",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.birdlayer.xyz","https://rpc1.birdlayer.xyz"],webSocket:["wss://rpc.birdlayer.xyz/ws"]}},blockExplorers:{default:{name:"BirdLayer Explorer",url:"https://scan.birdlayer.xyz"}}}));const A3=1;({...de,contracts:{...de.contracts,l2OutputOracle:A3+"",portal:A3+"",l1StandardBridge:A3+""}});const PI=1;Se({...de,id:60808,name:"BOB",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.gobob.xyz"],webSocket:["wss://rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Explorer",url:"https://explorer.gobob.xyz"}},contracts:{...de.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:23131},l2OutputOracle:{[PI]:{address:"0xdDa53E23f8a32640b04D7256e651C1db98dB11C1",blockCreated:4462615}},portal:{[PI]:{address:"0x8AdeE124447435fE03e3CD24dF3f4cAE32E65a3E",blockCreated:4462615}}},sourceId:PI});const TI=11155111;Se({...de,id:808813,name:"BOB Sepolia",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://bob-sepolia.rpc.gobob.xyz"],webSocket:["wss://bob-sepolia.rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Sepolia Explorer",url:"https://bob-sepolia.explorer.gobob.xyz"}},contracts:{...de.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:35677},l2OutputOracle:{[TI]:{address:"0x14D0069452b4AE2b250B395b8adAb771E4267d2f",blockCreated:4462615}},portal:{[TI]:{address:"0x867B1Aa872b9C8cB5E9F7755feDC45BB24Ad0ae4",blockCreated:4462615}}},testnet:!0,sourceId:TI});const vLe={estimateFeesPerGas:async e=>{if(!e.request?.feeCurrency)return null;const[t,n]=await Promise.all([ELe(e.client,e.request.feeCurrency),xLe(e.client,e.request.feeCurrency)]);return{maxFeePerGas:e.multiply(t-n)+n,maxPriorityFeePerGas:n}}};async function ELe(e,t){const n=await e.request({method:"eth_gasPrice",params:[t]});return BigInt(n)}async function xLe(e,t){const n=await e.request({method:"eth_maxPriorityFeePerGas",params:[t]});return BigInt(n)}function jG(e){return e===0||e===0n||e===void 0||e===null||e==="0"||e===""||typeof e=="string"&&(tr(e).toLowerCase()==="0x"||tr(e).toLowerCase()==="0x00")}function Vm(e){return!jG(e)}function $Le(e){return typeof e.maxFeePerGas<"u"&&typeof e.maxPriorityFeePerGas<"u"}function zG(e){return e.type==="cip64"?!0:$Le(e)&&Vm(e.feeCurrency)}const ALe={block:h7({format(e){return{transactions:e.transactions?.map(n=>typeof n=="string"?n:{...A1(n),...n.gatewayFee?{gatewayFee:ze(n.gatewayFee),gatewayFeeRecipient:n.gatewayFeeRecipient}:{},feeCurrency:n.feeCurrency})}}}),transaction:f7({format(e){if(e.type==="0x7e")return{isSystemTx:e.isSystemTx,mint:e.mint?ze(e.mint):void 0,sourceHash:e.sourceHash,type:"deposit"};const t={feeCurrency:e.feeCurrency};return e.type==="0x7b"?t.type="cip64":(e.type==="0x7c"&&(t.type="cip42"),t.gatewayFee=e.gatewayFee?ze(e.gatewayFee):null,t.gatewayFeeRecipient=e.gatewayFeeRecipient),t}}),transactionRequest:eL({format(e){const t={};return e.feeCurrency&&(t.feeCurrency=e.feeCurrency),zG(e)&&(t.type="0x7b"),t}})};function CLe(e,t){return zG(e)?ILe(e,t):FG(e,t)}const SLe={transaction:CLe};function ILe(e,t){OLe(e);const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,feeCurrency:u,data:f}=e,d=[jt(n),s?jt(s):"0x",c?jt(c):"0x",a?jt(a):"0x",r?jt(r):"0x",i??"0x",o?jt(o):"0x",f??"0x",P1(l),u,...T1(e,t)];return Ar(["0x7b",gi(d)])}const _Le=$1;function OLe(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i,feeCurrency:o}=e;if(t<=0)throw new S1({chainId:t});if(i&&!Vt(i))throw new $n({address:i});if(r)throw new re("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(Vm(s)&&s>_Le)throw new $l({maxFeePerGas:s});if(Vm(n)&&Vm(s)&&n>s)throw new Z0({maxFeePerGas:s,maxPriorityFeePerGas:n});if(Vm(o)&&!Vt(o))throw new re("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(jG(o))throw new re("`feeCurrency` must be provided for CIP-64 transactions.")}const C3={blockTime:1e3,contracts:LG,formatters:ALe,serializers:SLe,fees:vLe},S3=17e3;({...C3,contracts:{...C3.contracts,portal:S3+"",disputeGameFactory:S3+"",l2OutputOracle:S3+"",l1StandardBridge:S3+""}});const NI=11155111;({...C3,contracts:{...C3.contracts,portal:NI+"",disputeGameFactory:NI+"",l1StandardBridge:NI+""}},Se({id:44,name:"Crab Network",nativeCurrency:{decimals:18,name:"Crab Network Native Token",symbol:"CRAB"},rpcUrls:{default:{http:["https://crab-rpc.darwinia.network"],webSocket:["wss://crab-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://crab-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3032593}}})),Se({id:66665,name:"Creator",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.creatorchain.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.creatorchain.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},testnet:!0}),{...de,contracts:{...de.contracts}},{...de,contracts:{...de.contracts}},Se({id:53457,name:"DODOchain Testnet",nativeCurrency:{decimals:18,name:"DODO",symbol:"DODO"},rpcUrls:{default:{http:["https://dodochain-testnet.alt.technology"],webSocket:["wss://dodochain-testnet.alt.technology/ws"]}},blockExplorers:{default:{name:"DODOchain Testnet (Sepolia) Explorer",url:"https://testnet-scan.dodochain.com"}},testnet:!0});const Ap=1;({...de.contracts,addressManager:Ap+"",l1CrossDomainMessenger:Ap+"",l2OutputOracle:Ap+"",portal:Ap+"",l1StandardBridge:Ap+""});const Cp=11155111;({...de.contracts,addressManager:Cp+"",l1CrossDomainMessenger:Cp+"",l2OutputOracle:Cp+"",portal:Cp+"",l1StandardBridge:Cp+""});const I3=1;({...de,contracts:{...de.contracts,l2OutputOracle:I3+"",portal:I3+"",l1StandardBridge:I3+""}});const _3=17e3;({...de,contracts:{...de.contracts,l2OutputOracle:_3+"",portal:_3+"",l1StandardBridge:_3+""}});const PLe=1;({...de,contracts:{...de.contracts}},Se({...de,id:3397901,network:"funkiSepolia",name:"Funki Sepolia Sandbox",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://funki-testnet.alt.technology"]}},blockExplorers:{default:{name:"Funki Sepolia Sandbox Explorer",url:"https://sepolia-sandbox.funkichain.com/"}},testnet:!0,contracts:{...de.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204}},sourceId:11155111}));const O3=17e3;Se({...de,name:"Garnet Testnet",testnet:!0,id:17069,sourceId:O3,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"],webSocket:["wss://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}},contracts:{...de.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[O3]:{address:"0x57ee40586fbE286AfC75E67cb69511A6D9aF5909",blockCreated:1274684}},l2OutputOracle:{[O3]:{address:"0xCb8E7AC561b8EF04F2a15865e9fbc0766FEF569B",blockCreated:1274684}},l1StandardBridge:{[O3]:{address:"0x09bcDd311FE398F80a78BE37E489f5D440DB95DE",blockCreated:1274684}}}});const P3=11155111;({...de,contracts:{...de.contracts,disputeGameFactory:P3+"",portal:P3+"",l1StandardBridge:P3+""}});const T3=1;({...de,contracts:{...de.contracts,disputeGameFactory:T3+"",portal:T3+"",l1StandardBridge:T3+""}});const N3=11155111;({...de,contracts:{...de.contracts,disputeGameFactory:N3+"",portal:N3+"",l1StandardBridge:N3+""}},Se({id:701,name:"Koi Network",nativeCurrency:{decimals:18,name:"Koi Network Native Token",symbol:"KRING"},rpcUrls:{default:{http:["https://koi-rpc.darwinia.network"],webSocket:["wss://koi-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://koi-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:180001}},testnet:!0}));const B3=1;({...de,contracts:{...de.contracts,l2OutputOracle:B3+"",portal:B3+"",l1StandardBridge:B3+""}});const k3=11155111;({...de,contracts:{...de.contracts,l2OutputOracle:k3+"",portal:k3+"",l1StandardBridge:k3+""}});const R3=1;({...de,contracts:{...de.contracts,l2OutputOracle:R3+"",portal:R3+"",l1StandardBridge:R3+""}});const D3=1;({...de,contracts:{...de.contracts,l2OutputOracle:D3+"",portal:D3+"",l1StandardBridge:D3+""}});const M3=11155111;({...de,contracts:{...de.contracts,l2OutputOracle:M3+"",portal:M3+"",l1StandardBridge:M3+""}},Se({id:166,name:"Omni",nativeCurrency:{name:"Omni",symbol:"OMNI",decimals:18},rpcUrls:{default:{http:["https://mainnet.omni.network"],webSocket:["wss://mainnet.omni.network"]}},blockExplorers:{default:{name:"OmniScan",url:"https://omniscan.network"}},testnet:!1}));const U3=56;({...de.contracts,l2OutputOracle:U3+"",portal:U3+"",l1StandardBridge:U3+""});const L3=97;({...de.contracts,l2OutputOracle:L3+"",portal:L3+"",l1StandardBridge:L3+""});const qm=1;({...de,contracts:{...de.contracts,disputeGameFactory:qm+"",l2OutputOracle:qm+"",portal:qm+"",l1StandardBridge:qm+""}});const F3=5;({...de,contracts:{...de.contracts,l2OutputOracle:F3+"",portal:F3+"",l1StandardBridge:F3+""}});const Zm=11155111;({...de,contracts:{...de.contracts,disputeGameFactory:Zm+"",l2OutputOracle:Zm+"",portal:Zm+"",l1StandardBridge:Zm+""}});const HG=11155111;Se({...de,name:"Pyrope Testnet",testnet:!0,id:695569,sourceId:HG,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.pyropechain.com"],webSocket:["wss://rpc.pyropechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://pyrope.blockscout.com"}},contracts:{...de.contracts,l1StandardBridge:{[HG]:{address:"0xC24932c31D9621aE9e792576152B7ef010cFC2F8"}}}});const j3=1;Se({...de,name:"Redstone",id:690,sourceId:j3,nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.redstonechain.com"],webSocket:["wss://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz"}},contracts:{...de.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[j3]:{address:"0xC7bCb0e8839a28A1cFadd1CF716de9016CdA51ae",blockCreated:19578329}},l2OutputOracle:{[j3]:{address:"0xa426A052f657AEEefc298b3B5c35a470e4739d69",blockCreated:19578337}},l1StandardBridge:{[j3]:{address:"0xc473ca7E02af24c129c2eEf51F2aDf0411c1Df69",blockCreated:19578331}}}});const z3=1;({...de,contracts:{...de.contracts,l2OutputOracle:z3+"",portal:z3+"",l1StandardBridge:z3+""}});const H3=11155111;({...de,contracts:{...de.contracts,l2OutputOracle:H3+"",portal:H3+"",l1StandardBridge:H3+""}});const V3=1;({...de,contracts:{...de.contracts,l2OutputOracle:V3+"",portal:V3+"",l1StandardBridge:V3+""}});const TLe=11155111;({...de,contracts:{...de.contracts}});const Wm=1;({...de,contracts:{...de.contracts,disputeGameFactory:Wm+"",l2OutputOracle:Wm+"",portal:Wm+"",l1StandardBridge:Wm+""}});const Km=11155111;({...de,contracts:{...de.contracts,disputeGameFactory:Km+"",l2OutputOracle:Km+"",portal:Km+"",l1StandardBridge:Km+""}});const Gm=1;({...de,contracts:{...de.contracts,disputeGameFactory:Gm+"",l2OutputOracle:Gm+"",portal:Gm+"",l1StandardBridge:Gm+""}});const Ym=11155111;({...de,contracts:{...de.contracts,disputeGameFactory:Ym+"",l2OutputOracle:Ym+"",portal:Ym+"",l1StandardBridge:Ym+""}});const Xm=1;({...de,contracts:{...de.contracts,disputeGameFactory:Xm+"",l2OutputOracle:Xm+"",portal:Xm+"",l1StandardBridge:Xm+""}});const BI=11155111;({...de,contracts:{...de.contracts,portal:BI+"",l1StandardBridge:BI+""}},{...de,contracts:{...de.contracts}}),{...de,contracts:{...de.contracts}};const q3=1;({...de,contracts:{...de.contracts,disputeGameFactory:q3+"",portal:q3+"",l1StandardBridge:q3+""}});const Z3=11155111;({...de,contracts:{...de.contracts,portal:Z3+"",l1StandardBridge:Z3+"",disputeGameFactory:Z3+""}});const Jm=1;({...de,contracts:{...de.contracts,disputeGameFactory:Jm+"",l2OutputOracle:Jm+"",portal:Jm+"",l1StandardBridge:Jm+""}});const Qm=11155111;({...de,contracts:{...de.contracts,disputeGameFactory:Qm+"",l2OutputOracle:Qm+"",portal:Qm+"",l1StandardBridge:Qm+""}});const W3=1;({...de,contracts:{...de.contracts,l2OutputOracle:W3+"",portal:W3+"",l1StandardBridge:W3+""}});const K3=11155111;({...de,contracts:{...de.contracts,l2OutputOracle:K3+"",portal:K3+"",l1StandardBridge:K3+""}});const VG=5;({...de,contracts:{...de.contracts,portal:VG+""}});function Sp(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const qG=Sp({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),ZG=Sp({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Sp({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),Sp({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),Sp({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0}),Sp({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const NLe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Ko={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace(e){return NLe[e]||[]},createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const n={...e},r=new Set;if(t.methods&&Object.keys(t.methods).forEach(s=>r.add(s)),t.chains&&Object.keys(t.chains).forEach(s=>r.add(s)),t.events&&Object.keys(t.events).forEach(s=>r.add(s)),t.rpcMap&&Object.keys(t.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),t.methods&&Object.entries(t.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),t.chains&&Object.entries(t.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),t.events&&Object.entries(t.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),t.rpcMap){const s=new Set;Object.entries(t.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(e,t){const n=e.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case qG.caipNetworkId:u.chains.push(qG.deprecatedCaipNetworkId);break;case ZG.caipNetworkId:u.chains.push(ZG.deprecatedCaipNetworkId);break}return u?.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,t)},resolveReownName:async e=>{const t=await V2.resolveName(e);return(Object.values(t?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const n=t.chains||[],r=t.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(e){return typeof e=="object"&&e!==null&&"id"in e&&"topic"in e&&"params"in e&&typeof e.params=="object"&&e.params!==null&&"chainId"in e.params&&"event"in e.params&&typeof e.params.event=="object"&&e.params.event!==null},isUserRejectedRequestError(e){try{if(typeof e=="object"&&e!==null){const t=e,n=typeof t.code=="number",r=n&&t.code===Ko.RPC_ERROR_CODE.USER_REJECTED_METHODS,s=n&&t.code===Ko.RPC_ERROR_CODE.USER_REJECTED;return r||s}return!1}catch{return!1}},isOriginAllowed(e,t,n){for(const r of[...t,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(e))return!0}else try{if(new URL(r).origin===e)return!0}catch{if(r===e)return!0}return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:n,onDisconnect:r,onAccountsChanged:s,onChainChanged:i,onDisplayUri:o}){n&&e.on("connect",()=>{const a=Ko.getWalletConnectAccounts(e,t);n(a)}),r&&e.on("disconnect",()=>{r()}),s&&e.on("accountsChanged",a=>{try{const c=e.session?.namespaces?.[t]?.accounts||[],l=e.rpcProviders?.[t]?.getDefaultChain(),u=a.map(f=>{const d=c.find(g=>g.includes(`${t}:${l}:${f}`));if(!d)return;const{chainId:h,chainNamespace:p}=er.parseCaipAddress(d);return{address:f,chainId:h,chainNamespace:p}}).filter(f=>f!==void 0);u.length>0&&s(u)}catch(c){console.warn("Failed to parse accounts for namespace on accountsChanged event",t,a,c)}}),i&&e.on("chainChanged",a=>{i(a)}),o&&e.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(e,t){const n=new Set,r=e?.session?.namespaces?.[t]?.accounts?.map(s=>er.parseCaipAddress(s)).filter(({address:s})=>n.has(s.toLowerCase())?!1:(n.add(s.toLowerCase()),!0));return r&&r.length>0?r:[]}};class BLe{constructor(t){this.namespace=t.namespace}async syncConnections(t){switch(this.namespace){case te.CHAIN.EVM:await this.syncEVMConnections(t);break;case te.CHAIN.SOLANA:await this.syncSolanaConnections(t);break;case te.CHAIN.BITCOIN:await this.syncBitcoinConnections(t);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:t,caipNetworks:n,universalProvider:r,onConnection:s,onListenProvider:i}){await Promise.all(t.filter(o=>{const{hasDisconnected:a,hasConnected:c}=Vn.getConnectorStorageInfo(o.id,this.namespace);return!a&&c}).map(async o=>{if(o.id===te.CONNECTOR_ID.WALLET_CONNECT){const a=Ko.getWalletConnectAccounts(r,this.namespace),c=n.find(l=>l.chainNamespace===this.namespace&&l.id.toString()===a[0]?.chainId?.toString());a.length>0&&s({connectorId:o.id,accounts:a.map(l=>({address:l.address})),caipNetwork:c})}else{const{accounts:a,chainId:c}=await qo.fetchProviderData(o);if(a.length>0&&c){const l=n.find(u=>u.chainNamespace===this.namespace&&u.id.toString()===c.toString());s({connectorId:o.id,accounts:a.map(u=>({address:u})),caipNetwork:l}),o.provider&&o.id!==te.CONNECTOR_ID.AUTH&&o.id!==te.CONNECTOR_ID.WALLET_CONNECT&&i(o.id,o.provider)}}}))}async syncSolanaConnections({connectors:t,caipNetwork:n,universalProvider:r,onConnection:s,onListenProvider:i}){await Promise.all(t.filter(o=>{const{hasDisconnected:a,hasConnected:c}=Vn.getConnectorStorageInfo(o.id,this.namespace);return!a&&c}).map(async o=>{if(o.id===te.CONNECTOR_ID.WALLET_CONNECT){const a=Ko.getWalletConnectAccounts(r,this.namespace);a.length>0&&s({connectorId:o.id,accounts:a.map(c=>({address:c.address})),caipNetwork:n})}else{const a=await o.connect({chainId:n?.id});a&&(s({connectorId:o.id,accounts:[{address:a}],caipNetwork:n}),i(o.id,o.provider))}}))}async syncBitcoinConnections({connectors:t,caipNetwork:n,universalProvider:r,onConnection:s,onListenProvider:i}){await Promise.all(t.filter(o=>{const{hasDisconnected:a,hasConnected:c}=Vn.getConnectorStorageInfo(o.id,this.namespace);return!a&&c}).map(async o=>{if(o.id===te.CONNECTOR_ID.WALLET_CONNECT){const f=Ko.getWalletConnectAccounts(r,this.namespace);f.length>0&&s({connectorId:o.id,accounts:f.map(d=>({address:d.address})),caipNetwork:n});return}const a=await o.connect();let l=(await o.getAccountAddresses())?.map(f=>oe.createAccount(te.CHAIN.BITCOIN,f.address,f.purpose||"payment",f.publicKey,f.path));if(l&&l.length>1&&(l=[{namespace:te.CHAIN.BITCOIN,publicKey:l[$p.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:l[$p.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:l[$p.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:te.CHAIN.BITCOIN,publicKey:l[$p.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:l[$p.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:l[$p.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(o.chains.find(f=>f.id===n?.id)||o.chains[0]))throw new Error("The connector does not support any of the requested chains");a&&(i(o.id,o.provider),s({connectorId:o.id,accounts:l.map(f=>({address:f.address,type:f.type,publicKey:f.publicKey,path:f.path})),caipNetwork:n}))}))}getConnection({address:t,connectorId:n,connections:r,connectors:s}){if(n){const o=r.find(l=>Vn.isLowerCaseMatch(l.connectorId,n));if(!o)return null;const a=s.find(l=>Vn.isLowerCaseMatch(l.id,o.connectorId)),c=t?o.accounts.find(l=>Vn.isLowerCaseMatch(l.address,t)):o.accounts[0];return{...o,account:c,connector:a}}const i=r.find(o=>o.accounts.length>0&&s.some(a=>Vn.isLowerCaseMatch(a.id,o.connectorId)));if(i){const[o]=i.accounts,a=s.find(c=>Vn.isLowerCaseMatch(c.id,i.connectorId));return{...i,account:o,connector:a}}return null}}const ey={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class WG{constructor({provider:t,namespace:n}){this.id=te.CONNECTOR_ID.WALLET_CONNECT,this.name=Rm.ConnectorNamesMap[te.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Rm.ConnectorImageIds[te.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=F.getCaipNetworks.bind(F),this.caipNetworks=this.getCaipNetworks(),this.provider=t,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=ee.state.universalProviderConfigOverride,s=Ko.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const t=this.chains.map(n=>n.caipNetworkId);return Vs.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:kLe})}}const kLe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],RLe=[te.CONNECTOR_ID.AUTH,te.CONNECTOR_ID.WALLET_CONNECT];class DLe{constructor(t){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>F.getCaipNetworks(n),this.getConnectorId=n=>ae.getConnectorId(n),t&&this.construct(t),t?.namespace&&(this.connectionManager=new BLe({namespace:t.namespace}))}construct(t){this.projectId=t.projectId,this.namespace=t.namespace,this.adapterType=t.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:t,chainId:n}){const r=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===n?.toString());t&&r&&this.addConnection({connectorId:te.CONNECTOR_ID.AUTH,accounts:t,caipNetwork:r})}setAuthProvider(t){t.onConnect(this.onAuthConnected.bind(this)),t.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:te.CONNECTOR_ID.AUTH,type:"AUTH",name:te.CONNECTOR_NAMES.AUTH,provider:t,imageId:Rm.ConnectorImageIds[te.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...t){const n=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...t){const n=new Set;this.availableConnections=[...t,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(t){this.availableConnections=this.availableConnections.filter(n=>!Vn.isLowerCaseMatch(n.connectorId,t)),this.emit("connections",this.availableConnections)}clearConnections(t=!1){this.availableConnections=[],t&&this.emit("connections",this.availableConnections)}setStatus(t,n){F.setAccountProp("status",t,n)}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,new Set),this.eventListeners.get(t)?.add(n)}off(t,n){const r=this.eventListeners.get(t);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(t=>{t.clear()})}emit(t,n){const r=this.eventListeners.get(t);r&&r.forEach(s=>s(n))}async connectWalletConnect(t){try{return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}catch(n){throw Ko.isUserRejectedRequestError(n)?new $M(n):n}}async switchNetwork(t){const{caipNetwork:n,providerType:r}=t;if(!t.provider)return;const s="provider"in t.provider?t.provider.provider:t.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const i=s,o=Cr(n.chainNamespace);await i.switchNetwork({chainId:n.caipNetworkId});const a=await i.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const t=this.connectors.find(n=>n instanceof WG);if(!t)throw new Error("WalletConnectConnector not found");return t}onConnect(t,n){if(t.length>0){const{address:r,chainId:s}=oe.getAccount(t[0]),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===s?.toString()),o=this.connectors.find(a=>a.id===n);r&&(this.emit("accountChanged",{address:r,chainId:s,connector:o}),this.addConnection({connectorId:n,accounts:t.map(a=>{const{address:c}=oe.getAccount(a);return{address:c}}),caipNetwork:i}))}}onAccountsChanged(t,n,r=!0){if(t.length>0){const{address:s}=oe.getAccount(t[0]),i=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});s&&Vn.isLowerCaseMatch(this.getConnectorId(te.CHAIN.EVM),n)&&this.emit("accountChanged",{address:s,chainId:i?.caipNetwork?.id,connector:i?.connector}),this.addConnection({connectorId:n,accounts:t.map(o=>{const{address:a}=oe.getAccount(o);return{address:a}}),caipNetwork:i?.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(t){this.removeProviderListeners(t),this.deleteConnection(t),Vn.isLowerCaseMatch(this.getConnectorId(te.CHAIN.EVM),t)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(t,n){const r=typeof t=="string"&&t.startsWith("0x")?v3.hexStringToNumber(t).toString():t.toString(),s=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===r);s&&this.addConnection({connectorId:n,accounts:s.accounts,caipNetwork:i}),Vn.isLowerCaseMatch(this.getConnectorId(te.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(t,n){if(RLe.includes(t))return;const r=o=>this.onAccountsChanged(o,t),s=o=>this.onChainChanged(o,t),i=()=>this.onDisconnect(t);this.providerHandlers[t]||(n.on("disconnect",i),n.on("accountsChanged",r),n.on("chainChanged",s),this.providerHandlers[t]={provider:n,disconnect:i,accountsChanged:r,chainChanged:s})}removeProviderListeners(t){if(this.providerHandlers[t]){const{provider:n,disconnect:r,accountsChanged:s,chainChanged:i}=this.providerHandlers[t];n.removeListener("disconnect",r),n.removeListener("accountsChanged",s),n.removeListener("chainChanged",i),this.providerHandlers[t]=null}}emitFirstAvailableConnection(){const t=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(t){const[n]=t.accounts;this.emit("accountChanged",{address:n?.address,chainId:t.caipNetwork?.id,connector:t.connector})}}}class MLe extends DLe{async setUniversalProvider(t){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new WG({provider:t,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(t){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(t.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(t){console.warn("UniversalAdapter:disconnect - error",t)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:t}){const r=this.provider?.session?.namespaces?.[t]?.accounts?.map(s=>{const[,,i]=s.split(":");return i}).filter((s,i,o)=>o.indexOf(s)===i)||[];return Promise.resolve({accounts:r.map(s=>oe.createAccount(t,s,t==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(t){if(!(t.caipNetwork&&Ye.BALANCE_SUPPORTED_CHAINS.includes(t.caipNetwork?.chainNamespace))||t.caipNetwork?.testnet)return{balance:"0.00",symbol:t.caipNetwork?.nativeCurrency.symbol||""};const r=F.getAccountData();if(r?.balanceLoading&&t.chainId===F.state.activeCaipNetwork?.id)return{balance:r?.balance||"0.00",symbol:r?.balanceSymbol||""};const i=(await F.fetchTokenBalance()).find(o=>o.chainId===`${t.caipNetwork?.chainNamespace}:${t.chainId}`&&o.symbol===t.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||t.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(t){const{provider:n,message:r,address:s}=t;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return F.state.activeCaipNetwork?.chainNamespace===te.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:mo.encode(new TextEncoder().encode(r)),pubkey:s}},F.state.activeCaipNetwork?.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},F.state.activeCaipNetwork?.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(t){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(t){const{caipNetwork:n}=t,r=this.getWalletConnectConnector();if(n.chainNamespace===te.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:jt(n.id)}]})}catch(s){if(s.code===ey.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===ey.ERROR_INVALID_CHAIN_ID||s.code===ey.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===ey.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:jt(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(r=>r.type==="WALLET_CONNECT")?.provider}}const ULe=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],G3={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return!!e.isEnabled&&t.includes("email")},processFallback:e=>e===void 0?Ye.DEFAULT_REMOTE_FEATURES.email:!!e},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t.filter(n=>n!=="email"):!1},processFallback:e=>e===void 0?Ye.DEFAULT_REMOTE_FEATURES.socials:typeof e=="boolean"?e?Ye.DEFAULT_REMOTE_FEATURES.socials:!1:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?Ye.DEFAULT_REMOTE_FEATURES.swaps:typeof e=="boolean"?e?Ye.DEFAULT_REMOTE_FEATURES.swaps:!1:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?Ye.DEFAULT_REMOTE_FEATURES.onramp:typeof e=="boolean"?e?Ye.DEFAULT_REMOTE_FEATURES.onramp:!1:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?Ye.DEFAULT_REMOTE_FEATURES.activity:!!e},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?Ye.DEFAULT_REMOTE_FEATURES.reownBranding:!!e},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>e.isEnabled&&(e.config??[]),processFallback:e=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Ye.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Ye.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Ye.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>typeof e>"u"?Ye.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!e}},LLe={localSettingsOverridden:new Set,getApiConfig(e,t){return t?.find(n=>n.id===e)},addWarning(e,t){if(e!==void 0){const n=G3[t],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${t}")`:`"features.${t}"`;this.localSettingsOverridden.add(r)}},processFeature(e,t,n,r,s){const i=G3[e],o=t[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return a?.config===null?this.processFallbackFeature(e,o):a?.config?(o!==void 0&&this.addWarning(o,e),this.processApiFeature(e,a)):!1}return this.processFallbackFeature(e,o)},processApiFeature(e,t){return G3[e].processApi(t)},processFallbackFeature(e,t){return G3[e].processFallback(t)},async fetchRemoteFeatures(e){const t=e.basic??!1,n=e.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await he.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!t?Ye.DEFAULT_REMOTE_FEATURES:Ye.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of ULe){const a=this.processFeature(o,n,r,s,t);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),Ye.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;zn.open({debugMessage:ro.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return i}};class FLe{constructor(t){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{if(n){const s=F.getCaipNetworks(n)?.find(a=>a.id===r);if(s)return s;const i=F.getNetworkData(n)?.caipNetwork;return i||F.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n)?.[0]}return F.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>F.getCaipNetworks(n),this.getActiveChainNamespace=()=>F.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{F.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>F.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>F.state.activeChain===n||!n?F.state.activeCaipAddress:F.state.chains.get(n)?.accountState?.caipAddress,this.setClientId=n=>{Be.setClientId(n)},this.getProvider=n=>Yt.getProvider(n),this.getProviderType=n=>Yt.getProviderId(n),this.getPreferredAccountType=n=>Cr(n),this.setCaipAddress=(n,r,s=!1)=>{F.setAccountProp("caipAddress",n,r,s),F.setAccountProp("address",oe.getPlainAddress(n),r,s)},this.setBalance=(n,r,s)=>{F.setAccountProp("balance",n,s),F.setAccountProp("balanceSymbol",r,s)},this.setProfileName=(n,r)=>{F.setAccountProp("profileName",n,r)},this.setProfileImage=(n,r)=>{F.setAccountProp("profileImage",n,r)},this.setUser=(n,r)=>{F.setAccountProp("user",n,r)},this.resetAccount=n=>{F.resetAccount(n)},this.setCaipNetwork=n=>{F.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{F.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{F.setAccountProp("status",n,r),ae.isConnected()?ce.setConnectionStatus("connected"):ce.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>F.getAccountData(n)?.address,this.setConnectors=n=>{const r=[...ae.state.allConnectors,...n];ae.setConnectors(r)},this.setConnections=(n,r)=>{ce.setConnections(n,r),ie.setConnections(n,r)},this.fetchIdentity=n=>Be.fetchIdentity(n),this.getReownName=n=>V2.getNamesForAddress(n),this.getConnectors=()=>ae.getConnectors(),this.getConnectorImage=n=>wi.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?Z8.getConnectionsData(n).connections:(zn.open(te.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?Z8.getConnectionsData(n).recentConnections:(zn.open(te.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){zn.open(te.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await ie.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){zn.open(te.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ce.deleteAddressFromConnection(n),ie.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const s=Yt.getProviderId(r),i=n?{...n,type:s}:void 0;F.setAccountProp("connectedWalletInfo",i,r)},this.getIsConnectedState=()=>!!F.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{const i=F.getAccountData(s)?.addressLabels||{};F.setAccountProp("addressLabels",{...i,[n]:r},s)},this.removeAddressLabel=(n,r)=>{const s=F.getAccountData(r)?.addressLabels||{};F.setAccountProp("addressLabels",{...s,[n]:void 0},r)},this.getAddress=n=>{const r=n||F.state.activeChain;return F.getAccountData(r)?.address},this.setApprovedCaipNetworksData=n=>F.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{F.resetNetwork(n)},this.addConnector=n=>{ae.addConnector(n)},this.resetWcConnection=()=>{ie.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{F.setAccountProp("addressExplorerUrl",n,r)},this.setSmartAccountDeployed=(n,r)=>{F.setAccountProp("smartAccountDeployed",n,r)},this.setPreferredAccountType=(n,r)=>{F.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{ee.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=t,this.version=t.sdkVersion,this.caipNetworks=this.extendCaipNetworks(t),this.chainNamespaces=this.getChainNamespacesSet(t.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(t),this.chainAdapters=this.createAdapters(t.adapters),this.readyPromise=this.initialize(t),BUe.checkSDKVersion(t.sdkVersion)}getChainNamespacesSet(t,n){const r=t?.map(i=>i.namespace).filter(i=>!!i);if(r?.length)return[...new Set(r)];const s=n?.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(t){if(this.initializeProjectSettings(t),this.initControllers(t),await this.initChainAdapters(),this.sendInitializeEvent(t),ee.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await LLe.fetchRemoteFeatures(t),ee.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&SA.setOnrampProviders(this.remoteFeatures.onramp),(ee.state.remoteFeatures?.email||Array.isArray(ee.state.remoteFeatures?.socials)&&ee.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),ee.state.features?.reownAuthentication||ee.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:n}=await Promise.resolve().then(function(){return iFe}),r=ee.state.siwx;r instanceof n||(r&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),ee.setSIWX(new n))}}async openSend(t){const n=t.namespace||F.state.activeChain,r=this.getCaipAddress(n),s=this.getCaipNetwork(n)?.id;if(!r)throw new Error("openSend: caipAddress not found");if(s?.toString()!==t.chainId.toString()){const i=F.getCaipNetworkById(t.chainId,n);if(!i)throw new Error(`openSend: caipNetwork with chainId ${t.chainId} not found`);await this.switchNetwork(i,{throwOnFailure:!0})}try{const i=wG.getTokenSymbolByAddress(t.assetAddress);i&&await he.fetchTokenImages([i])}catch{}return await Fe.open({view:"WalletSend",data:{send:t}}),new Promise((i,o)=>{const a=Xe.subscribeKey("hash",u=>{u&&(l(),i({hash:u}))}),c=Fe.subscribe(u=>{u.open||(l(),o(new Error("Modal closed")))}),l=this.createCleanupHandler([a,c])})}toModalOptions(){function t(r){return r?.view==="Swap"}function n(r){return r?.view==="WalletSend"}return{isSwap:t,isSend:n}}async checkAllowedOrigins(){try{const t=await he.fetchAllowedOrigins();if(!oe.isClient())return;const n=window.location.origin;Ko.isOriginAllowed(n,t,ey.DEFAULT_ALLOWED_ANCESTORS)||zn.open(ro.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(t){if(!(t instanceof Error))return;switch(t.message){case"RATE_LIMITED":zn.open(ro.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=t.cause instanceof Error?t.cause:t;zn.open({displayMessage:ro.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:ro.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}}}}createCleanupHandler(t){return()=>{t.forEach(n=>{try{n()}catch{}})}}sendInitializeEvent(t){const{...n}=t;delete n.adapters,delete n.universalProvider,Ie.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:t.networks.map(r=>r.id),siweConfig:{options:t.siweConfig?.options||{}}}})}initControllers(t){this.initializeOptionsController(t),this.initializeChainController(t),this.initializeThemeController(t),this.initializeConnectionController(t),this.initializeConnectorController()}initializeThemeController(t){t.themeMode&&sr.setThemeMode(t.themeMode),t.themeVariables&&sr.setThemeVariables(t.themeVariables)}initializeChainController(t){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");F.initialize(t.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&F.setActiveCaipNetwork(n)}initializeConnectionController(t){ie.initialize(t.adapters??[]),ie.setWcBasic(t.basic??!1)}initializeConnectorController(){ae.initialize(this.chainNamespaces)}initializeProjectSettings(t){ee.setProjectId(t.projectId),ee.setSdkVersion(t.sdkVersion)}initializeOptionsController(t){ee.setDebug(t.debug!==!1),ee.setEnableWalletGuide(t.enableWalletGuide!==!1),ee.setEnableWallets(t.enableWallets!==!1),ee.setEIP6963Enabled(t.enableEIP6963!==!1),ee.setEnableNetworkSwitch(t.enableNetworkSwitch!==!1),ee.setEnableReconnect(t.enableReconnect!==!1),ee.setEnableMobileFullScreen(t.enableMobileFullScreen===!0),ee.setEnableAuthLogger(t.enableAuthLogger!==!1),ee.setCustomRpcUrls(t.customRpcUrls),ee.setEnableEmbedded(t.enableEmbedded),ee.setAllWallets(t.allWallets),ee.setIncludeWalletIds(t.includeWalletIds),ee.setExcludeWalletIds(t.excludeWalletIds),ee.setFeaturedWalletIds(t.featuredWalletIds),ee.setTokens(t.tokens),ee.setTermsConditionsUrl(t.termsConditionsUrl),ee.setPrivacyPolicyUrl(t.privacyPolicyUrl),ee.setCustomWallets(t.customWallets),ee.setFeatures(t.features),ee.setAllowUnsupportedChain(t.allowUnsupportedChain),ee.setUniversalProviderConfigOverride(t.universalProviderConfigOverride),ee.setPreferUniversalLinks(t.experimental_preferUniversalLinks),ee.setDefaultAccountTypes(t.defaultAccountTypes);const n=this.getDefaultMetaData();if(!t.metadata&&n&&(t.metadata=n),ee.setMetadata(t.metadata),ee.setDisableAppend(t.disableAppend),ee.setEnableEmbedded(t.enableEmbedded),ee.setSIWX(t.siwx),this.features=ee.state.features??{},!t.projectId){zn.open(ro.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(t.adapters?.find(s=>s.namespace===te.CHAIN.EVM)&&t.siweConfig){if(t.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");ee.setSIWX(t.siweConfig.mapToSIWX())}}getDefaultMetaData(){return oe.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(t){const n=this.getActiveChainNamespace();if(n){const r=Bf.getUnsupportedNetwork(`${n}:${t}`);F.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Bf.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(t,n){return Bf.extendCaipNetwork(t,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(t){return Bf.extendCaipNetworks(t.networks,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId})}extendDefaultCaipNetwork(t){const n=t.networks.find(s=>s.id===t.defaultNetwork?.id);return n?Bf.extendCaipNetwork(n,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId}):void 0}async disconnectConnector(t,n){try{this.setLoading(!0,t);let r={connections:[]};const s=this.getAdapter(t);return(F.state.chains.get(t)?.accountState?.caipAddress||!ee.state.enableReconnect)&&s?.disconnect&&(r=await s.disconnect({id:n})),this.setLoading(!1,t),r}catch(r){throw this.setLoading(!1,t),new Error(`Failed to disconnect chains: ${r.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const t=F.state.activeChain,n=this.getAdapter(t),r=this.getCaipNetwork(t)?.id,s=ie.getConnections(t),i=this.remoteFeatures.multiWallet,o=s.length>0;if(!n)throw new Error("Adapter not found");const a=await n.connectWalletConnect(r);(!o||!i)&&this.close(),this.setClientId(a?.clientId||null),ce.setConnectedNamespaces([...F.state.chains.keys()]),await this.syncWalletConnectAccount(),await Vs.initializeIfEnabled()},connectExternal:async t=>{const n=await this.onConnectExternal(t);return await this.connectInactiveNamespaces(t,n),n?{address:n.address}:void 0},reconnectExternal:async({id:t,info:n,type:r,provider:s})=>{const i=F.state.activeChain,o=this.getAdapter(i);if(!i)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o?.reconnect&&(await o?.reconnect({id:t,info:n,type:r,provider:s,chainId:this.getCaipNetwork()?.id}),ce.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnectConnector:async t=>{await this.disconnectConnector(t.namespace,t.id)},disconnect:async t=>{const{id:n,chainNamespace:r,initialDisconnect:s}=t||{},i=r||F.state.activeChain,o=ae.getConnectorId(i),a=n===te.CONNECTOR_ID.AUTH||o===te.CONNECTOR_ID.AUTH,c=n===te.CONNECTOR_ID.WALLET_CONNECT||o===te.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(F.state.chains.keys());let u=r?[r]:l;(c||a)&&(u=l);const f=u.map(async p=>{const g=ae.getConnectorId(p),y=n||g,$=await this.disconnectConnector(p,y);$&&(a&&ce.deleteConnectedSocialProvider(),$.connections.forEach(_=>{ce.addDisconnectedConnectorId(_.connectorId,p)})),s&&this.onDisconnectNamespace({chainNamespace:p,closeModal:!1})}),d=await Promise.allSettled(f);Xe.resetSend(),ie.resetWcConnection(),Vs.getSIWX()?.signOutOnDisconnect&&await Vs.clearSessions(),ae.setFilterByNamespace(void 0),ie.syncStorageConnections();const h=d.filter(p=>p.status==="rejected");if(h.length>0)throw new Error(h.map(p=>p.reason.message).join(", "));Ie.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:t=>t?t.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async t=>{const n=F.state.activeChain,r=this.getAdapter(F.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");const s=this.getAddress(n);if(!s)throw new Error("signMessage: address not found");return(await r?.signMessage({message:t,address:s,provider:Yt.getProvider(n)}))?.signature||""},sendTransaction:async t=>{const n=t.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(Ye.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const s=Yt.getProvider(n);return(await r?.sendTransaction({...t,caipNetwork:this.getCaipNetwork(),provider:s}))?.hash||""}return""},estimateGas:async t=>{const n=t.chainNamespace;if(n===te.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const s=Yt.getProvider(n),i=this.getCaipNetwork();if(!i)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await r?.estimateGas({...t,provider:s,caipNetwork:i}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const t=F.state.activeChain;if(!t)throw new Error("getEnsAvatar: namespace is required but got undefined");const n=this.getAddress(t);if(!n)throw new Error("getEnsAvatar: address not found");return await this.syncIdentity({address:n,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:t}),F.getAccountData()?.profileImage||!1},getEnsAddress:async t=>await Ko.resolveReownName(t),writeContract:async t=>{const n=F.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const s=this.getCaipNetwork(),i=this.getCaipAddress(),o=Yt.getProvider(n);if(!s||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await r?.writeContract({...t,caipNetwork:s,provider:o,caipAddress:i}))?.hash},parseUnits:(t,n)=>{const r=this.getAdapter(F.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return r?.parseUnits({value:t,decimals:n})??0n},formatUnits:(t,n)=>{const r=this.getAdapter(F.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return r?.formatUnits({value:t,decimals:n})??"0"},getCapabilities:async t=>{const n=this.getAdapter(F.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await n?.getCapabilities(t)},grantPermissions:async t=>{const n=this.getAdapter(F.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await n?.grantPermissions(t)},revokePermissions:async t=>{const n=this.getAdapter(F.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n?.revokePermissions?await n.revokePermissions(t):"0x"},walletGetAssets:async t=>{const n=this.getAdapter(F.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await n?.walletGetAssets(t)??{}},updateBalance:t=>{const n=this.getAddress(t),r=this.getCaipNetwork(t);!r||!n||this.updateNativeBalance(n,r?.id,t)}},this.networkControllerClient={switchCaipNetwork:async t=>await this.switchCaipNetwork(t),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ie.setClient(this.connectionControllerClient)}async onConnectExternal(t){const n=F.state.activeChain,r=t.chain||n,s=this.getAdapter(r);let i=!0;if(t.type===Wt.CONNECTOR_TYPE_AUTH&&te.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(f=>ae.getConnectorId(f)===te.CONNECTOR_ID.AUTH)&&t.chain!==n&&(i=!1),t.chain&&t.chain!==n&&!t.caipNetwork){const l=this.getCaipNetworks().find(u=>u.chainNamespace===t.chain);l&&i&&this.setCaipNetwork(l)}if(!r)throw new Error("connectExternal: namespace not found");if(!s)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(r),a=t.caipNetwork||o,c=await s.connect({id:t.id,address:t.address,info:t.info,type:t.type,provider:t.provider,socialUri:t.socialUri,chainId:t.caipNetwork?.id||o?.id,rpcUrl:t.caipNetwork?.rpcUrls?.default?.http?.[0]||o?.rpcUrls?.default?.http?.[0]});if(c)return ce.addConnectedNamespace(r),this.syncProvider({...c,chainNamespace:r}),this.setStatus("connected",r),this.syncConnectedWalletInfo(r),ce.removeDisconnectedConnectorId(t.id,r),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(t,n){const r=t.type===Wt.CONNECTOR_TYPE_AUTH,s=Vn.getOtherAuthNamespaces(n?.connectedCaipNetwork?.chainNamespace),i=F.state.activeCaipNetwork,o=this.getAdapter(i?.chainNamespace),a=Yt.getProvider(i?.chainNamespace);r&&(await Promise.all(s.map(async c=>{try{const l=Yt.getProvider(c),u=this.getCaipNetwork(c);await this.getAdapter(c)?.connect({...t,provider:l,socialUri:void 0,chainId:u?.id,rpcUrl:u?.rpcUrls?.default?.http?.[0]})&&(ce.addConnectedNamespace(c),ce.removeDisconnectedConnectorId(t.id,c),this.setStatus("connected",c),this.syncConnectedWalletInfo(c))}catch(l){zn.warn(ro.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,ro.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(c,l instanceof Error?l.message:void 0),ro.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),i&&await o?.switchNetwork({caipNetwork:i,provider:a,providerType:t.type}))}getApprovedCaipNetworksData(){if(Yt.getProviderId(F.state.activeChain)===Wt.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(t){const n=t.chainNamespace;if(this.getAddressByChainNamespace(t.chainNamespace)){const s=Yt.getProvider(n),i=Yt.getProviderId(n);if(t.chainNamespace===F.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:t,provider:s,providerType:i});else if(this.setCaipNetwork(t),i===Wt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:t.id,chainNamespace:n})}}else this.setCaipNetwork(t)}getChainsFromNamespaces(t={}){return Object.values(t).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=er.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(t){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{const s=t?.find(i=>i.namespace===r);return s?(s.construct({namespace:r,projectId:this.options?.projectId,networks:this.caipNetworks?.filter(({chainNamespace:i})=>i===r)}),n[r]=s):n[r]=new MLe({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(t){this.onConnectors(t),this.listenAdapter(t),await this.chainAdapters?.[t].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(t)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async t=>{await this.initChainAdapter(t)}))}onConnectors(t){this.getAdapter(t)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(t){const n=this.getAdapter(t);if(!n)return;const r=ce.getConnectionStatus();ee.state.enableReconnect===!1?this.setStatus("disconnected",t):r==="connected"?this.setStatus("connecting",t):r==="disconnected"?(ce.clearAddressCache(),this.setStatus(r,t)):this.setStatus(r,t),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(l=>l.id.toString()===i.toString()||l.caipNetworkId.toString()===i.toString()),a=F.state.activeChain===t,c=F.state.chains.get(t)?.accountState?.address;if(o){const l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:t})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",()=>{const s=this.remoteFeatures.multiWallet,i=Array.from(ie.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:t,closeModal:!s||i.length===0})}),n.on("connections",s=>{this.setConnections(s,t)}),n.on("pendingTransactions",()=>{const s=this.getAddress(t),i=F.state.activeCaipNetwork;!s||!i?.id||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i,connector:o})=>{this.handlePreviousConnectorConnection(o);const a=F.state.activeChain===t;o?.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o?.provider,chainNamespace:t}),this.syncConnectedWalletInfo(t));const c=F.getNetworkData(t)?.caipNetwork?.id,l=i||c;a&&l?this.syncAccount({address:s,chainId:l,chainNamespace:t}):!a&&l?(this.syncAccountInfo(s,l,t),this.syncBalance({address:s,chainId:l,chainNamespace:t})):this.syncAccountInfo(s,i,t),ce.addConnectedNamespace(t)})}async handlePreviousConnectorConnection(t){const n=t?.chain,r=t?.id,s=ae.getConnectorId(n),i=ee.state.remoteFeatures?.multiWallet,a=n&&r&&s&&s!==r&&!i;try{a&&await ie.disconnect({id:s,namespace:n})}catch(c){console.warn("Error disconnecting previous connector",c)}}async createUniversalProviderForAdapter(t){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[t]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(t=>this.syncNamespaceConnection(t)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(t=>ie.disconnect({namespace:t,initialDisconnect:!0})))}catch(t){console.error("Error disconnecting existing connections:",t)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const t=this.getAddress();this.getCaipAddress()||ce.deleteRecentWallet();const n=ce.getRecentWallet();Ie.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:oe.isMobile()?"mobile":"qrcode",name:n?.name||"Unknown",reconnect:!0,view:ne.state.view,walletRank:n?.order}})}async syncNamespaceConnection(t){try{t===te.CHAIN.EVM&&oe.isSafeApp()&&ae.setConnectorId(te.CONNECTOR_ID.SAFE,t);const n=ae.getConnectorId(t);switch(this.setStatus("connecting",t),n){case te.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case te.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(t)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",t)}}onDisconnectNamespace(t){const{chainNamespace:n,closeModal:r}=t||{};F.resetAccount(n),F.resetNetwork(n),ce.removeConnectedNamespace(n);const s=Array.from(F.state.chains.keys());(n?[n]:s).forEach(o=>ce.addDisconnectedConnectorId(ae.getConnectorId(o)||"",o)),ae.removeConnectorId(n),Yt.resetChain(n),this.setUser(null,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(null,n),r!==!1&&Fe.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(t=>{const n=this.getAdapter(t),r=this.getCaipAddress(t),s=this.getCaipNetwork(t);return n?.syncConnections({connectToFirstConnector:!r,caipNetwork:s})}))}async syncAdapterConnection(t){const n=this.getAdapter(t),r=this.getCaipNetwork(t),s=ae.getConnectorId(t),o=ae.getConnectors(t).find(a=>a.id===s);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${t}`);if(!r?.id)throw new Error("CaipNetwork not found");const a=await n?.syncConnection({namespace:t,id:o.id,chainId:r.id,rpcUrl:r?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:t}),await this.syncAccount({...a,chainNamespace:t}),this.setStatus("connected",t),Ie.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a.address,properties:{method:"browser",name:o.info?.name||o.name||"Unknown",reconnect:!0,view:ne.state.view,walletRank:void 0}})):this.setStatus("disconnected",t)}catch{this.onDisconnectNamespace({chainNamespace:t,closeModal:!1})}}async syncWalletConnectAccount(){const t=Object.keys(this.universalProvider?.session?.namespaces||{}),n=this.chainNamespaces.map(async r=>{const s=this.getAdapter(r);if(!s)return;const i=this.universalProvider?.session?.namespaces?.[r]?.accounts||[],o=F.state.activeCaipNetwork?.id,a=i.find(c=>{const{chainId:l}=er.parseCaipAddress(c);return l===o?.toString()})||i[0];if(a){const c=er.validateCaipAddress(a),{chainId:l,address:u}=er.parseCaipAddress(c);if(Yt.setProviderId(r,Wt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&F.state.activeCaipNetwork&&s.namespace!==te.CHAIN.EVM){const f=s.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:F.state.activeCaipNetwork});Yt.setProvider(r,f)}else Yt.setProvider(r,this.universalProvider);ae.setConnectorId(te.CONNECTOR_ID.WALLET_CONNECT,r),ce.addConnectedNamespace(r),await this.syncAccount({address:u,chainId:l,chainNamespace:r})}else t.includes(r)&&this.setStatus("disconnected",r);this.syncConnectedWalletInfo(r),await F.setApprovedCaipNetworksData(r)});await Promise.all(n)}syncProvider({type:t,provider:n,id:r,chainNamespace:s}){Yt.setProviderId(s,t),Yt.setProvider(s,n),ae.setConnectorId(r,s)}async syncAccount(t){const n=t.chainNamespace===F.state.activeChain,r=F.getCaipNetworkByNamespace(t.chainNamespace,t.chainId),{address:s,chainId:i,chainNamespace:o}=t,{chainId:a}=ce.getActiveNetworkProps(),c=i||a,l=F.state.activeCaipNetwork?.name===te.UNSUPPORTED_NETWORK_NAME,u=F.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(g=>g.id.toString()===c.toString()),d=this.getCaipNetworks().find(g=>g.chainNamespace===o);if(!u&&!f&&!d){const g=this.getApprovedCaipNetworkIds()||[],y=g.find(_=>er.parseCaipNetworkId(_)?.chainId===c.toString()),$=g.find(_=>er.parseCaipNetworkId(_)?.chainNamespace===o);f=this.getCaipNetworks().find(_=>_.caipNetworkId===y),d=this.getCaipNetworks().find(_=>_.caipNetworkId===$||"deprecatedCaipNetworkId"in _&&_.deprecatedCaipNetworkId===$)}const h=f||d;h?.chainNamespace===F.state.activeChain?ee.state.enableNetworkSwitch&&!ee.state.allowUnsupportedChain&&F.state.activeCaipNetwork?.name===te.UNSUPPORTED_NETWORK_NAME?F.showUnsupportedChainUI():this.setCaipNetwork(h):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o);const p=this.getAddress(o);Vn.isLowerCaseMatch(s,p)||this.syncAccountInfo(s,h?.id,o),n?await this.syncBalance({address:s,chainId:h?.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r?.id,chainNamespace:o}),this.syncIdentity({address:s,chainId:i,chainNamespace:o})}}async syncAccountInfo(t,n,r){const s=this.getCaipAddress(r),i=n||s?.split(":")[1];if(!i)return;const o=`${r}:${i}:${t}`;this.setCaipAddress(o,r,!0),await this.syncIdentity({address:t,chainId:i,chainNamespace:r})}async syncReownName(t,n){try{const r=await this.getReownName(t);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(t){const n=ae.getConnectorId(t),r=Yt.getProviderId(t);if(r===Wt.CONNECTOR_TYPE_ANNOUNCED||r===Wt.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>{const a=o.id===n,c=o.info?.rdns===n,l=o.connectors?.some(u=>u.id===n||u.info?.rdns===n);return a||c||!!l});if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},t)}}}else if(r===Wt.CONNECTOR_TYPE_WALLET_CONNECT){const s=Yt.getProvider(t);s?.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:s.session.peer.metadata.icons?.[0]},t)}else if(n&&(n===te.CONNECTOR_ID.COINBASE_SDK||n===te.CONNECTOR_ID.COINBASE)){const s=this.getConnectors().find(c=>c.id===n),i=s?.name||"Coinbase Wallet",o=s?.imageUrl||this.getConnectorImage(s),a=s?.info;this.setConnectedWalletInfo({...a,name:i,icon:o},t)}}async syncBalance(t){!px.getNetworksByNamespace(this.getCaipNetworks(),t.chainNamespace).find(r=>r.id.toString()===t.chainId?.toString())||!t.chainId||await this.updateNativeBalance(t.address,t.chainId,t.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(t,n,r){const s=this.getAdapter(r),i=F.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:t,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){const t=kUe.createLogger((r,...s)=>{r&&this.handleAlertError(r),console.error(...s)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:t};ee.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await wI.init(n),ee.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(t=>{Ko.listenWcProvider({universalProvider:this.universalProvider,namespace:t,onDisplayUri:n=>{ie.setUri(n)},onConnect:n=>{const{address:r}=oe.getAccount(n[0]);ie.finalizeWcConnection(r)},onDisconnect:()=>{F.state.noAdapters&&this.resetAccount(t),ie.resetWcConnection()},onChainChanged:n=>{const r=F.state.activeChain,s=r&&ae.state.activeConnectorIds[r]===te.CONNECTOR_ID.WALLET_CONNECT;if(r===t&&(F.state.noAdapters||s)){const i=this.getCaipNetworks().find(a=>a.id.toString()===n.toString()||a.caipNetworkId.toString()===n.toString()),o=this.getCaipNetwork();if(!i){this.setUnsupportedNetwork(n);return}o?.id.toString()!==i?.id.toString()&&o?.chainNamespace===i?.chainNamespace&&this.setCaipNetwork(i)}},onAccountsChanged:n=>{const r=F.state.activeChain,s=r&&ae.state.activeConnectorIds[r]===te.CONNECTOR_ID.WALLET_CONNECT;if(r===t&&(F.state.noAdapters||s)){const i=n?.[0];i&&this.syncAccount({address:i.address,chainId:i.chainId,chainNamespace:i.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&oe.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(t){Ie.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:t instanceof Error?t.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",t)}return this.universalProvider}getDisabledCaipNetworks(){const t=F.getAllApprovedCaipNetworkIds(),n=F.getAllRequestedCaipNetworks();return oe.sortRequestedNetworks(t,n).filter(s=>F.isCaipNetworkDisabled(s))}handleAlertError(t){const n=Object.entries(ro.UniversalProviderErrors).find(([,{message:a}])=>t.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=ro.ALERT_ERRORS[o];a&&(zn.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(t){if(t)return this.chainAdapters?.[t]}createAdapter(t){if(!t)return;const n=t.namespace;if(!n)return;this.createClients();const r=t;r.namespace=n,r.construct({namespace:n,projectId:this.options?.projectId,networks:this.caipNetworks?.filter(({chainNamespace:s})=>s===n)}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(t){await this.injectModalUi(),t?.uri&&ie.setUri(t.uri);const{isSwap:n,isSend:r}=this.toModalOptions();return n(t)?Fe.open({...t,data:{swap:t.arguments}}):r(t)&&t.arguments?this.openSend(t.arguments):Fe.open(t)}async close(){await this.injectModalUi(),Fe.close()}setLoading(t,n){Fe.setLoading(t,n)}async disconnect(t){await ie.disconnect({namespace:t})}getSIWX(){return ee.state.siwx}getError(){return""}getChainId(){return F.state.activeCaipNetwork?.id}async switchNetwork(t,{throwOnFailure:n=!1}={}){const r=this.getCaipNetworks().find(s=>s.id===t.id);if(!r){zn.open(ro.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await F.switchActiveNetwork(r,{throwOnFailure:n})}getWalletProvider(){return F.state.activeChain?Yt.state.providers[F.state.activeChain]:null}getWalletProviderType(){return Yt.getProviderId(F.state.activeChain)}subscribeProviders(t){return Yt.subscribeProviders(t)}getThemeMode(){return sr.state.themeMode}getThemeVariables(){return sr.state.themeVariables}setThemeMode(t){sr.setThemeMode(t),OI(sr.state.themeMode)}setTermsConditionsUrl(t){ee.setTermsConditionsUrl(t)}setPrivacyPolicyUrl(t){ee.setPrivacyPolicyUrl(t)}setThemeVariables(t){sr.setThemeVariables(t),fLe(sr.state.themeVariables)}subscribeTheme(t){return sr.subscribe(t)}subscribeConnections(t){return this.remoteFeatures.multiWallet?ie.subscribe(t):(zn.open(te.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(t){return t?F.state.chains.get(t)?.accountState?.connectedWalletInfo:F.getAccountData()?.connectedWalletInfo}getAccount(t){const n=t||F.state.activeChain,r=ae.getAuthConnector(n),s=F.getAccountData(n),i=ce.getConnectedConnectorId(F.state.activeChain),o=ie.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:f})=>oe.createAccount(n,l,u||"eoa",f)));if(s)return{allAccounts:a,caipAddress:s.caipAddress,address:oe.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:r&&i===te.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:ce.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:Cr(n),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(t,n){const r=()=>{const s=this.getAccount(n);s&&t(s)};n?F.subscribeChainProp("accountState",r,n):F.subscribe(r),ae.subscribe(r)}subscribeNetwork(t){return F.subscribe(({activeCaipNetwork:n})=>{t({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(t,n){return n?F.subscribeChainProp("accountState",r=>t(r?.connectedWalletInfo),n):F.subscribeChainProp("accountState",r=>t(r?.connectedWalletInfo))}subscribeShouldUpdateToAddress(t){F.subscribeChainProp("accountState",n=>t(n?.shouldUpdateToAddress))}subscribeCaipNetworkChange(t){F.subscribeKey("activeCaipNetwork",t)}getState(){return Dl.state}getRemoteFeatures(){return ee.state.remoteFeatures}subscribeState(t){return Dl.subscribe(t)}subscribeRemoteFeatures(t){return ee.subscribeKey("remoteFeatures",t)}showErrorMessage(t){it.showError(t)}showSuccessMessage(t){it.showSuccess(t)}getEvent(){return{...Ie.state}}subscribeEvents(t){return Ie.subscribe(t)}replace(t){ne.replace(t)}redirect(t){ne.push(t)}popTransactionStack(t){ne.popTransactionStack(t)}isOpen(){return Fe.state.open}isTransactionStackEmpty(){return ne.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(t){ee.setFeatures(t)}updateRemoteFeatures(t){ee.setRemoteFeatures(t)}updateOptions(t){const r={...ee.state||{},...t};ee.setOptions(r)}setConnectMethodsOrder(t){ee.setConnectMethodsOrder(t)}setWalletFeaturesOrder(t){ee.setWalletFeaturesOrder(t)}setCollapseWallets(t){ee.setCollapseWallets(t)}setSocialsOrder(t){ee.setSocialsOrder(t)}getConnectMethodsOrder(){return Vd.getConnectOrderMethod(ee.state.features,ae.getConnectors())}addNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||F.addNetwork(r)}removeNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&F.removeNetwork(t,n)}}let KG=!1;class GG extends FLe{async open(t){ae.isConnected()||await super.open(t)}async close(){if(await super.close(),this.options.manualWCControl){const t=F.getAccountData(this.activeChainNamespace)?.address;ie.finalizeWcConnection(t)}}async syncIdentity(t){return Promise.resolve()}async syncBalance(t){return Promise.resolve()}async injectModalUi(){if(!KG&&oe.isClient()){if(await Promise.resolve().then(function(){return Pze}),await Promise.resolve().then(function(){return rHe}),!document.querySelector("w3m-modal")){const n=document.createElement("w3m-modal");!ee.state.disableAppend&&!ee.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",n)}KG=!0}}}const jLe="1.8.7";function zLe(e){return new GG({...e,basic:!0,sdkVersion:`html-core-${jLe}`})}var HLe=Object.freeze({__proto__:null,createAppKit:zLe,AppKit:GG}),VLe=Object.defineProperty,qLe=Object.defineProperties,ZLe=Object.getOwnPropertyDescriptors,YG=Object.getOwnPropertySymbols,WLe=Object.prototype.hasOwnProperty,KLe=Object.prototype.propertyIsEnumerable,XG=(e,t,n)=>t in e?VLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JG=(e,t)=>{for(var n in t||(t={}))WLe.call(t,n)&&XG(e,n,t[n]);if(YG)for(var n of YG(t))KLe.call(t,n)&&XG(e,n,t[n]);return e},GLe=(e,t)=>qLe(e,ZLe(t));function YLe(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const XLe=e=>{const[t,n]=e.split(":");return QG({id:n,caipNetworkId:e,chainNamespace:t,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function JLe(e){var t,n,r,s,i,o,a;const c=(t=e.chains)==null?void 0:t.map(XLe).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const l=c.find(f=>{var d;return f.id===((d=e.defaultChain)==null?void 0:d.id)}),u={projectId:e.projectId,networks:c,themeMode:e.themeMode,themeVariables:YLe(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:l,metadata:GLe(JG({},e.metadata),{name:((n=e.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=e.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((s=e.metadata)==null?void 0:s.url)||"https://walletconnect.org",icons:((i=e.metadata)==null?void 0:i.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:e.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:e.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=e.mobileWallets)!=null&&o.length||(a=e.desktopWallets)!=null&&a.length){const f=[...(e.mobileWallets||[]).map(p=>({id:p.id,name:p.name,links:p.links})),...(e.desktopWallets||[]).map(p=>({id:p.id,name:p.name,links:{native:p.links.native,universal:p.links.universal}}))],d=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],h=f.filter(p=>!d.includes(p.id));h.length&&(u.customWallets=h)}return u}function QG(e){return JG({formatters:void 0,fees:void 0,serializers:void 0},e)}var QLe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:JLe,defineChain:QG});function eFe(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const tFe=eFe();var nFe=Object.freeze({__proto__:null,WebSocket:tFe});class eY{constructor(t){this.getNonce=t.getNonce}async createMessage(t){const n={accountAddress:t.accountAddress,chainId:t.chainId,version:"1",domain:typeof document>"u"?"Unknown Domain":document.location.host,uri:typeof document>"u"?"Unknown URI":document.location.href,resources:this.resources,nonce:await this.getNonce(t),issuedAt:this.stringifyDate(new Date),statement:void 0,expirationTime:void 0,notBefore:void 0};return Object.assign(n,{toString:()=>this.stringify(n)})}stringify(t){const n=this.getNetworkName(t.chainId);return[`${t.domain} wants you to sign in with your ${n} account:`,t.accountAddress,t.statement?`
${t.statement}
`:"",`URI: ${t.uri}`,`Version: ${t.version}`,`Chain ID: ${t.chainId}`,`Nonce: ${t.nonce}`,t.issuedAt&&`Issued At: ${t.issuedAt}`,t.expirationTime&&`Expiration Time: ${t.expirationTime}`,t.notBefore&&`Not Before: ${t.notBefore}`,t.requestId&&`Request ID: ${t.requestId}`,t.resources?.length&&t.resources.reduce((r,s)=>`${r}
- ${s}`,"Resources:")].filter(r=>typeof r=="string").join(`
`).trim()}getNetworkName(t){const n=F.getAllRequestedCaipNetworks();return px.getNetworkNameByCaipNetworkId(n,t)}stringifyDate(t){return t.toISOString()}}class rFe{constructor(t={}){this.otpUuid=null,this.listeners={sessionChanged:[]},this.localAuthStorageKey=t.localAuthStorageKey||_e.SIWX_AUTH_TOKEN,this.localNonceStorageKey=t.localNonceStorageKey||_e.SIWX_NONCE_TOKEN,this.required=t.required??!0,this.messenger=new eY({getNonce:this.getNonce.bind(this)})}async createMessage(t){return this.messenger.createMessage(t)}async addSession(t){const n=await this.request({method:"POST",key:"authenticate",body:{data:t.data,message:t.message,signature:t.signature,clientId:this.getClientId(),walletInfo:this.getWalletInfo()},headers:["nonce","otp"]});this.setStorageToken(n.token,this.localAuthStorageKey),this.emit("sessionChanged",t),this.setAppKitAccountUser(sFe(n.token)),this.otpUuid=null}async getSessions(t,n){try{if(!this.getStorageToken(this.localAuthStorageKey))return[];const r=await this.request({method:"GET",key:"me",query:{},headers:["auth"]});if(!r)return[];const s=r.address.toLowerCase()===n.toLowerCase(),i=r.caip2Network===t;if(!s||!i)return[];const o={data:{accountAddress:r.address,chainId:r.caip2Network},message:"",signature:""};return this.emit("sessionChanged",o),this.setAppKitAccountUser(r),[o]}catch{return[]}}async revokeSession(t,n){return Promise.resolve(this.clearStorageTokens())}async setSessions(t){if(t.length===0)this.clearStorageTokens();else{const n=t.find(r=>r.data.chainId===j2()?.caipNetworkId)||t[0];await this.addSession(n)}}getRequired(){return this.required}async getSessionAccount(){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"GET",key:"me",body:void 0,query:{includeAppKitAccount:!0},headers:["auth"]})}async setSessionAccountMetadata(t=null){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"PUT",key:"account-metadata",body:{metadata:t},headers:["auth"]})}on(t,n){return this.listeners[t].push(n),()=>{this.listeners[t]=this.listeners[t].filter(r=>r!==n)}}removeAllListeners(){Object.keys(this.listeners).forEach(n=>{this.listeners[n]=[]})}async requestEmailOtp({email:t,account:n}){const r=await this.request({method:"POST",key:"otp",body:{email:t,account:n}});return this.otpUuid=r.uuid,this.messenger.resources=[`email:${t}`],r}confirmEmailOtp({code:t}){return this.request({method:"PUT",key:"otp",body:{code:t},headers:["otp"]})}async request({method:t,key:n,query:r,body:s,headers:i}){const{projectId:o,st:a,sv:c}=this.getSDKProperties(),l=new URL(`${te.W3M_API_URL}/auth/v1/${String(n)}`);l.searchParams.set("projectId",o),l.searchParams.set("st",a),l.searchParams.set("sv",c),r&&Object.entries(r).forEach(([f,d])=>l.searchParams.set(f,String(d)));const u=await fetch(l,{method:t,body:s?JSON.stringify(s):void 0,headers:Array.isArray(i)?i.reduce((f,d)=>{switch(d){case"nonce":f["x-nonce-jwt"]=`Bearer ${this.getStorageToken(this.localNonceStorageKey)}`;break;case"auth":f.Authorization=`Bearer ${this.getStorageToken(this.localAuthStorageKey)}`;break;case"otp":this.otpUuid&&(f["x-otp"]=this.otpUuid);break}return f},{}):void 0});if(!u.ok)throw new Error(await u.text());return u.headers.get("content-type")?.includes("application/json")?u.json():null}getStorageToken(t){return Ae.getItem(t)}setStorageToken(t,n){Ae.setItem(n,t)}clearStorageTokens(){this.otpUuid=null,Ae.removeItem(this.localAuthStorageKey),Ae.removeItem(this.localNonceStorageKey),this.emit("sessionChanged",void 0)}async getNonce(){const{nonce:t,token:n}=await this.request({method:"GET",key:"nonce"});return this.setStorageToken(n,this.localNonceStorageKey),t}getClientId(){return Be.state.clientId}getWalletInfo(){const t=F.getAccountData()?.connectedWalletInfo;if(!t)return;if("social"in t&&"identifier"in t){const i=t.social,o=t.identifier;return{type:"social",social:i,identifier:o}}const{name:n,icon:r}=t;let s="unknown";switch(t.type){case"EXTERNAL":case"INJECTED":case"ANNOUNCED":s="extension";break;case"WALLET_CONNECT":s="walletconnect";break;default:s="unknown"}return{type:s,name:n,icon:r}}getSDKProperties(){return he._getSdkProperties()}emit(t,n){this.listeners[t].forEach(r=>r(n))}setAppKitAccountUser(t){const{email:n}=t;n&&Object.values(te.CHAIN).forEach(r=>{F.setAccountProp("user",{email:n},r)})}}function sFe(e){const t=e.split(".");if(t.length!==3)throw new Error("Invalid token");const n=t[1];if(typeof n!="string")throw new Error("Invalid token");const r=n.replace(/-/gu,"+").replace(/_/gu,"/"),s=r.padEnd(r.length+(4-r.length%4)%4,"=");return JSON.parse(atob(s))}var iFe=Object.freeze({__proto__:null,ReownAuthentication:rFe,ReownAuthenticationMessenger:eY});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const oFe={attribute:!0,type:String,converter:h3,reflect:!1,hasChanged:$I},aFe=(e=oFe,t,n)=>{const{kind:r,metadata:s}=n;let i=globalThis.litPropertyMetadata.get(s);if(i===void 0&&globalThis.litPropertyMetadata.set(s,i=new Map),r==="setter"&&((e=Object.create(e)).wrapped=!0),i.set(n.name,e),r==="accessor"){const{name:o}=n;return{set(a){const c=t.get.call(this);t.set.call(this,a),this.requestUpdate(o,c,e)},init(a){return a!==void 0&&this.C(o,void 0,e,a),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];t.call(this,a),this.requestUpdate(o,c,e)}}throw Error("Unsupported decorator location: "+r)};function G(e){return(t,n)=>typeof n=="object"?aFe(e,t,n):((r,s,i)=>{const o=s.hasOwnProperty(i);return s.constructor.createProperty(i,r),o?Object.getOwnPropertyDescriptor(s,i):void 0})(e,t,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function be(e){return G({...e,state:!0,attribute:!1})}var cFe=us`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
    box-sizing: border-box;
  }
`,Xs=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Ur=class extends Te{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&On.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&On.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&On.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&On.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&On.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&On.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&On.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&On.getSpacingStyles(this.margin,3)};
      width: ${this.width};
    `,W`<slot></slot>`}};Ur.styles=[bt,cFe],Xs([G()],Ur.prototype,"flexDirection",void 0),Xs([G()],Ur.prototype,"flexWrap",void 0),Xs([G()],Ur.prototype,"flexBasis",void 0),Xs([G()],Ur.prototype,"flexGrow",void 0),Xs([G()],Ur.prototype,"flexShrink",void 0),Xs([G()],Ur.prototype,"alignItems",void 0),Xs([G()],Ur.prototype,"justifyContent",void 0),Xs([G()],Ur.prototype,"columnGap",void 0),Xs([G()],Ur.prototype,"rowGap",void 0),Xs([G()],Ur.prototype,"gap",void 0),Xs([G()],Ur.prototype,"padding",void 0),Xs([G()],Ur.prototype,"margin",void 0),Xs([G()],Ur.prototype,"width",void 0),Ur=Xs([Oe("wui-flex")],Ur);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ge=e=>e??an;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tY=Symbol.for(""),lFe=e=>{if(e?.r===tY)return e?._$litStatic$},uFe=e=>({_$litStatic$:e,r:tY}),nY=new Map,dFe=e=>(t,...n)=>{const r=n.length;let s,i;const o=[],a=[];let c,l=0,u=!1;for(;l<r;){for(c=t[l];l<r&&(i=n[l],(s=lFe(i))!==void 0);)c+=s+t[++l],u=!0;l!==r&&a.push(i),o.push(c),l++}if(l===r&&o.push(t[r]),u){const f=o.join("$$lit$$");(t=nY.get(f))===void 0&&(o.raw=o,nY.set(f,t=o)),n=a}return e(t,...n)},rY=dFe(W),fFe=$t`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
  <g clip-path="url(#clip0_87_33)">
    <path d="M23.9367 2.29447e-07H6.05917C5.26333 -0.000218805 4.47526 0.156384 3.73997 0.46086C3.00469 0.765337 2.33661 1.21172 1.77391 1.7745C1.21121 2.33727 0.764917 3.00542 0.460542 3.74074C0.156167 4.47607 -0.000327963 5.26417 5.16031e-07 6.06V23.9433C4.48257e-07 24.7389 0.156744 25.5267 0.461276 26.2617C0.765808 26.9967 1.21216 27.6645 1.77484 28.2269C2.33752 28.7894 3.0055 29.2355 3.74061 29.5397C4.47573 29.8439 5.26358 30.0003 6.05917 30H23.9417C25.5486 29.9996 27.0895 29.3609 28.2257 28.2245C29.3618 27.0881 30 25.5469 30 23.94V6.06C29.9993 4.45241 29.3602 2.91091 28.2232 1.77449C27.0861 0.638064 25.5443 -0.000220881 23.9367 2.29447e-07Z" fill="url(#paint0_linear_87_33)"/>
    <path d="M14.8708 6.89259L15.4783 5.84259C15.5679 5.68703 15.6873 5.55064 15.8296 5.44122C15.9719 5.3318 16.1344 5.25148 16.3078 5.20486C16.4812 5.15824 16.662 5.14622 16.8401 5.1695C17.0181 5.19277 17.1898 5.25088 17.3453 5.34051C17.5009 5.43013 17.6373 5.54952 17.7467 5.69186C17.8561 5.83419 17.9364 5.99669 17.9831 6.17006C18.0297 6.34344 18.0417 6.5243 18.0184 6.70232C17.9952 6.88034 17.9371 7.05203 17.8474 7.20759L11.9949 17.3401H16.2283C17.5999 17.3401 18.3691 18.9526 17.7724 20.0701H5.36159C5.18215 20.0707 5.00436 20.0359 4.83845 19.9675C4.67254 19.8992 4.5218 19.7986 4.39492 19.6718C4.26803 19.5449 4.16751 19.3941 4.09915 19.2282C4.03079 19.0623 3.99593 18.8845 3.99659 18.7051C3.99659 17.9476 4.60492 17.3401 5.36159 17.3401H8.84159L13.2958 9.61926L11.9041 7.20426C11.738 6.89096 11.7 6.52543 11.7982 6.18469C11.8963 5.84395 12.1229 5.5546 12.4301 5.37763C12.7374 5.20065 13.1014 5.14987 13.4454 5.23599C13.7893 5.3221 14.0864 5.53838 14.2741 5.83926L14.8708 6.89259ZM9.60659 21.4759L8.29409 23.7526C8.20446 23.9082 8.08506 24.0446 7.94271 24.1541C7.80035 24.2636 7.63783 24.344 7.46441 24.3906C7.291 24.4373 7.11009 24.4493 6.93202 24.4261C6.75395 24.4028 6.58221 24.3447 6.42659 24.2551C6.27097 24.1655 6.13454 24.0461 6.02506 23.9037C5.91559 23.7613 5.83523 23.5988 5.78857 23.4254C5.74191 23.252 5.72986 23.0711 5.75311 22.893C5.77637 22.715 5.83446 22.5432 5.92409 22.3876L6.89909 20.7001C8.00159 20.3584 8.89742 20.6209 9.60659 21.4759ZM20.9066 17.3476H24.4583C25.2158 17.3476 25.8233 17.9551 25.8233 18.7126C25.8233 19.4701 25.2149 20.0776 24.4583 20.0776H22.4858L23.8166 22.3876C24.1916 23.0443 23.9708 23.8726 23.3149 24.2551C23.0006 24.4359 22.6274 24.4845 22.2772 24.3903C21.927 24.2961 21.6286 24.0667 21.4474 23.7526C19.2058 19.8643 17.5216 16.9534 16.4041 15.0151C15.2608 13.0426 16.0783 11.0626 16.8841 10.3909C17.7799 11.9293 19.1191 14.2501 20.9074 17.3476H20.9066Z" fill="white"/>
  </g>
  <defs>
    <linearGradient id="paint0_linear_87_33" x1="15" y1="2.29447e-07" x2="15" y2="30" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB"/>
      <stop offset="1" stop-color="#2072F3"/>
    </linearGradient>
    <clipPath id="clip0_87_33">
      <rect width="30" height="30" fill="white"/>
    </clipPath>
  </defs>
</svg>`,hFe=$t`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,pFe=$t`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 11">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="M7.862 4.86c.159-1.064-.652-1.637-1.76-2.018l.36-1.443-.879-.218-.35 1.404c-.23-.058-.468-.112-.703-.166l.352-1.413-.877-.219-.36 1.442a29.02 29.02 0 0 1-.56-.132v-.005l-1.21-.302-.234.938s.652.15.638.158c.356.089.42.324.41.51l-.41 1.644a.715.715 0 0 1 .09.03l-.092-.024-.574 2.302c-.044.108-.154.27-.402.208.008.013-.639-.16-.639-.16L.227 8.403l1.142.285c.213.053.42.109.626.161l-.363 1.459.877.218.36-1.443c.239.065.472.125.7.182l-.36 1.436.879.219.363-1.456c1.497.283 2.623.17 3.097-1.185.381-1.09-.02-1.719-.807-2.129.574-.132 1.006-.51 1.12-1.289ZM5.856 7.673c-.272 1.09-2.107.5-2.702.353l.482-1.933c.595.149 2.503.443 2.22 1.58Zm.271-2.829c-.247.992-1.775.488-2.27.365l.436-1.753c.496.124 2.092.354 1.834 1.388Z"
    />
  </svg>
`,gFe=$t`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
<path d="M14.9978 7.80003H27.4668C26.2032 5.61107 24.3857 3.79333 22.1968 2.52955C20.008 1.26577 17.525 0.600485 14.9975 0.600586C12.47 0.600687 9.98712 1.26617 7.79838 2.53012C5.60964 3.79408 3.79221 5.61197 2.52881 7.80103L8.76281 18.599L8.76881 18.598C8.13412 17.5044 7.79906 16.2628 7.79743 14.9983C7.79579 13.7339 8.12764 12.4914 8.7595 11.3961C9.39136 10.3008 10.3009 9.39159 11.3963 8.76005C12.4918 8.12851 13.7344 7.79702 14.9988 7.79903L14.9978 7.80003Z" fill="url(#paint0_linear_87_32)"/>
<path d="M21.237 18.5981L15.003 29.3961C17.5305 29.3961 20.0134 28.7308 22.2022 27.467C24.391 26.2032 26.2086 24.3854 27.4721 22.1965C28.7356 20.0075 29.4006 17.5245 29.4003 14.997C29.3999 12.4695 28.7342 9.9867 27.47 7.7981H15.002L15 7.8041C16.2642 7.80168 17.5067 8.13257 18.6022 8.76342C19.6977 9.39428 20.6076 10.3028 21.2401 11.3974C21.8726 12.492 22.2053 13.734 22.2048 14.9982C22.2042 16.2623 21.8704 17.504 21.237 18.5981Z" fill="url(#paint1_linear_87_32)"/>
<path d="M8.76502 18.601L2.53102 7.80298C1.26664 9.99172 0.600848 12.4748 0.600586 15.0025C0.600324 17.5302 1.2656 20.0134 2.52953 22.2024C3.79345 24.3914 5.61145 26.209 7.80071 27.4725C9.98998 28.736 12.4733 29.4008 15.001 29.4L21.236 18.602L21.232 18.598C20.6022 19.6941 19.6944 20.6049 18.6003 21.2383C17.5062 21.8717 16.2644 22.2055 15.0002 22.2059C13.7359 22.2063 12.4939 21.8733 11.3994 21.2406C10.3049 20.6079 9.39657 19.6977 8.76602 18.602L8.76502 18.601Z" fill="url(#paint2_linear_87_32)"/>
<path d="M14.9998 22.2C16.9094 22.2 18.7407 21.4415 20.091 20.0912C21.4412 18.741 22.1998 16.9096 22.1998 15C22.1998 13.0905 21.4412 11.2591 20.091 9.90888C18.7407 8.55862 16.9094 7.80005 14.9998 7.80005C13.0902 7.80005 11.2589 8.55862 9.90864 9.90888C8.55837 11.2591 7.7998 13.0905 7.7998 15C7.7998 16.9096 8.55837 18.741 9.90864 20.0912C11.2589 21.4415 13.0902 22.2 14.9998 22.2Z" fill="white"/>
<path d="M14.9998 20.7C16.5115 20.7 17.9614 20.0995 19.0303 19.0306C20.0993 17.9616 20.6998 16.5118 20.6998 15C20.6998 13.4883 20.0993 12.0385 19.0303 10.9695C17.9614 9.90058 16.5115 9.30005 14.9998 9.30005C13.4881 9.30005 12.0383 9.90058 10.9693 10.9695C9.90034 12.0385 9.2998 13.4883 9.2998 15C9.2998 16.5118 9.90034 17.9616 10.9693 19.0306C12.0383 20.0995 13.4881 20.7 14.9998 20.7Z" fill="#1A73E8"/>
<defs>
  <linearGradient id="paint0_linear_87_32" x1="3.29381" y1="2.99503" x2="38.0998" y2="2.99503" gradientUnits="userSpaceOnUse">
    <stop stop-color="#D93025"/>
    <stop offset="1" stop-color="#EA4335"/>
  </linearGradient>
  <linearGradient id="paint1_linear_87_32" x1="17.953" y1="29.1431" x2="34.194" y2="-0.298904" gradientUnits="userSpaceOnUse">
    <stop stop-color="#FCC934"/>
    <stop offset="1" stop-color="#FBBC04"/>
  </linearGradient>
  <linearGradient id="paint2_linear_87_32" x1="22.873" y1="28.2" x2="6.63202" y2="-1.24102" gradientUnits="userSpaceOnUse">
    <stop stop-color="#1E8E3E"/>
    <stop offset="1" stop-color="#34A853"/>
  </linearGradient>
</defs>
</svg>`,mFe=$t` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,yFe=$t`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,bFe=$t`<svg
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
  viewBox="0 0 9 12"
>
  <path
    fill="var(--apkt-tokens-theme-textPrimary)"
    d="M4.666.001v4.435l3.748 1.675L4.666.001Zm0 0L.917 6.111l3.749-1.675V.001Zm0 8.984V12l3.75-5.19-3.75 2.176Zm0 3.014V8.985L.917 6.81 4.666 12Zm0-3.712 3.748-2.176-3.748-1.675v3.851Z"
  />
  <path fill="var(--apkt-tokens-theme-textPrimary)" d="m.917 6.111 3.749 2.176v-3.85L.917 6.11Z" />
</svg>`,wFe=$t`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,vFe=$t`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,EFe=$t`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,xFe=$t`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,$Fe=$t`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,AFe=$t` <svg width="27" height="30" viewBox="0 0 27 30" fill="none">
  <path d="M12.5395 14.3237L0.116699 27.5049V27.5188C0.251527 28.0177 0.49972 28.4788 0.841941 28.866C1.18416 29.2533 1.61117 29.5563 2.0897 29.7515C2.56823 29.9467 3.08536 30.0287 3.60081 29.9913C4.11625 29.9538 4.61609 29.7979 5.06139 29.5356L5.0975 29.512L19.0718 21.4519L12.5395 14.3237Z" fill="#EA4335"/>
  <path d="M25.103 12.0833L25.0919 12.0722L19.0611 8.57202L12.2607 14.6279L19.0847 21.4504L25.0919 17.9864C25.6229 17.6983 26.0665 17.2725 26.376 16.7537C26.6854 16.2349 26.8493 15.6422 26.8505 15.0381C26.8516 14.434 26.6899 13.8408 26.3824 13.3208C26.0749 12.8008 25.633 12.3734 25.103 12.0833Z" fill="#FBBC04"/>
  <path d="M0.116672 2.49553C0.047224 2.7761 0 3.05528 0 3.35946V26.6537C0 26.9565 0.0347234 27.237 0.116672 27.5162L12.959 14.6725L0.116672 2.49553Z" fill="#4285F4"/>
  <path d="M12.634 15.0001L19.0607 8.57198L5.0975 0.477133C4.65115 0.210463 4.14916 0.0506574 3.63079 0.0102139C3.11242 -0.0302296 2.59172 0.0497852 2.10941 0.244001C1.6271 0.438216 1.19625 0.741368 0.850556 1.12975C0.504864 1.51813 0.253698 1.98121 0.116699 2.48279L12.634 15.0001Z" fill="#34A853"/>
</svg>`,CFe=$t`<svg width="75" height="20" viewBox="0 0 75 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.6666 5.83334C11.6666 2.61168 14.2783 0 17.5 0H25.8334C29.055 0 31.6666 2.61168 31.6666 5.83334V14.1666C31.6666 17.3883 29.055 20 25.8334 20H17.5C14.2783 20 11.6666 17.3883 11.6666 14.1666V5.83334Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M19.5068 13.7499L22.4309 5.83331H23.2895L20.3654 13.7499H19.5068Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M0 5.41666C0 2.42513 2.42513 0 5.41666 0C8.40821 0 10.8334 2.42513 10.8334 5.41666V14.5833C10.8334 17.5748 8.40821 20 5.41666 20C2.42513 20 0 17.5748 0 14.5833V5.41666Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M4.89581 12.4997V11.458H5.93747V12.4997H4.89581Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M32.5 10C32.5 4.47715 36.6896 0 41.8578 0H65.6422C70.8104 0 75 4.47715 75 10C75 15.5229 70.8104 20 65.6422 20H41.8578C36.6896 20 32.5 15.5229 32.5 10Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M61.7108 12.4475V7.82751H62.5266V8.52418C62.8199 8.01084 63.4157 7.70834 64.0757 7.70834C65.0749 7.70834 65.7715 8.34084 65.7715 9.56918V12.4475H64.9649V9.61503C64.9649 8.80831 64.5066 8.38668 63.8374 8.38668C63.1132 8.38668 62.5266 8.9642 62.5266 9.78001V12.4475H61.7108Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M56.5671 12.4475L55.7147 7.82748H56.4846L57.0896 11.6409L57.8871 9.12916H58.6479L59.4363 11.6134L60.0505 7.82748H60.8204L59.9679 12.4475H59.0513L58.2721 10.0458L57.4838 12.4475H56.5671Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M52.9636 12.5666C51.5611 12.5666 50.7361 11.5217 50.7361 10.1375C50.7361 8.76254 51.5611 7.70834 52.9636 7.70834C54.3661 7.70834 55.1911 8.76254 55.1911 10.1375C55.1911 11.5217 54.3661 12.5666 52.9636 12.5666ZM52.9636 11.8883C53.9719 11.8883 54.357 11.0266 54.357 10.1283C54.357 9.23914 53.9719 8.38668 52.9636 8.38668C51.9552 8.38668 51.5702 9.23914 51.5702 10.1283C51.5702 11.0266 51.9552 11.8883 52.9636 11.8883Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M47.8507 12.5666C46.494 12.5666 45.6415 11.5308 45.6415 10.1375C45.6415 8.75337 46.494 7.70834 47.8507 7.70834C48.9965 7.70834 50.0048 8.35917 49.8948 10.3483H46.4756C46.5398 11.2009 46.934 11.8975 47.8507 11.8975C48.4648 11.8975 48.8681 11.5217 49.0057 11.0908H49.8123C49.684 11.8609 48.9598 12.5666 47.8507 12.5666ZM46.494 9.73416H49.1065C49.0423 8.80831 48.6114 8.37751 47.8507 8.37751C47.0165 8.37751 46.604 8.98254 46.494 9.73416Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M41.7284 12.4475V7.82748H42.5625V8.60665C42.8559 8.09332 43.3601 7.82748 43.8825 7.82748H44.9917V8.60665H43.8184C43.0851 8.60665 42.5625 9.08331 42.5625 10.0092V12.4475H41.7284Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>

`,SFe=$t`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 8">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="m9.524 6.307-1.51 1.584A.35.35 0 0 1 7.76 8H.604a.178.178 0 0 1-.161-.103.168.168 0 0 1 .033-.186l1.51-1.583a.35.35 0 0 1 .256-.11h7.154c.034 0 .068.01.096.029a.168.168 0 0 1 .032.26Zm-1.51-3.189a.35.35 0 0 0-.255-.109H.604a.178.178 0 0 0-.161.103.168.168 0 0 0 .033.186l1.51 1.583a.35.35 0 0 0 .256.11h7.154a.178.178 0 0 0 .16-.104.168.168 0 0 0-.032-.185l-1.51-1.584ZM.605 1.981H7.76a.357.357 0 0 0 .256-.11L9.525.289a.17.17 0 0 0 .032-.185.173.173 0 0 0-.16-.103H2.241a.357.357 0 0 0-.256.109L.476 1.692a.17.17 0 0 0-.033.185.178.178 0 0 0 .16.103Z"
    />
  </svg>
`,IFe=$t`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,_Fe=$t`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,OFe=$t`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,PFe=$t`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,TFe=$t`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>`,NFe=$t`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textInvert)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textInvert)"/>
</svg>`,BFe=$t`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="currentColor"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,kFe=$t`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,sY=$t`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`;var RFe=us`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    aspect-ratio: 1 / 1;
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    height: inherit;
    width: inherit;
    object-fit: contain;
    object-position: center;
  }
`,ty=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const DFe={add:"ph-plus",allWallets:"ph-dots-three",arrowBottom:"ph-arrow-down",arrowBottomCircle:"ph-arrow-circle-down",arrowClockWise:"ph-arrow-clockwise",arrowLeft:"ph-arrow-left",arrowRight:"ph-arrow-right",arrowTop:"ph-arrow-up",arrowTopRight:"ph-arrow-up-right",bank:"ph-bank",bin:"ph-trash",browser:"ph-browser",card:"ph-credit-card",checkmark:"ph-check",checkmarkBold:"ph-check",chevronBottom:"ph-caret-down",chevronLeft:"ph-caret-left",chevronRight:"ph-caret-right",chevronTop:"ph-caret-up",clock:"ph-clock",close:"ph-x",coinPlaceholder:"ph-circle-half",compass:"ph-compass",copy:"ph-copy",desktop:"ph-desktop",dollar:"ph-currency-dollar",download:"ph-vault",exclamationCircle:"ph-warning-circle",extension:"ph-puzzle-piece",externalLink:"ph-arrow-square-out",filters:"ph-funnel-simple",helpCircle:"ph-question",id:"ph-identification-card",image:"ph-image",info:"ph-info",lightbulb:"ph-lightbulb",mail:"ph-envelope",mobile:"ph-device-mobile",more:"ph-dots-three",networkPlaceholder:"ph-globe",nftPlaceholder:"ph-image",plus:"ph-plus",power:"ph-power",qrCode:"ph-qr-code",questionMark:"ph-question",refresh:"ph-arrow-clockwise",recycleHorizontal:"ph-arrows-clockwise",search:"ph-magnifying-glass",sealCheck:"ph-seal-check",send:"ph-paper-plane-right",signOut:"ph-sign-out",spinner:"ph-spinner",swapHorizontal:"ph-arrows-left-right",swapVertical:"ph-arrows-down-up",threeDots:"ph-dots-three",user:"ph-user",verify:"ph-seal-check",verifyFilled:"ph-seal-check",warning:"ph-warning",warningCircle:"ph-warning-circle",appStore:"",apple:"",bitcoin:"",chromeStore:"",cursor:"",discord:"",ethereum:"",etherscan:"",facebook:"",farcaster:"",github:"",google:"",playStore:"",reown:"",solana:"",telegram:"",twitch:"",twitterIcon:"",twitter:"",walletConnect:"",walletConnectBrown:"",walletConnectLightBrown:"",x:"",wallet:""},MFe={"ph-arrow-circle-down":()=>Promise.resolve().then(function(){return BHe}),"ph-arrow-clockwise":()=>Promise.resolve().then(function(){return DHe}),"ph-arrow-down":()=>Promise.resolve().then(function(){return LHe}),"ph-arrow-left":()=>Promise.resolve().then(function(){return zHe}),"ph-arrow-right":()=>Promise.resolve().then(function(){return qHe}),"ph-arrow-square-out":()=>Promise.resolve().then(function(){return KHe}),"ph-arrows-down-up":()=>Promise.resolve().then(function(){return XHe}),"ph-arrows-left-right":()=>Promise.resolve().then(function(){return eVe}),"ph-arrow-up":()=>Promise.resolve().then(function(){return rVe}),"ph-arrow-up-right":()=>Promise.resolve().then(function(){return oVe}),"ph-arrows-clockwise":()=>Promise.resolve().then(function(){return lVe}),"ph-bank":()=>Promise.resolve().then(function(){return fVe}),"ph-browser":()=>Promise.resolve().then(function(){return gVe}),"ph-caret-down":()=>Promise.resolve().then(function(){return bVe}),"ph-caret-left":()=>Promise.resolve().then(function(){return EVe}),"ph-caret-right":()=>Promise.resolve().then(function(){return AVe}),"ph-caret-up":()=>Promise.resolve().then(function(){return IVe}),"ph-check":()=>Promise.resolve().then(function(){return PVe}),"ph-circle-half":()=>Promise.resolve().then(function(){return BVe}),"ph-clock":()=>Promise.resolve().then(function(){return DVe}),"ph-compass":()=>Promise.resolve().then(function(){return LVe}),"ph-copy":()=>Promise.resolve().then(function(){return zVe}),"ph-credit-card":()=>Promise.resolve().then(function(){return qVe}),"ph-currency-dollar":()=>Promise.resolve().then(function(){return KVe}),"ph-desktop":()=>Promise.resolve().then(function(){return XVe}),"ph-device-mobile":()=>Promise.resolve().then(function(){return eqe}),"ph-dots-three":()=>Promise.resolve().then(function(){return rqe}),"ph-vault":()=>Promise.resolve().then(function(){return oqe}),"ph-envelope":()=>Promise.resolve().then(function(){return lqe}),"ph-funnel-simple":()=>Promise.resolve().then(function(){return fqe}),"ph-globe":()=>Promise.resolve().then(function(){return gqe}),"ph-identification-card":()=>Promise.resolve().then(function(){return bqe}),"ph-image":()=>Promise.resolve().then(function(){return Eqe}),"ph-info":()=>Promise.resolve().then(function(){return Aqe}),"ph-lightbulb":()=>Promise.resolve().then(function(){return Iqe}),"ph-magnifying-glass":()=>Promise.resolve().then(function(){return Pqe}),"ph-paper-plane-right":()=>Promise.resolve().then(function(){return Bqe}),"ph-plus":()=>Promise.resolve().then(function(){return Dqe}),"ph-power":()=>Promise.resolve().then(function(){return Lqe}),"ph-puzzle-piece":()=>Promise.resolve().then(function(){return zqe}),"ph-qr-code":()=>Promise.resolve().then(function(){return qqe}),"ph-question":()=>Promise.resolve().then(function(){return Kqe}),"ph-question-circle":()=>Promise.resolve().then(function(){return Xqe}),"ph-seal-check":()=>Promise.resolve().then(function(){return eZe}),"ph-sign-out":()=>Promise.resolve().then(function(){return rZe}),"ph-spinner":()=>Promise.resolve().then(function(){return oZe}),"ph-trash":()=>Promise.resolve().then(function(){return lZe}),"ph-user":()=>Promise.resolve().then(function(){return fZe}),"ph-warning":()=>Promise.resolve().then(function(){return gZe}),"ph-warning-circle":()=>Promise.resolve().then(function(){return bZe}),"ph-x":()=>Promise.resolve().then(function(){return EZe})},UFe={appStore:fFe,apple:hFe,bitcoin:pFe,chromeStore:gFe,cursor:mFe,discord:yFe,ethereum:bFe,etherscan:wFe,facebook:vFe,farcaster:EFe,github:xFe,google:$Fe,playStore:AFe,reown:CFe,solana:SFe,telegram:IFe,twitch:_Fe,twitter:sY,twitterIcon:OFe,walletConnect:TFe,walletConnectInvert:NFe,walletConnectBrown:kFe,walletConnectLightBrown:BFe,x:sY,wallet:PFe},LFe={"accent-primary":Mt.tokens.core.iconAccentPrimary,"accent-certified":Mt.tokens.core.iconAccentCertified,default:Mt.tokens.theme.iconDefault,success:Mt.tokens.core.iconSuccess,error:Mt.tokens.core.iconError,warning:Mt.tokens.core.iconWarning,inverse:Mt.tokens.theme.iconInverse};let Ff=class extends Te{constructor(){super(...arguments),this.size="md",this.name="copy",this.weight="bold",this.color="inherit"}render(){const t={xxs:"2",xs:"3",sm:"3",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7",inherit:"inherit"};this.style.cssText=`
      --local-width: ${this.size==="inherit"?"inherit":`var(--apkt-spacing-${t[this.size]})`};
      --local-color: ${this.color==="inherit"?"inherit":LFe[this.color]}
    `;const n=DFe[this.name];if(n&&n!==""){const r=MFe[n];r&&r();const s=uFe(n);return rY`<${s} size=${{xxs:"0.5em",xs:"0.75em",sm:"0.75em",md:"1em",mdl:"1.25em",lg:"1.25em",xl:"1.5em",xxl:"1.75em"}[this.size]} weight="${this.weight}"></${s}>`}return UFe[this.name]||rY``}};Ff.styles=[bt,RFe],ty([G()],Ff.prototype,"size",void 0),ty([G()],Ff.prototype,"name",void 0),ty([G()],Ff.prototype,"weight",void 0),ty([G()],Ff.prototype,"color",void 0),Ff=ty([Oe("wui-icon")],Ff);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const iY={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},oY=e=>(...t)=>({_$litDirective$:e,values:t});class aY{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,r){this._$Ct=t,this._$AM=n,this._$Ci=r}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const FFe=oY(class extends aY{constructor(e){if(super(e),e.type!==iY.ATTRIBUTE||e.name!=="class"||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in t)t[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(t)}const n=e.element.classList;for(const r of this.st)r in t||(n.remove(r),this.st.delete(r));for(const r in t){const s=!!t[r];s===this.st.has(r)||this.nt?.has(r)||(s?(n.add(r),this.st.add(r)):(n.remove(r),this.st.delete(r)))}return Df}});var jFe=qe`
  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  /* -- Headings --------------------------------------------------- */
  .wui-font-h1-regular-mono {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h1-regular {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h1-medium {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-regular-mono {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h2-regular {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-medium {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-regular-mono {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h3-regular {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-medium {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-regular-mono {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h4-regular {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-medium {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-regular-mono {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h5-regular {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-medium {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-regular-mono {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h6-regular {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-medium {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-regular-mono {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-lg-regular {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-medium {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-regular-mono {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-md-regular {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-medium {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-regular-mono {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-sm-regular {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-medium {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }
`,Ip=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const zFe={primary:Mt.tokens.theme.textPrimary,secondary:Mt.tokens.theme.textSecondary,tertiary:Mt.tokens.theme.textTertiary,invert:Mt.tokens.theme.textInvert,error:Mt.tokens.core.textError,warning:Mt.tokens.core.textWarning,"accent-primary":Mt.tokens.core.textAccentPrimary};let Zd=class extends Te{constructor(){super(...arguments),this.variant="md-regular",this.color="inherit",this.align="left",this.lineClamp=void 0,this.display="inline-flex"}render(){const t={[`wui-font-${this.variant}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      display: ${this.display};
      --local-align: ${this.align};
      --local-color: ${this.color==="inherit"?"inherit":zFe[this.color??"primary"]};
      `,W`<slot class=${FFe(t)}></slot>`}};Zd.styles=[bt,jFe],Ip([G()],Zd.prototype,"variant",void 0),Ip([G()],Zd.prototype,"color",void 0),Ip([G()],Zd.prototype,"align",void 0),Ip([G()],Zd.prototype,"lineClamp",void 0),Ip([G()],Zd.prototype,"display",void 0),Zd=Ip([Oe("wui-text")],Zd);var HFe=qe`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    border-radius: ${({borderRadius:e})=>e[2]};
    padding: ${({spacing:e})=>e[1]} !important;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    position: relative;
  }

  :host([data-padding='2']) {
    padding: ${({spacing:e})=>e[2]} !important;
  }

  :host:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host > wui-icon {
    z-index: 10;
  }

  /* -- Colors --------------------------------------------------- */
  :host([data-color='accent-primary']) {
    color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  :host([data-color='accent-primary']):after {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  :host([data-color='default']),
  :host([data-color='secondary']) {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  :host([data-color='default']):after {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  :host([data-color='secondary']):after {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  :host([data-color='success']) {
    color: ${({tokens:e})=>e.core.iconSuccess};
  }

  :host([data-color='success']):after {
    background-color: ${({tokens:e})=>e.core.backgroundSuccess};
  }

  :host([data-color='error']) {
    color: ${({tokens:e})=>e.core.iconError};
  }

  :host([data-color='error']):after {
    background-color: ${({tokens:e})=>e.core.backgroundError};
  }

  :host([data-color='warning']) {
    color: ${({tokens:e})=>e.core.iconWarning};
  }

  :host([data-color='warning']):after {
    background-color: ${({tokens:e})=>e.core.backgroundWarning};
  }

  :host([data-color='inverse']) {
    color: ${({tokens:e})=>e.theme.iconInverse};
  }

  :host([data-color='inverse']):after {
    background-color: transparent;
  }
`,ny=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let jf=class extends Te{constructor(){super(...arguments),this.icon="copy",this.size="md",this.padding="1",this.color="default"}render(){return this.dataset.padding=this.padding,this.dataset.color=this.color,W`
      <wui-icon size=${Ge(this.size)} name=${this.icon} color="inherit"></wui-icon>
    `}};jf.styles=[bt,ds,HFe],ny([G()],jf.prototype,"icon",void 0),ny([G()],jf.prototype,"size",void 0),ny([G()],jf.prototype,"padding",void 0),ny([G()],jf.prototype,"color",void 0),jf=ny([Oe("wui-icon-box")],jf);var VFe=qe`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
    user-select: none;
    user-drag: none;
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
  }

  :host([data-boxed='true']) {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host([data-boxed='true']) img {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:e})=>e[16]};
  }

  :host([data-full='true']) img {
    width: 100%;
    height: 100%;
  }

  :host([data-boxed='true']) wui-icon {
    width: 20px;
    height: 20px;
  }

  :host([data-icon='error']) {
    background-color: ${({tokens:e})=>e.core.backgroundError};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:e})=>e[16]};
  }
`,Ua=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let so=class extends Te{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0,this.boxed=!1,this.rounded=!1,this.fullSize=!1}render(){const t={inherit:"inherit",xxs:"2",xs:"3",sm:"4",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7","3xl":"8","4xl":"9","5xl":"10"};return this.style.cssText=`
      --local-width: ${this.size?`var(--apkt-spacing-${t[this.size]});`:"100%"};
      --local-height: ${this.size?`var(--apkt-spacing-${t[this.size]});`:"100%"};
      `,this.dataset.boxed=this.boxed?"true":"false",this.dataset.rounded=this.rounded?"true":"false",this.dataset.full=this.fullSize?"true":"false",this.dataset.icon=this.iconColor||"inherit",this.icon?W`<wui-icon
        color=${this.iconColor||"inherit"}
        name=${this.icon}
        size="lg"
      ></wui-icon> `:this.logo?W`<wui-icon size="lg" color="inherit" name=${this.logo}></wui-icon> `:W`<img src=${Ge(this.src)} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};so.styles=[bt,VFe],Ua([G()],so.prototype,"src",void 0),Ua([G()],so.prototype,"logo",void 0),Ua([G()],so.prototype,"icon",void 0),Ua([G()],so.prototype,"iconColor",void 0),Ua([G()],so.prototype,"alt",void 0),Ua([G()],so.prototype,"size",void 0),Ua([G({type:Boolean})],so.prototype,"boxed",void 0),Ua([G({type:Boolean})],so.prototype,"rounded",void 0),Ua([G({type:Boolean})],so.prototype,"fullSize",void 0),so=Ua([Oe("wui-image")],so);var qFe=qe`
  :host {
    position: relative;
    background-color: ${({tokens:e})=>e.theme.foregroundTertiary};
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-image='true']) {
    background-color: transparent;
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-size='sm']) {
    width: 32px;
    height: 32px;
  }

  :host([data-size='md']) {
    width: 40px;
    height: 40px;
  }

  :host([data-size='lg']) {
    width: 56px;
    height: 56px;
  }

  :host([name='Extension'])::after {
    border: 1px solid ${({colors:e})=>e.accent010};
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid ${({colors:e})=>e.accent010};
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 32px;
    height: 32px;
  }

  wui-icon[data-parent-size='md'] {
    width: 40px;
    height: 40px;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid ${({tokens:e})=>e.theme.backgroundPrimary};
    padding: 1px;
  }
`,zf=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let ou=class extends Te{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let t="1";return this.size==="lg"?t="4":this.size==="md"?t="2":this.size==="sm"&&(t="1"),this.style.cssText=`
       --local-border-radius: var(--apkt-borderRadius-${t});
   `,this.dataset.size=this.size,this.imageSrc&&(this.dataset.image="true"),this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),W`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?W`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?W`<wui-icon size="md" color="default" name=${this.walletIcon}></wui-icon>`:W`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="wallet"
    ></wui-icon>`}};ou.styles=[bt,qFe],zf([G()],ou.prototype,"size",void 0),zf([G()],ou.prototype,"name",void 0),zf([G()],ou.prototype,"imageSrc",void 0),zf([G()],ou.prototype,"walletIcon",void 0),zf([G({type:Boolean})],ou.prototype,"installed",void 0),zf([G()],ou.prototype,"badgeSize",void 0),ou=zf([Oe("wui-wallet-image")],ou);var ZFe=qe`
  :host {
    position: relative;
    border-radius: ${({borderRadius:e})=>e[2]};
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: ${({tokens:e})=>e.theme.foregroundPrimary};
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    column-gap: ${({spacing:e})=>e[1]};
    padding: ${({spacing:e})=>e[1]};
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: 2px;
  }
`,cY=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const kI=4;let Y3=class extends Te{constructor(){super(...arguments),this.walletImages=[]}render(){const t=this.walletImages.length<kI;return W`${this.walletImages.slice(0,kI).map(({src:n,walletName:r})=>W`
          <wui-wallet-image
            size="sm"
            imageSrc=${n}
            name=${Ge(r)}
          ></wui-wallet-image>
        `)}
    ${t?[...Array(kI-this.walletImages.length)].map(()=>W` <wui-wallet-image size="sm" name=""></wui-wallet-image>`):null} `}};Y3.styles=[bt,ZFe],cY([G({type:Array})],Y3.prototype,"walletImages",void 0),Y3=cY([Oe("wui-all-wallets-image")],Y3);var WFe=qe`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: ${({spacing:e})=>e[1]};
    text-transform: uppercase;
  }

  :host([data-variant='accent']) {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  :host([data-variant='info']) {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-variant='success']) {
    background-color: ${({tokens:e})=>e.core.backgroundSuccess};
    color: ${({tokens:e})=>e.core.textSuccess};
  }

  :host([data-variant='warning']) {
    background-color: ${({tokens:e})=>e.core.backgroundWarning};
    color: ${({tokens:e})=>e.core.textWarning};
  }

  :host([data-variant='error']) {
    background-color: ${({tokens:e})=>e.core.backgroundError};
    color: ${({tokens:e})=>e.core.textError};
  }

  :host([data-variant='certified']) {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-size='md']) {
    height: 30px;
    padding: 0 ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host([data-size='sm']) {
    height: 20px;
    padding: 0 ${({spacing:e})=>e[1]};
    border-radius: ${({borderRadius:e})=>e[1]};
  }
`,X3=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let _p=class extends Te{constructor(){super(...arguments),this.variant="accent",this.size="md",this.icon=void 0}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const t=this.size==="md"?"md-medium":"sm-medium",n=this.size==="md"?"md":"sm";return W`
      ${this.icon?W`<wui-icon size=${n} name=${this.icon}></wui-icon>`:null}
      <wui-text
        display="inline"
        data-variant=${this.variant}
        variant=${t}
        color="inherit"
      >
        <slot></slot>
      </wui-text>
    `}};_p.styles=[bt,WFe],X3([G()],_p.prototype,"variant",void 0),X3([G()],_p.prototype,"size",void 0),X3([G()],_p.prototype,"icon",void 0),_p=X3([Oe("wui-tag")],_p);var KFe=qe`
  :host {
    width: 100%;
  }

  button {
    column-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:e})=>e[4]};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button > wui-wallet-image {
    background: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-all-wallets='true'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-all-wallets='true']:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent020};
  }

  button:disabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: ${({tokens:e})=>e.core.glass010};
    color: ${({tokens:e})=>e.theme.foregroundTertiary};
  }
`,Si=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let fs=class extends Te{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return this.dataset.size=this.size,W`
      <button
        ?disabled=${this.disabled}
        data-all-wallets=${this.showAllWallets}
        tabindex=${Ge(this.tabIdx)}
      >
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="lg-regular" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?W` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?W` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?W`<wui-wallet-image
        size=${Ge(this.size==="sm"?"sm":"md")}
        imageSrc=${this.imageSrc}
        name=${this.name}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?W`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?W`<wui-loading-spinner size="lg" color="accent-primary"></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?W`<wui-tag size="sm" variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:null}};fs.styles=[bt,ds,KFe],Si([G({type:Array})],fs.prototype,"walletImages",void 0),Si([G()],fs.prototype,"imageSrc",void 0),Si([G()],fs.prototype,"name",void 0),Si([G()],fs.prototype,"size",void 0),Si([G()],fs.prototype,"tagLabel",void 0),Si([G()],fs.prototype,"tagVariant",void 0),Si([G()],fs.prototype,"walletIcon",void 0),Si([G()],fs.prototype,"tabIdx",void 0),Si([G({type:Boolean})],fs.prototype,"disabled",void 0),Si([G({type:Boolean})],fs.prototype,"showAllWallets",void 0),Si([G({type:Boolean})],fs.prototype,"loading",void 0),Si([G({type:String})],fs.prototype,"loadingSpinnerColor",void 0),fs=Si([Oe("wui-list-wallet")],fs);var Op=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Hf=class extends Te{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ae.state.connectors,this.count=he.state.count,this.filteredCount=he.state.filteredWallets.length,this.isFetchingRecommendedWallets=he.state.isFetchingRecommendedWallets,this.unsubscribe.push(ae.subscribeKey("connectors",t=>this.connectors=t),he.subscribeKey("count",t=>this.count=t),he.subscribeKey("filteredWallets",t=>this.filteredCount=t.length),he.subscribeKey("isFetchingRecommendedWallets",t=>this.isFetchingRecommendedWallets=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.connectors.find(l=>l.id==="walletConnect"),{allWallets:n}=ee.state;if(!t||n==="HIDE"||n==="ONLY_MOBILE"&&!oe.isMobile())return null;const r=he.state.featured.length,s=this.count+r,i=s<10?s:Math.floor(s/10)*10,o=this.filteredCount>0?this.filteredCount:i;let a=`${o}`;this.filteredCount>0?a=`${this.filteredCount}`:o<s&&(a=`${o}+`);const c=ie.hasAnyConnection(te.CONNECTOR_ID.WALLET_CONNECT);return W`
      <wui-list-wallet
        name="Search Wallet"
        walletIcon="search"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="info"
        data-testid="all-wallets"
        tabIdx=${Ge(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        ?disabled=${c}
        size="sm"
      ></wui-list-wallet>
    `}onAllWallets(){Ie.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),ne.push("AllWallets",{redirectView:ne.state.data?.redirectView})}};Op([G()],Hf.prototype,"tabIdx",void 0),Op([be()],Hf.prototype,"connectors",void 0),Op([be()],Hf.prototype,"count",void 0),Op([be()],Hf.prototype,"filteredCount",void 0),Op([be()],Hf.prototype,"isFetchingRecommendedWallets",void 0),Hf=Op([Oe("w3m-all-wallets-widget")],Hf);var GFe=qe`
  :host {
    margin-top: ${({spacing:e})=>e[1]};
  }
  wui-separator {
    margin: ${({spacing:e})=>e[3]} calc(${({spacing:e})=>e[3]} * -1)
      ${({spacing:e})=>e[2]} calc(${({spacing:e})=>e[3]} * -1);
    width: calc(100% + ${({spacing:e})=>e[3]} * 2);
  }
`,au=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Go=class extends Te{constructor(){super(),this.unsubscribe=[],this.connectors=ae.state.connectors,this.recommended=he.state.recommended,this.featured=he.state.featured,this.explorerWallets=he.state.explorerWallets,this.connections=ie.state.connections,this.connectorImages=ts.state.connectorImages,this.loadingTelegram=!1,this.unsubscribe.push(ae.subscribeKey("connectors",t=>this.connectors=t),ie.subscribeKey("connections",t=>this.connections=t),ts.subscribeKey("connectorImages",t=>this.connectorImages=t),he.subscribeKey("recommended",t=>this.recommended=t),he.subscribeKey("featured",t=>this.featured=t),he.subscribeKey("explorerFilteredWallets",t=>{this.explorerWallets=t?.length?t:he.state.explorerWallets}),he.subscribeKey("explorerWallets",t=>{this.explorerWallets?.length||(this.explorerWallets=t)})),oe.isTelegram()&&oe.isIos()&&(this.loadingTelegram=!ie.state.wcUri,this.unsubscribe.push(ie.subscribeKey("wcUri",t=>this.loadingTelegram=!t)))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){return W`
      <wui-flex flexDirection="column" gap="2"> ${this.connectorListTemplate()} </wui-flex>
    `}mapConnectorsToExplorerWallets(t,n){return t.map(r=>{if(r.type==="MULTI_CHAIN"&&r.connectors){const i=r.connectors.map(l=>l.id),o=r.connectors.map(l=>l.name),a=r.connectors.map(l=>l.info?.rdns),c=n?.find(l=>i.includes(l.id)||o.includes(l.name)||l.rdns&&(a.includes(l.rdns)||i.includes(l.rdns)));return r.explorerWallet=c??r.explorerWallet,r}const s=n?.find(i=>i.id===r.id||i.rdns===r.info?.rdns||i.name===r.name);return r.explorerWallet=s??r.explorerWallet,r})}processConnectorsByType(t,n=!0){const r=qo.sortConnectorsByExplorerWallet([...t]);return n?r.filter(qo.showConnector):r}connectorListTemplate(){const t=this.mapConnectorsToExplorerWallets(this.connectors,this.explorerWallets??[]),n=qo.getConnectorsByType(t,this.recommended,this.featured),r=this.processConnectorsByType(n.announced.filter(g=>g.id!=="walletConnect")),s=this.processConnectorsByType(n.injected),i=this.processConnectorsByType(n.multiChain.filter(g=>g.name!=="WalletConnect"),!1),o=n.custom,a=n.recent,c=this.processConnectorsByType(n.external.filter(g=>g.id!==te.CONNECTOR_ID.COINBASE_SDK)),l=n.recommended,u=n.featured,f=qo.getConnectorTypeOrder({custom:o,recent:a,announced:r,injected:s,multiChain:i,recommended:l,featured:u,external:c}),d=this.connectors.find(g=>g.id==="walletConnect"),h=oe.isMobile(),p=[];for(const g of f)switch(g){case"walletConnect":{!h&&d&&p.push({kind:"connector",subtype:"walletConnect",connector:d});break}case"recent":{qo.getFilteredRecentWallets().forEach($=>p.push({kind:"wallet",subtype:"recent",wallet:$}));break}case"injected":{i.forEach(y=>p.push({kind:"connector",subtype:"multiChain",connector:y})),r.forEach(y=>p.push({kind:"connector",subtype:"announced",connector:y})),s.forEach(y=>p.push({kind:"connector",subtype:"injected",connector:y}));break}case"featured":{u.forEach(y=>p.push({kind:"wallet",subtype:"featured",wallet:y}));break}case"custom":{qo.getFilteredCustomWallets(o??[]).forEach($=>p.push({kind:"wallet",subtype:"custom",wallet:$}));break}case"external":{c.forEach(y=>p.push({kind:"connector",subtype:"external",connector:y}));break}case"recommended":{qo.getCappedRecommendedWallets(l).forEach($=>p.push({kind:"wallet",subtype:"recommended",wallet:$}));break}default:console.warn(`Unknown connector type: ${g}`)}return p.map((g,y)=>g.kind==="connector"?this.renderConnector(g,y):this.renderWallet(g,y))}renderConnector(t,n){const r=t.connector,s=wi.getConnectorImage(r)||this.connectorImages[r?.imageId??""],o=(this.connections.get(r.chain)??[]).some(f=>Vn.isLowerCaseMatch(f.connectorId,r.id));let a,c;t.subtype==="multiChain"?(a="multichain",c="info"):t.subtype==="walletConnect"?(a="qr code",c="accent"):t.subtype==="injected"||t.subtype==="announced"?(a=o?"connected":"installed",c=o?"info":"success"):(a=void 0,c=void 0);const l=ie.hasAnyConnection(te.CONNECTOR_ID.WALLET_CONNECT),u=t.subtype==="walletConnect"||t.subtype==="external"?l:!1;return W`
      <w3m-list-wallet
        displayIndex=${n}
        imageSrc=${Ge(s)}
        .installed=${!0}
        name=${r.name??"Unknown"}
        .tagVariant=${c}
        tagLabel=${Ge(a)}
        data-testid=${`wallet-selector-${r.id.toLowerCase()}`}
        size="sm"
        @click=${()=>this.onClickConnector(t)}
        tabIdx=${Ge(this.tabIdx)}
        ?disabled=${u}
        rdnsId=${Ge(r.explorerWallet?.rdns||void 0)}
        walletRank=${Ge(r.explorerWallet?.order)}
      >
      </w3m-list-wallet>
    `}onClickConnector(t){const n=ne.state.data?.redirectView;if(t.subtype==="walletConnect"){ae.setActiveConnector(t.connector),oe.isMobile()?ne.push("AllWallets"):ne.push("ConnectingWalletConnect",{redirectView:n});return}if(t.subtype==="multiChain"){ae.setActiveConnector(t.connector),ne.push("ConnectingMultiChain",{redirectView:n});return}if(t.subtype==="injected"){ae.setActiveConnector(t.connector),ne.push("ConnectingExternal",{connector:t.connector,redirectView:n,wallet:t.connector.explorerWallet});return}if(t.subtype==="announced"){if(t.connector.id==="walletConnect"){oe.isMobile()?ne.push("AllWallets"):ne.push("ConnectingWalletConnect",{redirectView:n});return}ne.push("ConnectingExternal",{connector:t.connector,redirectView:n,wallet:t.connector.explorerWallet});return}ne.push("ConnectingExternal",{connector:t.connector,redirectView:n})}renderWallet(t,n){const r=t.wallet,s=wi.getWalletImage(r),o=ie.hasAnyConnection(te.CONNECTOR_ID.WALLET_CONNECT),a=this.loadingTelegram,c=t.subtype==="recent"?"recent":void 0,l=t.subtype==="recent"?"info":void 0;return W`
      <w3m-list-wallet
        displayIndex=${n}
        imageSrc=${Ge(s)}
        name=${r.name??"Unknown"}
        @click=${()=>this.onClickWallet(t)}
        size="sm"
        data-testid=${`wallet-selector-${r.id}`}
        tabIdx=${Ge(this.tabIdx)}
        ?loading=${a}
        ?disabled=${o}
        rdnsId=${Ge(r.rdns||void 0)}
        walletRank=${Ge(r.order)}
        tagLabel=${Ge(c)}
        .tagVariant=${l}
      >
      </w3m-list-wallet>
    `}onClickWallet(t){const n=ne.state.data?.redirectView;if(t.subtype==="featured"){ae.selectWalletConnector(t.wallet);return}if(t.subtype==="recent"){if(this.loadingTelegram)return;ae.selectWalletConnector(t.wallet);return}if(t.subtype==="custom"){if(this.loadingTelegram)return;ne.push("ConnectingWalletConnect",{wallet:t.wallet,redirectView:n});return}if(this.loadingTelegram)return;const r=ae.getConnector({id:t.wallet.id,rdns:t.wallet.rdns});r?ne.push("ConnectingExternal",{connector:r,redirectView:n}):ne.push("ConnectingWalletConnect",{wallet:t.wallet,redirectView:n})}};Go.styles=GFe,au([G({type:Number})],Go.prototype,"tabIdx",void 0),au([be()],Go.prototype,"connectors",void 0),au([be()],Go.prototype,"recommended",void 0),au([be()],Go.prototype,"featured",void 0),au([be()],Go.prototype,"explorerWallets",void 0),au([be()],Go.prototype,"connections",void 0),au([be()],Go.prototype,"connectorImages",void 0),au([be()],Go.prototype,"loadingTelegram",void 0),Go=au([Oe("w3m-connector-list")],Go);var YFe=qe`
  :host {
    flex: 1;
    height: 100%;
  }

  button {
    width: 100%;
    height: 100%;
    display: inline-flex;
    align-items: center;
    padding: ${({spacing:e})=>e[1]} ${({spacing:e})=>e[2]};
    column-gap: ${({spacing:e})=>e[1]};
    color: ${({tokens:e})=>e.theme.textSecondary};
    border-radius: ${({borderRadius:e})=>e[20]};
    background-color: transparent;
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-active='true'] {
    color: ${({tokens:e})=>e.theme.textPrimary};
    background-color: ${({tokens:e})=>e.theme.foregroundTertiary};
  }

  button:hover:enabled:not([data-active='true']),
  button:active:enabled:not([data-active='true']) {
    wui-text,
    wui-icon {
      color: ${({tokens:e})=>e.theme.textPrimary};
    }
  }
`,ry=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const XFe={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},JFe={lg:"md",md:"sm",sm:"sm"};let Vf=class extends Te{constructor(){super(...arguments),this.icon="mobile",this.size="md",this.label="",this.active=!1}render(){return W`
      <button data-active=${this.active}>
        ${this.icon?W`<wui-icon size=${JFe[this.size]} name=${this.icon}></wui-icon>`:""}
        <wui-text variant=${XFe[this.size]}> ${this.label} </wui-text>
      </button>
    `}};Vf.styles=[bt,ds,YFe],ry([G()],Vf.prototype,"icon",void 0),ry([G()],Vf.prototype,"size",void 0),ry([G()],Vf.prototype,"label",void 0),ry([G({type:Boolean})],Vf.prototype,"active",void 0),Vf=ry([Oe("wui-tab-item")],Vf);var QFe=qe`
  :host {
    display: inline-flex;
    align-items: center;
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    border-radius: ${({borderRadius:e})=>e[32]};
    padding: ${({spacing:e})=>e["01"]};
    box-sizing: border-box;
  }

  :host([data-size='sm']) {
    height: 26px;
  }

  :host([data-size='md']) {
    height: 36px;
  }
`,sy=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let qf=class extends Te{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.size="md",this.activeTab=0}render(){return this.dataset.size=this.size,this.tabs.map((t,n)=>{const r=n===this.activeTab;return W`
        <wui-tab-item
          @click=${()=>this.onTabClick(n)}
          icon=${t.icon}
          size=${this.size}
          label=${t.label}
          ?active=${r}
          data-active=${r}
          data-testid="tab-${t.label?.toLowerCase()}"
        ></wui-tab-item>
      `})}onTabClick(t){this.activeTab=t,this.onTabChange(t)}};qf.styles=[bt,ds,QFe],sy([G({type:Array})],qf.prototype,"tabs",void 0),sy([G()],qf.prototype,"onTabChange",void 0),sy([G()],qf.prototype,"size",void 0),sy([be()],qf.prototype,"activeTab",void 0),qf=sy([Oe("wui-tabs")],qf);var RI=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let J3=class extends Te{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.generateTabs();return W`
      <wui-flex justifyContent="center" .padding=${["0","0","4","0"]}>
        <wui-tabs .tabs=${t} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){const t=this.platforms.map(n=>n==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:n==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:n==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:n==="web"?{label:"Webapp",icon:"browser",platform:"web"}:n==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=t.map(({platform:n})=>n),t}onTabChange(t){const n=this.platformTabs[t];n&&this.onSelectPlatfrom?.(n)}};RI([G({type:Array})],J3.prototype,"platforms",void 0),RI([G()],J3.prototype,"onSelectPlatfrom",void 0),J3=RI([Oe("w3m-connecting-header")],J3);var eje=us`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 1.4s linear infinite;
    color: var(--local-color);
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }
`,DI=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let iy=class extends Te{constructor(){super(...arguments),this.color="primary",this.size="lg"}render(){const t={primary:Mt.tokens.theme.textPrimary,secondary:Mt.tokens.theme.textSecondary,tertiary:Mt.tokens.theme.textTertiary,invert:Mt.tokens.theme.textInvert,error:Mt.tokens.core.textError,warning:Mt.tokens.core.textWarning,"accent-primary":Mt.tokens.core.textAccentPrimary};return this.style.cssText=`
      --local-color: ${this.color==="inherit"?"inherit":t[this.color]};
      `,this.dataset.size=this.size,W`<svg viewBox="0 0 16 17" fill="none">
      <path
        d="M8.75 2.65625V4.65625C8.75 4.85516 8.67098 5.04593 8.53033 5.18658C8.38968 5.32723 8.19891 5.40625 8 5.40625C7.80109 5.40625 7.61032 5.32723 7.46967 5.18658C7.32902 5.04593 7.25 4.85516 7.25 4.65625V2.65625C7.25 2.45734 7.32902 2.26657 7.46967 2.12592C7.61032 1.98527 7.80109 1.90625 8 1.90625C8.19891 1.90625 8.38968 1.98527 8.53033 2.12592C8.67098 2.26657 8.75 2.45734 8.75 2.65625ZM14 7.90625H12C11.8011 7.90625 11.6103 7.98527 11.4697 8.12592C11.329 8.26657 11.25 8.45734 11.25 8.65625C11.25 8.85516 11.329 9.04593 11.4697 9.18658C11.6103 9.32723 11.8011 9.40625 12 9.40625H14C14.1989 9.40625 14.3897 9.32723 14.5303 9.18658C14.671 9.04593 14.75 8.85516 14.75 8.65625C14.75 8.45734 14.671 8.26657 14.5303 8.12592C14.3897 7.98527 14.1989 7.90625 14 7.90625ZM11.3588 10.9544C11.289 10.8846 11.2062 10.8293 11.115 10.7915C11.0239 10.7538 10.9262 10.7343 10.8275 10.7343C10.7288 10.7343 10.6311 10.7538 10.54 10.7915C10.4488 10.8293 10.366 10.8846 10.2963 10.9544C10.2265 11.0241 10.1711 11.107 10.1334 11.1981C10.0956 11.2893 10.0762 11.387 10.0762 11.4856C10.0762 11.5843 10.0956 11.682 10.1334 11.7731C10.1711 11.8643 10.2265 11.9471 10.2963 12.0169L11.7106 13.4312C11.8515 13.5721 12.0426 13.6513 12.2419 13.6513C12.4411 13.6513 12.6322 13.5721 12.7731 13.4312C12.914 13.2904 12.9932 13.0993 12.9932 12.9C12.9932 12.7007 12.914 12.5096 12.7731 12.3687L11.3588 10.9544ZM8 11.9062C7.80109 11.9062 7.61032 11.9853 7.46967 12.1259C7.32902 12.2666 7.25 12.4573 7.25 12.6562V14.6562C7.25 14.8552 7.32902 15.0459 7.46967 15.1866C7.61032 15.3272 7.80109 15.4062 8 15.4062C8.19891 15.4062 8.38968 15.3272 8.53033 15.1866C8.67098 15.0459 8.75 14.8552 8.75 14.6562V12.6562C8.75 12.4573 8.67098 12.2666 8.53033 12.1259C8.38968 11.9853 8.19891 11.9062 8 11.9062ZM4.64125 10.9544L3.22688 12.3687C3.08598 12.5096 3.00682 12.7007 3.00682 12.9C3.00682 13.0993 3.08598 13.2904 3.22688 13.4312C3.36777 13.5721 3.55887 13.6513 3.75813 13.6513C3.95738 13.6513 4.14848 13.5721 4.28937 13.4312L5.70375 12.0169C5.84465 11.876 5.9238 11.6849 5.9238 11.4856C5.9238 11.2864 5.84465 11.0953 5.70375 10.9544C5.56285 10.8135 5.37176 10.7343 5.1725 10.7343C4.97324 10.7343 4.78215 10.8135 4.64125 10.9544ZM4.75 8.65625C4.75 8.45734 4.67098 8.26657 4.53033 8.12592C4.38968 7.98527 4.19891 7.90625 4 7.90625H2C1.80109 7.90625 1.61032 7.98527 1.46967 8.12592C1.32902 8.26657 1.25 8.45734 1.25 8.65625C1.25 8.85516 1.32902 9.04593 1.46967 9.18658C1.61032 9.32723 1.80109 9.40625 2 9.40625H4C4.19891 9.40625 4.38968 9.32723 4.53033 9.18658C4.67098 9.04593 4.75 8.85516 4.75 8.65625ZM4.2875 3.88313C4.1466 3.74223 3.95551 3.66307 3.75625 3.66307C3.55699 3.66307 3.3659 3.74223 3.225 3.88313C3.0841 4.02402 3.00495 4.21512 3.00495 4.41438C3.00495 4.61363 3.0841 4.80473 3.225 4.94562L4.64125 6.35813C4.78215 6.49902 4.97324 6.57818 5.1725 6.57818C5.37176 6.57818 5.56285 6.49902 5.70375 6.35813C5.84465 6.21723 5.9238 6.02613 5.9238 5.82688C5.9238 5.62762 5.84465 5.43652 5.70375 5.29563L4.2875 3.88313Z"
        fill="currentColor"
      />
    </svg>`}};iy.styles=[bt,eje],DI([G()],iy.prototype,"color",void 0),DI([G()],iy.prototype,"size",void 0),iy=DI([Oe("wui-loading-spinner")],iy);var tje=qe`
  :host {
    width: var(--local-width);
  }

  button {
    width: var(--local-width);
    white-space: nowrap;
    column-gap: ${({spacing:e})=>e[2]};
    transition:
      scale ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: scale, background-color, border-radius;
    cursor: pointer;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='sm'] {
    border-radius: ${({borderRadius:e})=>e[2]};
    padding: 0 ${({spacing:e})=>e[2]};
    height: 28px;
  }

  button[data-size='md'] {
    border-radius: ${({borderRadius:e})=>e[3]};
    padding: 0 ${({spacing:e})=>e[4]};
    height: 38px;
  }

  button[data-size='lg'] {
    border-radius: ${({borderRadius:e})=>e[4]};
    padding: 0 ${({spacing:e})=>e[5]};
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent-primary'] {
    background-color: ${({tokens:e})=>e.core.backgroundAccentPrimary};
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  button[data-variant='accent-secondary'] {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  button[data-variant='neutral-primary'] {
    background-color: ${({tokens:e})=>e.theme.backgroundInvert};
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  button[data-variant='neutral-secondary'] {
    background-color: transparent;
    border: 1px solid ${({tokens:e})=>e.theme.borderSecondary};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button[data-variant='neutral-tertiary'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button[data-variant='error-primary'] {
    background-color: ${({tokens:e})=>e.core.textError};
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  button[data-variant='error-secondary'] {
    background-color: ${({tokens:e})=>e.core.backgroundError};
    color: ${({tokens:e})=>e.core.textError};
  }

  button[data-variant='shade'] {
    background: var(--wui-color-gray-glass-002);
    color: var(--wui-color-fg-200);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-size='sm']:focus-visible:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:focus-visible:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:focus-visible:enabled {
    border-radius: 48px;
  }
  button[data-variant='shade']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button[data-size='sm']:hover:enabled {
      border-radius: 28px;
    }

    button[data-size='md']:hover:enabled {
      border-radius: 38px;
    }

    button[data-size='lg']:hover:enabled {
      border-radius: 48px;
    }

    button[data-variant='shade']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='shade']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }
  }

  button[data-size='sm']:active:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:active:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:active:enabled {
    border-radius: 48px;
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    opacity: 0.3;
  }
`,Zf=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const nje={lg:"lg-regular-mono",md:"md-regular-mono",sm:"sm-regular-mono"},rje={lg:"md",md:"md",sm:"sm"};let cu=class extends Te{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="accent-primary"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
     `;const t=this.textVariant??nje[this.size];return W`
      <button data-variant=${this.variant} data-size=${this.size} ?disabled=${this.disabled}>
        ${this.loadingTemplate()}
        <slot name="iconLeft"></slot>
        <wui-text variant=${t} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}loadingTemplate(){if(this.loading){const t=rje[this.size],n=this.variant==="neutral-primary"||this.variant==="accent-primary"?"invert":"primary";return W`<wui-loading-spinner color=${n} size=${t}></wui-loading-spinner>`}return null}};cu.styles=[bt,ds,tje],Zf([G()],cu.prototype,"size",void 0),Zf([G({type:Boolean})],cu.prototype,"disabled",void 0),Zf([G({type:Boolean})],cu.prototype,"fullWidth",void 0),Zf([G({type:Boolean})],cu.prototype,"loading",void 0),Zf([G()],cu.prototype,"variant",void 0),Zf([G()],cu.prototype,"textVariant",void 0),cu=Zf([Oe("wui-button")],cu);var sje=qe`
  button {
    border: none;
    background: transparent;
    height: 20px;
    padding: ${({spacing:e})=>e[2]};
    column-gap: ${({spacing:e})=>e[1]};
    border-radius: ${({borderRadius:e})=>e[1]};
    padding: 0 ${({spacing:e})=>e[1]};
    border-radius: ${({spacing:e})=>e[1]};
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent'] {
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  button[data-variant='secondary'] {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[data-variant='accent']:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-variant='accent']:hover:enabled {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='secondary']:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,oy=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const ije={sm:"sm-medium",md:"md-medium"},oje={accent:"accent-primary",secondary:"secondary"};let Wf=class extends Te{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.variant="accent",this.icon=void 0}render(){return W`
      <button ?disabled=${this.disabled} data-variant=${this.variant}>
        <slot name="iconLeft"></slot>
        <wui-text
          color=${oje[this.variant]}
          variant=${ije[this.size]}
        >
          <slot></slot>
        </wui-text>
        ${this.iconTemplate()}
      </button>
    `}iconTemplate(){return this.icon?W`<wui-icon name=${this.icon} size="sm"></wui-icon>`:null}};Wf.styles=[bt,ds,sje],oy([G()],Wf.prototype,"size",void 0),oy([G({type:Boolean})],Wf.prototype,"disabled",void 0),oy([G()],Wf.prototype,"variant",void 0),oy([G()],Wf.prototype,"icon",void 0),Wf=oy([Oe("wui-link")],Wf);var aje=qe`
  :host {
    display: block;
    width: 100px;
    height: 100px;
  }

  svg {
    width: 100px;
    height: 100px;
  }

  rect {
    fill: none;
    stroke: ${e=>e.colors.accent100};
    stroke-width: 3px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`,lY=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Q3=class extends Te{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const t=this.radius>50?50:this.radius,r=36-t,s=116+r,i=245+r,o=360+r*1.75;return W`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${t}
          stroke-dasharray="${s} ${i}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};Q3.styles=[bt,aje],lY([G({type:Number})],Q3.prototype,"radius",void 0),Q3=lY([Oe("wui-loading-thumbnail")],Q3);var cje=qe`
  wui-flex {
    width: 100%;
    height: 52px;
    box-sizing: border-box;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[5]};
    padding-left: ${({spacing:e})=>e[3]};
    padding-right: ${({spacing:e})=>e[3]};
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${({spacing:e})=>e[6]};
  }

  wui-text {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  wui-icon {
    width: 12px;
    height: 12px;
  }
`,e5=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Pp=class extends Te{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return W`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="lg-regular" color="inherit">${this.label}</wui-text>
        <wui-button variant="accent-secondary" size="sm">
          ${this.buttonLabel}
          <wui-icon name="chevronRight" color="inherit" size="inherit" slot="iconRight"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};Pp.styles=[bt,ds,cje],e5([G({type:Boolean})],Pp.prototype,"disabled",void 0),e5([G()],Pp.prototype,"label",void 0),e5([G()],Pp.prototype,"buttonLabel",void 0),Pp=e5([Oe("wui-cta-button")],Pp);var lje=qe`
  :host {
    display: block;
    padding: 0 ${({spacing:e})=>e[5]} ${({spacing:e})=>e[5]};
  }
`,uY=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let t5=class extends Te{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:t,app_store:n,play_store:r,chrome_store:s,homepage:i}=this.wallet,o=oe.isMobile(),a=oe.isIos(),c=oe.isAndroid(),l=[n,r,i,s].filter(Boolean).length>1,u=On.getTruncateString({string:t,charsStart:12,charsEnd:0,truncate:"end"});return l&&!o?W`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${()=>ne.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&i?W`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:n&&a?W`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:r&&c?W`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){this.wallet?.app_store&&oe.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&oe.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&oe.openHref(this.wallet.homepage,"_blank")}};t5.styles=[lje],uY([G({type:Object})],t5.prototype,"wallet",void 0),t5=uY([Oe("w3m-mobile-download-links")],t5);var uje=qe`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-wallet-image {
    width: 56px;
    height: 56px;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:e})=>e[1]} * -1);
    bottom: calc(${({spacing:e})=>e[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: ${({durations:e})=>e.lg};
    transition-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px ${({spacing:e})=>e[4]};
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms ${({easings:e})=>e["ease-out-power-2"]} both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  w3m-mobile-download-links {
    padding: 0px;
    width: 100%;
  }
`,Yo=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};class fr extends Te{constructor(){super(),this.wallet=ne.state.data?.wallet,this.connector=ne.state.data?.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=wi.getConnectorImage(this.connector)??wi.getWalletImage(this.wallet),this.name=this.wallet?.name??this.connector?.name??"Wallet",this.isRetrying=!1,this.uri=ie.state.wcUri,this.error=ie.state.wcError,this.ready=!1,this.showRetry=!1,this.label=void 0,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(ie.subscribeKey("wcUri",t=>{this.uri=t,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,this.onConnect?.())}),ie.subscribeKey("wcError",t=>this.error=t)),(oe.isTelegram()||oe.isSafari())&&oe.isIos()&&ie.state.wcUri&&this.onConnect?.()}firstUpdated(){this.onAutoConnect?.(),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),ie.setWcError(!1),clearTimeout(this.timeout)}render(){this.onRender?.(),this.onShowRetry();const t=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let n="";return this.label?n=this.label:(n=`Continue in ${this.name}`,this.error&&(n="Connection declined")),W`
      <wui-flex
        data-error=${Ge(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="6"
      >
        <wui-flex gap="2" justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${Ge(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            color="error"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="6"> <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["2","0","0","0"]}
        >
          <wui-text align="center" variant="lg-medium" color=${this.error?"error":"primary"}>
            ${n}
          </wui-text>
          <wui-text align="center" variant="lg-regular" color="secondary">${t}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?W`
                <wui-button
                  variant="neutral-secondary"
                  size="md"
                  ?disabled=${this.isRetrying||this.isLoading}
                  @click=${this.onTryAgain.bind(this)}
                  data-testid="w3m-connecting-widget-secondary-button"
                >
                  <wui-icon
                    color="inherit"
                    slot="iconLeft"
                    name=${this.secondaryBtnIcon}
                  ></wui-icon>
                  ${this.secondaryBtnLabel}
                </wui-button>
              `:null}
      </wui-flex>

      ${this.isWalletConnect?W`
              <wui-flex .padding=${["0","5","5","5"]} justifyContent="center">
                <wui-link
                  @click=${this.onCopyUri}
                  variant="secondary"
                  icon="copy"
                  data-testid="wui-link-copy"
                >
                  Copy link
                </wui-link>
              </wui-flex>
            `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links></wui-flex>
      </wui-flex>
    `}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){ie.setWcError(!1),this.onRetry?(this.isRetrying=!0,this.onRetry?.()):this.onConnect?.()}loaderTemplate(){const t=sr.state.themeVariables["--w3m-border-radius-master"],n=t?parseInt(t.replace("px",""),10):4;return W`<wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(oe.copyToClopboard(this.uri),it.showSuccess("Link copied"))}catch{it.showError("Failed to copy")}}}fr.styles=uje,Yo([be()],fr.prototype,"isRetrying",void 0),Yo([be()],fr.prototype,"uri",void 0),Yo([be()],fr.prototype,"error",void 0),Yo([be()],fr.prototype,"ready",void 0),Yo([be()],fr.prototype,"showRetry",void 0),Yo([be()],fr.prototype,"label",void 0),Yo([be()],fr.prototype,"secondaryBtnLabel",void 0),Yo([be()],fr.prototype,"secondaryLabel",void 0),Yo([be()],fr.prototype,"isLoading",void 0),Yo([G({type:Boolean})],fr.prototype,"isMobile",void 0),Yo([G()],fr.prototype,"onRetry",void 0);var dje=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let dY=class extends fr{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),Ie.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:ne.state.view}})}async onConnectProxy(){try{this.error=!1;const{connectors:t}=ae.state,n=t.find(r=>r.type==="ANNOUNCED"&&r.info?.rdns===this.wallet?.rdns||r.type==="INJECTED"||r.name===this.wallet?.name);if(n)await ie.connectExternal(n,n.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");Fe.close(),Ie.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:this.wallet?.name||"Unknown",view:ne.state.view,walletRank:this.wallet?.order}})}catch(t){t instanceof kl&&t.originalName===ma.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?Ie.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:t.message}}):Ie.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:t?.message??"Unknown"}}),this.error=!0}}};dY=dje([Oe("w3m-connecting-wc-browser")],dY);var fje=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let fY=class extends fr{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),Ie.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:ne.state.view}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onConnectProxy(){if(this.wallet?.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:t,name:n}=this.wallet,{redirect:r,href:s}=oe.formatNativeUrl(t,this.uri);ie.setWcLinking({name:n,href:s}),ie.setRecentWallet(this.wallet),oe.openHref(r,"_blank")}catch{this.error=!0}}};fY=fje([Oe("w3m-connecting-wc-desktop")],fY);var Tp=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Kf=class extends fr{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=ee.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{if(this.wallet?.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:t,link_mode:n,name:r}=this.wallet,{redirect:s,redirectUniversalLink:i,href:o}=oe.formatNativeUrl(t,this.uri,n);this.redirectDeeplink=s,this.redirectUniversalLink=i,this.target=oe.isIframe()?"_top":"_self",ie.setWcLinking({name:r,href:o}),ie.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?oe.openHref(this.redirectUniversalLink,this.target):oe.openHref(this.redirectDeeplink,this.target)}catch(t){Ie.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:t instanceof Error?t.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=Ye.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(ie.subscribeKey("wcUri",()=>{this.onHandleURI()})),Ie.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:ne.state.view}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onTryAgain(){ie.setWcError(!1),this.onConnect?.()}};Tp([be()],Kf.prototype,"redirectDeeplink",void 0),Tp([be()],Kf.prototype,"redirectUniversalLink",void 0),Tp([be()],Kf.prototype,"target",void 0),Tp([be()],Kf.prototype,"preferUniversalLinks",void 0),Tp([be()],Kf.prototype,"isLoading",void 0),Kf=Tp([Oe("w3m-connecting-wc-mobile")],Kf);var ay={},hje=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},hY={},Ii={};let MI;const pje=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ii.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17},Ii.getSymbolTotalCodewords=function(t){return pje[t]},Ii.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t},Ii.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');MI=t},Ii.isKanjiModeEnabled=function(){return typeof MI<"u"},Ii.toSJIS=function(t){return MI(t)};var n5={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,s){if(e.isValid(r))return r;try{return t(r)}catch{return s}}})(n5);function pY(){this.buffer=[],this.length=0}pY.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var gje=pY;function cy(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}cy.prototype.set=function(e,t,n,r){const s=e*this.size+t;this.data[s]=n,r&&(this.reservedBit[s]=!0)},cy.prototype.get=function(e,t){return this.data[e*this.size+t]},cy.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},cy.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var mje=cy,gY={};(function(e){const t=Ii.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=t(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let c=1;c<s-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},e.getPositions=function(r){const s=[],i=e.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||s.push([i[a],i[c]]);return s}})(gY);var mY={};const yje=Ii.getSymbolSize,yY=7;mY.getPositions=function(t){const n=yje(t);return[[0,0],[n-yY,0],[0,n-yY]]};var bY={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,c=0,l=null,u=null;for(let f=0;f<i;f++){a=c=0,l=u=null;for(let d=0;d<i;d++){let h=s.get(f,d);h===l?a++:(a>=5&&(o+=t.N1+(a-5)),l=h,a=1),h=s.get(d,f),h===u?c++:(c>=5&&(o+=t.N1+(c-5)),u=h,c=1)}a>=5&&(o+=t.N1+(a-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const l=s.get(a,c)+s.get(a,c+1)+s.get(a+1,c)+s.get(a+1,c+1);(l===4||l===0)&&o++}return o*t.N2},e.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,c=0;for(let l=0;l<i;l++){a=c=0;for(let u=0;u<i;u++)a=a<<1&2047|s.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|s.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function n(r,s,i){switch(r){case e.Patterns.PATTERN000:return(s+i)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(s+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return s*i%2+s*i%3===0;case e.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case e.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)i.isReserved(c,a)||i.xor(c,a,n(s,c,a))},e.getBestMask=function(s,i){const o=Object.keys(e.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){i(l),e.applyMask(l,s);const u=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(l,s),u<c&&(c=u,a=l)}return a}})(bY);var r5={};const Wd=n5,s5=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i5=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];r5.getBlocksCount=function(t,n){switch(n){case Wd.L:return s5[(t-1)*4+0];case Wd.M:return s5[(t-1)*4+1];case Wd.Q:return s5[(t-1)*4+2];case Wd.H:return s5[(t-1)*4+3];default:return}},r5.getTotalCodewordsCount=function(t,n){switch(n){case Wd.L:return i5[(t-1)*4+0];case Wd.M:return i5[(t-1)*4+1];case Wd.Q:return i5[(t-1)*4+2];case Wd.H:return i5[(t-1)*4+3];default:return}};var wY={},o5={};const ly=new Uint8Array(512),a5=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)ly[n]=t,a5[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)ly[n]=ly[n-255]})(),o5.log=function(t){if(t<1)throw new Error("log("+t+")");return a5[t]},o5.exp=function(t){return ly[t]},o5.mul=function(t,n){return t===0||n===0?0:ly[a5[t]+a5[n]]},function(e){const t=o5;e.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=t.mul(r[o],s[a]);return i},e.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=t.mul(s[c],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},e.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=e.mul(s,new Uint8Array([1,t.exp(i)]));return s}}(wY);const vY=wY;function UI(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}UI.prototype.initialize=function(t){this.degree=t,this.genPoly=vY.generateECPolynomial(this.degree)},UI.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=vY.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var bje=UI,EY={},Kd={},LI={};LI.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var La={};const xY="[0-9]+",wje="[A-Z $%*+\\-./:]+";let uy="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";uy=uy.replace(/u/g,"\\u");const vje="(?:(?![A-Z0-9 $%*+\\-./:]|"+uy+`)(?:.|[\r
]))+`;La.KANJI=new RegExp(uy,"g"),La.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),La.BYTE=new RegExp(vje,"g"),La.NUMERIC=new RegExp(xY,"g"),La.ALPHANUMERIC=new RegExp(wje,"g");const Eje=new RegExp("^"+uy+"$"),xje=new RegExp("^"+xY+"$"),$je=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");La.testKanji=function(t){return Eje.test(t)},La.testNumeric=function(t){return xje.test(t)},La.testAlphanumeric=function(t){return $je.test(t)},function(e){const t=LI,n=La;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(i,o){if(e.isValid(i))return i;try{return r(i)}catch{return o}}}(Kd),function(e){const t=Ii,n=r5,r=n5,s=Kd,i=LI,o=7973,a=t.getBCHDigit(o);function c(d,h,p){for(let g=1;g<=40;g++)if(h<=e.getCapacity(g,p,d))return g}function l(d,h){return s.getCharCountIndicator(d,h)+4}function u(d,h){let p=0;return d.forEach(function(g){const y=l(g.mode,h);p+=y+g.getBitsLength()}),p}function f(d,h){for(let p=1;p<=40;p++)if(u(d,p)<=e.getCapacity(p,h,s.MIXED))return p}e.from=function(h,p){return i.isValid(h)?parseInt(h,10):p},e.getCapacity=function(h,p,g){if(!i.isValid(h))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=s.BYTE);const y=t.getSymbolTotalCodewords(h),$=n.getTotalCodewordsCount(h,p),_=(y-$)*8;if(g===s.MIXED)return _;const x=_-l(g,h);switch(g){case s.NUMERIC:return Math.floor(x/10*3);case s.ALPHANUMERIC:return Math.floor(x/11*2);case s.KANJI:return Math.floor(x/13);case s.BYTE:default:return Math.floor(x/8)}},e.getBestVersionForData=function(h,p){let g;const y=r.from(p,r.M);if(Array.isArray(h)){if(h.length>1)return f(h,y);if(h.length===0)return 1;g=h[0]}else g=h;return c(g.mode,g.getLength(),y)},e.getEncodedBits=function(h){if(!i.isValid(h)||h<7)throw new Error("Invalid QR Code version");let p=h<<12;for(;t.getBCHDigit(p)-a>=0;)p^=o<<t.getBCHDigit(p)-a;return h<<12|p}}(EY);var $Y={};const FI=Ii,AY=1335,Aje=21522,CY=FI.getBCHDigit(AY);$Y.getEncodedBits=function(t,n){const r=t.bit<<3|n;let s=r<<10;for(;FI.getBCHDigit(s)-CY>=0;)s^=AY<<FI.getBCHDigit(s)-CY;return(r<<10|s)^Aje};var SY={};const Cje=Kd;function Np(e){this.mode=Cje.NUMERIC,this.data=e.toString()}Np.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},Np.prototype.getLength=function(){return this.data.length},Np.prototype.getBitsLength=function(){return Np.getBitsLength(this.data.length)},Np.prototype.write=function(t){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),t.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),t.put(s,i*3+1))};var Sje=Np;const Ije=Kd,jI=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Bp(e){this.mode=Ije.ALPHANUMERIC,this.data=e}Bp.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},Bp.prototype.getLength=function(){return this.data.length},Bp.prototype.getBitsLength=function(){return Bp.getBitsLength(this.data.length)},Bp.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=jI.indexOf(this.data[n])*45;r+=jI.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(jI.indexOf(this.data[n]),6)};var _je=Bp,Oje=function(t){for(var n=[],r=t.length,s=0;s<r;s++){var i=t.charCodeAt(s);if(i>=55296&&i<=56319&&r>s+1){var o=t.charCodeAt(s+1);o>=56320&&o<=57343&&(i=(i-55296)*1024+o-56320+65536,s+=1)}if(i<128){n.push(i);continue}if(i<2048){n.push(i>>6|192),n.push(i&63|128);continue}if(i<55296||i>=57344&&i<65536){n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128);continue}if(i>=65536&&i<=1114111){n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(i&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Pje=Oje,Tje=Kd;function kp(e){this.mode=Tje.BYTE,typeof e=="string"&&(e=Pje(e)),this.data=new Uint8Array(e)}kp.getBitsLength=function(t){return t*8},kp.prototype.getLength=function(){return this.data.length},kp.prototype.getBitsLength=function(){return kp.getBitsLength(this.data.length)},kp.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Nje=kp;const Bje=Kd,kje=Ii;function Rp(e){this.mode=Bje.KANJI,this.data=e}Rp.getBitsLength=function(t){return t*13},Rp.prototype.getLength=function(){return this.data.length},Rp.prototype.getBitsLength=function(){return Rp.getBitsLength(this.data.length)},Rp.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=kje.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Rje=Rp,IY={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var c,l,u,f,d,h,p,g,y;!a.empty();){c=a.pop(),l=c.value,f=c.cost,d=n[l]||{};for(u in d)d.hasOwnProperty(u)&&(h=d[u],p=f+h,g=o[u],y=typeof o[u]>"u",(y||g>p)&&(o[u]=p,a.push(u,p),i[u]=l))}if(typeof s<"u"&&typeof o[s]>"u"){var $=["Could not find a path from ",r," to ",s,"."].join("");throw new Error($)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=t.single_source_shortest_paths(n,r,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(IY),function(e){const t=Kd,n=Sje,r=_je,s=Nje,i=Rje,o=La,a=Ii,c=IY.exports;function l($){return unescape(encodeURIComponent($)).length}function u($,_,x){const E=[];let P;for(;(P=$.exec(x))!==null;)E.push({data:P[0],index:P.index,mode:_,length:P[0].length});return E}function f($){const _=u(o.NUMERIC,t.NUMERIC,$),x=u(o.ALPHANUMERIC,t.ALPHANUMERIC,$);let E,P;return a.isKanjiModeEnabled()?(E=u(o.BYTE,t.BYTE,$),P=u(o.KANJI,t.KANJI,$)):(E=u(o.BYTE_KANJI,t.BYTE,$),P=[]),_.concat(x,E,P).sort(function(k,R){return k.index-R.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function d($,_){switch(_){case t.NUMERIC:return n.getBitsLength($);case t.ALPHANUMERIC:return r.getBitsLength($);case t.KANJI:return i.getBitsLength($);case t.BYTE:return s.getBitsLength($)}}function h($){return $.reduce(function(_,x){const E=_.length-1>=0?_[_.length-1]:null;return E&&E.mode===x.mode?(_[_.length-1].data+=x.data,_):(_.push(x),_)},[])}function p($){const _=[];for(let x=0;x<$.length;x++){const E=$[x];switch(E.mode){case t.NUMERIC:_.push([E,{data:E.data,mode:t.ALPHANUMERIC,length:E.length},{data:E.data,mode:t.BYTE,length:E.length}]);break;case t.ALPHANUMERIC:_.push([E,{data:E.data,mode:t.BYTE,length:E.length}]);break;case t.KANJI:_.push([E,{data:E.data,mode:t.BYTE,length:l(E.data)}]);break;case t.BYTE:_.push([{data:E.data,mode:t.BYTE,length:l(E.data)}])}}return _}function g($,_){const x={},E={start:{}};let P=["start"];for(let N=0;N<$.length;N++){const k=$[N],R=[];for(let T=0;T<k.length;T++){const L=k[T],M=""+N+T;R.push(M),x[M]={node:L,lastCount:0},E[M]={};for(let S=0;S<P.length;S++){const w=P[S];x[w]&&x[w].node.mode===L.mode?(E[w][M]=d(x[w].lastCount+L.length,L.mode)-d(x[w].lastCount,L.mode),x[w].lastCount+=L.length):(x[w]&&(x[w].lastCount=L.length),E[w][M]=d(L.length,L.mode)+4+t.getCharCountIndicator(L.mode,_))}}P=R}for(let N=0;N<P.length;N++)E[P[N]].end=0;return{map:E,table:x}}function y($,_){let x;const E=t.getBestModeForData($);if(x=t.from(_,E),x!==t.BYTE&&x.bit<E.bit)throw new Error('"'+$+'" cannot be encoded with mode '+t.toString(x)+`.
 Suggested mode is: `+t.toString(E));switch(x===t.KANJI&&!a.isKanjiModeEnabled()&&(x=t.BYTE),x){case t.NUMERIC:return new n($);case t.ALPHANUMERIC:return new r($);case t.KANJI:return new i($);case t.BYTE:return new s($)}}e.fromArray=function(_){return _.reduce(function(x,E){return typeof E=="string"?x.push(y(E,null)):E.data&&x.push(y(E.data,E.mode)),x},[])},e.fromString=function(_,x){const E=f(_,a.isKanjiModeEnabled()),P=p(E),N=g(P,x),k=c.find_path(N.map,"start","end"),R=[];for(let T=1;T<k.length-1;T++)R.push(N.table[k[T]].node);return e.fromArray(h(R))},e.rawSplit=function(_){return e.fromArray(f(_,a.isKanjiModeEnabled()))}}(SY);const c5=Ii,zI=n5,Dje=gje,Mje=mje,Uje=gY,Lje=mY,HI=bY,VI=r5,Fje=bje,l5=EY,jje=$Y,zje=Kd,qI=SY;function Hje(e,t){const n=e.size,r=Lje.getPositions(t);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||n<=i+a))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?e.set(i+a,o+c,!0,!0):e.set(i+a,o+c,!1,!0))}}function Vje(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function qje(e,t){const n=Uje.getPositions(t);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?e.set(s+o,i+a,!0,!0):e.set(s+o,i+a,!1,!0)}}function Zje(e,t){const n=e.size,r=l5.getEncodedBits(t);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+n-8-3,o=(r>>a&1)===1,e.set(s,i,o,!0),e.set(i,s,o,!0)}function ZI(e,t,n){const r=e.size,s=jje.getEncodedBits(t,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(r-15+i,8,o,!0),i<8?e.set(8,r-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(r-8,8,1,!0)}function Wje(e,t){const n=e.size;let r=-1,s=n-1,i=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!e.isReserved(s,a-c)){let l=!1;o<t.length&&(l=(t[o]>>>i&1)===1),e.set(s,a-c,l),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function Kje(e,t,n){const r=new Dje;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),zje.getCharCountIndicator(c.mode,e)),c.write(r)});const s=c5.getSymbolTotalCodewords(e),i=VI.getTotalCodewordsCount(e,t),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return Gje(r,e,t)}function Gje(e,t,n){const r=c5.getSymbolTotalCodewords(t),s=VI.getTotalCodewordsCount(t,n),i=r-s,o=VI.getBlocksCount(t,n),a=r%o,c=o-a,l=Math.floor(r/o),u=Math.floor(i/o),f=u+1,d=l-u,h=new Fje(d);let p=0;const g=new Array(o),y=new Array(o);let $=0;const _=new Uint8Array(e.buffer);for(let k=0;k<o;k++){const R=k<c?u:f;g[k]=_.slice(p,p+R),y[k]=h.encode(g[k]),p+=R,$=Math.max($,R)}const x=new Uint8Array(r);let E=0,P,N;for(P=0;P<$;P++)for(N=0;N<o;N++)P<g[N].length&&(x[E++]=g[N][P]);for(P=0;P<d;P++)for(N=0;N<o;N++)x[E++]=y[N][P];return x}function Yje(e,t,n,r){let s;if(Array.isArray(e))s=qI.fromArray(e);else if(typeof e=="string"){let l=t;if(!l){const u=qI.rawSplit(e);l=l5.getBestVersionForData(u,n)}s=qI.fromString(e,l||40)}else throw new Error("Invalid data");const i=l5.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=Kje(t,n,s),a=c5.getSymbolSize(t),c=new Mje(a);return Hje(c,t),Vje(c),qje(c,t),ZI(c,n,0),t>=7&&Zje(c,t),Wje(c,o),isNaN(r)&&(r=HI.getBestMask(c,ZI.bind(null,c,n))),HI.applyMask(r,c),ZI(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:s}}hY.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=zI.M,s,i;return typeof n<"u"&&(r=zI.from(n.errorCorrectionLevel,zI.M),s=l5.from(n.version),i=HI.from(n.maskPattern),n.toSJISFunc&&c5.setToSJISFunction(n.toSJISFunc)),Yje(t,s,r,i)};var _Y={},WI={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},e.getImageWidth=function(r,s){const i=e.getScale(r,s);return Math.floor((r+s.margin*2)*i)},e.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,c=e.getScale(o,i),l=Math.floor((o+i.margin*2)*c),u=i.margin*c,f=[i.color.light,i.color.dark];for(let d=0;d<l;d++)for(let h=0;h<l;h++){let p=(d*l+h)*4,g=i.color.light;if(d>=u&&h>=u&&d<l-u&&h<l-u){const y=Math.floor((d-u)/c),$=Math.floor((h-u)/c);g=f[a[y*o+$]?1:0]}r[p++]=g.r,r[p++]=g.g,r[p++]=g.b,r[p]=g.a}}})(WI),function(e){const t=WI;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=r()),c=t.getOptions(c);const u=t.getImageWidth(i.modules.size,c),f=l.getContext("2d"),d=f.createImageData(u,u);return t.qrToImageData(d.data,i,c),n(f,l,u),f.putImageData(d,0,0),l},e.renderToDataURL=function(i,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=e.render(i,o,c),u=c.type||"image/png",f=c.rendererOpts||{};return l.toDataURL(u,f.quality)}}(_Y);var OY={};const Xje=WI;function PY(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function KI(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function Jje(e,t,n){let r="",s=0,i=!1,o=0;for(let a=0;a<e.length;a++){const c=Math.floor(a%t),l=Math.floor(a/t);!c&&!i&&(i=!0),e[a]?(o++,a>0&&c>0&&e[a-1]||(r+=i?KI("M",c+n,.5+l+n):KI("m",s,0),s=0,i=!1),c+1<t&&e[a+1]||(r+=KI("h",o),o=0)):s++}return r}OY.render=function(t,n,r){const s=Xje.getOptions(n),i=t.modules.size,o=t.modules.data,a=i+s.margin*2,c=s.color.light.a?"<path "+PY(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+PY(s.color.dark,"stroke")+' d="'+Jje(o,i,s.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,d),d};const Qje=hje,GI=hY,TY=_Y,eze=OY;function YI(e,t,n,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!Qje())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=t,t=r=void 0):o===3&&(t.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=r=void 0):o===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(c,l){try{const u=GI.create(n,r);c(e(u,t,r))}catch(u){l(u)}})}try{const c=GI.create(n,r);s(null,e(c,t,r))}catch(c){s(c)}}ay.create=GI.create,ay.toCanvas=YI.bind(null,TY.render),ay.toDataURL=YI.bind(null,TY.renderToDataURL),ay.toString=YI.bind(null,function(e,t,n){return eze.render(e,n)});const tze=.1,NY=2.5,lu=7;function XI(e,t,n){return e===t?!1:(e-t<0?t-e:e-t)<=n+tze}function nze(e,t){const n=Array.prototype.slice.call(ay.create(e,{errorCorrectionLevel:t}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((s,i,o)=>(o%r===0?s.push([i]):s[s.length-1].push(i))&&s,[])}const rze={generate({uri:e,size:t,logoSize:n,padding:r=8,dotColor:s="var(--apkt-colors-black)"}){const o=[],a=nze(e,"Q"),c=(t-2*r)/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:g,y})=>{const $=(a.length-lu)*c*g+r,_=(a.length-lu)*c*y+r,x=.45;for(let E=0;E<l.length;E+=1){const P=c*(lu-E*2);o.push($t`
            <rect
              fill=${E===2?"var(--apkt-colors-black)":"var(--apkt-colors-white)"}
              width=${E===0?P-10:P}
              rx= ${E===0?(P-10)*x:P*x}
              ry= ${E===0?(P-10)*x:P*x}
              stroke=${s}
              stroke-width=${E===0?10:0}
              height=${E===0?P-10:P}
              x= ${E===0?_+c*E+10/2:_+c*E}
              y= ${E===0?$+c*E+10/2:$+c*E}
            />
          `)}});const u=Math.floor((n+25)/c),f=a.length/2-u/2,d=a.length/2+u/2-1,h=[];a.forEach((g,y)=>{g.forEach(($,_)=>{if(a[y][_]&&!(y<lu&&_<lu||y>a.length-(lu+1)&&_<lu||y<lu&&_>a.length-(lu+1))&&!(y>f&&y<d&&_>f&&_<d)){const x=y*c+c/2+r,E=_*c+c/2+r;h.push([x,E])}})});const p={};return h.forEach(([g,y])=>{p[g]?p[g]?.push(y):p[g]=[y]}),Object.entries(p).map(([g,y])=>{const $=y.filter(_=>y.every(x=>!XI(_,x,c)));return[Number(g),$]}).forEach(([g,y])=>{y.forEach($=>{o.push($t`<circle cx=${g} cy=${$} fill=${s} r=${c/NY} />`)})}),Object.entries(p).filter(([g,y])=>y.length>1).map(([g,y])=>{const $=y.filter(_=>y.some(x=>XI(_,x,c)));return[Number(g),$]}).map(([g,y])=>{y.sort((_,x)=>_<x?-1:1);const $=[];for(const _ of y){const x=$.find(E=>E.some(P=>XI(_,P,c)));x?x.push(_):$.push([_])}return[g,$.map(_=>[_[0],_[_.length-1]])]}).forEach(([g,y])=>{y.forEach(([$,_])=>{o.push($t`
              <line
                x1=${g}
                x2=${g}
                y1=${$}
                y2=${_}
                stroke=${s}
                stroke-width=${c/(NY/2)}
                stroke-linecap="round"
              />
            `)})}),o}};var sze=qe`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: 100%;
    height: 100%;
    background-color: ${({colors:e})=>e.white};
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
  }

  :host {
    border-radius: ${({borderRadius:e})=>e[4]};
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    box-shadow: inset 0 0 0 4px ${({tokens:e})=>e.theme.backgroundPrimary};
    border-radius: ${({borderRadius:e})=>e[6]};
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: #3396ff !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }

  wui-icon > svg {
    width: inherit;
    height: inherit;
  }
`,Gd=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Fa=class extends Te{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`--local-size: ${this.size}px`,W`<wui-flex
      alignItems="center"
      justifyContent="center"
      class="wui-qr-code"
      direction="column"
      gap="4"
      width="100%"
      style="height: 100%"
    >
      ${this.templateVisual()} ${this.templateSvg()}
    </wui-flex>`}templateSvg(){return $t`
      <svg height=${this.size} width=${this.size}>
        ${rze.generate({uri:this.uri,size:this.size,logoSize:this.arenaClear?0:this.size/4})}
      </svg>
    `}templateVisual(){return this.imageSrc?W`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?W`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:W`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};Fa.styles=[bt,sze],Gd([G()],Fa.prototype,"uri",void 0),Gd([G({type:Number})],Fa.prototype,"size",void 0),Gd([G()],Fa.prototype,"theme",void 0),Gd([G()],Fa.prototype,"imageSrc",void 0),Gd([G()],Fa.prototype,"alt",void 0),Gd([G({type:Boolean})],Fa.prototype,"arenaClear",void 0),Gd([G({type:Boolean})],Fa.prototype,"farcaster",void 0),Fa=Gd([Oe("wui-qr-code")],Fa);var ize=qe`
  :host {
    display: block;
    background: linear-gradient(
      90deg,
      ${({tokens:e})=>e.theme.foregroundSecondary} 0%,
      ${({tokens:e})=>e.theme.foregroundTertiary} 50%,
      ${({tokens:e})=>e.theme.foregroundSecondary} 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1s ease-in-out infinite;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:e})=>e[16]};
  }

  @keyframes shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }
`,dy=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Gf=class extends Te{constructor(){super(...arguments),this.width="",this.height="",this.variant="default",this.rounded=!1}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
    `,this.dataset.rounded=this.rounded?"true":"false",W`<slot></slot>`}};Gf.styles=[ize],dy([G()],Gf.prototype,"width",void 0),dy([G()],Gf.prototype,"height",void 0),dy([G()],Gf.prototype,"variant",void 0),dy([G({type:Boolean})],Gf.prototype,"rounded",void 0),Gf=dy([Oe("wui-shimmer")],Gf);const oze="https://reown.com";var aze=qe`
  .reown-logo {
    height: 24px;
  }

  a {
    text-decoration: none;
    cursor: pointer;
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  a:hover {
    opacity: 0.9;
  }
`,cze=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let JI=class extends Te{render(){return W`
      <a
        data-testid="ux-branding-reown"
        href=${oze}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="1"
          .padding=${["01","0","3","0"]}
        >
          <wui-text variant="sm-regular" color="inherit"> UX by </wui-text>
          <wui-icon name="reown" size="inherit" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};JI.styles=[bt,ds,aze],JI=cze([Oe("wui-ux-by-reown")],JI);var lze=qe`
  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: ${({borderRadius:e})=>e[4]};
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,BY=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let u5=class extends fr{constructor(){super(),this.basic=!1,this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate)}firstUpdated(){this.basic||Ie.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet?.name??"WalletConnect",platform:"qrcode",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:ne.state.view}})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe?.forEach(t=>t()),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),W`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","5","5","5"]}
        gap="5"
      >
        <wui-shimmer width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>
        <wui-text variant="lg-medium" color="primary"> Scan this QR Code with your phone </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const t=this.getBoundingClientRect().width-40,n=this.wallet?this.wallet.name:void 0;ie.setWcLinking(void 0),ie.setRecentWallet(this.wallet);let r=this.uri;if(this.wallet?.mobile_link){const{redirect:s}=oe.formatNativeUrl(this.wallet?.mobile_link,this.uri,null);r=s}return W` <wui-qr-code
      size=${t}
      theme=${sr.state.themeMode}
      uri=${r}
      imageSrc=${Ge(wi.getWalletImage(this.wallet))}
      color=${Ge(sr.state.themeVariables["--w3m-qr-color"])}
      alt=${Ge(n)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const t=!this.uri||!this.ready;return W`<wui-button
      .disabled=${t}
      @click=${this.onCopyUri}
      variant="neutral-secondary"
      size="sm"
      data-testid="copy-wc2-uri"
    >
      Copy link
      <wui-icon size="sm" color="inherit" name="copy" slot="iconRight"></wui-icon>
    </wui-button>`}};u5.styles=lze,BY([G({type:Boolean})],u5.prototype,"basic",void 0),u5=BY([Oe("w3m-connecting-wc-qrcode")],u5);var uze=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let kY=class extends Te{constructor(){if(super(),this.wallet=ne.state.data?.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");Ie.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:ne.state.view}})}render(){return W`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="5"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${Ge(wi.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="md-regular" color="primary">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};kY=uze([Oe("w3m-connecting-wc-unsupported")],kY);var RY=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let QI=class extends fr{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=Ye.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(ie.subscribeKey("wcUri",()=>{this.updateLoadingState()})),Ie.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:ne.state.view}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){if(this.wallet?.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:t,name:n}=this.wallet,{redirect:r,href:s}=oe.formatUniversalUrl(t,this.uri);ie.setWcLinking({name:n,href:s}),ie.setRecentWallet(this.wallet),oe.openHref(r,"_blank")}catch{this.error=!0}}};RY([be()],QI.prototype,"isLoading",void 0),QI=RY([Oe("w3m-connecting-wc-web")],QI);var dze=qe`
  :host([data-mobile-fullscreen='true']) {
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  :host([data-mobile-fullscreen='true']) wui-ux-by-reown {
    margin-top: auto;
  }
`,Yf=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let uu=class extends Te{constructor(){super(),this.wallet=ne.state.data?.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!ee.state.siwx,this.remoteFeatures=ee.state.remoteFeatures,this.displayBranding=!0,this.basic=!1,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(ee.subscribeKey("remoteFeatures",t=>this.remoteFeatures=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){return ee.state.enableMobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),W`
      ${this.headerTemplate()}
      <div class="platform-container">${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){return!this.remoteFeatures?.reownBranding||!this.displayBranding?null:W`<wui-ux-by-reown></wui-ux-by-reown>`}async initializeConnection(t=!1){if(!(this.platform==="browser"||ee.state.manualWCControl&&!t))try{const{wcPairingExpiry:n,status:r}=ie.state,{redirectView:s}=ne.state.data??{};if(t||ee.state.enableEmbedded||oe.isPairingExpired(n)||r==="connecting"){const i=ie.getConnections(F.state.activeChain),o=this.remoteFeatures?.multiWallet,a=i.length>0;await ie.connectWalletConnect({cache:"never"}),this.isSiwxEnabled||(a&&o?(ne.replace("ProfileWallets"),it.showSuccess("New Wallet Added")):s?ne.replace(s):Fe.close())}}catch(n){if(n instanceof Error&&n.message.includes("An error occurred when attempting to switch chain")&&!ee.state.enableNetworkSwitch&&F.state.activeChain){F.setActiveCaipNetwork(Bf.getUnsupportedNetwork(`${F.state.activeChain}:${F.state.activeCaipNetwork?.id}`)),F.showUnsupportedChainUI();return}n instanceof kl&&n.originalName===ma.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?Ie.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:n.message}}):Ie.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:n?.message??"Unknown"}}),ie.setWcError(!0),it.showError(n.message??"Connection error"),ie.resetWcConnection(),ne.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:t,desktop_link:n,webapp_link:r,injected:s,rdns:i}=this.wallet,o=s?.map(({injected_id:p})=>p).filter(Boolean),a=[...i?[i]:o??[]],c=ee.state.isUniversalProvider?!1:a.length,l=t,u=r,f=ie.checkInstalled(a),d=c&&f,h=n&&!oe.isMobile();d&&!F.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(oe.isMobile()?"mobile":"qrcode"),u&&this.platforms.push("web"),h&&this.platforms.push("desktop"),!d&&c&&!F.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return W`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return W`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return W`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return W`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return W`<w3m-connecting-wc-qrcode ?basic=${this.basic}></w3m-connecting-wc-qrcode>`;default:return W`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?W`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(t){const n=this.shadowRoot?.querySelector("div");n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=t,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};uu.styles=dze,Yf([be()],uu.prototype,"platform",void 0),Yf([be()],uu.prototype,"platforms",void 0),Yf([be()],uu.prototype,"isSiwxEnabled",void 0),Yf([be()],uu.prototype,"remoteFeatures",void 0),Yf([G({type:Boolean})],uu.prototype,"displayBranding",void 0),Yf([G({type:Boolean})],uu.prototype,"basic",void 0),uu=Yf([Oe("w3m-connecting-wc-view")],uu);var e_=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let fy=class extends Te{constructor(){super(),this.unsubscribe=[],this.isMobile=oe.isMobile(),this.remoteFeatures=ee.state.remoteFeatures,this.unsubscribe.push(ee.subscribeKey("remoteFeatures",t=>this.remoteFeatures=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){if(this.isMobile){const{featured:t,recommended:n}=he.state,{customWallets:r}=ee.state,s=ce.getRecentWallets(),i=t.length||n.length||r?.length||s.length;return W`<wui-flex flexDirection="column" gap="2" .margin=${["1","3","3","3"]}>
        ${i?W`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return W`<wui-flex flexDirection="column" .padding=${["0","0","4","0"]}>
        <w3m-connecting-wc-view ?basic=${!0} .displayBranding=${!1}></w3m-connecting-wc-view>
        <wui-flex flexDirection="column" .padding=${["0","3","0","3"]}>
          <w3m-all-wallets-widget></w3m-all-wallets-widget>
        </wui-flex>
      </wui-flex>
      ${this.reownBrandingTemplate()} `}reownBrandingTemplate(){return this.remoteFeatures?.reownBranding?W` <wui-flex flexDirection="column" .padding=${["1","0","1","0"]}>
      <wui-ux-by-reown></wui-ux-by-reown>
    </wui-flex>`:null}};e_([be()],fy.prototype,"isMobile",void 0),e_([be()],fy.prototype,"remoteFeatures",void 0),fy=e_([Oe("w3m-connecting-wc-basic-view")],fy);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fze=e=>e.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hy=(e,t)=>{const n=e._$AN;if(n===void 0)return!1;for(const r of n)r._$AO?.(t,!1),hy(r,t);return!0},d5=e=>{let t,n;do{if((t=e._$AM)===void 0)break;n=t._$AN,n.delete(e),e=t}while(n?.size===0)},DY=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(n===void 0)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),gze(t)}};function hze(e){this._$AN!==void 0?(d5(this),this._$AM=e,DY(this)):this._$AM=e}function pze(e,t=!1,n=0){const r=this._$AH,s=this._$AN;if(s!==void 0&&s.size!==0)if(t)if(Array.isArray(r))for(let i=n;i<r.length;i++)hy(r[i],!1),d5(r[i]);else r!=null&&(hy(r,!1),d5(r));else hy(this,e)}const gze=e=>{e.type==iY.CHILD&&(e._$AP??=pze,e._$AQ??=hze)};class mze extends aY{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,n,r){super._$AT(t,n,r),DY(this),this.isConnected=t._$AU}_$AO(t,n=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),n&&(hy(this,t),d5(this))}setValue(t){if(fze(this._$Ct))this._$Ct._$AI(t,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=t,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t_=()=>new yze;class yze{}const n_=new WeakMap,r_=oY(class extends mze{render(e){return an}update(e,[t]){const n=t!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),an}rt(e){if(this.isConnected||(e=void 0),typeof this.G=="function"){const t=this.ht??globalThis;let n=n_.get(t);n===void 0&&(n=new WeakMap,n_.set(t,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,e),e!==void 0&&this.G.call(this.ht,e)}else this.G.value=e}get lt(){return typeof this.G=="function"?n_.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var bze=qe`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    user-select: none;
    transition:
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      color ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      border ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      width ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      height ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: ${({colors:e})=>e.neutrals300};
    border-radius: ${({borderRadius:e})=>e.round};
    border: 1px solid transparent;
    will-change: border;
    transition:
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      color ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      border ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      width ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      height ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  span:before {
    content: '';
    position: absolute;
    background-color: ${({colors:e})=>e.white};
    border-radius: 50%;
  }

  /* -- Sizes --------------------------------------------------------- */
  label[data-size='lg'] {
    width: 48px;
    height: 32px;
  }

  label[data-size='md'] {
    width: 40px;
    height: 28px;
  }

  label[data-size='sm'] {
    width: 32px;
    height: 22px;
  }

  label[data-size='lg'] > span:before {
    height: 24px;
    width: 24px;
    left: 4px;
    top: 3px;
  }

  label[data-size='md'] > span:before {
    height: 20px;
    width: 20px;
    left: 4px;
    top: 3px;
  }

  label[data-size='sm'] > span:before {
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
  }

  /* -- Focus states --------------------------------------------------- */
  input:focus-visible:not(:checked) + span,
  input:focus:not(:checked) + span {
    border: 1px solid ${({tokens:e})=>e.core.iconAccentPrimary};
    background-color: ${({tokens:e})=>e.theme.textTertiary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  input:focus-visible:checked + span,
  input:focus:checked + span {
    border: 1px solid ${({tokens:e})=>e.core.iconAccentPrimary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  /* -- Checked states --------------------------------------------------- */
  input:checked + span {
    background-color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  label[data-size='lg'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='md'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='sm'] > input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }

  /* -- Hover states ------------------------------------------------------- */
  label:hover > input:not(:checked):not(:disabled) + span {
    background-color: ${({colors:e})=>e.neutrals400};
  }

  label:hover > input:checked:not(:disabled) + span {
    background-color: ${({colors:e})=>e.accent080};
  }

  /* -- Disabled state --------------------------------------------------- */
  label:has(input:disabled) {
    pointer-events: none;
    user-select: none;
  }

  input:not(:checked):disabled + span {
    background-color: ${({colors:e})=>e.neutrals700};
  }

  input:checked:disabled + span {
    background-color: ${({colors:e})=>e.neutrals700};
  }

  input:not(:checked):disabled + span::before {
    background-color: ${({colors:e})=>e.neutrals400};
  }

  input:checked:disabled + span::before {
    background-color: ${({tokens:e})=>e.theme.textTertiary};
  }
`,f5=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Dp=class extends Te{constructor(){super(...arguments),this.inputElementRef=t_(),this.checked=!1,this.disabled=!1,this.size="md"}render(){return W`
      <label data-size=${this.size}>
        <input
          ${r_(this.inputElementRef)}
          type="checkbox"
          ?checked=${this.checked}
          ?disabled=${this.disabled}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("switchChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};Dp.styles=[bt,ds,bze],f5([G({type:Boolean})],Dp.prototype,"checked",void 0),f5([G({type:Boolean})],Dp.prototype,"disabled",void 0),f5([G()],Dp.prototype,"size",void 0),Dp=f5([Oe("wui-toggle")],Dp);var wze=qe`
  :host {
    height: auto;
  }

  :host > wui-flex {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[2]} ${({spacing:e})=>e[3]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[4]};
    box-shadow: inset 0 0 0 1px ${({tokens:e})=>e.theme.foregroundPrimary};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`,MY=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let h5=class extends Te{constructor(){super(...arguments),this.checked=!1}render(){return W`
      <wui-flex>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-toggle
          ?checked=${this.checked}
          size="sm"
          @switchChange=${this.handleToggleChange.bind(this)}
        ></wui-toggle>
      </wui-flex>
    `}handleToggleChange(t){t.stopPropagation(),this.checked=t.detail,this.dispatchSwitchEvent()}dispatchSwitchEvent(){this.dispatchEvent(new CustomEvent("certifiedSwitchChange",{detail:this.checked,bubbles:!0,composed:!0}))}};h5.styles=[bt,ds,wze],MY([G({type:Boolean})],h5.prototype,"checked",void 0),h5=MY([Oe("wui-certified-switch")],h5);var vze=qe`
  :host {
    position: relative;
    width: 100%;
    display: inline-flex;
    flex-direction: column;
    gap: ${({spacing:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.textPrimary};
    caret-color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  .wui-input-text-container {
    position: relative;
    display: flex;
  }

  input {
    width: 100%;
    border-radius: ${({borderRadius:e})=>e[4]};
    color: inherit;
    background: transparent;
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
    caret-color: ${({tokens:e})=>e.core.textAccentPrimary};
    padding: ${({spacing:e})=>e[3]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[3]} ${({spacing:e})=>e[10]};
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
  }

  input[data-size='lg'] {
    padding: ${({spacing:e})=>e[4]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[4]} ${({spacing:e})=>e[10]};
  }

  @media (hover: hover) and (pointer: fine) {
    input:hover:enabled {
      border: 1px solid ${({tokens:e})=>e.theme.borderSecondary};
    }
  }

  input:disabled {
    cursor: unset;
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
  }

  input::placeholder {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  input:focus:enabled {
    border: 1px solid ${({tokens:e})=>e.theme.borderSecondary};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    -webkit-box-shadow: 0px 0px 0px 4px ${({tokens:e})=>e.core.foregroundAccent040};
    -moz-box-shadow: 0px 0px 0px 4px ${({tokens:e})=>e.core.foregroundAccent040};
    box-shadow: 0px 0px 0px 4px ${({tokens:e})=>e.core.foregroundAccent040};
  }

  div.wui-input-text-container:has(input:disabled) {
    opacity: 0.5;
  }

  wui-icon.wui-input-text-left-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    left: ${({spacing:e})=>e[4]};
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  button.wui-input-text-submit-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:e})=>e[3]};
    width: 24px;
    height: 24px;
    border: none;
    background: transparent;
    border-radius: ${({borderRadius:e})=>e[2]};
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  button.wui-input-text-submit-button:disabled {
    opacity: 1;
  }

  button.wui-input-text-submit-button.loading wui-icon {
    animation: spin 1s linear infinite;
  }

  button.wui-input-text-submit-button:hover {
    background: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  input:has(+ .wui-input-text-submit-button) {
    padding-right: ${({spacing:e})=>e[12]};
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  input[type='search']::-webkit-search-decoration,
  input[type='search']::-webkit-search-cancel-button,
  input[type='search']::-webkit-search-results-button,
  input[type='search']::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  /* -- Keyframes --------------------------------------------------- */
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`,io=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Js=class extends Te{constructor(){super(...arguments),this.inputElementRef=t_(),this.disabled=!1,this.loading=!1,this.placeholder="",this.type="text",this.value="",this.size="md"}render(){return W` <div class="wui-input-text-container">
        ${this.templateLeftIcon()}
        <input
          data-size=${this.size}
          ${r_(this.inputElementRef)}
          data-testid="wui-input-text"
          type=${this.type}
          enterkeyhint=${Ge(this.enterKeyHint)}
          ?disabled=${this.disabled}
          placeholder=${this.placeholder}
          @input=${this.dispatchInputChangeEvent.bind(this)}
          @keydown=${this.onKeyDown}
          .value=${this.value||""}
        />
        ${this.templateSubmitButton()}
        <slot class="wui-input-text-slot"></slot>
      </div>
      ${this.templateError()} ${this.templateWarning()}`}templateLeftIcon(){return this.icon?W`<wui-icon
        class="wui-input-text-left-icon"
        size="md"
        data-size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}templateSubmitButton(){return this.onSubmit?W`<button
        class="wui-input-text-submit-button ${this.loading?"loading":""}"
        @click=${this.onSubmit?.bind(this)}
        ?disabled=${this.disabled||this.loading}
      >
        ${this.loading?W`<wui-icon name="spinner" size="md"></wui-icon>`:W`<wui-icon name="chevronRight" size="md"></wui-icon>`}
      </button>`:null}templateError(){return this.errorText?W`<wui-text variant="sm-regular" color="error">${this.errorText}</wui-text>`:null}templateWarning(){return this.warningText?W`<wui-text variant="sm-regular" color="warning">${this.warningText}</wui-text>`:null}dispatchInputChangeEvent(){this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};Js.styles=[bt,ds,vze],io([G()],Js.prototype,"icon",void 0),io([G({type:Boolean})],Js.prototype,"disabled",void 0),io([G({type:Boolean})],Js.prototype,"loading",void 0),io([G()],Js.prototype,"placeholder",void 0),io([G()],Js.prototype,"type",void 0),io([G()],Js.prototype,"value",void 0),io([G()],Js.prototype,"errorText",void 0),io([G()],Js.prototype,"warningText",void 0),io([G()],Js.prototype,"onSubmit",void 0),io([G()],Js.prototype,"size",void 0),io([G({attribute:!1})],Js.prototype,"onKeyDown",void 0),Js=io([Oe("wui-input-text")],Js);var Eze=qe`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.iconDefault};
    cursor: pointer;
    padding: ${({spacing:e})=>e[2]};
    background-color: transparent;
    border-radius: ${({borderRadius:e})=>e[4]};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
  }

  @media (hover: hover) {
    wui-icon:hover {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }
`,UY=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let p5=class extends Te{constructor(){super(...arguments),this.inputComponentRef=t_(),this.inputValue=""}render(){return W`
      <wui-input-text
        ${r_(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
        @inputChange=${this.onInputChange}
      >
        ${this.inputValue?W`<wui-icon
              @click=${this.clearValue}
              color="inherit"
              size="sm"
              name="close"
            ></wui-icon>`:null}
      </wui-input-text>
    `}onInputChange(t){this.inputValue=t.detail||""}clearValue(){const n=this.inputComponentRef.value?.inputElementRef.value;n&&(n.value="",this.inputValue="",n.focus(),n.dispatchEvent(new Event("input")))}};p5.styles=[bt,Eze],UY([G()],p5.prototype,"inputValue",void 0),p5=UY([Oe("wui-search-bar")],p5);const xze=$t`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`;var $ze=qe`
  :host {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 104px;
    width: 104px;
    row-gap: ${({spacing:e})=>e[2]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[5]};
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--apkt-path-network);
    clip-path: var(--apkt-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: ${({tokens:e})=>e.theme.foregroundSecondary};
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`,LY=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let g5=class extends Te{constructor(){super(...arguments),this.type="wallet"}render(){return W`
      ${this.shimmerTemplate()}
      <wui-shimmer width="80px" height="20px"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?W` <wui-shimmer data-type=${this.type} width="48px" height="54px"></wui-shimmer>
        ${xze}`:W`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}};g5.styles=[bt,ds,$ze],LY([G()],g5.prototype,"type",void 0),g5=LY([Oe("wui-card-select-loader")],g5);var Aze=us`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`,oo=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Qs=class extends Te{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&On.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&On.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&On.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&On.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&On.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&On.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&On.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&On.getSpacingStyles(this.margin,3)};
    `,W`<slot></slot>`}};Qs.styles=[bt,Aze],oo([G()],Qs.prototype,"gridTemplateRows",void 0),oo([G()],Qs.prototype,"gridTemplateColumns",void 0),oo([G()],Qs.prototype,"justifyItems",void 0),oo([G()],Qs.prototype,"alignItems",void 0),oo([G()],Qs.prototype,"justifyContent",void 0),oo([G()],Qs.prototype,"alignContent",void 0),oo([G()],Qs.prototype,"columnGap",void 0),oo([G()],Qs.prototype,"rowGap",void 0),oo([G()],Qs.prototype,"gap",void 0),oo([G()],Qs.prototype,"padding",void 0),oo([G()],Qs.prototype,"margin",void 0),Qs=oo([Oe("wui-grid")],Qs);var Cze=qe`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]} ${({spacing:e})=>e[0]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: clamp(0px, ${({borderRadius:e})=>e[4]}, 20px);
    transition:
      color ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: ${({tokens:e})=>e.theme.textPrimary};
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  button:disabled > wui-flex > wui-text {
    color: ${({tokens:e})=>e.core.glass010};
  }

  [data-selected='true'] {
    background-color: ${({colors:e})=>e.accent020};
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: ${({colors:e})=>e.accent010};
    }
  }

  [data-selected='true']:active:enabled {
    background-color: ${({colors:e})=>e.accent010};
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`,ja=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let ao=class extends Te{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.isImpressed=!1,this.explorerId="",this.walletQuery="",this.certified=!1,this.displayIndex=0,this.wallet=void 0,this.observer=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting?(this.visible=!0,this.fetchImageSrc(),this.sendImpressionEvent()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){const t=this.wallet?.badge_type==="certified";return W`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="1">
          <wui-text
            variant="md-regular"
            color="inherit"
            class=${Ge(t?"certified":void 0)}
            >${this.wallet?.name}</wui-text
          >
          ${t?W`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():W`
      <wui-wallet-image
        size="lg"
        imageSrc=${Ge(this.imageSrc)}
        name=${Ge(this.wallet?.name)}
        .installed=${this.wallet?.installed??!1}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return W`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=wi.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await wi.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}sendImpressionEvent(){!this.wallet||this.isImpressed||(this.isImpressed=!0,Ie.sendWalletImpressionEvent({name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.explorerId,view:ne.state.view,query:this.walletQuery,certified:this.certified,displayIndex:this.displayIndex}))}};ao.styles=Cze,ja([be()],ao.prototype,"visible",void 0),ja([be()],ao.prototype,"imageSrc",void 0),ja([be()],ao.prototype,"imageLoading",void 0),ja([be()],ao.prototype,"isImpressed",void 0),ja([G()],ao.prototype,"explorerId",void 0),ja([G()],ao.prototype,"walletQuery",void 0),ja([G()],ao.prototype,"certified",void 0),ja([G()],ao.prototype,"displayIndex",void 0),ja([G({type:Object})],ao.prototype,"wallet",void 0),ao=ja([Oe("w3m-all-wallets-list-item")],ao);var Sze=qe`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  w3m-all-wallets-list-item {
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-inout-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-loading-spinner {
    padding-top: ${({spacing:e})=>e[4]};
    padding-bottom: ${({spacing:e})=>e[4]};
    justify-content: center;
    grid-column: 1 / span 4;
  }
`,Yd=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const FY="local-paginator";let za=class extends Te{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!he.state.wallets.length,this.wallets=he.state.wallets,this.recommended=he.state.recommended,this.featured=he.state.featured,this.filteredWallets=he.state.filteredWallets,this.mobileFullScreen=ee.state.enableMobileFullScreen,this.unsubscribe.push(he.subscribeKey("wallets",t=>this.wallets=t),he.subscribeKey("recommended",t=>this.recommended=t),he.subscribeKey("featured",t=>this.featured=t),he.subscribeKey("filteredWallets",t=>this.filteredWallets=t))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),this.paginationObserver?.disconnect()}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),W`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","3","3","3"]}
        gap="2"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){this.loading=!0;const t=this.shadowRoot?.querySelector("wui-grid");t&&(await he.fetchWalletsByPage({page:1}),await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(t,n){return[...Array(t)].map(()=>W`
        <wui-card-select-loader type="wallet" id=${Ge(n)}></wui-card-select-loader>
      `)}getWallets(){const t=[...this.featured,...this.recommended];this.filteredWallets?.length>0?t.push(...this.filteredWallets):t.push(...this.wallets);const n=oe.uniqueBy(t,"id"),r=Vd.markWalletsAsInstalled(n);return Vd.markWalletsWithDisplayIndex(r)}walletsTemplate(){return this.getWallets().map((n,r)=>W`
        <w3m-all-wallets-list-item
          data-testid="wallet-search-item-${n.id}"
          @click=${()=>this.onConnectWallet(n)}
          .wallet=${n}
          explorerId=${n.id}
          certified=${this.badge==="certified"}
          displayIndex=${r}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:t,recommended:n,featured:r,count:s,mobileFilteredOutWalletsLength:i}=he.state,o=window.innerWidth<352?3:4,a=t.length+n.length;let l=Math.ceil(a/o)*o-a+o;return l-=t.length?r.length%o:0,s===0&&r.length>0?null:s===0||[...r,...t,...n].length<s-(i??0)?this.shimmerTemplate(l,FY):null}createPaginationObserver(){const t=this.shadowRoot?.querySelector(`#${FY}`);t&&(this.paginationObserver=new IntersectionObserver(([n])=>{if(n?.isIntersecting&&!this.loading){const{page:r,count:s,wallets:i}=he.state;i.length<s&&he.fetchWalletsByPage({page:r+1})}}),this.paginationObserver.observe(t))}onConnectWallet(t){ae.selectWalletConnector(t)}};za.styles=Sze,Yd([be()],za.prototype,"loading",void 0),Yd([be()],za.prototype,"wallets",void 0),Yd([be()],za.prototype,"recommended",void 0),Yd([be()],za.prototype,"featured",void 0),Yd([be()],za.prototype,"filteredWallets",void 0),Yd([be()],za.prototype,"badge",void 0),Yd([be()],za.prototype,"mobileFullScreen",void 0),za=Yd([Oe("w3m-all-wallets-list")],za);var Ize=us`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
    height: auto;
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`,py=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Xf=class extends Te{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.mobileFullScreen=ee.state.enableMobileFullScreen,this.query=""}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.onSearch(),this.loading?W`<wui-loading-spinner color="accent-primary"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await he.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:t}=he.state,n=Vd.markWalletsAsInstalled(t);return t.length?W`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","3","3","3"]}
        rowGap="4"
        columngap="2"
        justifyContent="space-between"
      >
        ${n.map((r,s)=>W`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(r)}
              .wallet=${r}
              data-testid="wallet-search-item-${r.id}"
              explorerId=${r.id}
              certified=${this.badge==="certified"}
              walletQuery=${this.query}
              displayIndex=${s}
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:W`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="3"
          flexDirection="column"
        >
          <wui-icon-box size="lg" color="default" icon="wallet"></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="secondary" variant="md-medium">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(t){ae.selectWalletConnector(t)}};Xf.styles=Ize,py([be()],Xf.prototype,"loading",void 0),py([be()],Xf.prototype,"mobileFullScreen",void 0),py([G()],Xf.prototype,"query",void 0),py([G()],Xf.prototype,"badge",void 0),Xf=py([Oe("w3m-all-wallets-search")],Xf);var s_=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let gy=class extends Te{constructor(){super(...arguments),this.search="",this.badge=void 0,this.onDebouncedSearch=oe.debounce(t=>{this.search=t})}render(){const t=this.search.length>=2;return W`
      <wui-flex .padding=${["1","3","3","3"]} gap="2" alignItems="center">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge==="certified"}
          @certifiedSwitchChange=${this.onCertifiedSwitchChange.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${t||this.badge?W`<w3m-all-wallets-search
            query=${this.search}
            .badge=${this.badge}
          ></w3m-all-wallets-search>`:W`<w3m-all-wallets-list .badge=${this.badge}></w3m-all-wallets-list>`}
    `}onInputChange(t){this.onDebouncedSearch(t.detail)}onCertifiedSwitchChange(t){t.detail?(this.badge="certified",it.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})):this.badge=void 0}qrButtonTemplate(){return oe.isMobile()?W`
        <wui-icon-box
          size="xl"
          iconSize="xl"
          color="accent-primary"
          icon="qrCode"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){ne.push("ConnectingWalletConnect")}};s_([be()],gy.prototype,"search",void 0),s_([be()],gy.prototype,"badge",void 0),gy=s_([Oe("w3m-all-wallets-view")],gy);var _ze=qe`
  :host {
    width: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:e})=>e[3]};
    width: 100%;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border-radius: ${({borderRadius:e})=>e[4]};
    transition:
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      scale ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color, scale;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-image {
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Ha=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let co=class extends Te{constructor(){super(...arguments),this.imageSrc="google",this.loading=!1,this.disabled=!1,this.rightIcon=!0,this.rounded=!1,this.fullSize=!1}render(){return this.dataset.rounded=this.rounded?"true":"false",W`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        tabindex=${Ge(this.tabIdx)}
      >
        <wui-flex gap="2" alignItems="center">
          ${this.templateLeftIcon()}
          <wui-flex gap="1">
            <slot></slot>
          </wui-flex>
        </wui-flex>
        ${this.templateRightIcon()}
      </button>
    `}templateLeftIcon(){return this.icon?W`<wui-image
        icon=${this.icon}
        iconColor=${Ge(this.iconColor)}
        ?boxed=${!0}
        ?rounded=${this.rounded}
      ></wui-image>`:W`<wui-image
      ?boxed=${!0}
      ?rounded=${this.rounded}
      ?fullSize=${this.fullSize}
      src=${this.imageSrc}
    ></wui-image>`}templateRightIcon(){return this.rightIcon?this.loading?W`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:W`<wui-icon name="chevronRight" size="lg" color="default"></wui-icon>`:null}};co.styles=[bt,ds,_ze],Ha([G()],co.prototype,"imageSrc",void 0),Ha([G()],co.prototype,"icon",void 0),Ha([G()],co.prototype,"iconColor",void 0),Ha([G({type:Boolean})],co.prototype,"loading",void 0),Ha([G()],co.prototype,"tabIdx",void 0),Ha([G({type:Boolean})],co.prototype,"disabled",void 0),Ha([G({type:Boolean})],co.prototype,"rightIcon",void 0),Ha([G({type:Boolean})],co.prototype,"rounded",void 0),Ha([G({type:Boolean})],co.prototype,"fullSize",void 0),co=Ha([Oe("wui-list-item")],co);var Oze=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let i_=class extends Te{constructor(){super(...arguments),this.wallet=ne.state.data?.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return W`
      <wui-flex gap="2" flexDirection="column" .padding=${["3","3","4","3"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){return this.wallet?.chrome_store?W`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){return this.wallet?.app_store?W`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){return this.wallet?.play_store?W`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){return this.wallet?.homepage?W`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="md-medium" color="primary">Website</wui-text>
      </wui-list-item>
    `:null}openStore(t){t.href&&this.wallet&&(Ie.sendEvent({type:"track",event:"GET_WALLET",properties:{name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.wallet.id,type:t.type}}),oe.openHref(t.href,"_blank"))}onChromeStore(){this.wallet?.chrome_store&&this.openStore({href:this.wallet.chrome_store,type:"chrome_store"})}onAppStore(){this.wallet?.app_store&&this.openStore({href:this.wallet.app_store,type:"app_store"})}onPlayStore(){this.wallet?.play_store&&this.openStore({href:this.wallet.play_store,type:"play_store"})}onHomePage(){this.wallet?.homepage&&this.openStore({href:this.wallet.homepage,type:"homepage"})}};i_=Oze([Oe("w3m-downloads-view")],i_);var Pze=Object.freeze({__proto__:null,get W3mConnectingWcBasicView(){return fy},get W3mAllWalletsView(){return gy},get W3mDownloadsView(){return i_}}),Tze=qe`
  :host {
    display: block;
    border-radius: clamp(0px, ${({borderRadius:e})=>e[8]}, 44px);
    box-shadow: 0 0 0 1px ${({tokens:e})=>e.theme.foregroundPrimary};
    overflow: hidden;
  }
`,Nze=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let o_=class extends Te{render(){return W`<slot></slot>`}};o_.styles=[bt,Tze],o_=Nze([Oe("wui-card")],o_);var Bze=qe`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]};
    border-radius: ${({borderRadius:e})=>e[6]};
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
    box-sizing: border-box;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  :host > wui-flex[data-type='info'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};

      wui-icon {
        color: ${({tokens:e})=>e.theme.iconDefault};
      }
    }
  }
  :host > wui-flex[data-type='success'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundSuccess};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderSuccess};
      }
    }
  }
  :host > wui-flex[data-type='warning'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundWarning};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderWarning};
      }
    }
  }
  :host > wui-flex[data-type='error'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundError};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderError};
      }
    }
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: ${({borderRadius:e})=>e[2]};
    background-color: var(--local-icon-bg-value);
  }
`,a_=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const kze={info:"info",success:"checkmark",warning:"warningCircle",error:"warning"};let my=class extends Te{constructor(){super(...arguments),this.message="",this.type="info"}render(){return W`
      <wui-flex
        data-type=${Ge(this.type)}
        flexDirection="row"
        justifyContent="space-between"
        alignItems="center"
        gap="2"
      >
        <wui-flex columnGap="2" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color="inherit" size="md" name=${kze[this.type]}></wui-icon>
          </wui-flex>
          <wui-text variant="md-medium" color="inherit" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="inherit"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){zn.close()}};my.styles=[bt,Bze],a_([G()],my.prototype,"message",void 0),a_([G()],my.prototype,"type",void 0),my=a_([Oe("wui-alertbar")],my);var Rze=qe`
  :host {
    display: block;
    position: absolute;
    top: ${({spacing:e})=>e[3]};
    left: ${({spacing:e})=>e[4]};
    right: ${({spacing:e})=>e[4]};
    opacity: 0;
    pointer-events: none;
  }
`,jY=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const Dze={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"warning"}};let m5=class extends Te{constructor(){super(),this.unsubscribe=[],this.open=zn.state.open,this.onOpen(!0),this.unsubscribe.push(zn.subscribeKey("open",t=>{this.open=t,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const{message:t,variant:n}=zn.state,r=Dze[n];return W`
      <wui-alertbar
        message=${t}
        backgroundColor=${r?.backgroundColor}
        iconColor=${r?.iconColor}
        icon=${r?.icon}
        type=${n}
      ></wui-alertbar>
    `}onOpen(t){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):t||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};m5.styles=Rze,jY([be()],m5.prototype,"open",void 0),m5=jY([Oe("w3m-alertbar")],m5);var Mze=qe`
  :host {
    position: relative;
  }

  button {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: transparent;
    padding: ${({spacing:e})=>e[1]};
  }

  /* -- Colors --------------------------------------------------- */
  button[data-type='accent'] wui-icon {
    color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  button[data-type='neutral'][data-variant='primary'] wui-icon {
    color: ${({tokens:e})=>e.theme.iconInverse};
  }

  button[data-type='neutral'][data-variant='secondary'] wui-icon {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  button[data-type='success'] wui-icon {
    color: ${({tokens:e})=>e.core.iconSuccess};
  }

  button[data-type='error'] wui-icon {
    color: ${({tokens:e})=>e.core.iconError};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='xs'] {
    width: 16px;
    height: 16px;

    border-radius: ${({borderRadius:e})=>e[1]};
  }

  button[data-size='sm'] {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:e})=>e[1]};
  }

  button[data-size='md'] {
    width: 24px;
    height: 24px;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  button[data-size='lg'] {
    width: 28px;
    height: 28px;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  button[data-size='xs'] wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] wui-icon {
    width: 20px;
    height: 20px;
  }

  /* -- Hover --------------------------------------------------- */
  @media (hover: hover) {
    button[data-type='accent']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    }

    button[data-variant='primary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }

    button[data-variant='secondary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }

    button[data-type='success']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.backgroundSuccess};
    }

    button[data-type='error']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.backgroundError};
    }
  }

  /* -- Focus --------------------------------------------------- */
  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent020};
  }

  /* -- Properties --------------------------------------------------- */
  button[data-full-width='true'] {
    width: 100%;
  }

  :host([fullWidth]) {
    width: 100%;
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Xd=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Va=class extends Te{constructor(){super(...arguments),this.icon="card",this.variant="primary",this.type="accent",this.size="md",this.iconSize=void 0,this.fullWidth=!1,this.disabled=!1}render(){return W`<button
      data-variant=${this.variant}
      data-type=${this.type}
      data-size=${this.size}
      data-full-width=${this.fullWidth}
      ?disabled=${this.disabled}
    >
      <wui-icon color="inherit" name=${this.icon} size=${Ge(this.iconSize)}></wui-icon>
    </button>`}};Va.styles=[bt,ds,Mze],Xd([G()],Va.prototype,"icon",void 0),Xd([G()],Va.prototype,"variant",void 0),Xd([G()],Va.prototype,"type",void 0),Xd([G()],Va.prototype,"size",void 0),Xd([G()],Va.prototype,"iconSize",void 0),Xd([G({type:Boolean})],Va.prototype,"fullWidth",void 0),Xd([G({type:Boolean})],Va.prototype,"disabled",void 0),Va=Xd([Oe("wui-icon-button")],Va);var Uze=qe`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: ${({spacing:e})=>e[1]};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
    border-radius: ${({borderRadius:e})=>e[32]};
  }

  wui-image {
    border-radius: 100%;
  }

  wui-text {
    padding-left: ${({spacing:e})=>e[1]};
  }

  .left-icon-container,
  .right-icon-container {
    width: 24px;
    height: 24px;
    justify-content: center;
    align-items: center;
  }

  wui-icon {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='lg'] {
    height: 32px;
  }

  button[data-size='md'] {
    height: 28px;
  }

  button[data-size='sm'] {
    height: 24px;
  }

  button[data-size='lg'] wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] wui-image {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] .left-icon-container {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] .left-icon-container {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] .left-icon-container {
    width: 16px;
    height: 16px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-type='filled-dropdown'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-type='text-dropdown'] {
    background-color: transparent;
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent040};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    opacity: 0.5;
  }
`,Mp=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const Lze={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},Fze={lg:"lg",md:"md",sm:"sm"};let Jd=class extends Te{constructor(){super(...arguments),this.imageSrc="",this.text="",this.size="lg",this.type="text-dropdown",this.disabled=!1}render(){return W`<button ?disabled=${this.disabled} data-size=${this.size} data-type=${this.type}>
      ${this.imageTemplate()} ${this.textTemplate()}
      <wui-flex class="right-icon-container">
        <wui-icon name="chevronBottom"></wui-icon>
      </wui-flex>
    </button>`}textTemplate(){const t=Lze[this.size];return this.text?W`<wui-text color="primary" variant=${t}>${this.text}</wui-text>`:null}imageTemplate(){if(this.imageSrc)return W`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`;const t=Fze[this.size];return W` <wui-flex class="left-icon-container">
      <wui-icon size=${t} name="networkPlaceholder"></wui-icon>
    </wui-flex>`}};Jd.styles=[bt,ds,Uze],Mp([G()],Jd.prototype,"imageSrc",void 0),Mp([G()],Jd.prototype,"text",void 0),Mp([G()],Jd.prototype,"size",void 0),Mp([G()],Jd.prototype,"type",void 0),Mp([G({type:Boolean})],Jd.prototype,"disabled",void 0),Jd=Mp([Oe("wui-select")],Jd);var jze=qe`
  :host {
    height: 60px;
  }

  :host > wui-flex {
    box-sizing: border-box;
    background-color: var(--local-header-background-color);
  }

  wui-text {
    background-color: var(--local-header-background-color);
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards ${({easings:e})=>e["ease-out-power-2"]},
      slide-down-in 120ms forwards ${({easings:e})=>e["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards ${({easings:e})=>e["ease-out-power-2"]},
      slide-up-in 120ms forwards ${({easings:e})=>e["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-icon-button[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,Qd=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const zze=["SmartSessionList"],Hze={PayWithExchange:Mt.tokens.theme.foregroundPrimary};function zY(){const e=ne.state.data?.connector?.name,t=ne.state.data?.wallet?.name,n=ne.state.data?.network?.name,r=t??e,s=ae.getConnectors(),i=s.length===1&&s[0]?.id==="w3m-email",o=F.getAccountData()?.socialProvider,a=o?o.charAt(0).toUpperCase()+o.slice(1):"Connect Social";return{Connect:`Connect ${i?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:r??"Connect Wallet",ConnectingWalletConnect:r??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview Convert",Downloads:r?`Get ${r}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a Wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",ProfileWallets:"Wallets",SwitchNetwork:n??"Switch Network",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade Your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose Name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select Token",SwapPreview:"Preview Swap",WalletSend:"Send",WalletSendPreview:"Review Send",WalletSendSelectToken:"Select Token",WalletSendConfirmed:"Confirmed",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a Wallet?",ConnectWallets:"Connect Wallet",ConnectSocials:"All Socials",ConnectingSocial:a,ConnectingMultiChain:"Select Chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch Chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in Progress",DataCapture:"Profile",DataCaptureOtpConfirm:"Confirm Email",FundWallet:"Fund Wallet",PayWithExchange:"Deposit from Exchange",PayWithExchangeSelectAsset:"Select Asset"}}let qa=class extends Te{constructor(){super(),this.unsubscribe=[],this.heading=zY()[ne.state.view],this.network=F.state.activeCaipNetwork,this.networkImage=wi.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=ne.state.view,this.viewDirection="",this.unsubscribe.push(ts.subscribeNetworkImages(()=>{this.networkImage=wi.getNetworkImage(this.network)}),ne.subscribeKey("view",t=>{setTimeout(()=>{this.view=t,this.heading=zY()[t]},Hd.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),F.subscribeKey("activeCaipNetwork",t=>{this.network=t,this.networkImage=wi.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=Hze[ne.state.view]??Mt.tokens.theme.backgroundPrimary;return this.style.setProperty("--local-header-background-color",t),W`
      <wui-flex
        .padding=${["0","4","0","4"]}
        justifyContent="space-between"
        alignItems="center"
      >
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){Ie.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),ne.push("WhatIsAWallet")}async onClose(){await XV.safeClose()}rightHeaderTemplate(){const t=ee?.state?.features?.smartSessions;return ne.state.view!=="Account"||!t?this.closeButtonTemplate():W`<wui-flex>
      <wui-icon-button
        icon="clock"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${()=>ne.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-button>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return W`
      <wui-icon-button
        icon="close"
        size="lg"
        type="neutral"
        variant="primary"
        iconSize="lg"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-button>
    `}titleTemplate(){const t=zze.includes(this.view);return W`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="2"
      >
        <wui-text
          display="inline"
          variant="lg-regular"
          color="primary"
          data-testid="w3m-header-text"
        >
          ${this.heading}
        </wui-text>
        ${t?W`<wui-tag variant="accent" size="md">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){const{view:t}=ne.state,n=t==="Connect",r=ee.state.enableEmbedded,s=t==="ApproveTransaction",i=t==="ConnectingSiwe",o=t==="Account",a=ee.state.enableNetworkSwitch,c=s||i||n&&r;return o&&a?W`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${Ge(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${Ge(this.networkImage)}
      ></wui-select>`:this.showBack&&!c?W`<wui-icon-button
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-button>`:W`<wui-icon-button
      data-hidden=${!n}
      id="dynamic"
      icon="helpCircle"
      size="lg"
      iconSize="lg"
      type="neutral"
      variant="primary"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-button>`}onNetworks(){this.isAllowedNetworkSwitch()&&(Ie.sendEvent({type:"track",event:"CLICK_NETWORKS"}),ne.push("Networks"))}isAllowedNetworkSwitch(){const t=F.getAllRequestedCaipNetworks(),n=t?t.length>1:!1,r=t?.find(({id:s})=>s===this.network?.id);return n||!r}onViewChange(){const{history:t}=ne.state;let n=Hd.VIEW_DIRECTION.Next;t.length<this.prevHistoryLength&&(n=Hd.VIEW_DIRECTION.Prev),this.prevHistoryLength=t.length,this.viewDirection=n}async onHistoryChange(){const{history:t}=ne.state,n=this.shadowRoot?.querySelector("#dynamic");t.length>1&&!this.showBack&&n?(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):t.length<=1&&this.showBack&&n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){ne.goBack()}};qa.styles=jze,Qd([be()],qa.prototype,"heading",void 0),Qd([be()],qa.prototype,"network",void 0),Qd([be()],qa.prototype,"networkImage",void 0),Qd([be()],qa.prototype,"showBack",void 0),Qd([be()],qa.prototype,"prevHistoryLength",void 0),Qd([be()],qa.prototype,"view",void 0),Qd([be()],qa.prototype,"viewDirection",void 0),qa=Qd([Oe("w3m-header")],qa);var Vze=qe`
  :host {
    display: flex;
    align-items: center;
    gap: ${({spacing:e})=>e[1]};
    padding: ${({spacing:e})=>e[2]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[2]} ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[20]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow:
      0px 0px 8px 0px rgba(0, 0, 0, 0.1),
      inset 0 0 0 1px ${({tokens:e})=>e.theme.borderPrimary};
    max-width: 320px;
  }

  wui-icon-box {
    border-radius: ${({borderRadius:e})=>e.round} !important;
    overflow: hidden;
  }

  wui-loading-spinner {
    padding: ${({spacing:e})=>e[1]};
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    border-radius: ${({borderRadius:e})=>e.round} !important;
  }
`,c_=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let yy=class extends Te{constructor(){super(...arguments),this.message="",this.variant="success"}render(){return W`
      ${this.templateIcon()}
      <wui-text variant="lg-regular" color="primary" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){const t={success:"success",error:"error",warning:"warning",info:"default"},n={success:"checkmark",error:"warning",warning:"warningCircle",info:"info"};return this.variant==="loading"?W`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:W`<wui-icon-box
      size="md"
      color=${t[this.variant]}
      icon=${n[this.variant]}
    ></wui-icon-box>`}};yy.styles=[bt,Vze],c_([G()],yy.prototype,"message",void 0),c_([G()],yy.prototype,"variant",void 0),yy=c_([Oe("wui-snackbar")],yy);var qze=us`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`,HY=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let y5=class extends Te{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=it.state.open,this.unsubscribe.push(it.subscribeKey("open",t=>{this.open=t,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(t=>t())}render(){const{message:t,variant:n}=it.state;return W` <wui-snackbar message=${t} variant=${n}></wui-snackbar> `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),it.state.autoClose&&(this.timeout=setTimeout(()=>it.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};y5.styles=qze,HY([be()],y5.prototype,"open",void 0),y5=HY([Oe("w3m-snackbar")],y5);var Zze=qe`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px ${({spacing:e})=>e[3]} 10px ${({spacing:e})=>e[3]};
    border-radius: ${({borderRadius:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.backgroundPrimary};
    position: absolute;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--apkt-modal-width) - ${({spacing:e})=>e[5]});
    transition: opacity ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity;
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: ${({tokens:e})=>e.theme.textPrimary};
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,by=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Jf=class extends Te{constructor(){super(),this.unsubscribe=[],this.open=H2.state.open,this.message=H2.state.message,this.triggerRect=H2.state.triggerRect,this.variant=H2.state.variant,this.unsubscribe.push(H2.subscribe(t=>{this.open=t.open,this.message=t.message,this.triggerRect=t.triggerRect,this.variant=t.variant}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){this.dataset.variant=this.variant;const t=this.triggerRect.top,n=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${t}px;
    --w3m-tooltip-left: ${n}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,W`<wui-flex>
      <wui-icon data-placement="top" size="inherit" name="cursor"></wui-icon>
      <wui-text color="primary" variant="sm-regular">${this.message}</wui-text>
    </wui-flex>`}};Jf.styles=[Zze],by([be()],Jf.prototype,"open",void 0),by([be()],Jf.prototype,"message",void 0),by([be()],Jf.prototype,"triggerRect",void 0),by([be()],Jf.prototype,"variant",void 0),Jf=by([Oe("w3m-tooltip")],Jf);const wy={getTabsByNamespace(e){return!!e&&e===te.CHAIN.EVM?ee.state.remoteFeatures?.activity===!1?Hd.ACCOUNT_TABS.filter(n=>n.label!=="Activity"):Hd.ACCOUNT_TABS:[]},isValidReownName(e){return/^[a-zA-Z0-9]+$/gu.test(e)},isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/gu.test(e)},validateReownName(e){return e.replace(/\^/gu,"").toLowerCase().replace(/[^a-zA-Z0-9]/gu,"")},hasFooter(){const e=ne.state.view;if(Hd.VIEWS_WITH_LEGAL_FOOTER.includes(e)){const{termsConditionsUrl:t,privacyPolicyUrl:n}=ee.state,r=ee.state.features?.legalCheckbox;return!(!t&&!n||r)}return Hd.VIEWS_WITH_DEFAULT_FOOTER.includes(e)}};var Wze=qe`
  :host wui-ux-by-reown {
    padding-top: 0;
  }

  :host wui-ux-by-reown.branding-only {
    padding-top: ${({spacing:e})=>e[3]};
  }

  a {
    text-decoration: none;
    color: ${({tokens:e})=>e.core.textAccentPrimary};
    font-weight: 500;
  }
`,VY=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let b5=class extends Te{constructor(){super(),this.unsubscribe=[],this.remoteFeatures=ee.state.remoteFeatures,this.unsubscribe.push(ee.subscribeKey("remoteFeatures",t=>this.remoteFeatures=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const{termsConditionsUrl:t,privacyPolicyUrl:n}=ee.state,r=ee.state.features?.legalCheckbox;return!t&&!n||r?W`
        <wui-flex flexDirection="column"> ${this.reownBrandingTemplate(!0)} </wui-flex>
      `:W`
      <wui-flex flexDirection="column">
        <wui-flex .padding=${["4","3","3","3"]} justifyContent="center">
          <wui-text color="secondary" variant="md-regular" align="center">
            By connecting your wallet, you agree to our <br />
            ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
          </wui-text>
        </wui-flex>
        ${this.reownBrandingTemplate()}
      </wui-flex>
    `}andTemplate(){const{termsConditionsUrl:t,privacyPolicyUrl:n}=ee.state;return t&&n?"and":""}termsTemplate(){const{termsConditionsUrl:t}=ee.state;return t?W`<a href=${t} target="_blank" rel="noopener noreferrer"
      >Terms of Service</a
    >`:null}privacyTemplate(){const{privacyPolicyUrl:t}=ee.state;return t?W`<a href=${t} target="_blank" rel="noopener noreferrer"
      >Privacy Policy</a
    >`:null}reownBrandingTemplate(t=!1){return this.remoteFeatures?.reownBranding?t?W`<wui-ux-by-reown class="branding-only"></wui-ux-by-reown>`:W`<wui-ux-by-reown></wui-ux-by-reown>`:null}};b5.styles=[Wze],VY([be()],b5.prototype,"remoteFeatures",void 0),b5=VY([Oe("w3m-legal-footer")],b5);var Kze=us``,Gze=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let l_=class extends Te{render(){const{termsConditionsUrl:t,privacyPolicyUrl:n}=ee.state;return!t&&!n?null:W`
      <wui-flex
        .padding=${["4","3","3","3"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="3"
      >
        <wui-text color="secondary" variant="md-regular" align="center">
          We work with the best providers to give you the lowest fees and best support. More options
          coming soon!
        </wui-text>

        ${this.howDoesItWorkTemplate()}
      </wui-flex>
    `}howDoesItWorkTemplate(){return W` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
      How does it work?
    </wui-link>`}onWhatIsBuy(){Ie.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:Cr(F.state.activeChain)===yi.ACCOUNT_TYPES.SMART_ACCOUNT}}),ne.push("WhatIsABuy")}};l_.styles=[Kze],l_=Gze([Oe("w3m-onramp-providers-footer")],l_);var Yze=qe`
  :host {
    display: block;
  }

  div.container {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    overflow: hidden;
    height: auto;
    display: block;
  }

  div.container[status='hide'] {
    animation: fade-out;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: 0s;
  }

  div.container[status='show'] {
    animation: fade-in;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      filter: blur(6px);
    }
    to {
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      filter: blur(0px);
    }
    to {
      opacity: 0;
      filter: blur(6px);
    }
  }
`,u_=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let vy=class extends Te{constructor(){super(...arguments),this.resizeObserver=void 0,this.unsubscribe=[],this.status="hide",this.view=ne.state.view}firstUpdated(){this.status=wy.hasFooter()?"show":"hide",this.unsubscribe.push(ne.subscribeKey("view",t=>{this.view=t,this.status=wy.hasFooter()?"show":"hide",this.status==="hide"&&document.documentElement.style.setProperty("--apkt-footer-height","0px")})),this.resizeObserver=new ResizeObserver(t=>{for(const n of t)if(n.target===this.getWrapper()){const r=`${n.contentRect.height}px`;document.documentElement.style.setProperty("--apkt-footer-height",r)}}),this.resizeObserver.observe(this.getWrapper())}render(){return W`
      <div class="container" status=${this.status}>${this.templatePageContainer()}</div>
    `}templatePageContainer(){return wy.hasFooter()?W` ${this.templateFooter()}`:null}templateFooter(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return W`<w3m-legal-footer></w3m-legal-footer>`;case"OnRampProviders":return W`<w3m-onramp-providers-footer></w3m-onramp-providers-footer>`;default:return null}}templateNetworksFooter(){return W` <wui-flex
      class="footer-in"
      padding="3"
      flexDirection="column"
      gap="3"
      alignItems="center"
    >
      <wui-text variant="md-regular" color="secondary" align="center">
        Your connected wallet may not support some of the networks available for this dApp
      </wui-text>
      <wui-link @click=${this.onNetworkHelp.bind(this)}>
        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
        What is a network
      </wui-link>
    </wui-flex>`}onNetworkHelp(){Ie.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),ne.push("WhatIsANetwork")}getWrapper(){return this.shadowRoot?.querySelector("div.container")}};vy.styles=[Yze],u_([be()],vy.prototype,"status",void 0),u_([be()],vy.prototype,"view",void 0),vy=u_([Oe("w3m-footer")],vy);var Xze=qe`
  :host {
    display: block;
    width: inherit;
  }
`,d_=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Ey=class extends Te{constructor(){super(),this.unsubscribe=[],this.viewState=ne.state.view,this.history=ne.state.history.join(","),this.unsubscribe.push(ne.subscribeKey("view",()=>{this.history=ne.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}render(){return W`${this.templatePageContainer()}`}templatePageContainer(){return W`<w3m-router-container
      history=${this.history}
      .setView=${()=>{this.viewState=ne.state.view}}
    >
      ${this.viewTemplate(this.viewState)}
    </w3m-router-container>`}viewTemplate(t){switch(t){case"AccountSettings":return W`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return W`<w3m-account-view></w3m-account-view>`;case"AllWallets":return W`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return W`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return W`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return W`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return W`<w3m-connect-view></w3m-connect-view>`;case"Create":return W`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return W`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return W`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return W`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return W`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return W`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return W`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return W`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"DataCapture":return W`<w3m-data-capture-view></w3m-data-capture-view>`;case"DataCaptureOtpConfirm":return W`<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>`;case"Downloads":return W`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return W`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return W`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return W`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return W`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return W`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return W`<w3m-network-switch-view></w3m-network-switch-view>`;case"ProfileWallets":return W`<w3m-profile-wallets-view></w3m-profile-wallets-view>`;case"Transactions":return W`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return W`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampTokenSelect":return W`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return W`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return W`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return W`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return W`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return W`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return W`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return W`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return W`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return W`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return W`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return W`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return W`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WalletSendConfirmed":return W`<w3m-send-confirmed-view></w3m-send-confirmed-view>`;case"WhatIsABuy":return W`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return W`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return W`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return W`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return W`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return W`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return W`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return W`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return W`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return W`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return W`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return W`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return W`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return W`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return W`<w3m-pay-loading-view></w3m-pay-loading-view>`;case"FundWallet":return W`<w3m-fund-wallet-view></w3m-fund-wallet-view>`;case"PayWithExchange":return W`<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>`;case"PayWithExchangeSelectAsset":return W`<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>`;default:return W`<w3m-connect-view></w3m-connect-view>`}}};Ey.styles=[Xze],d_([be()],Ey.prototype,"viewState",void 0),d_([be()],Ey.prototype,"history",void 0),Ey=d_([Oe("w3m-router")],Ey);var Jze=qe`
  :host {
    z-index: ${({tokens:e})=>e.core.zIndex};
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: ${({tokens:e})=>e.theme.overlay};
    backdrop-filter: blur(0px);
    transition:
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      backdrop-filter ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
    backdrop-filter: blur(8px);
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--apkt-modal-width);
    width: 100%;
    position: relative;
    outline: none;
    transform: translateY(4px);
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05);
    transition:
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: border-radius, background-color, transform, box-shadow;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    padding: var(--local-modal-padding);
    box-sizing: border-box;
  }

  :host(.open) wui-card {
    transform: translateY(0px);
  }

  wui-card::before {
    z-index: 1;
    pointer-events: none;
    content: '';
    position: absolute;
    inset: 0;
    border-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    transition: box-shadow ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    transition-delay: ${({durations:e})=>e.md};
    will-change: box-shadow;
  }

  :host([data-mobile-fullscreen='true']) wui-card::before {
    border-radius: 0px;
  }

  :host([data-border='true']) wui-card::before {
    box-shadow: inset 0px 0px 0px 4px ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  :host([data-border='false']) wui-card::before {
    box-shadow: inset 0px 0px 0px 1px ${({tokens:e})=>e.theme.borderPrimaryDark};
  }

  :host([data-border='true']) wui-card {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      card-background-border var(--apkt-duration-dynamic)
        ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  :host([data-border='false']) wui-card {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      card-background-default var(--apkt-duration-dynamic)
        ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: 0s;
  }

  :host(.appkit-modal) wui-card {
    max-width: var(--apkt-modal-width);
  }

  wui-card[shake='true'] {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      w3m-shake ${({durations:e})=>e.xl}
        ${({easings:e})=>e["ease-out-power-2"]};
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--apkt-spacing-6) 0px;
    }
  }

  @media (max-width: 430px) {
    :host([data-mobile-fullscreen='true']) {
      height: 100dvh;
    }
    :host([data-mobile-fullscreen='true']) wui-flex {
      align-items: stretch;
    }
    :host([data-mobile-fullscreen='true']) wui-card {
      max-width: 100%;
      height: 100%;
      border-radius: 0;
      border: none;
    }
    :host(:not([data-mobile-fullscreen='true'])) wui-flex {
      align-items: flex-end;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card {
      max-width: 100%;
      border-bottom: none;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card[data-embedded='true'] {
      border-bottom-left-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
      border-bottom-right-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card:not([data-embedded='true']) {
      border-bottom-left-radius: 0px;
      border-bottom-right-radius: 0px;
    }

    wui-card[shake='true'] {
      animation: w3m-shake 0.5s ${({easings:e})=>e["ease-out-power-2"]};
    }
  }

  @keyframes fade-in {
    0% {
      transform: scale(0.99) translateY(4px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes card-background-border {
    from {
      background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    }
    to {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  @keyframes card-background-default {
    from {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
    to {
      background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    }
  }
`,Za=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const qY="scroll-lock",Qze={PayWithExchange:"0",PayWithExchangeSelectAsset:"0"};class lo extends Te{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=ee.state.enableEmbedded,this.open=Fe.state.open,this.caipAddress=F.state.activeCaipAddress,this.caipNetwork=F.state.activeCaipNetwork,this.shake=Fe.state.shake,this.filterByNamespace=ae.state.filterByNamespace,this.padding=Mt.spacing[1],this.mobileFullScreen=ee.state.enableMobileFullScreen,this.initializeTheming(),he.prefetchAnalyticsConfig(),this.unsubscribe.push(Fe.subscribeKey("open",t=>t?this.onOpen():this.onClose()),Fe.subscribeKey("shake",t=>this.shake=t),F.subscribeKey("activeCaipNetwork",t=>this.onNewNetwork(t)),F.subscribeKey("activeCaipAddress",t=>this.onNewAddress(t)),ee.subscribeKey("enableEmbedded",t=>this.enableEmbedded=t),ae.subscribeKey("filterByNamespace",t=>{this.filterByNamespace!==t&&!F.getAccountData(t)?.caipAddress&&(he.fetchRecommendedWallets(),this.filterByNamespace=t)}),ne.subscribeKey("view",()=>{this.dataset.border=wy.hasFooter()?"true":"false",this.padding=Qze[ne.state.view]??Mt.spacing[1]}))}firstUpdated(){if(this.dataset.border=wy.hasFooter()?"true":"false",this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.caipAddress){if(this.enableEmbedded){Fe.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),this.onRemoveKeyboardListener()}render(){return this.style.setProperty("--local-modal-padding",this.padding),this.enableEmbedded?W`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?W`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return W` <wui-card
      shake="${this.shake}"
      data-embedded="${Ge(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-footer></w3m-footer>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(t){if(t.target===t.currentTarget){if(this.mobileFullScreen)return;await this.handleClose()}}async handleClose(){await XV.safeClose()}initializeTheming(){const{themeVariables:t,themeMode:n}=sr.state,r=On.getColorTheme(n);dLe(t,r)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),it.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const t=document.createElement("style");t.dataset.w3m=qY,t.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(t)}onScrollUnlock(){const t=document.head.querySelector(`style[data-w3m="${qY}"]`);t&&t.remove()}onAddKeyboardListener(){this.abortController=new AbortController;const t=this.shadowRoot?.querySelector("wui-card");t?.focus(),window.addEventListener("keydown",n=>{if(n.key==="Escape")this.handleClose();else if(n.key==="Tab"){const{tagName:r}=n.target;r&&!r.includes("W3M-")&&!r.includes("WUI-")&&t?.focus()}},this.abortController)}onRemoveKeyboardListener(){this.abortController?.abort(),this.abortController=void 0}async onNewAddress(t){const n=F.state.isSwitchingNamespace,r=ne.state.view==="ProfileWallets";t?await this.onConnected({caipAddress:t,isSwitchingNamespace:n,isInProfileView:r}):!n&&!this.enableEmbedded&&!r&&Fe.close(),await Vs.initializeIfEnabled(t),this.caipAddress=t,F.setIsSwitchingNamespace(!1)}async onConnected(t){if(t.isInProfileView)return;const{chainNamespace:n,chainId:r,address:s}=er.parseCaipAddress(t.caipAddress),i=`${n}:${r}`,o=!oe.getPlainAddress(this.caipAddress),a=await Vs.getSessions({address:s,caipNetworkId:i}),c=Vs.getSIWX()?a.some(f=>f.data.accountAddress===s):!0,l=t.isSwitchingNamespace&&c&&!this.enableEmbedded,u=this.enableEmbedded&&o;l?ne.goBack():u&&Fe.close()}onNewNetwork(t){const n=this.caipNetwork,r=n?.caipNetworkId?.toString(),s=n?.chainNamespace,i=t?.caipNetworkId?.toString(),o=t?.chainNamespace,a=r!==i,l=a&&!(s!==o),u=n?.name===te.UNSUPPORTED_NETWORK_NAME,f=ne.state.view==="ConnectingExternal",d=ne.state.view==="ProfileWallets",h=!F.getAccountData(t?.chainNamespace)?.caipAddress,p=ne.state.view==="UnsupportedChain",g=Fe.state.open;let y=!1;this.enableEmbedded&&ne.state.view==="SwitchNetwork"&&(y=!0),a&&De.resetState(),g&&!f&&!d&&(h?a&&(y=!0):(p||l&&!u)&&(y=!0)),y&&ne.state.view!=="SIWXSignMessage"&&ne.goBack(),this.caipNetwork=t}prefetch(){this.hasPrefetched||(he.prefetch(),he.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}lo.styles=Jze,Za([G({type:Boolean})],lo.prototype,"enableEmbedded",void 0),Za([be()],lo.prototype,"open",void 0),Za([be()],lo.prototype,"caipAddress",void 0),Za([be()],lo.prototype,"caipNetwork",void 0),Za([be()],lo.prototype,"shake",void 0),Za([be()],lo.prototype,"filterByNamespace",void 0),Za([be()],lo.prototype,"padding",void 0),Za([be()],lo.prototype,"mobileFullScreen",void 0);let f_=class extends lo{};f_=Za([Oe("w3m-modal")],f_);let h_=class extends lo{};h_=Za([Oe("appkit-modal")],h_);var eHe=qe`
  :host {
    width: 100%;
  }
`,Lr=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let Pn=class extends Te{constructor(){super(...arguments),this.hasImpressionSent=!1,this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100",this.rdnsId="",this.displayIndex=void 0,this.walletRank=void 0}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.cleanupIntersectionObserver()}updated(t){super.updated(t),(t.has("name")||t.has("imageSrc")||t.has("walletRank"))&&(this.hasImpressionSent=!1),t.has("walletRank")&&this.walletRank&&!this.intersectionObserver&&this.setupIntersectionObserver()}setupIntersectionObserver(){this.intersectionObserver=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&!this.loading&&!this.hasImpressionSent&&this.sendImpressionEvent()})},{threshold:.1}),this.intersectionObserver.observe(this)}cleanupIntersectionObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}sendImpressionEvent(){!this.name||this.hasImpressionSent||!this.walletRank||(this.hasImpressionSent=!0,(this.rdnsId||this.name)&&Ie.sendWalletImpressionEvent({name:this.name,walletRank:this.walletRank,rdnsId:this.rdnsId,view:ne.state.view,displayIndex:this.displayIndex}))}render(){return W`
      <wui-list-wallet
        .walletImages=${this.walletImages}
        imageSrc=${Ge(this.imageSrc)}
        name=${this.name}
        size=${Ge(this.size)}
        tagLabel=${Ge(this.tagLabel)}
        .tagVariant=${this.tagVariant}
        .walletIcon=${this.walletIcon}
        .tabIdx=${this.tabIdx}
        .disabled=${this.disabled}
        .showAllWallets=${this.showAllWallets}
        .loading=${this.loading}
        loadingSpinnerColor=${this.loadingSpinnerColor}
      ></wui-list-wallet>
    `}};Pn.styles=eHe,Lr([G({type:Array})],Pn.prototype,"walletImages",void 0),Lr([G()],Pn.prototype,"imageSrc",void 0),Lr([G()],Pn.prototype,"name",void 0),Lr([G()],Pn.prototype,"size",void 0),Lr([G()],Pn.prototype,"tagLabel",void 0),Lr([G()],Pn.prototype,"tagVariant",void 0),Lr([G()],Pn.prototype,"walletIcon",void 0),Lr([G()],Pn.prototype,"tabIdx",void 0),Lr([G({type:Boolean})],Pn.prototype,"disabled",void 0),Lr([G({type:Boolean})],Pn.prototype,"showAllWallets",void 0),Lr([G({type:Boolean})],Pn.prototype,"loading",void 0),Lr([G({type:String})],Pn.prototype,"loadingSpinnerColor",void 0),Lr([G()],Pn.prototype,"rdnsId",void 0),Lr([G()],Pn.prototype,"displayIndex",void 0),Lr([G()],Pn.prototype,"walletRank",void 0),Pn=Lr([Oe("w3m-list-wallet")],Pn);var tHe=qe`
  :host {
    --local-duration-height: 0s;
    --local-duration: ${({durations:e})=>e.lg};
    --local-transition: ${({easings:e})=>e["ease-out-power-2"]};
  }

  .container {
    display: block;
    overflow: hidden;
    overflow: hidden;
    position: relative;
    height: var(--local-container-height);
    transition: height var(--local-duration-height) var(--local-transition);
    will-change: height, padding-bottom;
  }

  .container[data-mobile-fullscreen='true'] {
    overflow: scroll;
  }

  .page {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: auto;
    width: inherit;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border-bottom-left-radius: var(--local-border-bottom-radius);
    border-bottom-right-radius: var(--local-border-bottom-radius);
    transition: border-bottom-left-radius var(--local-duration) var(--local-transition);
  }

  .page[data-mobile-fullscreen='true'] {
    height: 100%;
  }

  .page-content {
    display: flex;
    flex-direction: column;
    min-height: 100%;
  }

  .footer {
    height: var(--apkt-footer-height);
  }

  div.page[view-direction^='prev-'] .page-content {
    animation:
      slide-left-out var(--local-duration) forwards var(--local-transition),
      slide-left-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:e})=>e.lg});
  }

  div.page[view-direction^='next-'] .page-content {
    animation:
      slide-right-out var(--local-duration) forwards var(--local-transition),
      slide-right-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:e})=>e.lg});
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }
`,Wa=function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const nHe=60;let _i=class extends Te{constructor(){super(...arguments),this.resizeObserver=void 0,this.transitionDuration="0.15s",this.transitionFunction="",this.history="",this.view="",this.setView=void 0,this.viewDirection="",this.historyState="",this.previousHeight="0px",this.mobileFullScreen=ee.state.enableMobileFullScreen,this.onViewportResize=()=>{this.updateContainerHeight()}}updated(t){if(t.has("history")){const n=this.history;this.historyState!==""&&this.historyState!==n&&this.onViewChange(n)}t.has("transitionDuration")&&this.style.setProperty("--local-duration",this.transitionDuration),t.has("transitionFunction")&&this.style.setProperty("--local-transition",this.transitionFunction)}firstUpdated(){this.transitionFunction&&this.style.setProperty("--local-transition",this.transitionFunction),this.style.setProperty("--local-duration",this.transitionDuration),this.historyState=this.history,this.resizeObserver=new ResizeObserver(t=>{for(const n of t)if(n.target===this.getWrapper()){let r=n.contentRect.height;const s=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");if(this.mobileFullScreen){const i=window.visualViewport?.height||window.innerHeight,o=this.getHeaderHeight();r=i-o-s,this.style.setProperty("--local-border-bottom-radius","0px")}else r=r+s,this.style.setProperty("--local-border-bottom-radius",s?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${r}px`),this.previousHeight!=="0px"&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${r}px`}}),this.resizeObserver.observe(this.getWrapper()),this.updateContainerHeight(),window.addEventListener("resize",this.onViewportResize),window.visualViewport?.addEventListener("resize",this.onViewportResize)}disconnectedCallback(){const t=this.getWrapper();t&&this.resizeObserver&&this.resizeObserver.unobserve(t),window.removeEventListener("resize",this.onViewportResize),window.visualViewport?.removeEventListener("resize",this.onViewportResize)}render(){return W`
      <div class="container" data-mobile-fullscreen="${Ge(this.mobileFullScreen)}">
        <div
          class="page"
          data-mobile-fullscreen="${Ge(this.mobileFullScreen)}"
          view-direction="${this.viewDirection}"
        >
          <div class="page-content">
            <slot></slot>
          </div>
        </div>
      </div>
    `}onViewChange(t){const n=t.split(",").filter(Boolean),r=this.historyState.split(",").filter(Boolean),s=r.length,i=n.length,o=n[n.length-1]||"",a=On.cssDurationToNumber(this.transitionDuration);let c="";i>s?c="next":i<s?c="prev":i===s&&n[i-1]!==r[s-1]&&(c="next"),this.viewDirection=`${c}-${o}`,setTimeout(()=>{this.historyState=t,this.setView?.(o)},a),setTimeout(()=>{this.viewDirection=""},a*2)}getWrapper(){return this.shadowRoot?.querySelector("div.page")}updateContainerHeight(){const t=this.getWrapper();if(!t)return;const n=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");let r=0;if(this.mobileFullScreen){const s=window.visualViewport?.height||window.innerHeight,i=this.getHeaderHeight();r=s-i-n,this.style.setProperty("--local-border-bottom-radius","0px")}else r=t.getBoundingClientRect().height+n,this.style.setProperty("--local-border-bottom-radius",n?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${r}px`),this.previousHeight!=="0px"&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${r}px`}getHeaderHeight(){return nHe}};_i.styles=[tHe],Wa([G({type:String})],_i.prototype,"transitionDuration",void 0),Wa([G({type:String})],_i.prototype,"transitionFunction",void 0),Wa([G({type:String})],_i.prototype,"history",void 0),Wa([G({type:String})],_i.prototype,"view",void 0),Wa([G({attribute:!1})],_i.prototype,"setView",void 0),Wa([be()],_i.prototype,"viewDirection",void 0),Wa([be()],_i.prototype,"historyState",void 0),Wa([be()],_i.prototype,"previousHeight",void 0),Wa([be()],_i.prototype,"mobileFullScreen",void 0),_i=Wa([Oe("w3m-router-container")],_i);var rHe=Object.freeze({__proto__:null,W3mModalBase:lo,get W3mModal(){return f_},get AppKitModal(){return h_},get W3mListWallet(){return Pn},get W3mRouterContainer(){return _i}});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const w5=globalThis,p_=w5.ShadowRoot&&(w5.ShadyCSS===void 0||w5.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,g_=Symbol(),ZY=new WeakMap;class WY{constructor(t,n,r){if(this._$cssResult$=!0,r!==g_)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(p_&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=ZY.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&ZY.set(n,t))}return t}toString(){return this.cssText}}const sHe=e=>new WY(typeof e=="string"?e:e+"",void 0,g_),Me=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[i+1],e[0]);return new WY(n,e,g_)},iHe=(e,t)=>{if(p_)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),s=w5.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,e.appendChild(r)}},KY=p_?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return sHe(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:oHe,defineProperty:aHe,getOwnPropertyDescriptor:cHe,getOwnPropertyNames:lHe,getOwnPropertySymbols:uHe,getPrototypeOf:dHe}=Object,Up=globalThis,GY=Up.trustedTypes,fHe=GY?GY.emptyScript:"",YY=Up.reactiveElementPolyfillSupport,xy=(e,t)=>e,v5={toAttribute(e,t){switch(t){case Boolean:e=e?fHe:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},m_=(e,t)=>!oHe(e,t),XY={attribute:!0,type:String,converter:v5,reflect:!1,hasChanged:m_};Symbol.metadata!=null||(Symbol.metadata=Symbol("metadata")),Up.litPropertyMetadata!=null||(Up.litPropertyMetadata=new WeakMap);class Lp extends HTMLElement{static addInitializer(t){var n;this._$Ei(),((n=this.l)!=null?n:this.l=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=XY){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,n);s!==void 0&&aHe(this.prototype,t,s)}}static getPropertyDescriptor(t,n,r){var s;const{get:i,set:o}=(s=cHe(this.prototype,t))!=null?s:{get(){return this[n]},set(a){this[n]=a}};return{get(){return i?.call(this)},set(a){const c=i?.call(this);o.call(this,a),this.requestUpdate(t,c,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){var n;return(n=this.elementProperties.get(t))!=null?n:XY}static _$Ei(){if(this.hasOwnProperty(xy("elementProperties")))return;const t=dHe(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(xy("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(xy("properties"))){const n=this.properties,r=[...lHe(n),...uHe(n)];for(const s of r)this.createProperty(s,n[s])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)n.unshift(KY(s))}else t!==void 0&&n.push(KY(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n,r;((n=this._$EO)!=null?n:this._$EO=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&((r=t.hostConnected)==null||r.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){var t;const n=(t=this.shadowRoot)!=null?t:this.attachShadow(this.constructor.shadowRootOptions);return iHe(n,this.constructor.elementStyles),n}connectedCallback(){var t;this.renderRoot!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$EC(t,n){var r;const s=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,s);if(i!==void 0&&s.reflect===!0){const o=(((r=s.converter)==null?void 0:r.toAttribute)!==void 0?s.converter:v5).toAttribute(n,s.type);this._$Em=t,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(t,n){var r;const s=this.constructor,i=s._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const o=s.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)==null?void 0:r.fromAttribute)!==void 0?o.converter:v5;this._$Em=i,this[i]=a.fromAttribute(n,o.type),this._$Em=null}}requestUpdate(t,n,r){var s;if(t!==void 0){if(r!=null||(r=this.constructor.getPropertyOptions(t)),!((s=r.hasChanged)!=null?s:m_)(this[t],n))return;this.P(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,n,r){var s;this._$AL.has(t)||this._$AL.set(t,n),r.reflect===!0&&this._$Em!==t&&((s=this._$Ej)!=null?s:this._$Ej=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s)o.wrapped!==!0||this._$AL.has(i)||this[i]===void 0||this.P(i,this[i],o)}let n=!1;const r=this._$AL;try{n=this.shouldUpdate(r),n?(this.willUpdate(r),(t=this._$EO)==null||t.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(r)):this._$EU()}catch(s){throw n=!1,this._$EU(),s}n&&this._$AE(r)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(n=>this._$EC(n,this[n]))),this._$EU()}updated(t){}firstUpdated(t){}}var JY;Lp.elementStyles=[],Lp.shadowRootOptions={mode:"open"},Lp[xy("elementProperties")]=new Map,Lp[xy("finalized")]=new Map,YY?.({ReactiveElement:Lp}),((JY=Up.reactiveElementVersions)!=null?JY:Up.reactiveElementVersions=[]).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const E5=globalThis,x5=E5.trustedTypes,QY=x5?x5.createPolicy("lit-html",{createHTML:e=>e}):void 0,eX="$lit$",e0=`lit$${Math.random().toFixed(9).slice(2)}$`,tX="?"+e0,hHe=`<${tX}>`,Qf=document,$y=()=>Qf.createComment(""),Ay=e=>e===null||typeof e!="object"&&typeof e!="function",nX=Array.isArray,pHe=e=>nX(e)||typeof e?.[Symbol.iterator]=="function",y_=`[ 	
\f\r]`,Cy=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,rX=/-->/g,sX=/>/g,eh=RegExp(`>|${y_}(?:([^\\s"'>=/]+)(${y_}*=${y_}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),iX=/'/g,oX=/"/g,aX=/^(?:script|style|textarea|title)$/i,cX=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),Ue=cX(1),H=cX(2),Fp=Symbol.for("lit-noChange"),qn=Symbol.for("lit-nothing"),lX=new WeakMap,th=Qf.createTreeWalker(Qf,129);function uX(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return QY!==void 0?QY.createHTML(t):t}const gHe=(e,t)=>{const n=e.length-1,r=[];let s,i=t===2?"<svg>":"",o=Cy;for(let a=0;a<n;a++){const c=e[a];let l,u,f=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===Cy?u[1]==="!--"?o=rX:u[1]!==void 0?o=sX:u[2]!==void 0?(aX.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=eh):u[3]!==void 0&&(o=eh):o===eh?u[0]===">"?(o=s??Cy,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?eh:u[3]==='"'?oX:iX):o===oX||o===iX?o=eh:o===rX||o===sX?o=Cy:(o=eh,s=void 0);const h=o===eh&&e[a+1].startsWith("/>")?" ":"";i+=o===Cy?c+hHe:f>=0?(r.push(l),c.slice(0,f)+eX+c.slice(f)+e0+h):c+e0+(f===-2?a:h)}return[uX(e,i+(e[n]||"<?>")+(t===2?"</svg>":"")),r]};class Sy{constructor({strings:t,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=t.length-1,c=this.parts,[l,u]=gHe(t,n);if(this.el=Sy.createElement(l,r),th.currentNode=this.el.content,n===2){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(s=th.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const f of s.getAttributeNames())if(f.endsWith(eX)){const d=u[o++],h=s.getAttribute(f).split(e0),p=/([.?@])?(.*)/.exec(d);c.push({type:1,index:i,name:p[2],strings:h,ctor:p[1]==="."?yHe:p[1]==="?"?bHe:p[1]==="@"?wHe:$5}),s.removeAttribute(f)}else f.startsWith(e0)&&(c.push({type:6,index:i}),s.removeAttribute(f));if(aX.test(s.tagName)){const f=s.textContent.split(e0),d=f.length-1;if(d>0){s.textContent=x5?x5.emptyScript:"";for(let h=0;h<d;h++)s.append(f[h],$y()),th.nextNode(),c.push({type:2,index:++i});s.append(f[d],$y())}}}else if(s.nodeType===8)if(s.data===tX)c.push({type:2,index:i});else{let f=-1;for(;(f=s.data.indexOf(e0,f+1))!==-1;)c.push({type:7,index:i}),f+=e0.length-1}i++}}static createElement(t,n){const r=Qf.createElement("template");return r.innerHTML=t,r}}function jp(e,t,n=e,r){var s,i,o;if(t===Fp)return t;let a=r!==void 0?(s=n._$Co)==null?void 0:s[r]:n._$Cl;const c=Ay(t)?void 0:t._$litDirective$;return a?.constructor!==c&&((i=a?._$AO)==null||i.call(a,!1),c===void 0?a=void 0:(a=new c(e),a._$AT(e,n,r)),r!==void 0?((o=n._$Co)!=null?o:n._$Co=[])[r]=a:n._$Cl=a),a!==void 0&&(t=jp(e,a._$AS(e,t.values),a,r)),t}class mHe{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var n;const{el:{content:r},parts:s}=this._$AD,i=((n=t?.creationScope)!=null?n:Qf).importNode(r,!0);th.currentNode=i;let o=th.nextNode(),a=0,c=0,l=s[0];for(;l!==void 0;){if(a===l.index){let u;l.type===2?u=new Iy(o,o.nextSibling,this,t):l.type===1?u=new l.ctor(o,l.name,l.strings,this,t):l.type===6&&(u=new vHe(o,this,t)),this._$AV.push(u),l=s[++c]}a!==l?.index&&(o=th.nextNode(),a++)}return th.currentNode=Qf,i}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}class Iy{get _$AU(){var t,n;return(n=(t=this._$AM)==null?void 0:t._$AU)!=null?n:this._$Cv}constructor(t,n,r,s){var i;this.type=2,this._$AH=qn,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(i=s?.isConnected)!=null?i:!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=jp(this,t,n),Ay(t)?t===qn||t==null||t===""?(this._$AH!==qn&&this._$AR(),this._$AH=qn):t!==this._$AH&&t!==Fp&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):pHe(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==qn&&Ay(this._$AH)?this._$AA.nextSibling.data=t:this.T(Qf.createTextNode(t)),this._$AH=t}$(t){var n;const{values:r,_$litType$:s}=t,i=typeof s=="number"?this._$AC(t):(s.el===void 0&&(s.el=Sy.createElement(uX(s.h,s.h[0]),this.options)),s);if(((n=this._$AH)==null?void 0:n._$AD)===i)this._$AH.p(r);else{const o=new mHe(i,this),a=o.u(this.options);o.p(r),this.T(a),this._$AH=o}}_$AC(t){let n=lX.get(t.strings);return n===void 0&&lX.set(t.strings,n=new Sy(t)),n}k(t){nX(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of t)s===n.length?n.push(r=new Iy(this.S($y()),this.S($y()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}}class $5{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,s,i){this.type=1,this._$AH=qn,this._$AN=void 0,this.element=t,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=qn}_$AI(t,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)t=jp(this,t,n,0),o=!Ay(t)||t!==this._$AH&&t!==Fp,o&&(this._$AH=t);else{const a=t;let c,l;for(t=i[0],c=0;c<i.length-1;c++)l=jp(this,a[r+c],n,c),l===Fp&&(l=this._$AH[c]),o||(o=!Ay(l)||l!==this._$AH[c]),l===qn?t=qn:t!==qn&&(t+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(t)}j(t){t===qn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class yHe extends $5{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===qn?void 0:t}}class bHe extends $5{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==qn)}}class wHe extends $5{constructor(t,n,r,s,i){super(t,n,r,s,i),this.type=5}_$AI(t,n=this){var r;if((t=(r=jp(this,t,n,0))!=null?r:qn)===Fp)return;const s=this._$AH,i=t===qn&&s!==qn||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,o=t!==qn&&(s===qn||i);i&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n,r;typeof this._$AH=="function"?this._$AH.call((r=(n=this.options)==null?void 0:n.host)!=null?r:this.element,t):this._$AH.handleEvent(t)}}class vHe{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){jp(this,t)}}const dX=E5.litHtmlPolyfillSupport;var fX;dX?.(Sy,Iy),((fX=E5.litHtmlVersions)!=null?fX:E5.litHtmlVersions=[]).push("3.1.4");const EHe=(e,t,n)=>{var r,s;const i=(r=n?.renderBefore)!=null?r:t;let o=i._$litPart$;if(o===void 0){const a=(s=n?.renderBefore)!=null?s:null;i._$litPart$=o=new Iy(t.insertBefore($y(),a),a,void 0,n??{})}return o._$AI(e),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class ke extends Lp{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const n=super.createRenderRoot();return(t=this.renderOptions).renderBefore!=null||(t.renderBefore=n.firstChild),n}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=EHe(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Fp}}var hX;ke._$litElement$=!0,ke.finalized=!0,(hX=globalThis.litElementHydrateSupport)==null||hX.call(globalThis,{LitElement:ke});const pX=globalThis.litElementPolyfillSupport;pX?.({LitElement:ke});var gX;((gX=globalThis.litElementVersions)!=null?gX:globalThis.litElementVersions=[]).push("4.0.6");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Le=e=>(t,n)=>{n!==void 0?n.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};var xHe=Object.defineProperty,$He=Object.defineProperties,AHe=Object.getOwnPropertyDescriptors,mX=Object.getOwnPropertySymbols,CHe=Object.prototype.hasOwnProperty,SHe=Object.prototype.propertyIsEnumerable,yX=(e,t,n)=>t in e?xHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IHe=(e,t)=>{for(var n in t||(t={}))CHe.call(t,n)&&yX(e,n,t[n]);if(mX)for(var n of mX(t))SHe.call(t,n)&&yX(e,n,t[n]);return e},_He=(e,t)=>$He(e,AHe(t));/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const OHe={attribute:!0,type:String,converter:v5,reflect:!1,hasChanged:m_},PHe=(e=OHe,t,n)=>{const{kind:r,metadata:s}=n;let i=globalThis.litPropertyMetadata.get(s);if(i===void 0&&globalThis.litPropertyMetadata.set(s,i=new Map),i.set(n.name,e),r==="accessor"){const{name:o}=n;return{set(a){const c=t.get.call(this);t.set.call(this,a),this.requestUpdate(o,c,e)},init(a){return a!==void 0&&this.P(o,void 0,e),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];t.call(this,a),this.requestUpdate(o,c,e)}}throw Error("Unsupported decorator location: "+r)};function K(e){return(t,n)=>typeof n=="object"?PHe(e,t,n):((r,s,i)=>{const o=s.hasOwnProperty(i);return s.constructor.createProperty(i,o?_He(IHe({},r),{wrapped:!0}):r),o?Object.getOwnPropertyDescriptor(s,i):void 0})(e,t,n)}var THe=Object.defineProperty,NHe=Object.getOwnPropertyDescriptor,_y=(e,t,n,r)=>{for(var s=r>1?void 0:r?NHe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&THe(t,n,s),s};let Ka=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ka.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ka.weightsMap=new Map([["thin",H`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm34.83-86.83a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L124,158.34V88a4,4,0,0,1,8,0v70.34l25.17-25.17A4,4,0,0,1,162.83,133.17Z"/>`],["light",H`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm36.24-86.24a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L122,153.51V88a6,6,0,0,1,12,0v65.51l21.76-21.75A6,6,0,0,1,164.24,131.76Z"/>`],["regular",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"/>`],["bold",H`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm40.49-84.49a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,1,1,17-17L116,139V88a12,12,0,0,1,24,0v51l11.51-11.52A12,12,0,0,1,168.49,127.51Z"/>`],["fill",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm37.66,117.66-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",H`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"/>`]]),Ka.styles=Me`
    :host {
      display: contents;
    }
  `,_y([K({type:String,reflect:!0})],Ka.prototype,"size",2),_y([K({type:String,reflect:!0})],Ka.prototype,"weight",2),_y([K({type:String,reflect:!0})],Ka.prototype,"color",2),_y([K({type:Boolean,reflect:!0})],Ka.prototype,"mirrored",2),Ka=_y([Le("ph-arrow-circle-down")],Ka);var BHe=Object.freeze({__proto__:null,get PhArrowCircleDown(){return Ka}}),kHe=Object.defineProperty,RHe=Object.getOwnPropertyDescriptor,Oy=(e,t,n,r)=>{for(var s=r>1?void 0:r?RHe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&kHe(t,n,s),s};let Ga=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ga.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ga.weightsMap=new Map([["thin",H`<path d="M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"/>`],["light",H`<path d="M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"/>`],["regular",H`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`],["bold",H`<path d="M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"/>`],["fill",H`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"/>`],["duotone",H`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`]]),Ga.styles=Me`
    :host {
      display: contents;
    }
  `,Oy([K({type:String,reflect:!0})],Ga.prototype,"size",2),Oy([K({type:String,reflect:!0})],Ga.prototype,"weight",2),Oy([K({type:String,reflect:!0})],Ga.prototype,"color",2),Oy([K({type:Boolean,reflect:!0})],Ga.prototype,"mirrored",2),Ga=Oy([Le("ph-arrow-clockwise")],Ga);var DHe=Object.freeze({__proto__:null,get PhArrowClockwise(){return Ga}}),MHe=Object.defineProperty,UHe=Object.getOwnPropertyDescriptor,Py=(e,t,n,r)=>{for(var s=r>1?void 0:r?UHe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&MHe(t,n,s),s};let Ya=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ya.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ya.weightsMap=new Map([["thin",H`<path d="M202.83,146.83l-72,72a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L124,206.34V40a4,4,0,0,1,8,0V206.34l65.17-65.17a4,4,0,0,1,5.66,5.66Z"/>`],["light",H`<path d="M204.24,148.24l-72,72a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L122,201.51V40a6,6,0,0,1,12,0V201.51l61.76-61.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",H`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72a8,8,0,0,1,11.32-11.32L120,196.69V40a8,8,0,0,1,16,0V196.69l58.34-58.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",H`<path d="M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"/>`],["fill",H`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,56,136h64V40a8,8,0,0,1,16,0v96h64a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",H`<path d="M200,144l-72,72L56,144Z" opacity="0.2"/><path d="M207.39,140.94A8,8,0,0,0,200,136H136V40a8,8,0,0,0-16,0v96H56a8,8,0,0,0-5.66,13.66l72,72a8,8,0,0,0,11.32,0l72-72A8,8,0,0,0,207.39,140.94ZM128,204.69,75.31,152H180.69Z"/>`]]),Ya.styles=Me`
    :host {
      display: contents;
    }
  `,Py([K({type:String,reflect:!0})],Ya.prototype,"size",2),Py([K({type:String,reflect:!0})],Ya.prototype,"weight",2),Py([K({type:String,reflect:!0})],Ya.prototype,"color",2),Py([K({type:Boolean,reflect:!0})],Ya.prototype,"mirrored",2),Ya=Py([Le("ph-arrow-down")],Ya);var LHe=Object.freeze({__proto__:null,get PhArrowDown(){return Ya}}),FHe=Object.defineProperty,jHe=Object.getOwnPropertyDescriptor,Ty=(e,t,n,r)=>{for(var s=r>1?void 0:r?jHe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&FHe(t,n,s),s};let Xa=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Xa.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Xa.weightsMap=new Map([["thin",H`<path d="M220,128a4,4,0,0,1-4,4H49.66l65.17,65.17a4,4,0,0,1-5.66,5.66l-72-72a4,4,0,0,1,0-5.66l72-72a4,4,0,0,1,5.66,5.66L49.66,124H216A4,4,0,0,1,220,128Z"/>`],["light",H`<path d="M222,128a6,6,0,0,1-6,6H54.49l61.75,61.76a6,6,0,1,1-8.48,8.48l-72-72a6,6,0,0,1,0-8.48l72-72a6,6,0,0,1,8.48,8.48L54.49,122H216A6,6,0,0,1,222,128Z"/>`],["regular",H`<path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"/>`],["bold",H`<path d="M228,128a12,12,0,0,1-12,12H69l51.52,51.51a12,12,0,0,1-17,17l-72-72a12,12,0,0,1,0-17l72-72a12,12,0,0,1,17,17L69,116H216A12,12,0,0,1,228,128Z"/>`],["fill",H`<path d="M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-13.66,5.66l-72-72a8,8,0,0,1,0-11.32l72-72A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"/>`],["duotone",H`<path d="M112,56V200L40,128Z" opacity="0.2"/><path d="M216,120H120V56a8,8,0,0,0-13.66-5.66l-72,72a8,8,0,0,0,0,11.32l72,72A8,8,0,0,0,120,200V136h96a8,8,0,0,0,0-16ZM104,180.69,51.31,128,104,75.31Z"/>`]]),Xa.styles=Me`
    :host {
      display: contents;
    }
  `,Ty([K({type:String,reflect:!0})],Xa.prototype,"size",2),Ty([K({type:String,reflect:!0})],Xa.prototype,"weight",2),Ty([K({type:String,reflect:!0})],Xa.prototype,"color",2),Ty([K({type:Boolean,reflect:!0})],Xa.prototype,"mirrored",2),Xa=Ty([Le("ph-arrow-left")],Xa);var zHe=Object.freeze({__proto__:null,get PhArrowLeft(){return Xa}}),HHe=Object.defineProperty,VHe=Object.getOwnPropertyDescriptor,Ny=(e,t,n,r)=>{for(var s=r>1?void 0:r?VHe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&HHe(t,n,s),s};let Ja=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ja.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ja.weightsMap=new Map([["thin",H`<path d="M218.83,130.83l-72,72a4,4,0,0,1-5.66-5.66L206.34,132H40a4,4,0,0,1,0-8H206.34L141.17,58.83a4,4,0,0,1,5.66-5.66l72,72A4,4,0,0,1,218.83,130.83Z"/>`],["light",H`<path d="M220.24,132.24l-72,72a6,6,0,0,1-8.48-8.48L201.51,134H40a6,6,0,0,1,0-12H201.51L139.76,60.24a6,6,0,0,1,8.48-8.48l72,72A6,6,0,0,1,220.24,132.24Z"/>`],["regular",H`<path d="M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"/>`],["bold",H`<path d="M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"/>`],["fill",H`<path d="M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"/>`],["duotone",H`<path d="M216,128l-72,72V56Z" opacity="0.2"/><path d="M221.66,122.34l-72-72A8,8,0,0,0,136,56v64H40a8,8,0,0,0,0,16h96v64a8,8,0,0,0,13.66,5.66l72-72A8,8,0,0,0,221.66,122.34ZM152,180.69V75.31L204.69,128Z"/>`]]),Ja.styles=Me`
    :host {
      display: contents;
    }
  `,Ny([K({type:String,reflect:!0})],Ja.prototype,"size",2),Ny([K({type:String,reflect:!0})],Ja.prototype,"weight",2),Ny([K({type:String,reflect:!0})],Ja.prototype,"color",2),Ny([K({type:Boolean,reflect:!0})],Ja.prototype,"mirrored",2),Ja=Ny([Le("ph-arrow-right")],Ja);var qHe=Object.freeze({__proto__:null,get PhArrowRight(){return Ja}}),ZHe=Object.defineProperty,WHe=Object.getOwnPropertyDescriptor,By=(e,t,n,r)=>{for(var s=r>1?void 0:r?WHe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&ZHe(t,n,s),s};let Qa=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Qa.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Qa.weightsMap=new Map([["thin",H`<path d="M220,104a4,4,0,0,1-8,0V49.66l-73.16,73.17a4,4,0,0,1-5.66-5.66L206.34,44H152a4,4,0,0,1,0-8h64a4,4,0,0,1,4,4Zm-36,28a4,4,0,0,0-4,4v72a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V80a4,4,0,0,1,4-4h72a4,4,0,0,0,0-8H48A12,12,0,0,0,36,80V208a12,12,0,0,0,12,12H176a12,12,0,0,0,12-12V136A4,4,0,0,0,184,132Z"/>`],["light",H`<path d="M222,104a6,6,0,0,1-12,0V54.49l-69.75,69.75a6,6,0,0,1-8.48-8.48L201.51,46H152a6,6,0,0,1,0-12h64a6,6,0,0,1,6,6Zm-38,26a6,6,0,0,0-6,6v72a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h72a6,6,0,0,0,0-12H48A14,14,0,0,0,34,80V208a14,14,0,0,0,14,14H176a14,14,0,0,0,14-14V136A6,6,0,0,0,184,130Z"/>`],["regular",H`<path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/>`],["bold",H`<path d="M228,104a12,12,0,0,1-24,0V69l-59.51,59.51a12,12,0,0,1-17-17L187,52H152a12,12,0,0,1,0-24h64a12,12,0,0,1,12,12Zm-44,24a12,12,0,0,0-12,12v64H52V84h64a12,12,0,0,0,0-24H48A20,20,0,0,0,28,80V208a20,20,0,0,0,20,20H176a20,20,0,0,0,20-20V140A12,12,0,0,0,184,128Z"/>`],["fill",H`<path d="M192,136v72a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64h72a8,8,0,0,1,0,16H48V208H176V136a8,8,0,0,1,16,0Zm32-96a8,8,0,0,0-8-8H152a8,8,0,0,0-5.66,13.66L172.69,72l-42.35,42.34a8,8,0,0,0,11.32,11.32L184,83.31l26.34,26.35A8,8,0,0,0,224,104Z"/>`],["duotone",H`<path d="M184,80V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H176A8,8,0,0,1,184,80Z" opacity="0.2"/><path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/>`]]),Qa.styles=Me`
    :host {
      display: contents;
    }
  `,By([K({type:String,reflect:!0})],Qa.prototype,"size",2),By([K({type:String,reflect:!0})],Qa.prototype,"weight",2),By([K({type:String,reflect:!0})],Qa.prototype,"color",2),By([K({type:Boolean,reflect:!0})],Qa.prototype,"mirrored",2),Qa=By([Le("ph-arrow-square-out")],Qa);var KHe=Object.freeze({__proto__:null,get PhArrowSquareOut(){return Qa}}),GHe=Object.defineProperty,YHe=Object.getOwnPropertyDescriptor,ky=(e,t,n,r)=>{for(var s=r>1?void 0:r?YHe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&GHe(t,n,s),s};let ec=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ec.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ec.weightsMap=new Map([["thin",H`<path d="M114.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L76,198.34V48a4,4,0,0,1,8,0V198.34l25.17-25.17A4,4,0,0,1,114.83,173.17Zm96-96-32-32a4,4,0,0,0-5.66,0l-32,32a4,4,0,0,0,5.66,5.66L172,57.66V208a4,4,0,0,0,8,0V57.66l25.17,25.17a4,4,0,1,0,5.66-5.66Z"/>`],["light",H`<path d="M116.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L74,193.51V48a6,6,0,0,1,12,0V193.51l21.76-21.75A6,6,0,0,1,116.24,171.76Zm96-96-32-32a6,6,0,0,0-8.48,0l-32,32a6,6,0,0,0,8.48,8.48L170,62.49V208a6,6,0,0,0,12,0V62.49l21.76,21.75a6,6,0,0,0,8.48-8.48Z"/>`],["regular",H`<path d="M117.66,170.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L72,188.69V48a8,8,0,0,1,16,0V188.69l18.34-18.35A8,8,0,0,1,117.66,170.34Zm96-96-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L168,67.31V208a8,8,0,0,0,16,0V67.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"/>`],["bold",H`<path d="M120.49,167.51a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,1,1,17-17L68,179V48a12,12,0,0,1,24,0V179l11.51-11.52A12,12,0,0,1,120.49,167.51Zm96-96-32-32a12,12,0,0,0-17,0l-32,32a12,12,0,0,0,17,17L164,77V208a12,12,0,0,0,24,0V77l11.51,11.52a12,12,0,0,0,17-17Z"/>`],["fill",H`<path d="M119.39,172.94a8,8,0,0,1-1.73,8.72l-32,32a8,8,0,0,1-11.32,0l-32-32A8,8,0,0,1,48,168H72V48a8,8,0,0,1,16,0V168h24A8,8,0,0,1,119.39,172.94Zm94.27-98.6-32-32a8,8,0,0,0-11.32,0l-32,32A8,8,0,0,0,144,88h24V208a8,8,0,0,0,16,0V88h24a8,8,0,0,0,5.66-13.66Z"/>`],["duotone",H`<path d="M176,48V208H80V48Z" opacity="0.2"/><path d="M117.66,170.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L72,188.69V48a8,8,0,0,1,16,0V188.69l18.34-18.35A8,8,0,0,1,117.66,170.34Zm96-96-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L168,67.31V208a8,8,0,0,0,16,0V67.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"/>`]]),ec.styles=Me`
    :host {
      display: contents;
    }
  `,ky([K({type:String,reflect:!0})],ec.prototype,"size",2),ky([K({type:String,reflect:!0})],ec.prototype,"weight",2),ky([K({type:String,reflect:!0})],ec.prototype,"color",2),ky([K({type:Boolean,reflect:!0})],ec.prototype,"mirrored",2),ec=ky([Le("ph-arrows-down-up")],ec);var XHe=Object.freeze({__proto__:null,get PhArrowsDownUp(){return ec}}),JHe=Object.defineProperty,QHe=Object.getOwnPropertyDescriptor,Ry=(e,t,n,r)=>{for(var s=r>1?void 0:r?QHe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&JHe(t,n,s),s};let tc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${tc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};tc.weightsMap=new Map([["thin",H`<path d="M210.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66-5.66L198.34,180H48a4,4,0,0,1,0-8H198.34l-25.17-25.17a4,4,0,0,1,5.66-5.66ZM77.17,114.83a4,4,0,0,0,5.66-5.66L57.66,84H208a4,4,0,0,0,0-8H57.66L82.83,50.83a4,4,0,0,0-5.66-5.66l-32,32a4,4,0,0,0,0,5.66Z"/>`],["light",H`<path d="M212.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L193.51,182H48a6,6,0,0,1,0-12H193.51l-21.75-21.76a6,6,0,0,1,8.48-8.48ZM75.76,116.24a6,6,0,0,0,8.48-8.48L62.49,86H208a6,6,0,0,0,0-12H62.49L84.24,52.24a6,6,0,0,0-8.48-8.48l-32,32a6,6,0,0,0,0,8.48Z"/>`],["regular",H`<path d="M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"/>`],["bold",H`<path d="M216.49,184.49l-32,32a12,12,0,0,1-17-17L179,188H48a12,12,0,0,1,0-24H179l-11.52-11.51a12,12,0,0,1,17-17l32,32A12,12,0,0,1,216.49,184.49Zm-145-64a12,12,0,0,0,17-17L77,92H208a12,12,0,0,0,0-24H77L88.49,56.49a12,12,0,0,0-17-17l-32,32a12,12,0,0,0,0,17Z"/>`],["fill",H`<path d="M42.34,85.66a8,8,0,0,1,0-11.32l32-32A8,8,0,0,1,88,48V72H208a8,8,0,0,1,0,16H88v24a8,8,0,0,1-13.66,5.66Zm171.32,84.68-32-32A8,8,0,0,0,168,144v24H48a8,8,0,0,0,0,16H168v24a8,8,0,0,0,13.66,5.66l32-32A8,8,0,0,0,213.66,170.34Z"/>`],["duotone",H`<path d="M208,80v96H48V80Z" opacity="0.2"/><path d="M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"/>`]]),tc.styles=Me`
    :host {
      display: contents;
    }
  `,Ry([K({type:String,reflect:!0})],tc.prototype,"size",2),Ry([K({type:String,reflect:!0})],tc.prototype,"weight",2),Ry([K({type:String,reflect:!0})],tc.prototype,"color",2),Ry([K({type:Boolean,reflect:!0})],tc.prototype,"mirrored",2),tc=Ry([Le("ph-arrows-left-right")],tc);var eVe=Object.freeze({__proto__:null,get PhArrowsLeftRight(){return tc}}),tVe=Object.defineProperty,nVe=Object.getOwnPropertyDescriptor,Dy=(e,t,n,r)=>{for(var s=r>1?void 0:r?nVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&tVe(t,n,s),s};let nc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${nc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};nc.weightsMap=new Map([["thin",H`<path d="M202.83,114.83a4,4,0,0,1-5.66,0L132,49.66V216a4,4,0,0,1-8,0V49.66L58.83,114.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0l72,72A4,4,0,0,1,202.83,114.83Z"/>`],["light",H`<path d="M204.24,116.24a6,6,0,0,1-8.48,0L134,54.49V216a6,6,0,0,1-12,0V54.49L60.24,116.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0l72,72A6,6,0,0,1,204.24,116.24Z"/>`],["regular",H`<path d="M205.66,117.66a8,8,0,0,1-11.32,0L136,59.31V216a8,8,0,0,1-16,0V59.31L61.66,117.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,117.66Z"/>`],["bold",H`<path d="M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"/>`],["fill",H`<path d="M207.39,115.06A8,8,0,0,1,200,120H136v96a8,8,0,0,1-16,0V120H56a8,8,0,0,1-5.66-13.66l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,207.39,115.06Z"/>`],["duotone",H`<path d="M200,112H56l72-72Z" opacity="0.2"/><path d="M205.66,106.34l-72-72a8,8,0,0,0-11.32,0l-72,72A8,8,0,0,0,56,120h64v96a8,8,0,0,0,16,0V120h64a8,8,0,0,0,5.66-13.66ZM75.31,104,128,51.31,180.69,104Z"/>`]]),nc.styles=Me`
    :host {
      display: contents;
    }
  `,Dy([K({type:String,reflect:!0})],nc.prototype,"size",2),Dy([K({type:String,reflect:!0})],nc.prototype,"weight",2),Dy([K({type:String,reflect:!0})],nc.prototype,"color",2),Dy([K({type:Boolean,reflect:!0})],nc.prototype,"mirrored",2),nc=Dy([Le("ph-arrow-up")],nc);var rVe=Object.freeze({__proto__:null,get PhArrowUp(){return nc}}),sVe=Object.defineProperty,iVe=Object.getOwnPropertyDescriptor,My=(e,t,n,r)=>{for(var s=r>1?void 0:r?iVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&sVe(t,n,s),s};let rc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${rc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};rc.weightsMap=new Map([["thin",H`<path d="M196,64V168a4,4,0,0,1-8,0V73.66L66.83,194.83a4,4,0,0,1-5.66-5.66L182.34,68H88a4,4,0,0,1,0-8H192A4,4,0,0,1,196,64Z"/>`],["light",H`<path d="M198,64V168a6,6,0,0,1-12,0V78.48L68.24,196.24a6,6,0,0,1-8.48-8.48L177.52,70H88a6,6,0,0,1,0-12H192A6,6,0,0,1,198,64Z"/>`],["regular",H`<path d="M200,64V168a8,8,0,0,1-16,0V83.31L69.66,197.66a8,8,0,0,1-11.32-11.32L172.69,72H88a8,8,0,0,1,0-16H192A8,8,0,0,1,200,64Z"/>`],["bold",H`<path d="M204,64V168a12,12,0,0,1-24,0V93L72.49,200.49a12,12,0,0,1-17-17L163,76H88a12,12,0,0,1,0-24H192A12,12,0,0,1,204,64Z"/>`],["fill",H`<path d="M200,64V168a8,8,0,0,1-13.66,5.66L140,127.31,69.66,197.66a8,8,0,0,1-11.32-11.32L128.69,116,82.34,69.66A8,8,0,0,1,88,56H192A8,8,0,0,1,200,64Z"/>`],["duotone",H`<path d="M192,64V168L88,64Z" opacity="0.2"/><path d="M192,56H88a8,8,0,0,0-5.66,13.66L128.69,116,58.34,186.34a8,8,0,0,0,11.32,11.32L140,127.31l46.34,46.35A8,8,0,0,0,200,168V64A8,8,0,0,0,192,56Zm-8,92.69-38.34-38.34h0L107.31,72H184Z"/>`]]),rc.styles=Me`
    :host {
      display: contents;
    }
  `,My([K({type:String,reflect:!0})],rc.prototype,"size",2),My([K({type:String,reflect:!0})],rc.prototype,"weight",2),My([K({type:String,reflect:!0})],rc.prototype,"color",2),My([K({type:Boolean,reflect:!0})],rc.prototype,"mirrored",2),rc=My([Le("ph-arrow-up-right")],rc);var oVe=Object.freeze({__proto__:null,get PhArrowUpRight(){return rc}}),aVe=Object.defineProperty,cVe=Object.getOwnPropertyDescriptor,Uy=(e,t,n,r)=>{for(var s=r>1?void 0:r?cVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&aVe(t,n,s),s};let sc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${sc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};sc.weightsMap=new Map([["thin",H`<path d="M220,48V96a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h38.34L184.89,70.54A84,84,0,0,0,66.8,69.85a4,4,0,1,1-5.6-5.72,92,92,0,0,1,129.34.76L212,86.34V48a4,4,0,0,1,8,0ZM189.2,186.15a83.44,83.44,0,0,1-58.68,23.91h-.47a83.52,83.52,0,0,1-58.94-24.6L49.66,164H88a4,4,0,0,0,0-8H40a4,4,0,0,0-4,4v48a4,4,0,0,0,8,0V169.66l21.46,21.45A91.43,91.43,0,0,0,130,218.06h.51a91.45,91.45,0,0,0,64.28-26.19,4,4,0,1,0-5.6-5.72Z"/>`],["light",H`<path d="M222,48V96a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h33.52L183.47,72a81.51,81.51,0,0,0-57.53-24h-.46A81.5,81.5,0,0,0,68.19,71.28a6,6,0,1,1-8.38-8.58,93.38,93.38,0,0,1,65.67-26.76H126a93.45,93.45,0,0,1,66,27.53l18,18V48a6,6,0,0,1,12,0ZM187.81,184.72a81.5,81.5,0,0,1-57.29,23.34h-.46a81.51,81.51,0,0,1-57.53-24L54.48,166H88a6,6,0,0,0,0-12H40a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V174.48l18,18.05a93.45,93.45,0,0,0,66,27.53h.52a93.38,93.38,0,0,0,65.67-26.76,6,6,0,1,0-8.38-8.58Z"/>`],["regular",H`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["bold",H`<path d="M228,48V96a12,12,0,0,1-12,12H168a12,12,0,0,1,0-24h19l-7.8-7.8a75.55,75.55,0,0,0-53.32-22.26h-.43A75.49,75.49,0,0,0,72.39,75.57,12,12,0,1,1,55.61,58.41a99.38,99.38,0,0,1,69.87-28.47H126A99.42,99.42,0,0,1,196.2,59.23L204,67V48a12,12,0,0,1,24,0ZM183.61,180.43a75.49,75.49,0,0,1-53.09,21.63h-.43A75.55,75.55,0,0,1,76.77,179.8L69,172H88a12,12,0,0,0,0-24H40a12,12,0,0,0-12,12v48a12,12,0,0,0,24,0V189l7.8,7.8A99.42,99.42,0,0,0,130,226.06h.56a99.38,99.38,0,0,0,69.87-28.47,12,12,0,0,0-16.78-17.16Z"/>`],["fill",H`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1-5.66-13.66L180.65,72a79.48,79.48,0,0,0-54.72-22.09h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27,96,96,0,0,1,192,60.7l18.36-18.36A8,8,0,0,1,224,48ZM186.41,183.29A80,80,0,0,1,75.35,184l18.31-18.31A8,8,0,0,0,88,152H40a8,8,0,0,0-8,8v48a8,8,0,0,0,13.66,5.66L64,195.3a95.42,95.42,0,0,0,66,26.76h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["duotone",H`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`]]),sc.styles=Me`
    :host {
      display: contents;
    }
  `,Uy([K({type:String,reflect:!0})],sc.prototype,"size",2),Uy([K({type:String,reflect:!0})],sc.prototype,"weight",2),Uy([K({type:String,reflect:!0})],sc.prototype,"color",2),Uy([K({type:Boolean,reflect:!0})],sc.prototype,"mirrored",2),sc=Uy([Le("ph-arrows-clockwise")],sc);var lVe=Object.freeze({__proto__:null,get PhArrowsClockwise(){return sc}}),uVe=Object.defineProperty,dVe=Object.getOwnPropertyDescriptor,Ly=(e,t,n,r)=>{for(var s=r>1?void 0:r?dVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&uVe(t,n,s),s};let ic=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ic.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ic.weightsMap=new Map([["thin",H`<path d="M24,100H52v72H32a4,4,0,0,0,0,8H224a4,4,0,0,0,0-8H204V100h28a4,4,0,0,0,2.1-7.41l-104-64a4,4,0,0,0-4.2,0l-104,64A4,4,0,0,0,24,100Zm36,0h40v72H60Zm88,0v72H108V100Zm48,72H156V100h40ZM128,36.7,217.87,92H38.13ZM244,208a4,4,0,0,1-4,4H16a4,4,0,0,1,0-8H240A4,4,0,0,1,244,208Z"/>`],["light",H`<path d="M24,102H50v68H32a6,6,0,0,0,0,12H224a6,6,0,0,0,0-12H206V102h26a6,6,0,0,0,3.14-11.11l-104-64a6,6,0,0,0-6.28,0l-104,64A6,6,0,0,0,24,102Zm38,0H98v68H62Zm84,0v68H110V102Zm48,68H158V102h36ZM128,39l82.8,51H45.2ZM246,208a6,6,0,0,1-6,6H16a6,6,0,0,1,0-12H240A6,6,0,0,1,246,208Z"/>`],["regular",H`<path d="M24,104H48v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16H208V104h24a8,8,0,0,0,4.19-14.81l-104-64a8,8,0,0,0-8.38,0l-104,64A8,8,0,0,0,24,104Zm40,0H96v64H64Zm80,0v64H112V104Zm48,64H160V104h32ZM128,41.39,203.74,88H52.26ZM248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208Z"/>`],["bold",H`<path d="M24,108H44v48H32a12,12,0,0,0,0,24H224a12,12,0,0,0,0-24H212V108h20a12,12,0,0,0,6.29-22.22l-104-64a12,12,0,0,0-12.58,0l-104,64A12,12,0,0,0,24,108Zm44,0H92v48H68Zm72,0v48H116V108Zm48,48H164V108h24ZM128,46.09,189.6,84H66.4ZM252,208a12,12,0,0,1-12,12H16a12,12,0,0,1,0-24H240A12,12,0,0,1,252,208Z"/>`],["fill",H`<path d="M248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208ZM16.3,98.18a8,8,0,0,1,3.51-9l104-64a8,8,0,0,1,8.38,0l104,64A8,8,0,0,1,232,104H208v64h16a8,8,0,0,1,0,16H32a8,8,0,0,1,0-16H48V104H24A8,8,0,0,1,16.3,98.18ZM144,160a8,8,0,0,0,16,0V112a8,8,0,0,0-16,0Zm-48,0a8,8,0,0,0,16,0V112a8,8,0,0,0-16,0Z"/>`],["duotone",H`<path d="M232,96H24L128,32Z" opacity="0.2"/><path d="M24,104H48v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16H208V104h24a8,8,0,0,0,4.19-14.81l-104-64a8,8,0,0,0-8.38,0l-104,64A8,8,0,0,0,24,104Zm40,0H96v64H64Zm80,0v64H112V104Zm48,64H160V104h32ZM128,41.39,203.74,88H52.26ZM248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208Z"/>`]]),ic.styles=Me`
    :host {
      display: contents;
    }
  `,Ly([K({type:String,reflect:!0})],ic.prototype,"size",2),Ly([K({type:String,reflect:!0})],ic.prototype,"weight",2),Ly([K({type:String,reflect:!0})],ic.prototype,"color",2),Ly([K({type:Boolean,reflect:!0})],ic.prototype,"mirrored",2),ic=Ly([Le("ph-bank")],ic);var fVe=Object.freeze({__proto__:null,get PhBank(){return ic}}),hVe=Object.defineProperty,pVe=Object.getOwnPropertyDescriptor,Fy=(e,t,n,r)=>{for(var s=r>1?void 0:r?pVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&hVe(t,n,s),s};let oc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${oc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};oc.weightsMap=new Map([["thin",H`<path d="M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V92H36V56A4,4,0,0,1,40,52ZM216,204H40a4,4,0,0,1-4-4V100H220V200A4,4,0,0,1,216,204Z"/>`],["light",H`<path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V90H38V56A2,2,0,0,1,40,54ZM216,202H40a2,2,0,0,1-2-2V102H218v98A2,2,0,0,1,216,202Z"/>`],["regular",H`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Zm0,144H40V104H216v96Z"/>`],["bold",H`<path d="M216,36H40A20,20,0,0,0,20,56V200a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36Zm-4,24V84H44V60ZM44,196V108H212v88Z"/>`],["fill",H`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Z"/>`],["duotone",H`<path d="M224,56V96H32V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Zm0,144H40V104H216v96Z"/>`]]),oc.styles=Me`
    :host {
      display: contents;
    }
  `,Fy([K({type:String,reflect:!0})],oc.prototype,"size",2),Fy([K({type:String,reflect:!0})],oc.prototype,"weight",2),Fy([K({type:String,reflect:!0})],oc.prototype,"color",2),Fy([K({type:Boolean,reflect:!0})],oc.prototype,"mirrored",2),oc=Fy([Le("ph-browser")],oc);var gVe=Object.freeze({__proto__:null,get PhBrowser(){return oc}}),mVe=Object.defineProperty,yVe=Object.getOwnPropertyDescriptor,jy=(e,t,n,r)=>{for(var s=r>1?void 0:r?yVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&mVe(t,n,s),s};let ac=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ac.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ac.weightsMap=new Map([["thin",H`<path d="M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z"/>`],["light",H`<path d="M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",H`<path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",H`<path d="M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"/>`],["fill",H`<path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",H`<path d="M208,96l-80,80L48,96Z" opacity="0.2"/><path d="M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z"/>`]]),ac.styles=Me`
    :host {
      display: contents;
    }
  `,jy([K({type:String,reflect:!0})],ac.prototype,"size",2),jy([K({type:String,reflect:!0})],ac.prototype,"weight",2),jy([K({type:String,reflect:!0})],ac.prototype,"color",2),jy([K({type:Boolean,reflect:!0})],ac.prototype,"mirrored",2),ac=jy([Le("ph-caret-down")],ac);var bVe=Object.freeze({__proto__:null,get PhCaretDown(){return ac}}),wVe=Object.defineProperty,vVe=Object.getOwnPropertyDescriptor,zy=(e,t,n,r)=>{for(var s=r>1?void 0:r?vVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&wVe(t,n,s),s};let cc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${cc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};cc.weightsMap=new Map([["thin",H`<path d="M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"/>`],["light",H`<path d="M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"/>`],["regular",H`<path d="M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"/>`],["bold",H`<path d="M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"/>`],["fill",H`<path d="M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"/>`],["duotone",H`<path d="M160,48V208L80,128Z" opacity="0.2"/><path d="M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"/>`]]),cc.styles=Me`
    :host {
      display: contents;
    }
  `,zy([K({type:String,reflect:!0})],cc.prototype,"size",2),zy([K({type:String,reflect:!0})],cc.prototype,"weight",2),zy([K({type:String,reflect:!0})],cc.prototype,"color",2),zy([K({type:Boolean,reflect:!0})],cc.prototype,"mirrored",2),cc=zy([Le("ph-caret-left")],cc);var EVe=Object.freeze({__proto__:null,get PhCaretLeft(){return cc}}),xVe=Object.defineProperty,$Ve=Object.getOwnPropertyDescriptor,Hy=(e,t,n,r)=>{for(var s=r>1?void 0:r?$Ve(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&xVe(t,n,s),s};let lc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${lc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};lc.weightsMap=new Map([["thin",H`<path d="M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"/>`],["light",H`<path d="M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"/>`],["regular",H`<path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["bold",H`<path d="M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"/>`],["fill",H`<path d="M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["duotone",H`<path d="M176,128,96,208V48Z" opacity="0.2"/><path d="M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"/>`]]),lc.styles=Me`
    :host {
      display: contents;
    }
  `,Hy([K({type:String,reflect:!0})],lc.prototype,"size",2),Hy([K({type:String,reflect:!0})],lc.prototype,"weight",2),Hy([K({type:String,reflect:!0})],lc.prototype,"color",2),Hy([K({type:Boolean,reflect:!0})],lc.prototype,"mirrored",2),lc=Hy([Le("ph-caret-right")],lc);var AVe=Object.freeze({__proto__:null,get PhCaretRight(){return lc}}),CVe=Object.defineProperty,SVe=Object.getOwnPropertyDescriptor,Vy=(e,t,n,r)=>{for(var s=r>1?void 0:r?SVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&CVe(t,n,s),s};let uc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${uc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};uc.weightsMap=new Map([["thin",H`<path d="M210.83,162.83a4,4,0,0,1-5.66,0L128,85.66,50.83,162.83a4,4,0,0,1-5.66-5.66l80-80a4,4,0,0,1,5.66,0l80,80A4,4,0,0,1,210.83,162.83Z"/>`],["light",H`<path d="M212.24,164.24a6,6,0,0,1-8.48,0L128,88.49,52.24,164.24a6,6,0,0,1-8.48-8.48l80-80a6,6,0,0,1,8.48,0l80,80A6,6,0,0,1,212.24,164.24Z"/>`],["regular",H`<path d="M213.66,165.66a8,8,0,0,1-11.32,0L128,91.31,53.66,165.66a8,8,0,0,1-11.32-11.32l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,213.66,165.66Z"/>`],["bold",H`<path d="M216.49,168.49a12,12,0,0,1-17,0L128,97,56.49,168.49a12,12,0,0,1-17-17l80-80a12,12,0,0,1,17,0l80,80A12,12,0,0,1,216.49,168.49Z"/>`],["fill",H`<path d="M215.39,163.06A8,8,0,0,1,208,168H48a8,8,0,0,1-5.66-13.66l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,215.39,163.06Z"/>`],["duotone",H`<path d="M208,160H48l80-80Z" opacity="0.2"/><path d="M213.66,154.34l-80-80a8,8,0,0,0-11.32,0l-80,80A8,8,0,0,0,48,168H208a8,8,0,0,0,5.66-13.66ZM67.31,152,128,91.31,188.69,152Z"/>`]]),uc.styles=Me`
    :host {
      display: contents;
    }
  `,Vy([K({type:String,reflect:!0})],uc.prototype,"size",2),Vy([K({type:String,reflect:!0})],uc.prototype,"weight",2),Vy([K({type:String,reflect:!0})],uc.prototype,"color",2),Vy([K({type:Boolean,reflect:!0})],uc.prototype,"mirrored",2),uc=Vy([Le("ph-caret-up")],uc);var IVe=Object.freeze({__proto__:null,get PhCaretUp(){return uc}}),_Ve=Object.defineProperty,OVe=Object.getOwnPropertyDescriptor,qy=(e,t,n,r)=>{for(var s=r>1?void 0:r?OVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&_Ve(t,n,s),s};let dc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${dc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};dc.weightsMap=new Map([["thin",H`<path d="M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z"/>`],["light",H`<path d="M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z"/>`],["regular",H`<path d="M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"/>`],["bold",H`<path d="M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"/>`],["fill",H`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",H`<path d="M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z" opacity="0.2"/><path d="M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"/>`]]),dc.styles=Me`
    :host {
      display: contents;
    }
  `,qy([K({type:String,reflect:!0})],dc.prototype,"size",2),qy([K({type:String,reflect:!0})],dc.prototype,"weight",2),qy([K({type:String,reflect:!0})],dc.prototype,"color",2),qy([K({type:Boolean,reflect:!0})],dc.prototype,"mirrored",2),dc=qy([Le("ph-check")],dc);var PVe=Object.freeze({__proto__:null,get PhCheck(){return dc}}),TVe=Object.defineProperty,NVe=Object.getOwnPropertyDescriptor,Zy=(e,t,n,r)=>{for(var s=r>1?void 0:r?NVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&TVe(t,n,s),s};let fc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${fc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};fc.weightsMap=new Map([["thin",H`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm4,8.09a91.58,91.58,0,0,1,24,4.27V215.64a91.58,91.58,0,0,1-24,4.27Zm32,7.25a92.21,92.21,0,0,1,24,15V197.69a92.21,92.21,0,0,1-24,15ZM36,128a92.11,92.11,0,0,1,88-91.91V219.91A92.11,92.11,0,0,1,36,128Zm160,61.9V66.1a91.83,91.83,0,0,1,0,123.8Z"/>`],["light",H`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm6,12.2a89.86,89.86,0,0,1,20,3.63V214.17a89.86,89.86,0,0,1-20,3.63Zm32,8.23a90.48,90.48,0,0,1,20,12.81V196.76a90.48,90.48,0,0,1-20,12.81ZM38,128a90.12,90.12,0,0,1,84-89.8V217.8A90.12,90.12,0,0,1,38,128Zm160,56.5V71.5a89.81,89.81,0,0,1,0,113Z"/>`],["regular",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm8,16.37a86.4,86.4,0,0,1,16,3V212.67a86.4,86.4,0,0,1-16,3Zm32,9.26a87.81,87.81,0,0,1,16,10.54V195.83a87.81,87.81,0,0,1-16,10.54ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm160,50.54V77.46a87.82,87.82,0,0,1,0,101.08Z"/>`],["bold",H`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm12,24.87a83.53,83.53,0,0,1,24,7.25V203.88a83.53,83.53,0,0,1-24,7.25ZM44,128a84.12,84.12,0,0,1,72-83.13V211.13A84.12,84.12,0,0,1,44,128Zm144,58.71V69.29a83.81,83.81,0,0,1,0,117.42Z"/>`],["fill",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.1,88.1,0,0,1,88-88V216A88.1,88.1,0,0,1,40,128Z"/>`],["duotone",H`<path d="M224,128a96,96,0,0,1-96,96V32A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm96,87.63V40.37a88,88,0,0,1,0,175.26Z"/>`]]),fc.styles=Me`
    :host {
      display: contents;
    }
  `,Zy([K({type:String,reflect:!0})],fc.prototype,"size",2),Zy([K({type:String,reflect:!0})],fc.prototype,"weight",2),Zy([K({type:String,reflect:!0})],fc.prototype,"color",2),Zy([K({type:Boolean,reflect:!0})],fc.prototype,"mirrored",2),fc=Zy([Le("ph-circle-half")],fc);var BVe=Object.freeze({__proto__:null,get PhCircleHalf(){return fc}}),kVe=Object.defineProperty,RVe=Object.getOwnPropertyDescriptor,Wy=(e,t,n,r)=>{for(var s=r>1?void 0:r?RVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&kVe(t,n,s),s};let hc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${hc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};hc.weightsMap=new Map([["thin",H`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm60-92a4,4,0,0,1-4,4H128a4,4,0,0,1-4-4V72a4,4,0,0,1,8,0v52h52A4,4,0,0,1,188,128Z"/>`],["light",H`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm62-90a6,6,0,0,1-6,6H128a6,6,0,0,1-6-6V72a6,6,0,0,1,12,0v50h50A6,6,0,0,1,190,128Z"/>`],["regular",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`],["bold",H`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm68-84a12,12,0,0,1-12,12H128a12,12,0,0,1-12-12V72a12,12,0,0,1,24,0v44h44A12,12,0,0,1,196,128Z"/>`],["fill",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",H`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`]]),hc.styles=Me`
    :host {
      display: contents;
    }
  `,Wy([K({type:String,reflect:!0})],hc.prototype,"size",2),Wy([K({type:String,reflect:!0})],hc.prototype,"weight",2),Wy([K({type:String,reflect:!0})],hc.prototype,"color",2),Wy([K({type:Boolean,reflect:!0})],hc.prototype,"mirrored",2),hc=Wy([Le("ph-clock")],hc);var DVe=Object.freeze({__proto__:null,get PhClock(){return hc}}),MVe=Object.defineProperty,UVe=Object.getOwnPropertyDescriptor,Ky=(e,t,n,r)=>{for(var s=r>1?void 0:r?UVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&MVe(t,n,s),s};let pc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${pc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};pc.weightsMap=new Map([["thin",H`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220ZM174.21,76.42l-64,32a4.08,4.08,0,0,0-1.79,1.79l-32,64A4,4,0,0,0,80,180a4.05,4.05,0,0,0,1.79-.42l64-32a4.08,4.08,0,0,0,1.79-1.79l32-64a4,4,0,0,0-5.37-5.37ZM141,141l-52.08,26L115,115l52.08-26Z"/>`],["light",H`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM173.32,74.63l-64,32a6,6,0,0,0-2.69,2.69l-32,64A6,6,0,0,0,80,182a6.06,6.06,0,0,0,2.68-.63l64-32a6,6,0,0,0,2.69-2.69l32-64a6,6,0,0,0-8.05-8.05Zm-33.79,64.9L93.42,162.58l23-46.11,46.11-23Z"/>`],["regular",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"/>`],["bold",H`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212ZM163.27,77l-56,24a12,12,0,0,0-6.3,6.3l-24,56A12,12,0,0,0,92.73,179l56-24a12,12,0,0,0,6.3-6.3l24-56A12,12,0,0,0,163.27,77Zm-28.41,57.89-24,10.29,10.29-24,24-10.29Z"/>`],["fill",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm51.58,57.79-32,64a4.08,4.08,0,0,1-1.79,1.79l-64,32a4,4,0,0,1-5.37-5.37l32-64a4.08,4.08,0,0,1,1.79-1.79l64-32A4,4,0,0,1,179.58,81.79Z"/>`],["duotone",H`<path d="M128,32a96,96,0,1,0,96,96A96,96,0,0,0,128,32Zm16,112L80,176l32-64,64-32Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"/>`]]),pc.styles=Me`
    :host {
      display: contents;
    }
  `,Ky([K({type:String,reflect:!0})],pc.prototype,"size",2),Ky([K({type:String,reflect:!0})],pc.prototype,"weight",2),Ky([K({type:String,reflect:!0})],pc.prototype,"color",2),Ky([K({type:Boolean,reflect:!0})],pc.prototype,"mirrored",2),pc=Ky([Le("ph-compass")],pc);var LVe=Object.freeze({__proto__:null,get PhCompass(){return pc}}),FVe=Object.defineProperty,jVe=Object.getOwnPropertyDescriptor,Gy=(e,t,n,r)=>{for(var s=r>1?void 0:r?jVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&FVe(t,n,s),s};let gc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${gc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};gc.weightsMap=new Map([["thin",H`<path d="M216,36H88a4,4,0,0,0-4,4V84H40a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H168a4,4,0,0,0,4-4V172h44a4,4,0,0,0,4-4V40A4,4,0,0,0,216,36ZM164,212H44V92H164Zm48-48H172V88a4,4,0,0,0-4-4H92V44H212Z"/>`],["light",H`<path d="M216,34H88a6,6,0,0,0-6,6V82H40a6,6,0,0,0-6,6V216a6,6,0,0,0,6,6H168a6,6,0,0,0,6-6V174h42a6,6,0,0,0,6-6V40A6,6,0,0,0,216,34ZM162,210H46V94H162Zm48-48H174V88a6,6,0,0,0-6-6H94V46H210Z"/>`],["regular",H`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["bold",H`<path d="M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"/>`],["fill",H`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32Zm-8,128H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["duotone",H`<path d="M216,40V168H168V88H88V40Z" opacity="0.2"/><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`]]),gc.styles=Me`
    :host {
      display: contents;
    }
  `,Gy([K({type:String,reflect:!0})],gc.prototype,"size",2),Gy([K({type:String,reflect:!0})],gc.prototype,"weight",2),Gy([K({type:String,reflect:!0})],gc.prototype,"color",2),Gy([K({type:Boolean,reflect:!0})],gc.prototype,"mirrored",2),gc=Gy([Le("ph-copy")],gc);var zVe=Object.freeze({__proto__:null,get PhCopy(){return gc}}),HVe=Object.defineProperty,VVe=Object.getOwnPropertyDescriptor,Yy=(e,t,n,r)=>{for(var s=r>1?void 0:r?VVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&HVe(t,n,s),s};let mc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${mc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};mc.weightsMap=new Map([["thin",H`<path d="M224,52H32A12,12,0,0,0,20,64V192a12,12,0,0,0,12,12H224a12,12,0,0,0,12-12V64A12,12,0,0,0,224,52ZM32,60H224a4,4,0,0,1,4,4V92H28V64A4,4,0,0,1,32,60ZM224,196H32a4,4,0,0,1-4-4V100H228v92A4,4,0,0,1,224,196Zm-20-28a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h32A4,4,0,0,1,204,168Zm-64,0a4,4,0,0,1-4,4H120a4,4,0,0,1,0-8h16A4,4,0,0,1,140,168Z"/>`],["light",H`<path d="M224,50H32A14,14,0,0,0,18,64V192a14,14,0,0,0,14,14H224a14,14,0,0,0,14-14V64A14,14,0,0,0,224,50ZM32,62H224a2,2,0,0,1,2,2V90H30V64A2,2,0,0,1,32,62ZM224,194H32a2,2,0,0,1-2-2V102H226v90A2,2,0,0,1,224,194Zm-18-26a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h32A6,6,0,0,1,206,168Zm-64,0a6,6,0,0,1-6,6H120a6,6,0,0,1,0-12h16A6,6,0,0,1,142,168Z"/>`],["regular",H`<path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,16V88H32V64Zm0,128H32V104H224v88Zm-16-24a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h32A8,8,0,0,1,208,168Zm-64,0a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h16A8,8,0,0,1,144,168Z"/>`],["bold",H`<path d="M224,44H32A20,20,0,0,0,12,64V192a20,20,0,0,0,20,20H224a20,20,0,0,0,20-20V64A20,20,0,0,0,224,44Zm-4,24V88H36V68ZM36,188V112H220v76Zm172-24a12,12,0,0,1-12,12H164a12,12,0,0,1,0-24h32A12,12,0,0,1,208,164Zm-68,0a12,12,0,0,1-12,12H116a12,12,0,0,1,0-24h12A12,12,0,0,1,140,164Z"/>`],["fill",H`<path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48ZM136,176H120a8,8,0,0,1,0-16h16a8,8,0,0,1,0,16Zm64,0H168a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16ZM32,88V64H224V88Z"/>`],["duotone",H`<path d="M232,96v96a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V96Z" opacity="0.2"/><path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,16V88H32V64Zm0,128H32V104H224v88Zm-16-24a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h32A8,8,0,0,1,208,168Zm-64,0a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h16A8,8,0,0,1,144,168Z"/>`]]),mc.styles=Me`
    :host {
      display: contents;
    }
  `,Yy([K({type:String,reflect:!0})],mc.prototype,"size",2),Yy([K({type:String,reflect:!0})],mc.prototype,"weight",2),Yy([K({type:String,reflect:!0})],mc.prototype,"color",2),Yy([K({type:Boolean,reflect:!0})],mc.prototype,"mirrored",2),mc=Yy([Le("ph-credit-card")],mc);var qVe=Object.freeze({__proto__:null,get PhCreditCard(){return mc}}),ZVe=Object.defineProperty,WVe=Object.getOwnPropertyDescriptor,Xy=(e,t,n,r)=>{for(var s=r>1?void 0:r?WVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&ZVe(t,n,s),s};let yc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${yc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};yc.weightsMap=new Map([["thin",H`<path d="M152,124H132V52h12a36,36,0,0,1,36,36,4,4,0,0,0,8,0,44.05,44.05,0,0,0-44-44H132V24a4,4,0,0,0-8,0V44H112a44,44,0,0,0,0,88h12v72H104a36,36,0,0,1-36-36,4,4,0,0,0-8,0,44.05,44.05,0,0,0,44,44h20v20a4,4,0,0,0,8,0V212h20a44,44,0,0,0,0-88Zm-40,0a36,36,0,0,1,0-72h12v72Zm40,80H132V132h20a36,36,0,0,1,0,72Z"/>`],["light",H`<path d="M152,122H134V54h10a34,34,0,0,1,34,34,6,6,0,0,0,12,0,46.06,46.06,0,0,0-46-46H134V24a6,6,0,0,0-12,0V42H112a46,46,0,0,0,0,92h10v68H104a34,34,0,0,1-34-34,6,6,0,0,0-12,0,46.06,46.06,0,0,0,46,46h18v18a6,6,0,0,0,12,0V214h18a46,46,0,0,0,0-92Zm-40,0a34,34,0,0,1,0-68h10v68Zm40,80H134V134h18a34,34,0,0,1,0,68Z"/>`],["regular",H`<path d="M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"/>`],["bold",H`<path d="M152,116H140V60h4a28,28,0,0,1,28,28,12,12,0,0,0,24,0,52.06,52.06,0,0,0-52-52h-4V24a12,12,0,0,0-24,0V36h-4a52,52,0,0,0,0,104h4v56H104a28,28,0,0,1-28-28,12,12,0,0,0-24,0,52.06,52.06,0,0,0,52,52h12v12a12,12,0,0,0,24,0V220h12a52,52,0,0,0,0-104Zm-40,0a28,28,0,0,1,0-56h4v56Zm40,80H140V140h12a28,28,0,0,1,0,56Z"/>`],["fill",H`<path d="M160,152a16,16,0,0,1-16,16h-8V136h8A16,16,0,0,1,160,152Zm72-24A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-56,24a32,32,0,0,0-32-32h-8V88h4a16,16,0,0,1,16,16,8,8,0,0,0,16,0,32,32,0,0,0-32-32h-4V64a8,8,0,0,0-16,0v8h-4a32,32,0,0,0,0,64h4v32h-8a16,16,0,0,1-16-16,8,8,0,0,0-16,0,32,32,0,0,0,32,32h8v8a8,8,0,0,0,16,0v-8h8A32,32,0,0,0,176,152Zm-76-48a16,16,0,0,0,16,16h4V88h-4A16,16,0,0,0,100,104Z"/>`],["duotone",H`<path d="M192,168a40,40,0,0,1-40,40H128V128h24A40,40,0,0,1,192,168ZM112,48a40,40,0,0,0,0,80h16V48Z" opacity="0.2"/><path d="M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"/>`]]),yc.styles=Me`
    :host {
      display: contents;
    }
  `,Xy([K({type:String,reflect:!0})],yc.prototype,"size",2),Xy([K({type:String,reflect:!0})],yc.prototype,"weight",2),Xy([K({type:String,reflect:!0})],yc.prototype,"color",2),Xy([K({type:Boolean,reflect:!0})],yc.prototype,"mirrored",2),yc=Xy([Le("ph-currency-dollar")],yc);var KVe=Object.freeze({__proto__:null,get PhCurrencyDollar(){return yc}}),GVe=Object.defineProperty,YVe=Object.getOwnPropertyDescriptor,Jy=(e,t,n,r)=>{for(var s=r>1?void 0:r?YVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&GVe(t,n,s),s};let bc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${bc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};bc.weightsMap=new Map([["thin",H`<path d="M208,44H48A20,20,0,0,0,28,64V176a20,20,0,0,0,20,20h76v24H96a4,4,0,0,0,0,8h64a4,4,0,0,0,0-8H132V196h76a20,20,0,0,0,20-20V64A20,20,0,0,0,208,44ZM48,52H208a12,12,0,0,1,12,12v84H36V64A12,12,0,0,1,48,52ZM208,188H48a12,12,0,0,1-12-12V156H220v20A12,12,0,0,1,208,188Z"/>`],["light",H`<path d="M208,42H48A22,22,0,0,0,26,64V176a22,22,0,0,0,22,22h74v20H96a6,6,0,0,0,0,12h64a6,6,0,0,0,0-12H134V198h74a22,22,0,0,0,22-22V64A22,22,0,0,0,208,42ZM48,54H208a10,10,0,0,1,10,10v82H38V64A10,10,0,0,1,48,54ZM208,186H48a10,10,0,0,1-10-10V158H218v18A10,10,0,0,1,208,186Z"/>`],["regular",H`<path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40ZM48,56H208a8,8,0,0,1,8,8v80H40V64A8,8,0,0,1,48,56ZM208,184H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`],["bold",H`<path d="M208,36H48A28,28,0,0,0,20,64V172a28,28,0,0,0,28,28h68v12H96a12,12,0,0,0,0,24h64a12,12,0,0,0,0-24H140V200h68a28,28,0,0,0,28-28V64A28,28,0,0,0,208,36ZM48,60H208a4,4,0,0,1,4,4v72H44V64A4,4,0,0,1,48,60ZM208,176H48a4,4,0,0,1-4-4V160H212v12A4,4,0,0,1,208,176Z"/>`],["fill",H`<path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40Zm0,144H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`],["duotone",H`<path d="M224,64v88H32V64A16,16,0,0,1,48,48H208A16,16,0,0,1,224,64Z" opacity="0.2"/><path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40ZM48,56H208a8,8,0,0,1,8,8v80H40V64A8,8,0,0,1,48,56ZM208,184H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`]]),bc.styles=Me`
    :host {
      display: contents;
    }
  `,Jy([K({type:String,reflect:!0})],bc.prototype,"size",2),Jy([K({type:String,reflect:!0})],bc.prototype,"weight",2),Jy([K({type:String,reflect:!0})],bc.prototype,"color",2),Jy([K({type:Boolean,reflect:!0})],bc.prototype,"mirrored",2),bc=Jy([Le("ph-desktop")],bc);var XVe=Object.freeze({__proto__:null,get PhDesktop(){return bc}}),JVe=Object.defineProperty,QVe=Object.getOwnPropertyDescriptor,Qy=(e,t,n,r)=>{for(var s=r>1?void 0:r?QVe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&JVe(t,n,s),s};let wc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${wc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};wc.weightsMap=new Map([["thin",H`<path d="M176,20H80A20,20,0,0,0,60,40V216a20,20,0,0,0,20,20h96a20,20,0,0,0,20-20V40A20,20,0,0,0,176,20ZM68,60H188V196H68ZM80,28h96a12,12,0,0,1,12,12V52H68V40A12,12,0,0,1,80,28Zm96,200H80a12,12,0,0,1-12-12V204H188v12A12,12,0,0,1,176,228Z"/>`],["light",H`<path d="M176,18H80A22,22,0,0,0,58,40V216a22,22,0,0,0,22,22h96a22,22,0,0,0,22-22V40A22,22,0,0,0,176,18ZM70,62H186V194H70ZM80,30h96a10,10,0,0,1,10,10V50H70V40A10,10,0,0,1,80,30Zm96,196H80a10,10,0,0,1-10-10V206H186v10A10,10,0,0,1,176,226Z"/>`],["regular",H`<path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM72,64H184V192H72Zm8-32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`],["bold",H`<path d="M176,12H80A28,28,0,0,0,52,40V216a28,28,0,0,0,28,28h96a28,28,0,0,0,28-28V40A28,28,0,0,0,176,12ZM76,76H180V180H76Zm4-40h96a4,4,0,0,1,4,4V52H76V40A4,4,0,0,1,80,36Zm96,184H80a4,4,0,0,1-4-4V204H180v12A4,4,0,0,1,176,220Z"/>`],["fill",H`<path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM80,32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`],["duotone",H`<path d="M192,56V200H64V56Z" opacity="0.2"/><path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM72,64H184V192H72Zm8-32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`]]),wc.styles=Me`
    :host {
      display: contents;
    }
  `,Qy([K({type:String,reflect:!0})],wc.prototype,"size",2),Qy([K({type:String,reflect:!0})],wc.prototype,"weight",2),Qy([K({type:String,reflect:!0})],wc.prototype,"color",2),Qy([K({type:Boolean,reflect:!0})],wc.prototype,"mirrored",2),wc=Qy([Le("ph-device-mobile")],wc);var eqe=Object.freeze({__proto__:null,get PhDeviceMobile(){return wc}}),tqe=Object.defineProperty,nqe=Object.getOwnPropertyDescriptor,eb=(e,t,n,r)=>{for(var s=r>1?void 0:r?nqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&tqe(t,n,s),s};let vc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${vc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};vc.weightsMap=new Map([["thin",H`<path d="M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-76-8a8,8,0,1,0,8,8A8,8,0,0,0,60,120Zm136,0a8,8,0,1,0,8,8A8,8,0,0,0,196,120Z"/>`],["light",H`<path d="M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM60,118a10,10,0,1,0,10,10A10,10,0,0,0,60,118Zm136,0a10,10,0,1,0,10,10A10,10,0,0,0,196,118Z"/>`],["regular",H`<path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"/>`],["bold",H`<path d="M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"/>`],["fill",H`<path d="M224,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V96A16,16,0,0,0,224,80ZM60,140a12,12,0,1,1,12-12A12,12,0,0,1,60,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,196,140Z"/>`],["duotone",H`<path d="M240,96v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V96A16,16,0,0,1,32,80H224A16,16,0,0,1,240,96Z" opacity="0.2"/><path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"/>`]]),vc.styles=Me`
    :host {
      display: contents;
    }
  `,eb([K({type:String,reflect:!0})],vc.prototype,"size",2),eb([K({type:String,reflect:!0})],vc.prototype,"weight",2),eb([K({type:String,reflect:!0})],vc.prototype,"color",2),eb([K({type:Boolean,reflect:!0})],vc.prototype,"mirrored",2),vc=eb([Le("ph-dots-three")],vc);var rqe=Object.freeze({__proto__:null,get PhDotsThree(){return vc}}),sqe=Object.defineProperty,iqe=Object.getOwnPropertyDescriptor,tb=(e,t,n,r)=>{for(var s=r>1?void 0:r?iqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&sqe(t,n,s),s};let Ec=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ec.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ec.weightsMap=new Map([["thin",H`<path d="M216,44H40A12,12,0,0,0,28,56V192a12,12,0,0,0,12,12H60v20a4,4,0,0,0,8,0V204H188v20a4,4,0,0,0,8,0V204h20a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44Zm0,152H40a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4H216a4,4,0,0,1,4,4v68H195.81a44,44,0,1,0,0,8H220v60A4,4,0,0,1,216,196Zm-52.7-72a12,12,0,1,0,0,8h24.47a36,36,0,1,1,0-8Z"/>`],["light",H`<path d="M216,42H40A14,14,0,0,0,26,56V192a14,14,0,0,0,14,14H58v18a6,6,0,0,0,12,0V206H186v18a6,6,0,0,0,12,0V206h18a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42Zm0,152H40a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2v66H197.6a46,46,0,1,0,0,12H218v58A2,2,0,0,1,216,194Zm-51.37-72a14,14,0,1,0,0,12h20.83a34,34,0,1,1,0-12Z"/>`],["regular",H`<path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,152H40V56H216v64H199.32a48,48,0,1,0,0,16H216v56Zm-50.16-72a16,16,0,1,0,0,16H183a32,32,0,1,1,0-16Z"/>`],["bold",H`<path d="M216,36H40A20,20,0,0,0,20,56V192a20,20,0,0,0,20,20H52v12a12,12,0,0,0,24,0V212H180v12a12,12,0,0,0,24,0V212h12a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36ZM44,188V60H212v52H190.32a44,44,0,1,0,0,24H212v52Zm124-64a20,20,0,1,1-20-20A20,20,0,0,1,168,124Z"/>`],["fill",H`<path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm-8,96H179.09a36,36,0,1,1,0-16H208a8,8,0,0,1,0,16Zm-44-8a20,20,0,1,1-20-20A20,20,0,0,1,164,128Z"/>`],["duotone",H`<path d="M216,48H40a8,8,0,0,0-8,8V192a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM152,168a40,40,0,1,1,40-40A40,40,0,0,1,152,168Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,152H40V56H216v64H199.32a48,48,0,1,0,0,16H216v56Zm-50.16-72a16,16,0,1,0,0,16H183a32,32,0,1,1,0-16Z"/>`]]),Ec.styles=Me`
    :host {
      display: contents;
    }
  `,tb([K({type:String,reflect:!0})],Ec.prototype,"size",2),tb([K({type:String,reflect:!0})],Ec.prototype,"weight",2),tb([K({type:String,reflect:!0})],Ec.prototype,"color",2),tb([K({type:Boolean,reflect:!0})],Ec.prototype,"mirrored",2),Ec=tb([Le("ph-vault")],Ec);var oqe=Object.freeze({__proto__:null,get PhVault(){return Ec}}),aqe=Object.defineProperty,cqe=Object.getOwnPropertyDescriptor,nb=(e,t,n,r)=>{for(var s=r>1?void 0:r?cqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&aqe(t,n,s),s};let xc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${xc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};xc.weightsMap=new Map([["thin",H`<path d="M224,52H32a4,4,0,0,0-4,4V192a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A4,4,0,0,0,224,52Zm-96,86.57L42.28,60H213.72ZM104.63,128,36,190.91V65.09Zm5.92,5.43L125.3,147a4,4,0,0,0,5.4,0l14.75-13.52L213.72,196H42.28ZM151.37,128,220,65.09V190.91Z"/>`],["light",H`<path d="M224,50H32a6,6,0,0,0-6,6V192a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A6,6,0,0,0,224,50Zm-96,85.86L47.42,62H208.58ZM101.67,128,38,186.36V69.64Zm8.88,8.14L124,148.42a6,6,0,0,0,8.1,0l13.4-12.28L208.58,194H47.43ZM154.33,128,218,69.64V186.36Z"/>`],["regular",H`<path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`],["bold",H`<path d="M224,44H32A12,12,0,0,0,20,56V192a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A12,12,0,0,0,224,44Zm-96,83.72L62.85,68h130.3ZM92.79,128,44,172.72V83.28Zm17.76,16.28,9.34,8.57a12,12,0,0,0,16.22,0l9.34-8.57L193.15,188H62.85ZM163.21,128,212,83.28v89.44Z"/>`],["fill",H`<path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`],["duotone",H`<path d="M224,56l-96,88L32,56Z" opacity="0.2"/><path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`]]),xc.styles=Me`
    :host {
      display: contents;
    }
  `,nb([K({type:String,reflect:!0})],xc.prototype,"size",2),nb([K({type:String,reflect:!0})],xc.prototype,"weight",2),nb([K({type:String,reflect:!0})],xc.prototype,"color",2),nb([K({type:Boolean,reflect:!0})],xc.prototype,"mirrored",2),xc=nb([Le("ph-envelope")],xc);var lqe=Object.freeze({__proto__:null,get PhEnvelope(){return xc}}),uqe=Object.defineProperty,dqe=Object.getOwnPropertyDescriptor,rb=(e,t,n,r)=>{for(var s=r>1?void 0:r?dqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&uqe(t,n,s),s};let $c=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${$c.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};$c.weightsMap=new Map([["thin",H`<path d="M196,136a4,4,0,0,1-4,4H64a4,4,0,0,1,0-8H192A4,4,0,0,1,196,136Zm36-52H24a4,4,0,0,0,0,8H232a4,4,0,0,0,0-8Zm-80,96H104a4,4,0,0,0,0,8h48a4,4,0,0,0,0-8Z"/>`],["light",H`<path d="M198,136a6,6,0,0,1-6,6H64a6,6,0,0,1,0-12H192A6,6,0,0,1,198,136Zm34-54H24a6,6,0,0,0,0,12H232a6,6,0,0,0,0-12Zm-80,96H104a6,6,0,0,0,0,12h48a6,6,0,0,0,0-12Z"/>`],["regular",H`<path d="M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/>`],["bold",H`<path d="M204,136a12,12,0,0,1-12,12H64a12,12,0,0,1,0-24H192A12,12,0,0,1,204,136Zm28-60H24a12,12,0,0,0,0,24H232a12,12,0,0,0,0-24Zm-80,96H104a12,12,0,0,0,0,24h48a12,12,0,0,0,0-24Z"/>`],["fill",H`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM144,176H112a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16Zm32-40H80a8,8,0,0,1,0-16h96a8,8,0,0,1,0,16Zm32-40H48a8,8,0,0,1,0-16H208a8,8,0,0,1,0,16Z"/>`],["duotone",H`<path d="M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z" opacity="0.2"/><path d="M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/>`]]),$c.styles=Me`
    :host {
      display: contents;
    }
  `,rb([K({type:String,reflect:!0})],$c.prototype,"size",2),rb([K({type:String,reflect:!0})],$c.prototype,"weight",2),rb([K({type:String,reflect:!0})],$c.prototype,"color",2),rb([K({type:Boolean,reflect:!0})],$c.prototype,"mirrored",2),$c=rb([Le("ph-funnel-simple")],$c);var fqe=Object.freeze({__proto__:null,get PhFunnelSimple(){return $c}}),hqe=Object.defineProperty,pqe=Object.getOwnPropertyDescriptor,sb=(e,t,n,r)=>{for(var s=r>1?void 0:r?pqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&hqe(t,n,s),s};let Ac=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ac.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ac.weightsMap=new Map([["thin",H`<path d="M128,28h0A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,190.61c-6.33-6.09-23-24.41-31.27-54.61h62.54C151,194.2,134.33,212.52,128,218.61ZM94.82,156a140.42,140.42,0,0,1,0-56h66.36a140.42,140.42,0,0,1,0,56ZM128,37.39c6.33,6.09,23,24.41,31.27,54.61H96.73C105,61.8,121.67,43.48,128,37.39ZM169.41,100h46.23a92.09,92.09,0,0,1,0,56H169.41a152.65,152.65,0,0,0,0-56Zm43.25-8h-45a129.39,129.39,0,0,0-29.19-55.4A92.25,92.25,0,0,1,212.66,92ZM117.54,36.6A129.39,129.39,0,0,0,88.35,92h-45A92.25,92.25,0,0,1,117.54,36.6ZM40.36,100H86.59a152.65,152.65,0,0,0,0,56H40.36a92.09,92.09,0,0,1,0-56Zm3,64h45a129.39,129.39,0,0,0,29.19,55.4A92.25,92.25,0,0,1,43.34,164Zm95.12,55.4A129.39,129.39,0,0,0,167.65,164h45A92.25,92.25,0,0,1,138.46,219.4Z"/>`],["light",H`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm81.57,64H169.19a132.58,132.58,0,0,0-25.73-50.67A90.29,90.29,0,0,1,209.57,90ZM218,128a89.7,89.7,0,0,1-3.83,26H171.81a155.43,155.43,0,0,0,0-52h42.36A89.7,89.7,0,0,1,218,128Zm-90,87.83a110,110,0,0,1-15.19-19.45A124.24,124.24,0,0,1,99.35,166h57.3a124.24,124.24,0,0,1-13.46,30.38A110,110,0,0,1,128,215.83ZM96.45,154a139.18,139.18,0,0,1,0-52h63.1a139.18,139.18,0,0,1,0,52ZM38,128a89.7,89.7,0,0,1,3.83-26H84.19a155.43,155.43,0,0,0,0,52H41.83A89.7,89.7,0,0,1,38,128Zm90-87.83a110,110,0,0,1,15.19,19.45A124.24,124.24,0,0,1,156.65,90H99.35a124.24,124.24,0,0,1,13.46-30.38A110,110,0,0,1,128,40.17Zm-15.46-.84A132.58,132.58,0,0,0,86.81,90H46.43A90.29,90.29,0,0,1,112.54,39.33ZM46.43,166H86.81a132.58,132.58,0,0,0,25.73,50.67A90.29,90.29,0,0,1,46.43,166Zm97,50.67A132.58,132.58,0,0,0,169.19,166h40.38A90.29,90.29,0,0,1,143.46,216.67Z"/>`],["regular",H`<path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`],["bold",H`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,187a113.4,113.4,0,0,1-20.39-35h40.82a116.94,116.94,0,0,1-10,20.77A108.61,108.61,0,0,1,128,207Zm-26.49-59a135.42,135.42,0,0,1,0-40h53a135.42,135.42,0,0,1,0,40ZM44,128a83.49,83.49,0,0,1,2.43-20H77.25a160.63,160.63,0,0,0,0,40H46.43A83.49,83.49,0,0,1,44,128Zm84-79a113.4,113.4,0,0,1,20.39,35H107.59a116.94,116.94,0,0,1,10-20.77A108.61,108.61,0,0,1,128,49Zm50.73,59h30.82a83.52,83.52,0,0,1,0,40H178.75a160.63,160.63,0,0,0,0-40Zm20.77-24H173.71a140.82,140.82,0,0,0-15.5-34.36A84.51,84.51,0,0,1,199.52,84ZM97.79,49.64A140.82,140.82,0,0,0,82.29,84H56.48A84.51,84.51,0,0,1,97.79,49.64ZM56.48,172H82.29a140.82,140.82,0,0,0,15.5,34.36A84.51,84.51,0,0,1,56.48,172Zm101.73,34.36A140.82,140.82,0,0,0,173.71,172h25.81A84.51,84.51,0,0,1,158.21,206.36Z"/>`],["fill",H`<path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm78.36,64H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM216,128a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM128,43a115.27,115.27,0,0,1,26,45H102A115.11,115.11,0,0,1,128,43ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48Zm50.35,61.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`],["duotone",H`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`]]),Ac.styles=Me`
    :host {
      display: contents;
    }
  `,sb([K({type:String,reflect:!0})],Ac.prototype,"size",2),sb([K({type:String,reflect:!0})],Ac.prototype,"weight",2),sb([K({type:String,reflect:!0})],Ac.prototype,"color",2),sb([K({type:Boolean,reflect:!0})],Ac.prototype,"mirrored",2),Ac=sb([Le("ph-globe")],Ac);var gqe=Object.freeze({__proto__:null,get PhGlobe(){return Ac}}),mqe=Object.defineProperty,yqe=Object.getOwnPropertyDescriptor,ib=(e,t,n,r)=>{for(var s=r>1?void 0:r?yqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&mqe(t,n,s),s};let Cc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Cc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Cc.weightsMap=new Map([["thin",H`<path d="M196,112a4,4,0,0,1-4,4H152a4,4,0,0,1,0-8h40A4,4,0,0,1,196,112Zm-4,28H152a4,4,0,0,0,0,8h40a4,4,0,0,0,0-8Zm36-84V200a12,12,0,0,1-12,12H40a12,12,0,0,1-12-12V56A12,12,0,0,1,40,44H216A12,12,0,0,1,228,56Zm-8,0a4,4,0,0,0-4-4H40a4,4,0,0,0-4,4V200a4,4,0,0,0,4,4H216a4,4,0,0,0,4-4ZM131.87,167a4,4,0,1,1-7.74,2C121.06,157,109,148,96,148s-25,9-28.13,21A4,4,0,0,1,64,172a3.87,3.87,0,0,1-1-.13A4,4,0,0,1,60.13,167a36.28,36.28,0,0,1,20.43-23.66,28,28,0,1,1,30.88,0A36.2,36.2,0,0,1,131.87,167ZM96,140a20,20,0,1,0-20-20A20,20,0,0,0,96,140Z"/>`],["light",H`<path d="M198,112a6,6,0,0,1-6,6H152a6,6,0,0,1,0-12h40A6,6,0,0,1,198,112Zm-6,26H152a6,6,0,0,0,0,12h40a6,6,0,0,0,0-12Zm38-82V200a14,14,0,0,1-14,14H40a14,14,0,0,1-14-14V56A14,14,0,0,1,40,42H216A14,14,0,0,1,230,56Zm-12,0a2,2,0,0,0-2-2H40a2,2,0,0,0-2,2V200a2,2,0,0,0,2,2H216a2,2,0,0,0,2-2ZM133.81,166.51a6,6,0,0,1-11.62,3C119.34,158.38,108.08,150,96,150s-23.33,8.38-26.19,19.5a6,6,0,0,1-11.62-3A38,38,0,0,1,76.78,143a30,30,0,1,1,38.45,0A38,38,0,0,1,133.81,166.51ZM96,138a18,18,0,1,0-18-18A18,18,0,0,0,96,138Z"/>`],["regular",H`<path d="M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"/>`],["bold",H`<path d="M148,108a12,12,0,0,1,12-12h28a12,12,0,0,1,0,24H160A12,12,0,0,1,148,108Zm40,28H168a12,12,0,0,0,0,24h20a12,12,0,0,0,0-24Zm48-80V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56Zm-24,4H44V196H212ZM58.28,159.37A43.82,43.82,0,0,1,71.53,142a36,36,0,1,1,56.94,0,43.84,43.84,0,0,1,13.26,17.37,12,12,0,0,1-22.15,9.26C116.48,161.19,108.42,156,100,156s-16.47,5.2-19.59,12.63a12,12,0,1,1-22.13-9.26ZM88,120a12,12,0,1,0,12-12A12,12,0,0,0,88,120Z"/>`],["fill",H`<path d="M112,120a16,16,0,1,1-16-16A16,16,0,0,1,112,120ZM232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM135.75,166a39.76,39.76,0,0,0-17.19-23.34,32,32,0,1,0-45.12,0A39.84,39.84,0,0,0,56.25,166a8,8,0,0,0,15.5,4c2.64-10.25,13.06-18,24.25-18s21.62,7.73,24.25,18a8,8,0,1,0,15.5-4ZM200,144a8,8,0,0,0-8-8H152a8,8,0,0,0,0,16h40A8,8,0,0,0,200,144Zm0-32a8,8,0,0,0-8-8H152a8,8,0,0,0,0,16h40A8,8,0,0,0,200,112Z"/>`],["duotone",H`<path d="M216,48H40a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM96,144a24,24,0,1,1,24-24A24,24,0,0,1,96,144Z" opacity="0.2"/><path d="M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"/>`]]),Cc.styles=Me`
    :host {
      display: contents;
    }
  `,ib([K({type:String,reflect:!0})],Cc.prototype,"size",2),ib([K({type:String,reflect:!0})],Cc.prototype,"weight",2),ib([K({type:String,reflect:!0})],Cc.prototype,"color",2),ib([K({type:Boolean,reflect:!0})],Cc.prototype,"mirrored",2),Cc=ib([Le("ph-identification-card")],Cc);var bqe=Object.freeze({__proto__:null,get PhIdentificationCard(){return Cc}}),wqe=Object.defineProperty,vqe=Object.getOwnPropertyDescriptor,ob=(e,t,n,r)=>{for(var s=r>1?void 0:r?vqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&wqe(t,n,s),s};let Sc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Sc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Sc.weightsMap=new Map([["thin",H`<path d="M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V168.4l-32.89-32.89a12,12,0,0,0-17,0l-22.83,22.83-46.82-46.83a12,12,0,0,0-17,0L36,159V56A4,4,0,0,1,40,52ZM36,200V170.34l53.17-53.17a4,4,0,0,1,5.66,0L181.66,204H40A4,4,0,0,1,36,200Zm180,4H193l-40-40,22.83-22.83a4,4,0,0,1,5.66,0L220,179.71V200A4,4,0,0,1,216,204ZM148,100a8,8,0,1,1,8,8A8,8,0,0,1,148,100Z"/>`],["light",H`<path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V163.57L188.53,134.1a14,14,0,0,0-19.8,0l-21.42,21.42L101.9,110.1a14,14,0,0,0-19.8,0L38,154.2V56A2,2,0,0,1,40,54ZM38,200V171.17l52.58-52.58a2,2,0,0,1,2.84,0L176.83,202H40A2,2,0,0,1,38,200Zm178,2H193.8l-38-38,21.41-21.42a2,2,0,0,1,2.83,0l38,38V200A2,2,0,0,1,216,202ZM146,100a10,10,0,1,1,10,10A10,10,0,0,1,146,100Z"/>`],["regular",H`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"/>`],["bold",H`<path d="M144,96a16,16,0,1,1,16,16A16,16,0,0,1,144,96Zm92-40V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56ZM44,60v79.72l33.86-33.86a20,20,0,0,1,28.28,0L147.31,147l17.18-17.17a20,20,0,0,1,28.28,0L212,149.09V60Zm0,136H162.34L92,125.66l-48,48Zm168,0V183l-33.37-33.37L164.28,164l32,32Z"/>`],["fill",H`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM156,88a12,12,0,1,1-12,12A12,12,0,0,1,156,88Zm60,112H40V160.69l46.34-46.35a8,8,0,0,1,11.32,0h0L165,181.66a8,8,0,0,0,11.32-11.32l-17.66-17.65L173,138.34a8,8,0,0,1,11.31,0L216,170.07V200Z"/>`],["duotone",H`<path d="M224,56V178.06l-39.72-39.72a8,8,0,0,0-11.31,0L147.31,164,97.66,114.34a8,8,0,0,0-11.32,0L32,168.69V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"/>`]]),Sc.styles=Me`
    :host {
      display: contents;
    }
  `,ob([K({type:String,reflect:!0})],Sc.prototype,"size",2),ob([K({type:String,reflect:!0})],Sc.prototype,"weight",2),ob([K({type:String,reflect:!0})],Sc.prototype,"color",2),ob([K({type:Boolean,reflect:!0})],Sc.prototype,"mirrored",2),Sc=ob([Le("ph-image")],Sc);var Eqe=Object.freeze({__proto__:null,get PhImage(){return Sc}}),xqe=Object.defineProperty,$qe=Object.getOwnPropertyDescriptor,ab=(e,t,n,r)=>{for(var s=r>1?void 0:r?$qe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&xqe(t,n,s),s};let Ic=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ic.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ic.weightsMap=new Map([["thin",H`<path d="M140,176a4,4,0,0,1-4,4,12,12,0,0,1-12-12V128a4,4,0,0,0-4-4,4,4,0,0,1,0-8,12,12,0,0,1,12,12v40a4,4,0,0,0,4,4A4,4,0,0,1,140,176ZM124,92a8,8,0,1,0-8-8A8,8,0,0,0,124,92Zm104,36A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"/>`],["light",H`<path d="M142,176a6,6,0,0,1-6,6,14,14,0,0,1-14-14V128a2,2,0,0,0-2-2,6,6,0,0,1,0-12,14,14,0,0,1,14,14v40a2,2,0,0,0,2,2A6,6,0,0,1,142,176ZM124,94a10,10,0,1,0-10-10A10,10,0,0,0,124,94Zm106,34A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"/>`],["regular",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"/>`],["bold",H`<path d="M108,84a16,16,0,1,1,16,16A16,16,0,0,1,108,84Zm128,44A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Zm-72,36.68V132a20,20,0,0,0-20-20,12,12,0,0,0-4,23.32V168a20,20,0,0,0,20,20,12,12,0,0,0,4-23.32Z"/>`],["fill",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-4,48a12,12,0,1,1-12,12A12,12,0,0,1,124,72Zm12,112a16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40a8,8,0,0,1,0,16Z"/>`],["duotone",H`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M144,176a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176Zm88-48A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128ZM124,96a12,12,0,1,0-12-12A12,12,0,0,0,124,96Z"/>`]]),Ic.styles=Me`
    :host {
      display: contents;
    }
  `,ab([K({type:String,reflect:!0})],Ic.prototype,"size",2),ab([K({type:String,reflect:!0})],Ic.prototype,"weight",2),ab([K({type:String,reflect:!0})],Ic.prototype,"color",2),ab([K({type:Boolean,reflect:!0})],Ic.prototype,"mirrored",2),Ic=ab([Le("ph-info")],Ic);var Aqe=Object.freeze({__proto__:null,get PhInfo(){return Ic}}),Cqe=Object.defineProperty,Sqe=Object.getOwnPropertyDescriptor,cb=(e,t,n,r)=>{for(var s=r>1?void 0:r?Sqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&Cqe(t,n,s),s};let _c=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${_c.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};_c.weightsMap=new Map([["thin",H`<path d="M172,232a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h80A4,4,0,0,1,172,232Zm40-128a83.59,83.59,0,0,1-32.11,66.06A20.2,20.2,0,0,0,172,186v6a12,12,0,0,1-12,12H96a12,12,0,0,1-12-12v-6a20,20,0,0,0-7.76-15.81A83.58,83.58,0,0,1,44,104.47C43.75,59,80.52,21.09,126,20a84,84,0,0,1,86,84Zm-8,0a76,76,0,0,0-77.83-76C85,29,51.77,63.27,52,104.43a75.62,75.62,0,0,0,29.17,59.43A28,28,0,0,1,92,186v6a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4v-6a28.14,28.14,0,0,1,10.94-22.2A75.62,75.62,0,0,0,204,104ZM136.66,52.06a4,4,0,0,0-1.32,7.88C153.53,63,169,78.45,172.06,96.67A4,4,0,0,0,176,100a3.88,3.88,0,0,0,.67-.06,4,4,0,0,0,3.27-4.61A53.51,53.51,0,0,0,136.66,52.06Z"/>`],["light",H`<path d="M174,232a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h80A6,6,0,0,1,174,232Zm40-128a85.56,85.56,0,0,1-32.88,67.64A18.23,18.23,0,0,0,174,186v6a14,14,0,0,1-14,14H96a14,14,0,0,1-14-14v-6a18,18,0,0,0-7-14.23h0a85.59,85.59,0,0,1-33-67.24C41.74,57.91,79.39,19.12,125.93,18A86,86,0,0,1,214,104Zm-12,0a74,74,0,0,0-75.79-74C86.17,31,53.78,64.34,54,104.42a73.67,73.67,0,0,0,28.4,57.87A29.92,29.92,0,0,1,94,186v6a2,2,0,0,0,2,2h64a2,2,0,0,0,2-2v-6a30.18,30.18,0,0,1,11.7-23.78A73.59,73.59,0,0,0,202,104Zm-20.08-9A55.58,55.58,0,0,0,137,50.08a6,6,0,1,0-2,11.84C152.38,64.84,167.13,79.6,170.08,97a6,6,0,0,0,5.91,5,6.87,6.87,0,0,0,1-.08A6,6,0,0,0,181.92,95Z"/>`],["regular",H`<path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`],["bold",H`<path d="M180,232a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h80A12,12,0,0,1,180,232Zm40-128a91.51,91.51,0,0,1-35.17,72.35A12.26,12.26,0,0,0,180,186v2a20,20,0,0,1-20,20H96a20,20,0,0,1-20-20v-2a12,12,0,0,0-4.7-9.51A91.57,91.57,0,0,1,36,104.52C35.73,54.69,76,13.2,125.79,12A92,92,0,0,1,220,104Zm-24,0a68,68,0,0,0-69.65-68C89.56,36.88,59.8,67.55,60,104.38a67.71,67.71,0,0,0,26.1,53.19A35.87,35.87,0,0,1,100,184h56.1A36.13,36.13,0,0,1,170,157.49,67.68,67.68,0,0,0,196,104Zm-20.07-5.32a48.5,48.5,0,0,0-31.91-40,12,12,0,0,0-8,22.62,24.31,24.31,0,0,1,16.09,20,12,12,0,0,0,23.86-2.64Z"/>`],["fill",H`<path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-32.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`],["duotone",H`<path d="M208,104a79.86,79.86,0,0,1-30.59,62.92A24.29,24.29,0,0,0,168,186v6a8,8,0,0,1-8,8H96a8,8,0,0,1-8-8v-6a24.11,24.11,0,0,0-9.3-19A79.87,79.87,0,0,1,48,104.45C47.76,61.09,82.72,25,126.07,24A80,80,0,0,1,208,104Z" opacity="0.2"/><path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`]]),_c.styles=Me`
    :host {
      display: contents;
    }
  `,cb([K({type:String,reflect:!0})],_c.prototype,"size",2),cb([K({type:String,reflect:!0})],_c.prototype,"weight",2),cb([K({type:String,reflect:!0})],_c.prototype,"color",2),cb([K({type:Boolean,reflect:!0})],_c.prototype,"mirrored",2),_c=cb([Le("ph-lightbulb")],_c);var Iqe=Object.freeze({__proto__:null,get PhLightbulb(){return _c}}),_qe=Object.defineProperty,Oqe=Object.getOwnPropertyDescriptor,lb=(e,t,n,r)=>{for(var s=r>1?void 0:r?Oqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&_qe(t,n,s),s};let Oc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Oc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Oc.weightsMap=new Map([["thin",H`<path d="M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"/>`],["light",H`<path d="M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"/>`],["regular",H`<path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`],["bold",H`<path d="M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"/>`],["fill",H`<path d="M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"/>`],["duotone",H`<path d="M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z" opacity="0.2"/><path d="M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`]]),Oc.styles=Me`
    :host {
      display: contents;
    }
  `,lb([K({type:String,reflect:!0})],Oc.prototype,"size",2),lb([K({type:String,reflect:!0})],Oc.prototype,"weight",2),lb([K({type:String,reflect:!0})],Oc.prototype,"color",2),lb([K({type:Boolean,reflect:!0})],Oc.prototype,"mirrored",2),Oc=lb([Le("ph-magnifying-glass")],Oc);var Pqe=Object.freeze({__proto__:null,get PhMagnifyingGlass(){return Oc}}),Tqe=Object.defineProperty,Nqe=Object.getOwnPropertyDescriptor,ub=(e,t,n,r)=>{for(var s=r>1?void 0:r?Nqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&Tqe(t,n,s),s};let Pc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Pc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Pc.weightsMap=new Map([["thin",H`<path d="M229.89,117.43l-168-95.88A12,12,0,0,0,44.7,36l31.08,92L44.71,220A12,12,0,0,0,56,236a12.13,12.13,0,0,0,5.93-1.57l167.94-96.08a12,12,0,0,0,0-20.92Zm-4,14L58,227.47a4,4,0,0,1-5.72-4.83l0-.07L82.87,132H144a4,4,0,0,0,0-8H82.87L52.26,33.37A3.89,3.89,0,0,1,53.44,29,4.13,4.13,0,0,1,56,28a3.88,3.88,0,0,1,1.93.54l168,95.87a4,4,0,0,1,0,7Z"/>`],["light",H`<path d="M230.88,115.69l-168-95.88a14,14,0,0,0-20,16.87L73.66,128,42.81,219.33A14,14,0,0,0,56,238a14.15,14.15,0,0,0,6.93-1.83L230.84,140.1a14,14,0,0,0,0-24.41Zm-5.95,14L57,225.73a2,2,0,0,1-2.86-2.42.42.42,0,0,0,0-.1L84.3,134H144a6,6,0,0,0,0-12H84.3L54.17,32.8a.3.3,0,0,0,0-.1,1.87,1.87,0,0,1,.6-2.2A1.85,1.85,0,0,1,57,30.25l168,95.89a1.93,1.93,0,0,1,1,1.74A2,2,0,0,1,224.93,129.66Z"/>`],["regular",H`<path d="M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"/>`],["bold",H`<path d="M233.86,110.48,65.8,14.58A20,20,0,0,0,37.15,38.64L67.33,128,37.15,217.36A20,20,0,0,0,56,244a20.1,20.1,0,0,0,9.81-2.58l.09-.06,168-96.07a20,20,0,0,0,0-34.81ZM63.19,215.26,88.61,140H144a12,12,0,0,0,0-24H88.61L63.18,40.72l152.76,87.17Z"/>`],["fill",H`<path d="M240,127.89a16,16,0,0,1-8.18,14L63.9,237.9A16.15,16.15,0,0,1,56,240a16,16,0,0,1-15-21.33l27-79.95A4,4,0,0,1,71.72,136H144a8,8,0,0,0,8-8.53,8.19,8.19,0,0,0-8.26-7.47h-72a4,4,0,0,1-3.79-2.72l-27-79.94A16,16,0,0,1,63.84,18.07l168,95.89A16,16,0,0,1,240,127.89Z"/>`],["duotone",H`<path d="M227.91,134.86,59.93,231a8,8,0,0,1-11.44-9.67L80,128,48.49,34.72a8,8,0,0,1,11.44-9.67l168,95.85A8,8,0,0,1,227.91,134.86Z" opacity="0.2"/><path d="M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"/>`]]),Pc.styles=Me`
    :host {
      display: contents;
    }
  `,ub([K({type:String,reflect:!0})],Pc.prototype,"size",2),ub([K({type:String,reflect:!0})],Pc.prototype,"weight",2),ub([K({type:String,reflect:!0})],Pc.prototype,"color",2),ub([K({type:Boolean,reflect:!0})],Pc.prototype,"mirrored",2),Pc=ub([Le("ph-paper-plane-right")],Pc);var Bqe=Object.freeze({__proto__:null,get PhPaperPlaneRight(){return Pc}}),kqe=Object.defineProperty,Rqe=Object.getOwnPropertyDescriptor,db=(e,t,n,r)=>{for(var s=r>1?void 0:r?Rqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&kqe(t,n,s),s};let Tc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Tc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Tc.weightsMap=new Map([["thin",H`<path d="M220,128a4,4,0,0,1-4,4H132v84a4,4,0,0,1-8,0V132H40a4,4,0,0,1,0-8h84V40a4,4,0,0,1,8,0v84h84A4,4,0,0,1,220,128Z"/>`],["light",H`<path d="M222,128a6,6,0,0,1-6,6H134v82a6,6,0,0,1-12,0V134H40a6,6,0,0,1,0-12h82V40a6,6,0,0,1,12,0v82h82A6,6,0,0,1,222,128Z"/>`],["regular",H`<path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`],["bold",H`<path d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"/>`],["fill",H`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM184,136H136v48a8,8,0,0,1-16,0V136H72a8,8,0,0,1,0-16h48V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",H`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`]]),Tc.styles=Me`
    :host {
      display: contents;
    }
  `,db([K({type:String,reflect:!0})],Tc.prototype,"size",2),db([K({type:String,reflect:!0})],Tc.prototype,"weight",2),db([K({type:String,reflect:!0})],Tc.prototype,"color",2),db([K({type:Boolean,reflect:!0})],Tc.prototype,"mirrored",2),Tc=db([Le("ph-plus")],Tc);var Dqe=Object.freeze({__proto__:null,get PhPlus(){return Tc}}),Mqe=Object.defineProperty,Uqe=Object.getOwnPropertyDescriptor,fb=(e,t,n,r)=>{for(var s=r>1?void 0:r?Uqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&Mqe(t,n,s),s};let Nc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Nc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Nc.weightsMap=new Map([["thin",H`<path d="M124,128V48a4,4,0,0,1,8,0v80a4,4,0,0,1-8,0Zm54.18-75.35a4,4,0,1,0-4.36,6.7C198.08,75.17,212,100.2,212,128a84,84,0,0,1-168,0c0-27.8,13.92-52.83,38.18-68.65a4,4,0,0,0-4.36-6.7C51.24,70,36,97.44,36,128a92,92,0,0,0,184,0C220,97.44,204.76,70,178.18,52.65Z"/>`],["light",H`<path d="M122,128V48a6,6,0,0,1,12,0v80a6,6,0,0,1-12,0Zm57.28-77A6,6,0,0,0,172.72,61C196.41,76.47,210,100.88,210,128a82,82,0,0,1-164,0c0-27.12,13.59-51.53,37.28-67A6,6,0,0,0,76.72,51C49.57,68.68,34,96.75,34,128a94,94,0,0,0,188,0C222,96.75,206.43,68.68,179.28,51Z"/>`],["regular",H`<path d="M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"/>`],["bold",H`<path d="M116,128V48a12,12,0,0,1,24,0v80a12,12,0,0,1-24,0Zm66.55-82a12,12,0,0,0-13.1,20.1C191.41,80.37,204,103,204,128a76,76,0,0,1-152,0c0-25,12.59-47.63,34.55-61.95A12,12,0,0,0,73.45,46C44.56,64.78,28,94.69,28,128a100,100,0,0,0,200,0C228,94.69,211.44,64.78,182.55,46Z"/>`],["fill",H`<path d="M128,24A104,104,0,1,0,232,128,104,104,0,0,0,128,24Zm-8,40a8,8,0,0,1,16,0v64a8,8,0,0,1-16,0Zm8,144A80,80,0,0,1,83.55,61.48a8,8,0,1,1,8.9,13.29,64,64,0,1,0,71.1,0,8,8,0,1,1,8.9-13.29A80,80,0,0,1,128,208Z"/>`],["duotone",H`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"/>`]]),Nc.styles=Me`
    :host {
      display: contents;
    }
  `,fb([K({type:String,reflect:!0})],Nc.prototype,"size",2),fb([K({type:String,reflect:!0})],Nc.prototype,"weight",2),fb([K({type:String,reflect:!0})],Nc.prototype,"color",2),fb([K({type:Boolean,reflect:!0})],Nc.prototype,"mirrored",2),Nc=fb([Le("ph-power")],Nc);var Lqe=Object.freeze({__proto__:null,get PhPower(){return Nc}}),Fqe=Object.defineProperty,jqe=Object.getOwnPropertyDescriptor,hb=(e,t,n,r)=>{for(var s=r>1?void 0:r?jqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&Fqe(t,n,s),s};let Bc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Bc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Bc.weightsMap=new Map([["thin",H`<path d="M218.14,161.93a4,4,0,0,0-3.86-.24,24,24,0,0,1-34.23-23.25,24,24,0,0,1,34.23-20.13A4,4,0,0,0,220,114.7V72a12,12,0,0,0-12-12H167a32,32,0,1,0-62.91-10.33A32.57,32.57,0,0,0,105,60H64A12,12,0,0,0,52,72v37a32,32,0,1,0-10.33,62.91A32.28,32.28,0,0,0,52,171v37a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V165.31A4,4,0,0,0,218.14,161.93ZM212,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V165.31a4,4,0,0,0-1.86-3.38,4,4,0,0,0-3.85-.24,24,24,0,0,1-34.24-20.13,24,24,0,0,1,34.24-23.25A4,4,0,0,0,60,114.7V72a4,4,0,0,1,4-4h46.69a4,4,0,0,0,3.62-5.71,24,24,0,0,1,20.13-34.24,24,24,0,0,1,23.25,34.24A4,4,0,0,0,161.31,68H208a4,4,0,0,1,4,4v37a32.57,32.57,0,0,0-10.33-.94A32,32,0,1,0,212,171Z"/>`],["light",H`<path d="M219.21,160.24a6,6,0,0,0-5.78-.35,22,22,0,1,1-11.05-41.83,22.15,22.15,0,0,1,11.05,2.06A6,6,0,0,0,222,114.7V72a14,14,0,0,0-14-14H169.48a35,35,0,0,0,.52-6,34.1,34.1,0,0,0-10.73-24.78,33.64,33.64,0,0,0-25.45-9.15A34,34,0,0,0,102.54,58H64A14,14,0,0,0,50,72v34.53a34,34,0,0,0-30.79,10.2,34,34,0,0,0,22.31,57.18,34.34,34.34,0,0,0,8.48-.44V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V165.31A6,6,0,0,0,219.21,160.24ZM210,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V165.31a6,6,0,0,0-6-6,5.92,5.92,0,0,0-2.57.58,22,22,0,0,1-31.38-18.46,22,22,0,0,1,31.38-21.31A6,6,0,0,0,62,114.7V72a2,2,0,0,1,2-2h46.69a6,6,0,0,0,5.42-8.57,22.25,22.25,0,0,1-2-11,22,22,0,1,1,41.83,11A6,6,0,0,0,161.3,70H208a2,2,0,0,1,2,2v34.54a34,34,0,0,0-39.93,31.28,33.71,33.71,0,0,0,9.14,25.45A34.15,34.15,0,0,0,210,173.48Z"/>`],["regular",H`<path d="M220.27,158.54a8,8,0,0,0-7.7-.46,20,20,0,1,1,0-36.16A8,8,0,0,0,224,114.69V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36.11,36.11,0,0,0-11.36-26.24,36,36,0,0,0-60.55,23.62,36.56,36.56,0,0,0,.14,6.62H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36.12,36.12,0,0,0-26.24,11.36,35.7,35.7,0,0,0-9.69,27,36.08,36.08,0,0,0,33.31,33.6,35.68,35.68,0,0,0,6.62-.14V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V165.31A8,8,0,0,0,220.27,158.54ZM208,208H64V165.31a8,8,0,0,0-11.43-7.23,20,20,0,1,1,0-36.16A8,8,0,0,0,64,114.69V72h46.69a8,8,0,0,0,7.23-11.43,20,20,0,1,1,36.16,0A8,8,0,0,0,161.31,72H208v32.23a35.68,35.68,0,0,0-6.62-.14A36,36,0,0,0,204,176a35.36,35.36,0,0,0,4-.22Z"/>`],["bold",H`<path d="M222.41,155.16a12,12,0,0,0-11.56-.69A16,16,0,0,1,188,139,16.2,16.2,0,0,1,202.8,124a15.83,15.83,0,0,1,8,1.5A12,12,0,0,0,228,114.7V72a20,20,0,0,0-20-20H176a40.15,40.15,0,0,0-12.62-29.16,39.67,39.67,0,0,0-29.94-10.76,40.08,40.08,0,0,0-37.34,37C96,50.07,96,51,96,52H64A20,20,0,0,0,44,72v28a40.15,40.15,0,0,0-29.16,12.62A40,40,0,0,0,41.1,179.9a28.3,28.3,0,0,0,2.9.1v28a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V165.31A12,12,0,0,0,222.41,155.16ZM204,204H68V165.31a12,12,0,0,0-17.15-10.84A15.9,15.9,0,0,1,42.8,156,16.2,16.2,0,0,1,28,141.06a16,16,0,0,1,22.82-15.52A12,12,0,0,0,68,114.7V76h42.7a12,12,0,0,0,10.83-17.15A15.9,15.9,0,0,1,120,50.8,16.19,16.19,0,0,1,134.94,36a16,16,0,0,1,15.53,22.81A12,12,0,0,0,161.31,76H204v24c-1,0-1.93,0-2.9.11A40,40,0,0,0,204,180h0Z"/>`],["fill",H`<path d="M165.78,224H208a16,16,0,0,0,16-16V170.35A8,8,0,0,0,212.94,163a23.37,23.37,0,0,1-8.94,1.77c-13.23,0-24-11.1-24-24.73s10.77-24.73,24-24.73a23.37,23.37,0,0,1,8.94,1.77A8,8,0,0,0,224,109.65V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36,36,0,0,0-72,0,35.36,35.36,0,0,0,.22,4H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36,36,0,0,0,0,72,35.36,35.36,0,0,0,4-.22V208a16,16,0,0,0,16,16h42.22"/>`],["duotone",H`<path d="M204,168a28,28,0,0,0,12-2.69V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V165.31a28,28,0,1,1,0-50.62V72a8,8,0,0,1,8-8h46.69a28,28,0,1,1,50.61,0H208a8,8,0,0,1,8,8v42.69A28,28,0,1,0,204,168Z" opacity="0.2"/><path d="M220.27,158.54a8,8,0,0,0-7.7-.46,20,20,0,1,1,0-36.16A8,8,0,0,0,224,114.69V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36.15,36.15,0,0,0-11.36-26.25,36,36,0,0,0-60.55,23.63,36.56,36.56,0,0,0,.14,6.62H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36.12,36.12,0,0,0-26.24,11.36,35.7,35.7,0,0,0-9.69,27,36.08,36.08,0,0,0,33.31,33.6,36.56,36.56,0,0,0,6.62-.14V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V165.31A8,8,0,0,0,220.27,158.54ZM208,208H64V165.31a8,8,0,0,0-11.43-7.23,20,20,0,1,1,0-36.16A8,8,0,0,0,64,114.69V72h46.69a8,8,0,0,0,7.23-11.43,20,20,0,1,1,36.16,0A8,8,0,0,0,161.31,72H208v32.23a35.68,35.68,0,0,0-6.62-.14A36,36,0,0,0,204,176a35.36,35.36,0,0,0,4-.22Z"/>`]]),Bc.styles=Me`
    :host {
      display: contents;
    }
  `,hb([K({type:String,reflect:!0})],Bc.prototype,"size",2),hb([K({type:String,reflect:!0})],Bc.prototype,"weight",2),hb([K({type:String,reflect:!0})],Bc.prototype,"color",2),hb([K({type:Boolean,reflect:!0})],Bc.prototype,"mirrored",2),Bc=hb([Le("ph-puzzle-piece")],Bc);var zqe=Object.freeze({__proto__:null,get PhPuzzlePiece(){return Bc}}),Hqe=Object.defineProperty,Vqe=Object.getOwnPropertyDescriptor,pb=(e,t,n,r)=>{for(var s=r>1?void 0:r?Vqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&Hqe(t,n,s),s};let kc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${kc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};kc.weightsMap=new Map([["thin",H`<path d="M104,44H56A12,12,0,0,0,44,56v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,104,44Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-4,36H56a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V152A12,12,0,0,0,104,140Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V152a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4ZM200,44H152a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,200,44Zm4,60a4,4,0,0,1-4,4H152a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-64,72V144a4,4,0,0,1,8,0v32a4,4,0,0,1-8,0Zm72-16a4,4,0,0,1-4,4H180v44a4,4,0,0,1-4,4H144a4,4,0,0,1,0-8h28V144a4,4,0,0,1,8,0v12h28A4,4,0,0,1,212,160Zm0,32v16a4,4,0,0,1-8,0V192a4,4,0,0,1,8,0Z"/>`],["light",H`<path d="M104,42H56A14,14,0,0,0,42,56v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,104,42Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-2,34H56a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,104,138Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2ZM200,42H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,200,42Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-64,72V144a6,6,0,0,1,12,0v32a6,6,0,0,1-12,0Zm76-16a6,6,0,0,1-6,6H182v42a6,6,0,0,1-6,6H144a6,6,0,0,1,0-12h26V144a6,6,0,0,1,12,0v10h26A6,6,0,0,1,214,160Zm0,32v16a6,6,0,0,1-12,0V192a6,6,0,0,1,12,0Z"/>`],["regular",H`<path d="M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z"/>`],["bold",H`<path d="M100,36H56A20,20,0,0,0,36,56v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,100,36ZM96,96H60V60H96Zm4,40H56a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V156A20,20,0,0,0,100,136Zm-4,60H60V160H96ZM200,36H156a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36Zm-4,60H160V60h36Zm-60,76V148a12,12,0,0,1,24,0v24a12,12,0,0,1-24,0Zm84-8a12,12,0,0,1-12,12H196v32a12,12,0,0,1-12,12H148a12,12,0,0,1,0-24h24V148a12,12,0,0,1,24,0v4h12A12,12,0,0,1,220,164Z"/>`],["fill",H`<path d="M120,56v48a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40h48A16,16,0,0,1,120,56Zm-16,80H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm96-96H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40ZM144,184a8,8,0,0,0,8-8V144a8,8,0,0,0-16,0v32A8,8,0,0,0,144,184Zm64-32H184v-8a8,8,0,0,0-16,0v56H144a8,8,0,0,0,0,16h32a8,8,0,0,0,8-8V168h24a8,8,0,0,0,0-16Zm0,32a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V192A8,8,0,0,0,208,184Z"/>`],["duotone",H`<path d="M112,56v48a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8h48A8,8,0,0,1,112,56Zm-8,88H56a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V152A8,8,0,0,0,104,144Zm96-96H152a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V56A8,8,0,0,0,200,48Z" opacity="0.2"/><path d="M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z"/>`]]),kc.styles=Me`
    :host {
      display: contents;
    }
  `,pb([K({type:String,reflect:!0})],kc.prototype,"size",2),pb([K({type:String,reflect:!0})],kc.prototype,"weight",2),pb([K({type:String,reflect:!0})],kc.prototype,"color",2),pb([K({type:Boolean,reflect:!0})],kc.prototype,"mirrored",2),kc=pb([Le("ph-qr-code")],kc);var qqe=Object.freeze({__proto__:null,get PhQrCode(){return kc}}),Zqe=Object.defineProperty,Wqe=Object.getOwnPropertyDescriptor,gb=(e,t,n,r)=>{for(var s=r>1?void 0:r?Wqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&Zqe(t,n,s),s};let Rc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Rc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Rc.weightsMap=new Map([["thin",H`<path d="M136,180a8,8,0,1,1-8-8A8,8,0,0,1,136,180ZM128,76c-19.85,0-36,14.36-36,32v4a4,4,0,0,0,8,0v-4c0-13.23,12.56-24,28-24s28,10.77,28,24-12.56,24-28,24a4,4,0,0,0-4,4v8a4,4,0,0,0,8,0v-4.2c18-1.77,32-15.36,32-31.8C164,90.36,147.85,76,128,76Zm100,52A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"/>`],["light",H`<path d="M138,180a10,10,0,1,1-10-10A10,10,0,0,1,138,180ZM128,74c-21,0-38,15.25-38,34v4a6,6,0,0,0,12,0v-4c0-12.13,11.66-22,26-22s26,9.87,26,22-11.66,22-26,22a6,6,0,0,0-6,6v8a6,6,0,0,0,12,0v-2.42c18.11-2.58,32-16.66,32-33.58C166,89.25,149,74,128,74Zm102,54A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"/>`],["regular",H`<path d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>`],["bold",H`<path d="M144,180a16,16,0,1,1-16-16A16,16,0,0,1,144,180Zm92-52A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128ZM128,64c-24.26,0-44,17.94-44,40v4a12,12,0,0,0,24,0v-4c0-8.82,9-16,20-16s20,7.18,20,16-9,16-20,16a12,12,0,0,0-12,12v8a12,12,0,0,0,23.73,2.56C158.31,137.88,172,122.37,172,104,172,81.94,152.26,64,128,64Z"/>`],["fill",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,168a12,12,0,1,1,12-12A12,12,0,0,1,128,192Zm8-48.72V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.24,139.93,136,143.28Z"/>`],["duotone",H`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>`]]),Rc.styles=Me`
    :host {
      display: contents;
    }
  `,gb([K({type:String,reflect:!0})],Rc.prototype,"size",2),gb([K({type:String,reflect:!0})],Rc.prototype,"weight",2),gb([K({type:String,reflect:!0})],Rc.prototype,"color",2),gb([K({type:Boolean,reflect:!0})],Rc.prototype,"mirrored",2),Rc=gb([Le("ph-question")],Rc);var Kqe=Object.freeze({__proto__:null,get PhQuestion(){return Rc}}),Gqe=Object.defineProperty,Yqe=Object.getOwnPropertyDescriptor,mb=(e,t,n,r)=>{for(var s=r>1?void 0:r?Yqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&Gqe(t,n,s),s};let Dc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Dc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Dc.weightsMap=new Map([["thin",H`<path d="M188,96c0,27.51-24.77,50.09-56,51.89V160a4,4,0,0,1-8,0V144a4,4,0,0,1,4-4c28.67,0,52-19.74,52-44s-23.33-44-52-44S76,71.74,76,96a4,4,0,0,1-8,0c0-28.67,26.92-52,60-52S188,67.33,188,96ZM128,196a12,12,0,1,0,12,12A12,12,0,0,0,128,196Z"/>`],["light",H`<path d="M190,96c0,28-24.62,51.11-56,53.75V160a6,6,0,0,1-12,0V144a6,6,0,0,1,6-6c27.57,0,50-18.84,50-42s-22.43-42-50-42S78,72.84,78,96a6,6,0,0,1-12,0c0-29.78,27.81-54,62-54S190,66.22,190,96Zm-62,98a14,14,0,1,0,14,14A14,14,0,0,0,128,194Z"/>`],["regular",H`<path d="M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"/>`],["bold",H`<path d="M196,96c0,29.47-24.21,54.05-56,59.06V156a12,12,0,0,1-24,0V144a12,12,0,0,1,12-12c24.26,0,44-16.15,44-36s-19.74-36-44-36S84,76.15,84,96a12,12,0,0,1-24,0c0-33.08,30.5-60,68-60S196,62.92,196,96Zm-68,92a20,20,0,1,0,20,20A20,20,0,0,0,128,188Z"/>`],["fill",H`<path d="M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM136,143.28V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.23,139.93,136,143.28ZM140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["duotone",H`<path d="M216,40V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V40A16,16,0,0,1,56,24H200A16,16,0,0,1,216,40Z" opacity="0.2"/><path d="M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"/>`]]),Dc.styles=Me`
    :host {
      display: contents;
    }
  `,mb([K({type:String,reflect:!0})],Dc.prototype,"size",2),mb([K({type:String,reflect:!0})],Dc.prototype,"weight",2),mb([K({type:String,reflect:!0})],Dc.prototype,"color",2),mb([K({type:Boolean,reflect:!0})],Dc.prototype,"mirrored",2),Dc=mb([Le("ph-question-mark")],Dc);var Xqe=Object.freeze({__proto__:null,get PhQuestionMark(){return Dc}}),Jqe=Object.defineProperty,Qqe=Object.getOwnPropertyDescriptor,yb=(e,t,n,r)=>{for(var s=r>1?void 0:r?Qqe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&Jqe(t,n,s),s};let Mc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Mc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Mc.weightsMap=new Map([["thin",H`<path d="M223,105.58c-4-4.2-8.2-8.54-10-12.8-1.65-4-1.73-9.53-1.82-15.41-.14-9-.29-19.19-6.83-25.74s-16.74-6.69-25.74-6.83c-5.88-.09-11.43-.17-15.41-1.82-4.26-1.76-8.6-5.93-12.8-9.95-6.68-6.41-13.59-13-22.42-13s-15.74,6.62-22.42,13c-4.2,4-8.54,8.2-12.8,10-4,1.65-9.53,1.73-15.41,1.82-9,.14-19.19.29-25.74,6.83S44.94,68.37,44.8,77.37c-.09,5.88-.17,11.43-1.82,15.41-1.76,4.26-5.93,8.6-9.95,12.8-6.41,6.68-13,13.59-13,22.42s6.62,15.74,13,22.42c4,4.2,8.2,8.54,10,12.8,1.65,4,1.73,9.53,1.82,15.41.14,9,.29,19.19,6.83,25.74s16.74,6.69,25.74,6.83c5.88.09,11.43.17,15.41,1.82,4.26,1.76,8.6,5.93,12.8,9.95,6.68,6.41,13.59,13,22.42,13s15.74-6.62,22.42-13c4.2-4,8.54-8.2,12.8-10,4-1.65,9.53-1.73,15.41-1.82,9-.14,19.19-.29,25.74-6.83s6.69-16.74,6.83-25.74c.09-5.88.17-11.43,1.82-15.41,1.76-4.26,5.93-8.6,9.95-12.8,6.41-6.68,13-13.59,13-22.42S229.38,112.26,223,105.58Zm-5.78,39.3c-4.54,4.73-9.24,9.63-11.57,15.28-2.23,5.39-2.33,12-2.43,18.35-.12,8.2-.24,16-4.49,20.2s-12,4.37-20.2,4.49c-6.37.1-13,.2-18.35,2.43-5.65,2.33-10.55,7-15.28,11.57C139.09,222.75,133.62,228,128,228s-11.09-5.25-16.88-10.8c-4.73-4.54-9.63-9.24-15.28-11.57-5.39-2.23-12-2.33-18.35-2.43-8.2-.12-15.95-.24-20.2-4.49s-4.37-12-4.49-20.2c-.1-6.37-.2-13-2.43-18.35-2.33-5.65-7-10.55-11.57-15.28C33.25,139.09,28,133.62,28,128s5.25-11.09,10.8-16.88c4.54-4.73,9.24-9.63,11.57-15.28,2.23-5.39,2.33-12,2.43-18.35.12-8.2.24-15.95,4.49-20.2s12-4.37,20.2-4.49c6.37-.1,13-.2,18.35-2.43,5.65-2.33,10.55-7,15.28-11.57C116.91,33.25,122.38,28,128,28s11.09,5.25,16.88,10.8c4.73,4.54,9.63,9.24,15.28,11.57,5.39,2.23,12,2.33,18.35,2.43,8.2.12,16,.24,20.2,4.49s4.37,12,4.49,20.2c.1,6.37.2,13,2.43,18.35,2.33,5.65,7,10.55,11.57,15.28,5.55,5.79,10.8,11.26,10.8,16.88S222.75,139.09,217.2,144.88Zm-46.37-43.71a4,4,0,0,1,0,5.66l-56,56a4,4,0,0,1-5.66,0l-24-24a4,4,0,0,1,5.66-5.66L112,154.34l53.17-53.17A4,4,0,0,1,170.83,101.17Z"/>`],["light",H`<path d="M224.42,104.2c-3.9-4.07-7.93-8.27-9.55-12.18-1.5-3.63-1.58-9-1.67-14.68-.14-9.38-.3-20-7.42-27.12S188,42.94,178.66,42.8c-5.68-.09-11-.17-14.68-1.67-3.91-1.62-8.11-5.65-12.18-9.55C145.16,25.22,137.64,18,128,18s-17.16,7.22-23.8,13.58c-4.07,3.9-8.27,7.93-12.18,9.55-3.63,1.5-9,1.58-14.68,1.67-9.38.14-20,.3-27.12,7.42S42.94,68,42.8,77.34c-.09,5.68-.17,11-1.67,14.68-1.62,3.91-5.65,8.11-9.55,12.18C25.22,110.84,18,118.36,18,128s7.22,17.16,13.58,23.8c3.9,4.07,7.93,8.27,9.55,12.18,1.5,3.63,1.58,9,1.67,14.68.14,9.38.3,20,7.42,27.12S68,213.06,77.34,213.2c5.68.09,11,.17,14.68,1.67,3.91,1.62,8.11,5.65,12.18,9.55C110.84,230.78,118.36,238,128,238s17.16-7.22,23.8-13.58c4.07-3.9,8.27-7.93,12.18-9.55,3.63-1.5,9-1.58,14.68-1.67,9.38-.14,20-.3,27.12-7.42s7.28-17.74,7.42-27.12c.09-5.68.17-11,1.67-14.68,1.62-3.91,5.65-8.11,9.55-12.18C230.78,145.16,238,137.64,238,128S230.78,110.84,224.42,104.2Zm-8.66,39.3c-4.67,4.86-9.5,9.9-12,15.9-2.38,5.74-2.48,12.52-2.58,19.08-.11,7.44-.23,15.14-3.9,18.82s-11.38,3.79-18.82,3.9c-6.56.1-13.34.2-19.08,2.58-6,2.48-11,7.31-15.91,12-5.25,5-10.68,10.24-15.49,10.24s-10.24-5.21-15.5-10.24c-4.86-4.67-9.9-9.5-15.9-12-5.74-2.38-12.52-2.48-19.08-2.58-7.44-.11-15.14-.23-18.82-3.9s-3.79-11.38-3.9-18.82c-.1-6.56-.2-13.34-2.58-19.08-2.48-6-7.31-11-12-15.91C35.21,138.24,30,132.81,30,128s5.21-10.24,10.24-15.5c4.67-4.86,9.5-9.9,12-15.9,2.38-5.74,2.48-12.52,2.58-19.08.11-7.44.23-15.14,3.9-18.82s11.38-3.79,18.82-3.9c6.56-.1,13.34-.2,19.08-2.58,6-2.48,11-7.31,15.91-12C117.76,35.21,123.19,30,128,30s10.24,5.21,15.5,10.24c4.86,4.67,9.9,9.5,15.9,12,5.74,2.38,12.52,2.48,19.08,2.58,7.44.11,15.14.23,18.82,3.9s3.79,11.38,3.9,18.82c.1,6.56.2,13.34,2.58,19.08,2.48,6,7.31,11,12,15.91,5,5.25,10.24,10.68,10.24,15.49S220.79,138.24,215.76,143.5ZM172.24,99.76a6,6,0,0,1,0,8.48l-56,56a6,6,0,0,1-8.48,0l-24-24a6,6,0,0,1,8.48-8.48L112,151.51l51.76-51.75A6,6,0,0,1,172.24,99.76Z"/>`],["regular",H`<path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-11.55,39.29c-4.79,5-9.75,10.17-12.38,16.52-2.52,6.1-2.63,13.07-2.73,19.82-.1,7-.21,14.33-3.32,17.43s-10.39,3.22-17.43,3.32c-6.75.1-13.72.21-19.82,2.73-6.35,2.63-11.52,7.59-16.52,12.38S132,224,128,224s-9.15-4.92-14.11-9.69-10.17-9.75-16.52-12.38c-6.1-2.52-13.07-2.63-19.82-2.73-7-.1-14.33-.21-17.43-3.32s-3.22-10.39-3.32-17.43c-.1-6.75-.21-13.72-2.73-19.82-2.63-6.35-7.59-11.52-12.38-16.52S32,132,32,128s4.92-9.15,9.69-14.11,9.75-10.17,12.38-16.52c2.52-6.1,2.63-13.07,2.73-19.82.1-7,.21-14.33,3.32-17.43S70.51,56.9,77.55,56.8c6.75-.1,13.72-.21,19.82-2.73,6.35-2.63,11.52-7.59,16.52-12.38S124,32,128,32s9.15,4.92,14.11,9.69,10.17,9.75,16.52,12.38c6.1,2.52,13.07,2.63,19.82,2.73,7,.1,14.33.21,17.43,3.32s3.22,10.39,3.32,17.43c.1,6.75.21,13.72,2.73,19.82,2.63,6.35,7.59,11.52,12.38,16.52S224,124,224,128,219.08,137.15,214.31,142.11ZM173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34Z"/>`],["bold",H`<path d="M228.75,100.05c-3.52-3.67-7.15-7.46-8.34-10.33-1.06-2.56-1.14-7.83-1.21-12.47-.15-10-.34-22.44-9.18-31.27s-21.27-9-31.27-9.18c-4.64-.07-9.91-.15-12.47-1.21-2.87-1.19-6.66-4.82-10.33-8.34C148.87,20.46,140.05,12,128,12s-20.87,8.46-27.95,15.25c-3.67,3.52-7.46,7.15-10.33,8.34-2.56,1.06-7.83,1.14-12.47,1.21C67.25,37,54.81,37.14,46,46S37,67.25,36.8,77.25c-.07,4.64-.15,9.91-1.21,12.47-1.19,2.87-4.82,6.66-8.34,10.33C20.46,107.13,12,116,12,128S20.46,148.87,27.25,156c3.52,3.67,7.15,7.46,8.34,10.33,1.06,2.56,1.14,7.83,1.21,12.47.15,10,.34,22.44,9.18,31.27s21.27,9,31.27,9.18c4.64.07,9.91.15,12.47,1.21,2.87,1.19,6.66,4.82,10.33,8.34C107.13,235.54,116,244,128,244s20.87-8.46,27.95-15.25c3.67-3.52,7.46-7.15,10.33-8.34,2.56-1.06,7.83-1.14,12.47-1.21,10-.15,22.44-.34,31.27-9.18s9-21.27,9.18-31.27c.07-4.64.15-9.91,1.21-12.47,1.19-2.87,4.82-6.66,8.34-10.33C235.54,148.87,244,140.05,244,128S235.54,107.13,228.75,100.05Zm-17.32,39.29c-4.82,5-10.28,10.72-13.19,17.76-2.82,6.8-2.93,14.16-3,21.29-.08,5.36-.19,12.71-2.15,14.66s-9.3,2.07-14.66,2.15c-7.13.11-14.49.22-21.29,3-7,2.91-12.73,8.37-17.76,13.19C135.78,214.84,130.4,220,128,220s-7.78-5.16-11.34-8.57c-5-4.82-10.72-10.28-17.76-13.19-6.8-2.82-14.16-2.93-21.29-3-5.36-.08-12.71-.19-14.66-2.15s-2.07-9.3-2.15-14.66c-.11-7.13-.22-14.49-3-21.29-2.91-7-8.37-12.73-13.19-17.76C41.16,135.78,36,130.4,36,128s5.16-7.78,8.57-11.34c4.82-5,10.28-10.72,13.19-17.76,2.82-6.8,2.93-14.16,3-21.29C60.88,72.25,61,64.9,63,63s9.3-2.07,14.66-2.15c7.13-.11,14.49-.22,21.29-3,7-2.91,12.73-8.37,17.76-13.19C120.22,41.16,125.6,36,128,36s7.78,5.16,11.34,8.57c5,4.82,10.72,10.28,17.76,13.19,6.8,2.82,14.16,2.93,21.29,3,5.36.08,12.71.19,14.66,2.15s2.07,9.3,2.15,14.66c.11,7.13.22,14.49,3,21.29,2.91,7,8.37,12.73,13.19,17.76,3.41,3.56,8.57,8.94,8.57,11.34S214.84,135.78,211.43,139.34ZM176.49,95.51a12,12,0,0,1,0,17l-56,56a12,12,0,0,1-17,0l-24-24a12,12,0,1,1,17-17L112,143l47.51-47.52A12,12,0,0,1,176.49,95.51Z"/>`],["fill",H`<path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-52.2,6.84-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",H`<path d="M232,128c0,12.51-17.82,21.95-22.68,33.69-4.68,11.32,1.42,30.65-7.78,39.85s-28.53,3.1-39.85,7.78C150,214.18,140.5,232,128,232s-22-17.82-33.69-22.68c-11.32-4.68-30.65,1.42-39.85-7.78s-3.1-28.53-7.78-39.85C41.82,150,24,140.5,24,128s17.82-22,22.68-33.69C51.36,83,45.26,63.66,54.46,54.46S83,51.36,94.31,46.68C106.05,41.82,115.5,24,128,24S150,41.82,161.69,46.68c11.32,4.68,30.65-1.42,39.85,7.78s3.1,28.53,7.78,39.85C214.18,106.05,232,115.5,232,128Z" opacity="0.2"/><path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-11.55,39.29c-4.79,5-9.75,10.17-12.38,16.52-2.52,6.1-2.63,13.07-2.73,19.82-.1,7-.21,14.33-3.32,17.43s-10.39,3.22-17.43,3.32c-6.75.1-13.72.21-19.82,2.73-6.35,2.63-11.52,7.59-16.52,12.38S132,224,128,224s-9.15-4.92-14.11-9.69-10.17-9.75-16.52-12.38c-6.1-2.52-13.07-2.63-19.82-2.73-7-.1-14.33-.21-17.43-3.32s-3.22-10.39-3.32-17.43c-.1-6.75-.21-13.72-2.73-19.82-2.63-6.35-7.59-11.52-12.38-16.52S32,132,32,128s4.92-9.15,9.69-14.11,9.75-10.17,12.38-16.52c2.52-6.1,2.63-13.07,2.73-19.82.1-7,.21-14.33,3.32-17.43S70.51,56.9,77.55,56.8c6.75-.1,13.72-.21,19.82-2.73,6.35-2.63,11.52-7.59,16.52-12.38S124,32,128,32s9.15,4.92,14.11,9.69,10.17,9.75,16.52,12.38c6.1,2.52,13.07,2.63,19.82,2.73,7,.1,14.33.21,17.43,3.32s3.22,10.39,3.32,17.43c.1,6.75.21,13.72,2.73,19.82,2.63,6.35,7.59,11.52,12.38,16.52S224,124,224,128,219.08,137.15,214.31,142.11ZM173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34Z"/>`]]),Mc.styles=Me`
    :host {
      display: contents;
    }
  `,yb([K({type:String,reflect:!0})],Mc.prototype,"size",2),yb([K({type:String,reflect:!0})],Mc.prototype,"weight",2),yb([K({type:String,reflect:!0})],Mc.prototype,"color",2),yb([K({type:Boolean,reflect:!0})],Mc.prototype,"mirrored",2),Mc=yb([Le("ph-seal-check")],Mc);var eZe=Object.freeze({__proto__:null,get PhSealCheck(){return Mc}}),tZe=Object.defineProperty,nZe=Object.getOwnPropertyDescriptor,bb=(e,t,n,r)=>{for(var s=r>1?void 0:r?nZe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&tZe(t,n,s),s};let Uc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Uc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Uc.weightsMap=new Map([["thin",H`<path d="M116,216a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4h64a4,4,0,0,1,0,8H52V212h60A4,4,0,0,1,116,216Zm110.83-90.83-40-40a4,4,0,0,0-5.66,5.66L214.34,124H112a4,4,0,0,0,0,8H214.34l-33.17,33.17a4,4,0,0,0,5.66,5.66l40-40A4,4,0,0,0,226.83,125.17Z"/>`],["light",H`<path d="M118,216a6,6,0,0,1-6,6H48a6,6,0,0,1-6-6V40a6,6,0,0,1,6-6h64a6,6,0,0,1,0,12H54V210h58A6,6,0,0,1,118,216Zm110.24-92.24-40-40a6,6,0,0,0-8.48,8.48L209.51,122H112a6,6,0,0,0,0,12h97.51l-29.75,29.76a6,6,0,1,0,8.48,8.48l40-40A6,6,0,0,0,228.24,123.76Z"/>`],["regular",H`<path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"/>`],["bold",H`<path d="M124,216a12,12,0,0,1-12,12H48a12,12,0,0,1-12-12V40A12,12,0,0,1,48,28h64a12,12,0,0,1,0,24H60V204h52A12,12,0,0,1,124,216Zm108.49-96.49-40-40a12,12,0,0,0-17,17L195,116H112a12,12,0,0,0,0,24h83l-19.52,19.51a12,12,0,0,0,17,17l40-40A12,12,0,0,0,232.49,119.51Z"/>`],["fill",H`<path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40A8,8,0,0,0,176,88v32H112a8,8,0,0,0,0,16h64v32a8,8,0,0,0,13.66,5.66l40-40A8,8,0,0,0,229.66,122.34Z"/>`],["duotone",H`<path d="M224,56V200a16,16,0,0,1-16,16H48V40H208A16,16,0,0,1,224,56Z" opacity="0.2"/><path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"/>`]]),Uc.styles=Me`
    :host {
      display: contents;
    }
  `,bb([K({type:String,reflect:!0})],Uc.prototype,"size",2),bb([K({type:String,reflect:!0})],Uc.prototype,"weight",2),bb([K({type:String,reflect:!0})],Uc.prototype,"color",2),bb([K({type:Boolean,reflect:!0})],Uc.prototype,"mirrored",2),Uc=bb([Le("ph-sign-out")],Uc);var rZe=Object.freeze({__proto__:null,get PhSignOut(){return Uc}}),sZe=Object.defineProperty,iZe=Object.getOwnPropertyDescriptor,wb=(e,t,n,r)=>{for(var s=r>1?void 0:r?iZe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&sZe(t,n,s),s};let Lc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Lc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Lc.weightsMap=new Map([["thin",H`<path d="M132,32V64a4,4,0,0,1-8,0V32a4,4,0,0,1,8,0Zm41.25,54.75a4,4,0,0,0,2.83-1.18L198.71,63a4,4,0,0,0-5.66-5.66L170.43,79.92a4,4,0,0,0,2.82,6.83ZM224,124H192a4,4,0,0,0,0,8h32a4,4,0,0,0,0-8Zm-47.92,46.43a4,4,0,1,0-5.65,5.65l22.62,22.63a4,4,0,0,0,5.66-5.66ZM128,188a4,4,0,0,0-4,4v32a4,4,0,0,0,8,0V192A4,4,0,0,0,128,188ZM79.92,170.43,57.29,193.05A4,4,0,0,0,63,198.71l22.62-22.63a4,4,0,1,0-5.65-5.65ZM68,128a4,4,0,0,0-4-4H32a4,4,0,0,0,0,8H64A4,4,0,0,0,68,128ZM63,57.29A4,4,0,0,0,57.29,63L79.92,85.57a4,4,0,1,0,5.65-5.65Z"/>`],["light",H`<path d="M134,32V64a6,6,0,0,1-12,0V32a6,6,0,0,1,12,0Zm39.25,56.75A6,6,0,0,0,177.5,87l22.62-22.63a6,6,0,0,0-8.48-8.48L169,78.5a6,6,0,0,0,4.24,10.25ZM224,122H192a6,6,0,0,0,0,12h32a6,6,0,0,0,0-12Zm-46.5,47A6,6,0,0,0,169,177.5l22.63,22.62a6,6,0,0,0,8.48-8.48ZM128,186a6,6,0,0,0-6,6v32a6,6,0,0,0,12,0V192A6,6,0,0,0,128,186ZM78.5,169,55.88,191.64a6,6,0,1,0,8.48,8.48L87,177.5A6,6,0,1,0,78.5,169ZM70,128a6,6,0,0,0-6-6H32a6,6,0,0,0,0,12H64A6,6,0,0,0,70,128ZM64.36,55.88a6,6,0,0,0-8.48,8.48L78.5,87A6,6,0,1,0,87,78.5Z"/>`],["regular",H`<path d="M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"/>`],["bold",H`<path d="M140,32V64a12,12,0,0,1-24,0V32a12,12,0,0,1,24,0Zm33.25,62.75a12,12,0,0,0,8.49-3.52L204.37,68.6a12,12,0,0,0-17-17L164.77,74.26a12,12,0,0,0,8.48,20.49ZM224,116H192a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm-42.26,48.77a12,12,0,1,0-17,17l22.63,22.63a12,12,0,0,0,17-17ZM128,180a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V192A12,12,0,0,0,128,180ZM74.26,164.77,51.63,187.4a12,12,0,0,0,17,17l22.63-22.63a12,12,0,1,0-17-17ZM76,128a12,12,0,0,0-12-12H32a12,12,0,0,0,0,24H64A12,12,0,0,0,76,128ZM68.6,51.63a12,12,0,1,0-17,17L74.26,91.23a12,12,0,0,0,17-17Z"/>`],["fill",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm33.94,58.75,17-17a8,8,0,0,1,11.32,11.32l-17,17a8,8,0,0,1-11.31-11.31ZM48,136a8,8,0,0,1,0-16H72a8,8,0,0,1,0,16Zm46.06,37.25-17,17a8,8,0,0,1-11.32-11.32l17-17a8,8,0,0,1,11.31,11.31Zm0-79.19a8,8,0,0,1-11.31,0l-17-17A8,8,0,0,1,77.09,65.77l17,17A8,8,0,0,1,94.06,94.06ZM136,208a8,8,0,0,1-16,0V184a8,8,0,0,1,16,0Zm0-136a8,8,0,0,1-16,0V48a8,8,0,0,1,16,0Zm54.23,118.23a8,8,0,0,1-11.32,0l-17-17a8,8,0,0,1,11.31-11.31l17,17A8,8,0,0,1,190.23,190.23ZM208,136H184a8,8,0,0,1,0-16h24a8,8,0,0,1,0,16Z"/>`],["duotone",H`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"/>`]]),Lc.styles=Me`
    :host {
      display: contents;
    }
  `,wb([K({type:String,reflect:!0})],Lc.prototype,"size",2),wb([K({type:String,reflect:!0})],Lc.prototype,"weight",2),wb([K({type:String,reflect:!0})],Lc.prototype,"color",2),wb([K({type:Boolean,reflect:!0})],Lc.prototype,"mirrored",2),Lc=wb([Le("ph-spinner")],Lc);var oZe=Object.freeze({__proto__:null,get PhSpinner(){return Lc}}),aZe=Object.defineProperty,cZe=Object.getOwnPropertyDescriptor,vb=(e,t,n,r)=>{for(var s=r>1?void 0:r?cZe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&aZe(t,n,s),s};let Fc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Fc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Fc.weightsMap=new Map([["thin",H`<path d="M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"/>`],["light",H`<path d="M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"/>`],["regular",H`<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"/>`],["bold",H`<path d="M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"/>`],["fill",H`<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"/>`],["duotone",H`<path d="M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z" opacity="0.2"/><path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"/>`]]),Fc.styles=Me`
    :host {
      display: contents;
    }
  `,vb([K({type:String,reflect:!0})],Fc.prototype,"size",2),vb([K({type:String,reflect:!0})],Fc.prototype,"weight",2),vb([K({type:String,reflect:!0})],Fc.prototype,"color",2),vb([K({type:Boolean,reflect:!0})],Fc.prototype,"mirrored",2),Fc=vb([Le("ph-trash")],Fc);var lZe=Object.freeze({__proto__:null,get PhTrash(){return Fc}}),uZe=Object.defineProperty,dZe=Object.getOwnPropertyDescriptor,Eb=(e,t,n,r)=>{for(var s=r>1?void 0:r?dZe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&uZe(t,n,s),s};let jc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${jc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};jc.weightsMap=new Map([["thin",H`<path d="M227.46,214c-16.52-28.56-43-48.06-73.68-55.09a68,68,0,1,0-51.56,0c-30.64,7-57.16,26.53-73.68,55.09a4,4,0,0,0,6.92,4C55,184.19,89.62,164,128,164s73,20.19,92.54,54a4,4,0,0,0,3.46,2,3.93,3.93,0,0,0,2-.54A4,4,0,0,0,227.46,214ZM68,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,68,96Z"/>`],["light",H`<path d="M229.19,213c-15.81-27.32-40.63-46.49-69.47-54.62a70,70,0,1,0-63.44,0C67.44,166.5,42.62,185.67,26.81,213a6,6,0,1,0,10.38,6C56.4,185.81,90.34,166,128,166s71.6,19.81,90.81,53a6,6,0,1,0,10.38-6ZM70,96a58,58,0,1,1,58,58A58.07,58.07,0,0,1,70,96Z"/>`],["regular",H`<path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"/>`],["bold",H`<path d="M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"/>`],["fill",H`<path d="M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"/>`],["duotone",H`<path d="M192,96a64,64,0,1,1-64-64A64,64,0,0,1,192,96Z" opacity="0.2"/><path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"/>`]]),jc.styles=Me`
    :host {
      display: contents;
    }
  `,Eb([K({type:String,reflect:!0})],jc.prototype,"size",2),Eb([K({type:String,reflect:!0})],jc.prototype,"weight",2),Eb([K({type:String,reflect:!0})],jc.prototype,"color",2),Eb([K({type:Boolean,reflect:!0})],jc.prototype,"mirrored",2),jc=Eb([Le("ph-user")],jc);var fZe=Object.freeze({__proto__:null,get PhUser(){return jc}}),hZe=Object.defineProperty,pZe=Object.getOwnPropertyDescriptor,xb=(e,t,n,r)=>{for(var s=r>1?void 0:r?pZe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&hZe(t,n,s),s};let zc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${zc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};zc.weightsMap=new Map([["thin",H`<path d="M233.34,190.09,145.88,38.22h0a20.75,20.75,0,0,0-35.76,0L22.66,190.09a19.52,19.52,0,0,0,0,19.71A20.36,20.36,0,0,0,40.54,220H215.46a20.36,20.36,0,0,0,17.86-10.2A19.52,19.52,0,0,0,233.34,190.09ZM226.4,205.8a12.47,12.47,0,0,1-10.94,6.2H40.54a12.47,12.47,0,0,1-10.94-6.2,11.45,11.45,0,0,1,0-11.72L117.05,42.21a12.76,12.76,0,0,1,21.9,0L226.4,194.08A11.45,11.45,0,0,1,226.4,205.8ZM124,144V104a4,4,0,0,1,8,0v40a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,180Z"/>`],["light",H`<path d="M235.07,189.09,147.61,37.22h0a22.75,22.75,0,0,0-39.22,0L20.93,189.09a21.53,21.53,0,0,0,0,21.72A22.35,22.35,0,0,0,40.55,222h174.9a22.35,22.35,0,0,0,19.6-11.19A21.53,21.53,0,0,0,235.07,189.09ZM224.66,204.8a10.46,10.46,0,0,1-9.21,5.2H40.55a10.46,10.46,0,0,1-9.21-5.2,9.51,9.51,0,0,1,0-9.72L118.79,43.21a10.75,10.75,0,0,1,18.42,0l87.46,151.87A9.51,9.51,0,0,1,224.66,204.8ZM122,144V104a6,6,0,0,1,12,0v40a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,180Z"/>`],["regular",H`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["bold",H`<path d="M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z"/>`],["fill",H`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"/>`],["duotone",H`<path d="M215.46,216H40.54C27.92,216,20,202.79,26.13,192.09L113.59,40.22c6.3-11,22.52-11,28.82,0l87.46,151.87C236,202.79,228.08,216,215.46,216Z" opacity="0.2"/><path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`]]),zc.styles=Me`
    :host {
      display: contents;
    }
  `,xb([K({type:String,reflect:!0})],zc.prototype,"size",2),xb([K({type:String,reflect:!0})],zc.prototype,"weight",2),xb([K({type:String,reflect:!0})],zc.prototype,"color",2),xb([K({type:Boolean,reflect:!0})],zc.prototype,"mirrored",2),zc=xb([Le("ph-warning")],zc);var gZe=Object.freeze({__proto__:null,get PhWarning(){return zc}}),mZe=Object.defineProperty,yZe=Object.getOwnPropertyDescriptor,$b=(e,t,n,r)=>{for(var s=r>1?void 0:r?yZe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&mZe(t,n,s),s};let Hc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Hc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Hc.weightsMap=new Map([["thin",H`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm-4-84V80a4,4,0,0,1,8,0v56a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,172Z"/>`],["light",H`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm-6-82V80a6,6,0,0,1,12,0v56a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,172Z"/>`],["regular",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"/>`],["bold",H`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm-12-80V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,172Z"/>`],["fill",H`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"/>`],["duotone",H`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"/>`]]),Hc.styles=Me`
    :host {
      display: contents;
    }
  `,$b([K({type:String,reflect:!0})],Hc.prototype,"size",2),$b([K({type:String,reflect:!0})],Hc.prototype,"weight",2),$b([K({type:String,reflect:!0})],Hc.prototype,"color",2),$b([K({type:Boolean,reflect:!0})],Hc.prototype,"mirrored",2),Hc=$b([Le("ph-warning-circle")],Hc);var bZe=Object.freeze({__proto__:null,get PhWarningCircle(){return Hc}}),wZe=Object.defineProperty,vZe=Object.getOwnPropertyDescriptor,Ab=(e,t,n,r)=>{for(var s=r>1?void 0:r?vZe(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&wZe(t,n,s),s};let Vc=class extends ke{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ue`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Vc.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Vc.weightsMap=new Map([["thin",H`<path d="M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"/>`],["light",H`<path d="M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"/>`],["regular",H`<path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["bold",H`<path d="M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"/>`],["fill",H`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["duotone",H`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`]]),Vc.styles=Me`
    :host {
      display: contents;
    }
  `,Ab([K({type:String,reflect:!0})],Vc.prototype,"size",2),Ab([K({type:String,reflect:!0})],Vc.prototype,"weight",2),Ab([K({type:String,reflect:!0})],Vc.prototype,"color",2),Ab([K({type:Boolean,reflect:!0})],Vc.prototype,"mirrored",2),Vc=Ab([Le("ph-x")],Vc);var EZe=Object.freeze({__proto__:null,get PhX(){return Vc}});uo.EthereumProvider=tbe,uo.OPTIONAL_EVENTS=hM,uo.OPTIONAL_METHODS=fM,uo.REQUIRED_EVENTS=v6,uo.REQUIRED_METHODS=w6,uo.default=$6,Object.defineProperty(uo,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
